var m=(r,c,a)=>new Promise((n,o)=>{var i=s=>{try{t(a.next(s))}catch(u){o(u)}},l=s=>{try{t(a.throw(s))}catch(u){o(u)}},t=s=>s.done?n(s.value):Promise.resolve(s.value).then(i,l);t((a=a.apply(r,c)).next())});import{r as d,j as e}from"./vendor-react-O4jD9kp-.js";import{S as x}from"./index-C8Hj0FrI.js";import{Y as h}from"./YouTubePlayer-B1zIt0cn.js";import"./vendor-ui-Dw0r2pzf.js";import"./vendor-supabase-BrD1AlhB.js";import"./vendor-date-BfA9-vu0.js";function v(){console.warn("üé¨ YoutubeSimple component loaded");const[r,c]=d.useState(null),[a,n]=d.useState(!0);d.useEffect(()=>{console.warn("üé¨ YoutubeSimple useEffect triggered"),o()},[]);const o=()=>m(null,null,function*(){n(!0);try{const t=yield x.getCurrent();console.warn("üìä Chanson actuelle charg√©e:",t),c(t)}catch(t){console.error("‚ùå Erro ao carregar m√∫sica atual:",t)}finally{n(!1)}}),i=t=>{if(!t)return null;const s=t.match(/(?:v=|youtu\.be\/|embed\/)([A-Za-z0-9_-]{11})/);return s?s[1]:null};if(a)return e.jsx("div",{className:"p-5 max-w-md mx-auto",children:e.jsxs("div",{className:"text-center py-20",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),e.jsx("p",{className:"text-white/80",children:"Carregando..."})]})});if(!r)return e.jsx("div",{className:"p-5 max-w-md mx-auto",children:e.jsx("div",{className:"text-center text-white",children:e.jsx("p",{className:"text-lg",children:"Nenhuma m√∫sica dispon√≠vel"})})});const l=i(r.youtube_url);return e.jsxs("div",{className:"p-5 max-w-md mx-auto",children:[e.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:r.title}),l?e.jsx("div",{className:"bg-black rounded-2xl overflow-hidden shadow-xl",children:e.jsx(h,{videoId:l,className:"w-full",title:r.title})}):e.jsxs("div",{className:"bg-gray-800 rounded-2xl p-8 text-center text-white",children:[e.jsx("p",{children:"YouTube URL non disponible pour cette chanson"}),e.jsxs("p",{className:"text-sm text-gray-400 mt-2",children:["URL: ",r.youtube_url||"Aucune"]})]})]})}export{v as default};
