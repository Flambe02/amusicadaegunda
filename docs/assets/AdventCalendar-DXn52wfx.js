var I=Object.defineProperty,U=Object.defineProperties;var Z=Object.getOwnPropertyDescriptors;var D=Object.getOwnPropertySymbols;var W=Object.prototype.hasOwnProperty,J=Object.prototype.propertyIsEnumerable;var C=(l,a,s)=>a in l?I(l,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):l[a]=s,A=(l,a)=>{for(var s in a||(a={}))W.call(a,s)&&C(l,s,a[s]);if(D)for(var s of D(a))J.call(a,s)&&C(l,s,a[s]);return l},F=(l,a)=>U(l,Z(a));var z=(l,a,s)=>new Promise((n,m)=>{var f=t=>{try{d(s.next(t))}catch(c){m(c)}},o=t=>{try{d(s.throw(t))}catch(c){m(c)}},d=t=>t.done?n(t.value):Promise.resolve(t.value).then(f,o);d((s=s.apply(l,a)).next())});import{r as p,j as e}from"./vendor-react-O4jD9kp-.js";import{u as G,D as N,a as _,c as k,d as R,B as w,b as L,A as q}from"./index-A2rlmcxb.js";import{W as O,a8 as T,n as H,G as M,F as K,a9 as Q}from"./vendor-ui-Dw0r2pzf.js";import"./vendor-supabase-BrD1AlhB.js";import"./vendor-date-BfA9-vu0.js";function X({youtube_music_url:l,youtube_url:a,title:s}){const n=l&&l.trim()?l.trim():null,m=a&&a.trim()?a.trim():null,f=x=>{if(!x||typeof x!="string")return null;try{const b=x.match(/[?&]list=([A-Za-z0-9_-]+)/);if(b)return{id:b[1],type:"playlist"};const u=[/(?:youtube\.com\/shorts\/)([A-Za-z0-9_-]{11})/,/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/|youtube\.com\/v\/)([A-Za-z0-9_-]{11})/,/^([A-Za-z0-9_-]{11})$/];for(const g of u){const y=x.match(g);if(y)return{id:y[1],type:"video"}}if(x.toLowerCase().includes("music.youtube.com")){const g=x.match(/[?&]v=([A-Za-z0-9_-]{11})/);if(g)return{id:g[1],type:"video"}}return null}catch(b){return null}};let o=n?f(n):null,d=n||"";if(!o&&m&&(o=f(m),d=m||""),!o)return e.jsx("div",{className:"w-full aspect-video rounded-lg overflow-hidden shadow-lg flex items-center justify-center bg-gradient-to-br from-gray-800 to-gray-900",children:e.jsx("p",{className:"text-white text-sm",children:"Vid칠o non disponible"})});const t=d.includes("/shorts/"),c="https://www.youtube-nocookie.com/embed",j=o.type==="video"?`${c}/${o.id}?rel=0&modestbranding=1&playsinline=1&controls=1`:`${c}/videoseries?list=${o.id}&rel=0&modestbranding=1&playsinline=1&controls=1`;return t?e.jsx("div",{className:"w-full flex justify-center items-center py-4",children:e.jsx("div",{className:"relative rounded-2xl overflow-hidden shadow-2xl bg-black",style:{width:"100%",maxWidth:"360px",aspectRatio:"9/16",margin:"0 auto"},children:e.jsx("iframe",{className:"absolute top-0 left-0 w-full h-full",src:j,title:s||"YouTube Short",frameBorder:"0",referrerPolicy:"strict-origin-when-cross-origin",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0,loading:"lazy"})})}):e.jsx("div",{className:"w-full aspect-video rounded-lg overflow-hidden shadow-lg",children:e.jsx("iframe",{className:"w-full h-full",src:j,title:s||"YouTube",frameBorder:"0",referrerPolicy:"strict-origin-when-cross-origin",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})}const ee=({day:l,song:a,onOpen:s,hasBeenViewed:n=!1})=>{const m=new Date,f=new Date(2025,11,l),o=l===1?!1:m<f,d=()=>{!o&&a&&s(a)},t="relative aspect-square rounded-2xl flex items-center justify-center text-white font-black text-3xl transition-all duration-300 transform",c="bg-gray-400/50 text-gray-300 cursor-not-allowed",j="bg-gradient-to-br from-red-500 to-rose-600 shadow-lg cursor-pointer hover:scale-105 hover:shadow-xl",x="bg-teal-500/80",b="bg-white shadow-lg cursor-pointer hover:scale-105 hover:shadow-xl";let u=`${t} `;return o?u+=c:n?u+=b:a?u+=j:u+=x,e.jsx("div",{onClick:d,className:u,children:n?e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx("img",{src:"/images/IOS Logo.png",alt:`V칤deo visualizado - Dia ${l}`,className:"w-16 h-16 object-contain drop-shadow-lg"})}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:l}),o&&e.jsx(Q,{className:"absolute w-8 h-8 opacity-70"}),!o&&a&&e.jsxs(e.Fragment,{children:[e.jsx(T,{className:"absolute top-2 right-2 w-5 h-5 text-yellow-300 animate-ping"}),e.jsx("div",{className:"absolute bottom-1 left-1 right-1 text-center",children:e.jsx("p",{className:"text-xs font-bold text-white drop-shadow-lg truncate",children:a.title})})]})]})})};function ie(){const[l,a]=p.useState([]),[s,n]=p.useState(null),[m,f]=p.useState(!1),[o,d]=p.useState(!1),[t,c]=p.useState(null),[j,x]=p.useState(new Set),b=Array.from({length:24},(r,i)=>i+1);G({title:"Calend치rio do Advento Musical",description:"Calend치rio do Advento Musical 2025 - Uma surpresa musical a cada dia de dezembro. Descubra novas m칰sicas e par칩dias inteligentes.",keywords:"calend치rio do advento, advento musical, dezembro 2025, m칰sica da segunda, surpresas musicais, calend치rio musical",url:"/adventcalendar",type:"website"}),p.useEffect(()=>{z(null,null,function*(){const h=yield q.list();a(h)});const i=localStorage.getItem("advent_viewed_songs");if(i)try{const h=JSON.parse(i);x(new Set(h))}catch(h){console.error("Erro ao carregar v칤deos visualizados:",h)}},[]);const u=r=>{const i=`advent_day_${r}`,h=localStorage.getItem(i);if(h)return JSON.parse(h);if(l.length===0)return null;const v=l.filter(Y=>Y.tiktok_video_id);if(v.length===0)return null;const E=Math.floor(Math.random()*v.length),P=v[E],S=F(A({},P),{day_of_december:r});return localStorage.setItem(i,JSON.stringify(S)),S},g=l.reduce((r,i)=>(r[i.day_of_december]=i,r),{}),y=u(1);y&&(g[1]=y);const V=r=>{c(r),f(!0)},$=r=>{c(r),d(!0)},B=r=>{navigator.share?navigator.share({title:r.title,text:`Ou칞a ${r.title} por ${r.artist}`,url:r.tiktok_url||window.location.href}):(navigator.clipboard.writeText(r.tiktok_url||window.location.href),alert("Link copiado para a 치rea de transfer칡ncia!"))};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-5 max-w-md mx-auto",children:[e.jsx("div",{className:"lg:hidden text-center mb-8",children:e.jsxs("div",{className:"flex items-center justify-center gap-4 mb-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-full overflow-hidden border-4 border-white/20 shadow-xl flex-shrink-0",children:e.jsx("img",{src:"images/Musica da segunda.jpg",alt:"Logo A M칰sica da Segunda - Par칩dias Musicais do Brasil",className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("h1",{className:"text-2xl md:text-3xl font-black text-white drop-shadow-lg mb-1",children:"Calend치rio do Advento"}),e.jsx("p",{className:"text-white/80 font-medium text-sm md:text-base drop-shadow-md",children:"Dezembro 2025 - Uma surpresa a cada dia!"})]})]})}),e.jsx("div",{className:"bg-[#f8f5f2] rounded-3xl p-5 shadow-xl",children:e.jsx("div",{className:"grid grid-cols-4 gap-3",children:b.map(r=>{const i=g[r]||u(r),h=j.has(r);return e.jsx(ee,{day:r,song:i,onOpen:n,hasBeenViewed:h},r)})})})]}),e.jsx(N,{open:!!s,onOpenChange:()=>n(null),children:e.jsxs(_,{className:"p-0 border-0 bg-transparent max-w-md w-[95vw] max-h-[95vh] overflow-y-auto mx-auto my-4",children:[e.jsx(k,{className:"sr-only",children:(s==null?void 0:s.title)||"V칤deo do Calend치rio do Advento"}),e.jsxs(R,{className:"sr-only",children:["V칤deo musical do dia ",s==null?void 0:s.day_of_december," de dezembro de 2025"]}),e.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-rose-50 rounded-3xl shadow-2xl overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-red-500 to-rose-600 p-4 text-center relative",children:[e.jsx("div",{className:"absolute top-2 left-4 bg-white/20 rounded-full w-10 h-10 flex items-center justify-center",children:e.jsx("span",{className:"text-white font-black text-base",children:s==null?void 0:s.day_of_december})}),e.jsx("div",{className:"mt-1",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("h2",{className:"text-xl font-black text-white",children:"Dezembro"}),e.jsx("span",{className:"text-white/90 text-lg font-semibold",children:s==null?void 0:s.day_of_december})]})}),e.jsx("div",{className:"absolute -bottom-4 left-1/2 transform -translate-x-1/2",children:e.jsx("div",{className:"bg-white rounded-full p-2 shadow-lg",children:e.jsx(O,{className:"w-6 h-6 text-red-500"})})})]}),e.jsxs("div",{className:"p-4 pt-2",children:[e.jsxs("div",{className:"mb-4 bg-white/80 backdrop-blur-sm rounded-2xl p-3 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(T,{className:"w-3 h-3 text-amber-500"}),e.jsx("span",{className:"font-bold text-gray-600 text-xs uppercase tracking-wide",children:"Nome da V칤deo"})]}),e.jsx("p",{className:"text-gray-800 leading-relaxed font-semibold text-base",children:(s==null?void 0:s.title)||"V칤deo Musical"}),(s==null?void 0:s.artist)&&e.jsx("p",{className:"text-gray-600 text-xs mt-1",children:s.artist})]}),e.jsx("div",{className:"mb-4",children:s!=null&&s.youtube_music_url||s!=null&&s.youtube_url?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"bg-black rounded-2xl overflow-hidden shadow-xl",children:e.jsx(X,{youtube_music_url:s.youtube_music_url,youtube_url:s.youtube_url,title:s.title})}),e.jsx("div",{className:"text-center mt-2",children:e.jsxs("p",{className:"text-xs text-gray-600 font-medium",children:["游꿟 V칤deo YouTube - ",s.title]})}),e.jsx("div",{className:"mt-3 text-center",children:e.jsx(w,{onClick:()=>{const r=s.youtube_music_url||s.youtube_url;r&&window.open(r,"_blank")},className:"w-full bg-red-600 hover:bg-red-700 text-white font-bold py-3 rounded-xl transition-all duration-200 hover:scale-105",children:"游닠 Ver no YouTube"})})]}):e.jsx("div",{className:"bg-gray-100 rounded-2xl p-8 text-center",children:e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-200 to-gray-300 rounded-2xl flex items-center justify-center",children:e.jsxs("div",{className:"text-center text-gray-500",children:[e.jsx(H,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),e.jsx("p",{className:"text-lg font-medium",children:"V칤deo n칚o dispon칤vel"}),e.jsx("p",{className:"text-sm text-gray-400",children:s==null?void 0:s.title})]})})})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(w,{variant:"outline",className:"w-full bg-white/70 hover:bg-white/90 text-gray-700 font-semibold border-gray-300 py-3 rounded-2xl text-sm",onClick:()=>V(s),children:"Plataformas"}),e.jsx(w,{variant:"outline",className:"w-full bg-white/70 hover:bg-white/90 text-gray-700 font-semibold border-gray-300 py-3 rounded-2xl text-sm",onClick:()=>$(s),children:"Letras"}),e.jsx(w,{variant:"outline",className:"w-full bg-white/70 hover:bg-white/90 text-gray-700 font-semibold border-gray-300 py-3 rounded-2xl text-sm",onClick:()=>B(s),children:"Compartilhar"})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("div",{className:"flex items-center justify-center gap-2 text-gray-400",children:[e.jsx(M,{className:"w-4 h-4"}),e.jsx("span",{className:"text-xs font-medium",children:"Calend치rio do Advento Musical"}),e.jsx(M,{className:"w-4 h-4"})]})})]})]})]})}),e.jsx(N,{open:m,onOpenChange:f,children:e.jsxs(_,{className:"bg-[#f8f5f2] max-w-md",children:[e.jsx(L,{children:e.jsx(k,{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:"游꿧 Ouvir em outras plataformas"})}),t&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-4 border border-blue-200",children:[e.jsx("h3",{className:"text-lg font-bold text-blue-900 mb-1",children:t.title}),e.jsx("p",{className:"text-blue-700 font-medium",children:t.artist})]}),e.jsxs("div",{className:"space-y-3",children:[t.spotify_url&&e.jsx("a",{href:t.spotify_url,target:"_blank",rel:"noopener noreferrer",className:"block",children:e.jsx(w,{className:"w-full bg-[#1DB954] hover:bg-[#1ed760] text-white font-bold py-3 rounded-2xl text-sm transition-all duration-200 hover:scale-105",children:"游꿚 Ouvir no Spotify"})}),t.apple_music_url&&e.jsx("a",{href:t.apple_music_url,target:"_blank",rel:"noopener noreferrer",className:"block",children:e.jsx(w,{className:"w-full bg-gradient-to-r from-[#FA233B] to-[#FB5C74] hover:opacity-90 text-white font-bold py-3 rounded-2xl text-sm transition-all duration-200 hover:scale-105",children:"游꿧 Ouvir no Apple Music"})}),t.youtube_url&&e.jsx("a",{href:t.youtube_url,target:"_blank",rel:"noopener noreferrer",className:"block",children:e.jsx(w,{className:"w-full bg-[#FF0000] hover:bg-[#cc0000] text-white font-bold py-3 rounded-2xl text-sm transition-all duration-200 hover:scale-105",children:"游닠 Assistir no YouTube"})}),!t.spotify_url&&!t.apple_music_url&&!t.youtube_url&&e.jsxs("div",{className:"text-center py-6",children:[e.jsx(O,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-600 font-medium",children:"Links de streaming em breve..."}),e.jsx("p",{className:"text-sm text-gray-500",children:"Esta m칰sica ser치 disponibilizada em breve nas principais plataformas."})]})]})]})]})}),e.jsx(N,{open:o,onOpenChange:d,children:e.jsxs(_,{className:"bg-[#f8f5f2] max-w-md max-h-[80vh] overflow-y-auto",children:[e.jsx(L,{children:e.jsx(k,{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:"游닇 Letras da m칰sica"})}),t&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-4 border border-blue-200",children:[e.jsx("h3",{className:"text-lg font-bold text-blue-900 mb-1",children:t.title}),e.jsx("p",{className:"text-blue-700 font-medium",children:t.artist})]}),t.lyrics?e.jsx("div",{className:"bg-white rounded-xl p-4 border border-gray-200",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-700 font-medium leading-relaxed",children:t.lyrics})}):e.jsxs("div",{className:"text-center py-6",children:[e.jsx(K,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-600 font-medium",children:"Letras n칚o dispon칤veis"}),e.jsx("p",{className:"text-sm text-gray-500",children:"As letras desta m칰sica ser칚o publicadas em breve."})]})]})]})})]})}export{ie as default};
