var b=(i,o,a)=>new Promise((s,d)=>{var c=t=>{try{l(a.next(t))}catch(r){d(r)}},m=t=>{try{l(a.throw(t))}catch(r){d(r)}},l=t=>t.done?s(t.value):Promise.resolve(t.value).then(c,m);l((a=a.apply(i,o)).next())});import{n as N,a9 as S,aa as _,r as g,u as M,j as e,J as f,B as y,y as A,f as E,p as B,M as j,e as $,m as k}from"./index-CxgH3DMb.js";import{a as L,i as w,b as I}from"./seo-jsonld-CUTWHPly.js";import{A as v}from"./arrow-left-DDZfJFMe.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],P=N("User",z);function C({youtube_music_url:i,youtube_url:o,title:a}){const s=i||o||"",c=(r=>{if(!r||typeof r!="string")return null;try{const u=r.toLowerCase(),n=r.match(/[?&]list=([A-Za-z0-9_-]+)/);if(n)return{id:n[1],type:"playlist"};const p=[/(?:youtube\.com\/shorts\/)([A-Za-z0-9_-]{11})/,/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/|youtube\.com\/v\/)([A-Za-z0-9_-]{11})/,/^([A-Za-z0-9_-]{11})$/];for(const x of p){const h=r.match(x);if(h)return{id:h[1],type:"video"}}if(u.includes("music.youtube.com")){const x=r.match(/[?&]v=([A-Za-z0-9_-]{11})/);if(x)return{id:x[1],type:"video"}}return null}catch(u){return null}})(s);if(!c)return e.jsx("div",{className:"w-full aspect-video rounded-lg overflow-hidden shadow-lg flex items-center justify-center bg-gradient-to-br from-gray-800 to-gray-900",children:e.jsx("p",{className:"text-white text-sm",children:"Vidéo non disponible"})});const m=s.includes("/shorts/"),l="https://www.youtube-nocookie.com/embed",t=c.type==="video"?`${l}/${c.id}?rel=0&modestbranding=1&playsinline=1&controls=1`:`${l}/videoseries?list=${c.id}&rel=0&modestbranding=1&playsinline=1&controls=1`;return m?e.jsx("div",{className:"w-full flex justify-center",children:e.jsx("div",{className:"relative rounded-lg overflow-hidden shadow-lg",style:{width:"100%",maxWidth:"400px",aspectRatio:"9/16"},children:e.jsx("iframe",{className:"absolute top-0 left-0 w-full h-full",src:t,title:a||"YouTube Short",frameBorder:"0",referrerPolicy:"strict-origin-when-cross-origin",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,loading:"lazy"})})}):e.jsx("div",{className:"w-full aspect-video rounded-lg overflow-hidden shadow-lg",children:e.jsx("iframe",{className:"w-full h-full",src:t,title:a||"YouTube",frameBorder:"0",referrerPolicy:"strict-origin-when-cross-origin",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,loading:"lazy"})})}function Z(){const{slug:i}=S(),o=_(),a=i?i.replace(/\/$/,"").trim():null,[s,d]=g.useState(null),[c,m]=g.useState(!0),[l,t]=g.useState(null);g.useEffect(()=>{i&&i.endsWith("/")&&o(`/musica/${a}`,{replace:!0})},[i,a,o]),g.useEffect(()=>{b(null,null,function*(){if(!a){m(!1),t("Slug inválido");return}m(!0),t(null);try{const n=yield $.getBySlug(a);n?(d(n),t(null)):(t("Song not found"),d(null))}catch(n){t("Song not found"),d(null)}finally{m(!1)}})},[a]);const r=a?`/musica/${a.replace(/\/$/,"")}`:"/musica";return M({title:s?s.title:a?a.replace(/-/g," "):"A Música da Segunda",description:s?`Letra, áudio e história de "${s.title}" — nova música da segunda.`:"Paródias musicais inteligentes e divertidas sobre as notícias do Brasil.",keywords:s?`${s.title}, música da segunda, paródias musicais`:"música da segunda, paródias musicais",image:s==null?void 0:s.cover_image,url:r,type:"article"}),g.useEffect(()=>{if(s){const u=[s.spotify_url,s.apple_music_url,s.youtube_url,s.youtube_music_url].filter(Boolean),n=L({title:s.title,slug:a,datePublished:s.release_date,image:s.cover_image,byArtist:s.artist||"A Música da Segunda",description:s.description||`Paródia musical de ${s.title} por A Música da Segunda. Nova música toda segunda-feira.`,streamingUrls:u});w(n,"song-music-schema");const p=I({title:s.title,slug:a});return w(p,"song-breadcrumb-schema"),()=>{const x=document.getElementById("song-music-schema"),h=document.getElementById("song-breadcrumb-schema");x&&x.remove(),h&&h.remove()}}},[s,a]),c?e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs(f,{children:[e.jsx("html",{lang:"pt-BR"}),e.jsx("meta",{name:"robots",content:"index, follow"})]}),e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:a?a.replace(/-/g," ").replace(/\b\w/g,u=>u.toUpperCase()):"A Música da Segunda"}),e.jsx("p",{className:"text-gray-600 mb-8",children:"Carregando informações da música..."}),e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-8"}),e.jsx("div",{className:"h-96 bg-gray-200 rounded"})]})]})]}):l||!s?e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx(f,{children:e.jsx("meta",{name:"robots",content:"noindex,follow"})}),e.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[e.jsx("div",{className:"mb-6",children:e.jsxs(y,{onClick:()=>o("/"),variant:"outline",className:"mb-4",children:[e.jsx(v,{className:"w-4 h-4 mr-2"}),"Voltar ao Início"]})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:l||"Song Not Found"}),e.jsxs("p",{className:"text-gray-600",children:['The song "',a,'" could not be found.']})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs(f,{children:[e.jsx("html",{lang:"pt-BR"}),e.jsx("meta",{name:"twitter:card",content:"summary_large_image"})]}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("div",{className:"mb-6",children:e.jsxs(y,{onClick:()=>o("/"),variant:"outline",className:"bg-white/90 hover:bg-white border-white/20 backdrop-blur-sm shadow-md",children:[e.jsx(v,{className:"w-4 h-4 mr-2"}),"Voltar ao Início"]})}),e.jsxs("div",{className:"bg-white rounded-3xl p-6 md:p-8 shadow-2xl mb-6",children:[e.jsx("h1",{className:"text-3xl md:text-5xl font-black text-gray-900 mb-4 leading-tight",children:s.title}),e.jsxs("div",{className:"flex items-center gap-4 text-gray-700 mb-6 flex-wrap text-base md:text-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(P,{className:"w-5 h-5 text-blue-600"}),e.jsx("span",{className:"font-semibold",children:s.artist||"A Música da Segunda"})]}),s.release_date&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(A,{className:"w-5 h-5 text-rose-500"}),e.jsx("span",{className:"font-medium",children:E(B(s.release_date),"dd MMMM yyyy",{locale:k})})]})]}),s.youtube_music_url||s.youtube_url?e.jsx(C,{youtube_music_url:s.youtube_music_url,youtube_url:s.youtube_url,title:s.title}):e.jsx("div",{className:"w-full aspect-video rounded-lg overflow-hidden shadow-lg flex items-center justify-center bg-gradient-to-br from-gray-100 to-gray-200",children:e.jsxs("div",{className:"text-center text-gray-500",children:[e.jsx(j,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),e.jsx("p",{className:"font-medium",children:"Vídeo não disponível"}),e.jsx("p",{className:"text-sm",children:"Esta música ainda não tem vídeo"})]})}),s.description&&e.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:e.jsx("p",{className:"text-gray-800 text-base md:text-lg leading-relaxed font-normal",children:s.description})})]}),s.lyrics&&s.lyrics.trim()&&e.jsxs("article",{className:"bg-white rounded-3xl p-6 md:p-8 shadow-2xl",children:[e.jsxs("h2",{className:"text-2xl md:text-3xl font-black text-gray-900 mb-6 flex items-center gap-3",children:[e.jsx(j,{className:"w-7 h-7 md:w-8 md:h-8 text-rose-500"}),"Letras da Música"]}),e.jsx("section",{className:"lyrics-content",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-800 font-sans text-base md:text-lg leading-relaxed font-normal",children:s.lyrics})})]})]})})]})}export{Z as default};
