var e=Object.defineProperty,t=Object.defineProperties,s=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,o=(t,s,a)=>s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[s]=a;import{r as i,j as n,M as d,Q as c,c as m,G as u,F as x,U as h}from"./vendor-BIbFW3qO.js";import{u as b,D as p,a as f,c as g,d as v,B as j,b as y,A as w}from"./index-DetkHvaz.js";import"./libs-DY7TBn7z.js";import"./utils-DuUtq9wc.js";import"./ui-CttiZxwU.js";import"./supabase-sfbdw4k8.js";function N({youtube_music_url:e,youtube_url:t,title:s}){const a=e||t||"",r=(e=>{if(!e||"string"!=typeof e)return null;try{const t=e.match(/[?&]list=([A-Za-z0-9_-]+)/);if(t)return{id:t[1],type:"playlist"};const s=[/(?:youtube\.com\/shorts\/)([A-Za-z0-9_-]{11})/,/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/|youtube\.com\/v\/)([A-Za-z0-9_-]{11})/,/^([A-Za-z0-9_-]{11})$/];for(const a of s){const t=e.match(a);if(t)return{id:t[1],type:"video"}}if(e.toLowerCase().includes("music.youtube.com")){const t=e.match(/[?&]v=([A-Za-z0-9_-]{11})/);if(t)return{id:t[1],type:"video"}}return null}catch(t){return null}})(a);if(!r)return n.jsx("div",{className:"w-full aspect-video rounded-lg overflow-hidden shadow-lg flex items-center justify-center bg-gradient-to-br from-gray-800 to-gray-900",children:n.jsx("p",{className:"text-white text-sm",children:"Vid칠o non disponible"})});const l=a.includes("/shorts/"),o="https://www.youtube-nocookie.com/embed",i="video"===r.type?`${o}/${r.id}?rel=0&modestbranding=1&playsinline=1&controls=1`:`${o}/videoseries?list=${r.id}&rel=0&modestbranding=1&playsinline=1&controls=1`;return l?n.jsx("div",{className:"w-full flex justify-center items-center py-4",children:n.jsx("div",{className:"relative rounded-2xl overflow-hidden shadow-2xl bg-black",style:{width:"100%",maxWidth:"360px",aspectRatio:"9/16",margin:"0 auto"},children:n.jsx("iframe",{className:"absolute top-0 left-0 w-full h-full",src:i,title:s||"YouTube Short",frameBorder:"0",referrerPolicy:"strict-origin-when-cross-origin",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0,loading:"lazy"})})}):n.jsx("div",{className:"w-full aspect-video rounded-lg overflow-hidden shadow-lg",children:n.jsx("iframe",{className:"w-full h-full",src:i,title:s||"YouTube",frameBorder:"0",referrerPolicy:"strict-origin-when-cross-origin",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})}const _=({day:e,song:t,onOpen:s,hasBeenViewed:a=!1})=>{const r=new Date,l=new Date(2025,11,e),o=1!==e&&r<l;let i="relative aspect-square rounded-2xl flex items-center justify-center text-white font-black text-3xl transition-all duration-300 transform ";return i+=o?"bg-gray-400/50 text-gray-300 cursor-not-allowed":a?"bg-white shadow-lg cursor-pointer hover:scale-105 hover:shadow-xl":t?"bg-gradient-to-br from-red-500 to-rose-600 shadow-lg cursor-pointer hover:scale-105 hover:shadow-xl":"bg-teal-500/80",n.jsx("div",{onClick:()=>{!o&&t&&s(t)},className:i,children:a?n.jsx("div",{className:"w-full h-full flex items-center justify-center",children:n.jsx("img",{src:"/images/IOS Logo.png",alt:`V칤deo visualizado - Dia ${e}`,className:"w-16 h-16 object-contain drop-shadow-lg"})}):n.jsxs(n.Fragment,{children:[n.jsx("span",{children:e}),o&&n.jsx(h,{className:"absolute w-8 h-8 opacity-70"}),!o&&t&&n.jsxs(n.Fragment,{children:[n.jsx(c,{className:"absolute top-2 right-2 w-5 h-5 text-yellow-300 animate-ping"}),n.jsx("div",{className:"absolute bottom-1 left-1 right-1 text-center",children:n.jsx("p",{className:"text-xs font-bold text-white drop-shadow-lg truncate",children:t.title})})]})]})})};function k(){const[e,h]=i.useState([]),[k,O]=i.useState(null),[S,A]=i.useState(!1),[C,z]=i.useState(!1),[F,V]=i.useState(null),[M,P]=i.useState(new Set),D=Array.from({length:24},(e,t)=>t+1);b({title:"Calend치rio do Advento Musical",description:"Calend치rio do Advento Musical 2025 - Uma surpresa musical a cada dia de dezembro. Descubra novas m칰sicas e par칩dias inteligentes.",keywords:"calend치rio do advento, advento musical, dezembro 2025, m칰sica da segunda, surpresas musicais, calend치rio musical",url:"/adventcalendar",type:"website"}),i.useEffect(()=>{var e;e=function*(){const e=yield w.list();h(e)},new Promise((t,s)=>{var a=t=>{try{l(e.next(t))}catch(a){s(a)}},r=t=>{try{l(e.throw(t))}catch(a){s(a)}},l=e=>e.done?t(e.value):Promise.resolve(e.value).then(a,r);l((e=e.apply(null,null)).next())});const t=localStorage.getItem("advent_viewed_songs");if(t)try{const e=JSON.parse(t);P(new Set(e))}catch(s){}},[]);const $=i=>{const n=`advent_day_${i}`,d=localStorage.getItem(n);if(d)return JSON.parse(d);if(0===e.length)return null;const c=e.filter(e=>e.tiktok_video_id);if(0===c.length)return null;const m=(u=((e,t)=>{for(var s in t||(t={}))r.call(t,s)&&o(e,s,t[s]);if(a)for(var s of a(t))l.call(t,s)&&o(e,s,t[s]);return e})({},c[Math.floor(Math.random()*c.length)]),t(u,s({day_of_december:i})));var u;return localStorage.setItem(n,JSON.stringify(m)),m},B=e.reduce((e,t)=>(e[t.day_of_december]=t,e),{}),L=$(1);return L&&(B[1]=L),n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"p-5 max-w-md mx-auto",children:[n.jsx("div",{className:"lg:hidden text-center mb-8",children:n.jsxs("div",{className:"flex items-center justify-center gap-4 mb-4",children:[n.jsx("div",{className:"w-16 h-16 rounded-full overflow-hidden border-4 border-white/20 shadow-xl flex-shrink-0",children:n.jsx("img",{src:"images/Musica da segunda.jpg",alt:"Logo M칰sica da Segunda",className:"w-full h-full object-cover"})}),n.jsxs("div",{className:"text-left",children:[n.jsx("h1",{className:"text-2xl md:text-3xl font-black text-white drop-shadow-lg mb-1",children:"Calend치rio do Advento"}),n.jsx("p",{className:"text-white/80 font-medium text-sm md:text-base drop-shadow-md",children:"Dezembro 2025 - Uma surpresa a cada dia!"})]})]})}),n.jsx("div",{className:"bg-[#f8f5f2] rounded-3xl p-5 shadow-xl",children:n.jsx("div",{className:"grid grid-cols-4 gap-3",children:D.map(e=>{const t=B[e]||$(e),s=M.has(e);return n.jsx(_,{day:e,song:t,onOpen:O,hasBeenViewed:s},e)})})})]}),n.jsx(p,{open:!!k,onOpenChange:()=>O(null),children:n.jsxs(f,{className:"p-0 border-0 bg-transparent max-w-md w-[95vw] max-h-[95vh] overflow-y-auto mx-auto my-4",children:[n.jsx(g,{className:"sr-only",children:(null==k?void 0:k.title)||"V칤deo do Calend치rio do Advento"}),n.jsxs(v,{className:"sr-only",children:["V칤deo musical do dia ",null==k?void 0:k.day_of_december," de dezembro de 2025"]}),n.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-rose-50 rounded-3xl shadow-2xl overflow-hidden",children:[n.jsxs("div",{className:"bg-gradient-to-r from-red-500 to-rose-600 p-4 text-center relative",children:[n.jsx("div",{className:"absolute top-2 left-4 bg-white/20 rounded-full w-10 h-10 flex items-center justify-center",children:n.jsx("span",{className:"text-white font-black text-base",children:null==k?void 0:k.day_of_december})}),n.jsx("div",{className:"mt-1",children:n.jsxs("div",{className:"flex items-center justify-center gap-2",children:[n.jsx("h2",{className:"text-xl font-black text-white",children:"Dezembro"}),n.jsx("span",{className:"text-white/90 text-lg font-semibold",children:null==k?void 0:k.day_of_december})]})}),n.jsx("div",{className:"absolute -bottom-4 left-1/2 transform -translate-x-1/2",children:n.jsx("div",{className:"bg-white rounded-full p-2 shadow-lg",children:n.jsx(d,{className:"w-6 h-6 text-red-500"})})})]}),n.jsxs("div",{className:"p-4 pt-2",children:[n.jsxs("div",{className:"mb-4 bg-white/80 backdrop-blur-sm rounded-2xl p-3 shadow-sm",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(c,{className:"w-3 h-3 text-amber-500"}),n.jsx("span",{className:"font-bold text-gray-600 text-xs uppercase tracking-wide",children:"Nome da V칤deo"})]}),n.jsx("p",{className:"text-gray-800 leading-relaxed font-semibold text-base",children:(null==k?void 0:k.title)||"V칤deo Musical"}),(null==k?void 0:k.artist)&&n.jsx("p",{className:"text-gray-600 text-xs mt-1",children:k.artist})]}),n.jsx("div",{className:"mb-4",children:(null==k?void 0:k.youtube_music_url)||(null==k?void 0:k.youtube_url)?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"bg-black rounded-2xl overflow-hidden shadow-xl",children:n.jsx(N,{youtube_music_url:k.youtube_music_url,youtube_url:k.youtube_url,title:k.title})}),n.jsx("div",{className:"text-center mt-2",children:n.jsxs("p",{className:"text-xs text-gray-600 font-medium",children:["游꿟 V칤deo YouTube - ",k.title]})}),n.jsx("div",{className:"mt-3 text-center",children:n.jsx(j,{onClick:()=>{const e=k.youtube_music_url||k.youtube_url;e&&window.open(e,"_blank")},className:"w-full bg-red-600 hover:bg-red-700 text-white font-bold py-3 rounded-xl transition-all duration-200 hover:scale-105",children:"游닠 Ver no YouTube"})})]}):n.jsx("div",{className:"bg-gray-100 rounded-2xl p-8 text-center",children:n.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-200 to-gray-300 rounded-2xl flex items-center justify-center",children:n.jsxs("div",{className:"text-center text-gray-500",children:[n.jsx(m,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),n.jsx("p",{className:"text-lg font-medium",children:"V칤deo n칚o dispon칤vel"}),n.jsx("p",{className:"text-sm text-gray-400",children:null==k?void 0:k.title})]})})})}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(j,{variant:"outline",className:"w-full bg-white/70 hover:bg-white/90 text-gray-700 font-semibold border-gray-300 py-3 rounded-2xl text-sm",onClick:()=>(V(k),void A(!0)),children:"Plataformas"}),n.jsx(j,{variant:"outline",className:"w-full bg-white/70 hover:bg-white/90 text-gray-700 font-semibold border-gray-300 py-3 rounded-2xl text-sm",onClick:()=>(V(k),void z(!0)),children:"Letras"}),n.jsx(j,{variant:"outline",className:"w-full bg-white/70 hover:bg-white/90 text-gray-700 font-semibold border-gray-300 py-3 rounded-2xl text-sm",onClick:()=>{return e=k,void(navigator.share?navigator.share({title:e.title,text:`Ou칞a ${e.title} por ${e.artist}`,url:e.tiktok_url||window.location.href}):(navigator.clipboard.writeText(e.tiktok_url||window.location.href),alert("Link copiado para a 치rea de transfer칡ncia!")));var e},children:"Compartilhar"})]}),n.jsx("div",{className:"mt-6 text-center",children:n.jsxs("div",{className:"flex items-center justify-center gap-2 text-gray-400",children:[n.jsx(u,{className:"w-4 h-4"}),n.jsx("span",{className:"text-xs font-medium",children:"Calend치rio do Advento Musical"}),n.jsx(u,{className:"w-4 h-4"})]})})]})]})]})}),n.jsx(p,{open:S,onOpenChange:A,children:n.jsxs(f,{className:"bg-[#f8f5f2] max-w-md",children:[n.jsx(y,{children:n.jsx(g,{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:"游꿧 Ouvir em outras plataformas"})}),F&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-4 border border-blue-200",children:[n.jsx("h3",{className:"text-lg font-bold text-blue-900 mb-1",children:F.title}),n.jsx("p",{className:"text-blue-700 font-medium",children:F.artist})]}),n.jsxs("div",{className:"space-y-3",children:[F.spotify_url&&n.jsx("a",{href:F.spotify_url,target:"_blank",rel:"noopener noreferrer",className:"block",children:n.jsx(j,{className:"w-full bg-[#1DB954] hover:bg-[#1ed760] text-white font-bold py-3 rounded-2xl text-sm transition-all duration-200 hover:scale-105",children:"游꿚 Ouvir no Spotify"})}),F.apple_music_url&&n.jsx("a",{href:F.apple_music_url,target:"_blank",rel:"noopener noreferrer",className:"block",children:n.jsx(j,{className:"w-full bg-gradient-to-r from-[#FA233B] to-[#FB5C74] hover:opacity-90 text-white font-bold py-3 rounded-2xl text-sm transition-all duration-200 hover:scale-105",children:"游꿧 Ouvir no Apple Music"})}),F.youtube_url&&n.jsx("a",{href:F.youtube_url,target:"_blank",rel:"noopener noreferrer",className:"block",children:n.jsx(j,{className:"w-full bg-[#FF0000] hover:bg-[#cc0000] text-white font-bold py-3 rounded-2xl text-sm transition-all duration-200 hover:scale-105",children:"游닠 Assistir no YouTube"})}),!F.spotify_url&&!F.apple_music_url&&!F.youtube_url&&n.jsxs("div",{className:"text-center py-6",children:[n.jsx(d,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),n.jsx("p",{className:"text-gray-600 font-medium",children:"Links de streaming em breve..."}),n.jsx("p",{className:"text-sm text-gray-500",children:"Esta m칰sica ser치 disponibilizada em breve nas principais plataformas."})]})]})]})]})}),n.jsx(p,{open:C,onOpenChange:z,children:n.jsxs(f,{className:"bg-[#f8f5f2] max-w-md max-h-[80vh] overflow-y-auto",children:[n.jsx(y,{children:n.jsx(g,{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:"游닇 Letras da m칰sica"})}),F&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-4 border border-blue-200",children:[n.jsx("h3",{className:"text-lg font-bold text-blue-900 mb-1",children:F.title}),n.jsx("p",{className:"text-blue-700 font-medium",children:F.artist})]}),F.lyrics?n.jsx("div",{className:"bg-white rounded-xl p-4 border border-gray-200",children:n.jsx("pre",{className:"whitespace-pre-wrap text-gray-700 font-medium leading-relaxed",children:F.lyrics})}):n.jsxs("div",{className:"text-center py-6",children:[n.jsx(x,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),n.jsx("p",{className:"text-gray-600 font-medium",children:"Letras n칚o dispon칤veis"}),n.jsx("p",{className:"text-sm text-gray-500",children:"As letras desta m칰sica ser칚o publicadas em breve."})]})]})]})})]})}export{k as default};
