var v=(i,l,t)=>new Promise((s,m)=>{var n=a=>{try{o(t.next(a))}catch(r){m(r)}},u=a=>{try{o(t.throw(a))}catch(r){m(r)}},o=a=>a.done?s(a.value):Promise.resolve(a.value).then(n,u);o((t=t.apply(i,l)).next())});import{n as E,a9 as A,aa as B,r as p,u as U,j as e,J as y,B as w,E as N,y as k,f as z,p as C,M as _,e as I,m as L}from"./index-C3jRfhZe.js";import{a as $,i as j,b as P,e as T,v as Y,c as D}from"./seo-jsonld-BEDHCnnx.js";import{A as S}from"./arrow-left-CHPByWED.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],J=E("User",R);function V({youtube_music_url:i,youtube_url:l,title:t}){const s=i&&typeof i=="string"&&i.trim()||l&&typeof l=="string"&&l.trim()||"",n=(r=>{if(!r||typeof r!="string")return null;try{const x=r.toLowerCase(),c=r.match(/[?&]list=([A-Za-z0-9_-]+)/);if(c)return{id:c[1],type:"playlist"};const b=[/(?:youtube\.com\/shorts\/)([A-Za-z0-9_-]{11})/,/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/|youtube\.com\/v\/)([A-Za-z0-9_-]{11})/,/^([A-Za-z0-9_-]{11})$/];for(const g of b){const d=r.match(g);if(d)return{id:d[1],type:"video"}}if(x.includes("music.youtube.com")){const g=r.match(/[?&]v=([A-Za-z0-9_-]{11})/);if(g)return{id:g[1],type:"video"}}return null}catch(x){return null}})(s);if(!n)return e.jsx("div",{className:"w-full aspect-video rounded-lg overflow-hidden shadow-lg flex items-center justify-center bg-gradient-to-br from-gray-800 to-gray-900",children:e.jsx("p",{className:"text-white text-sm",children:"Vidéo non disponible"})});const u=s.includes("/shorts/"),o="https://www.youtube-nocookie.com/embed",a=n.type==="video"?`${o}/${n.id}?rel=0&modestbranding=1&playsinline=1&controls=1`:`${o}/videoseries?list=${n.id}&rel=0&modestbranding=1&playsinline=1&controls=1`;return u?e.jsx("div",{className:"w-full flex justify-center",children:e.jsx("div",{className:"relative rounded-lg overflow-hidden shadow-lg",style:{width:"100%",maxWidth:"400px",aspectRatio:"9/16"},children:e.jsx("iframe",{className:"absolute top-0 left-0 w-full h-full",src:a,title:t||"YouTube Short",frameBorder:"0",referrerPolicy:"strict-origin-when-cross-origin",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,loading:"lazy"})})}):e.jsx("div",{className:"w-full aspect-video rounded-lg overflow-hidden shadow-lg",children:e.jsx("iframe",{className:"w-full h-full",src:a,title:t||"YouTube",frameBorder:"0",referrerPolicy:"strict-origin-when-cross-origin",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,loading:"lazy"})})}function W(){const{slug:i}=A(),l=B(),t=i?i.replace(/\/$/,"").trim():null,[s,m]=p.useState(null),[n,u]=p.useState(!0),[o,a]=p.useState(null);p.useEffect(()=>{i&&i.endsWith("/")&&l(`/musica/${t}`,{replace:!0})},[i,t,l]),p.useEffect(()=>{v(null,null,function*(){if(!t){u(!1),a("Slug inválido");return}u(!0),a(null);try{const c=yield I.getBySlug(t);c?(m(c),a(null)):(a("Song not found"),m(null))}catch(c){a("Song not found"),m(null)}finally{u(!1)}})},[t]);const r=t?`/musica/${t.replace(/\/$/,"")}`:"/musica";return U({title:s?s.title:t?t.replace(/-/g," "):"A Música da Segunda",description:s?`Letra, áudio e história de "${s.title}" — nova música da segunda.`:"Paródias musicais inteligentes e divertidas sobre as notícias do Brasil.",keywords:s?`${s.title}, música da segunda, paródias musicais`:"música da segunda, paródias musicais",image:s==null?void 0:s.cover_image,url:r,type:"article"}),p.useEffect(()=>{if(s){const x=[s.spotify_url,s.apple_music_url,s.youtube_url,s.youtube_music_url].filter(Boolean),c=$({title:s.title,slug:t,datePublished:s.release_date,image:s.cover_image,byArtist:s.artist||"A Música da Segunda",description:s.description||`Paródia musical de ${s.title} por A Música da Segunda. Nova música toda segunda-feira.`,streamingUrls:x});j(c,"song-music-schema");const b=P({title:s.title,slug:t});j(b,"song-breadcrumb-schema");const g=s.youtube_music_url||s.youtube_url;if(g){const d=T(g);if(d){const h=D(d);if(h){const f=s.description||`Paródia musical de ${s.title} por A Música da Segunda. Nova música toda segunda-feira.`,M=Y({title:s.title,description:f,thumbnailUrl:h.thumbnailUrl,embedUrl:h.embedUrl,contentUrl:h.contentUrl,uploadDate:s.release_date||s.tiktok_publication_date||new Date().toISOString()});j(M,"song-video-schema")}}}return()=>{const d=document.getElementById("song-music-schema"),h=document.getElementById("song-breadcrumb-schema"),f=document.getElementById("song-video-schema");d&&d.remove(),h&&h.remove(),f&&f.remove()}}},[s,t]),n?e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs(y,{children:[e.jsx("html",{lang:"pt-BR"}),e.jsx("meta",{name:"robots",content:"index, follow"})]}),e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:t?t.replace(/-/g," ").replace(/\b\w/g,x=>x.toUpperCase()):"A Música da Segunda"}),e.jsx("p",{className:"text-gray-600 mb-8",children:"Carregando informações da música..."}),e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-8"}),e.jsx("div",{className:"h-96 bg-gray-200 rounded"})]})]})]}):o||!s?e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx(y,{children:e.jsx("meta",{name:"robots",content:"noindex,follow"})}),e.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[e.jsx("div",{className:"mb-6",children:e.jsxs(w,{onClick:()=>l("/"),variant:"outline",className:"mb-4",children:[e.jsx(S,{className:"w-4 h-4 mr-2"}),"Voltar ao Início"]})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:o||"Song Not Found"}),e.jsxs("p",{className:"text-gray-600",children:['The song "',t,'" could not be found.']})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs(y,{children:[e.jsx("html",{lang:"pt-BR"}),e.jsx("meta",{name:"twitter:card",content:"summary_large_image"})]}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("div",{className:"mb-6",children:e.jsxs(w,{onClick:()=>l("/"),variant:"ghost",className:"text-white hover:bg-white/10 border-0",children:[e.jsx(S,{className:"w-4 h-4 mr-2"}),"Voltar ao Início"]})}),e.jsxs("div",{className:"bg-white rounded-3xl p-6 md:p-8 shadow-2xl mb-6",children:[e.jsx("h1",{className:"text-3xl md:text-5xl font-black text-gray-900 mb-4 leading-tight",children:s.title}),(s.youtube_url||s.spotify_url)&&e.jsxs("div",{className:"flex items-center gap-3 mb-6 flex-wrap",children:[s.youtube_url&&e.jsxs("a",{href:s.youtube_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg font-semibold transition-colors shadow-md",children:[e.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"})}),"YouTube Music",e.jsx(N,{className:"w-4 h-4"})]}),s.spotify_url&&e.jsxs("a",{href:s.spotify_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg font-semibold transition-colors shadow-md",children:[e.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M12 0C5.4 0 0 5.4 0 12s5.4 12 12 12 12-5.4 12-12S18.66 0 12 0zm5.521 17.34c-.24.359-.66.48-1.021.24-2.82-1.74-6.36-2.101-10.561-1.141-.418.122-.84-.179-.84-.66 0-.419.34-.78.78-.66 4.56.96 7.8 1.44 10.98 2.34.42.12.66.54.54.96zm1.44-3.3c-.3.42-.84.6-1.32.42-3.24-1.98-8.16-2.58-11.94-1.38-.48.12-1.02-.12-1.14-.6-.12-.48.12-1.02.6-1.14 4.2-1.26 9.6-.66 13.2 1.62.42.18.6.78.42 1.2zm.12-3.36C15.24 8.4 8.82 8.16 5.16 9.3c-.6.18-1.2-.18-1.38-.72-.18-.6.18-1.2.72-1.38 4.26-1.26 11.28-1.02 15.72 1.62.54.3.72 1.02.42 1.56-.3.54-1.02.72-1.56.42z"})}),"Spotify",e.jsx(N,{className:"w-4 h-4"})]})]}),e.jsxs("div",{className:"flex items-center gap-4 text-gray-700 mb-6 flex-wrap text-base md:text-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(J,{className:"w-5 h-5 text-blue-600"}),e.jsx("span",{className:"font-semibold",children:s.artist||"A Música da Segunda"})]}),s.release_date&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(k,{className:"w-5 h-5 text-rose-500"}),e.jsx("span",{className:"font-medium",children:z(C(s.release_date),"dd MMMM yyyy",{locale:L})})]})]}),s.youtube_music_url&&typeof s.youtube_music_url=="string"&&s.youtube_music_url.trim()||s.youtube_url&&typeof s.youtube_url=="string"&&s.youtube_url.trim()?e.jsx(V,{youtube_music_url:s.youtube_music_url,youtube_url:s.youtube_url,title:s.title}):e.jsx("div",{className:"w-full aspect-video rounded-lg overflow-hidden shadow-lg flex items-center justify-center bg-gradient-to-br from-gray-100 to-gray-200",children:e.jsxs("div",{className:"text-center text-gray-500",children:[e.jsx(_,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),e.jsx("p",{className:"font-medium",children:"Vídeo não disponível"}),e.jsx("p",{className:"text-sm",children:"Esta música ainda não tem vídeo"})]})}),s.description&&e.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:e.jsx("p",{className:"text-gray-800 text-base md:text-lg leading-relaxed font-normal",children:s.description})})]}),s.lyrics&&s.lyrics.trim()&&e.jsxs("article",{className:"bg-white rounded-3xl p-6 md:p-8 shadow-2xl",children:[e.jsxs("h2",{className:"text-2xl md:text-3xl font-black text-gray-900 mb-6 flex items-center gap-3",children:[e.jsx(_,{className:"w-7 h-7 md:w-8 md:h-8 text-rose-500"}),"Letras da Música"]}),e.jsx("section",{className:"lyrics-content",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-800 font-sans text-base md:text-lg leading-relaxed font-normal",children:s.lyrics})})]})]})})]})}export{W as default};
