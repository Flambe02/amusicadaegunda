const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Calendar-C6H_7vYK.js","assets/vendor-react-NAV4UYoK.js","assets/vendor-ui-BUbFcrva.js","assets/vendor-date-BfA9-vu0.js","assets/vendor-supabase-CMR6_zzL.js","assets/RodaDaSegunda-DoaM50yH.js","assets/ProtectedAdmin-BhDUO-qG.js","assets/input-CpM6L3ye.js","assets/badge-B9aHhZHW.js","assets/card-BE1l5j3K.js","assets/Login-Lf0La8g0.js","assets/ProtectedAdmin-D0tnbmQj.css","assets/Sobre-C06yaP-a.js","assets/ContentForAI-CLfLbvBo.js","assets/Blog-olWgJ0_g.js","assets/Playlist-ofupVDk0.js","assets/seo-jsonld-caGWd7Ka.js","assets/Song-DO8QAipE.js","assets/Youtube-DW_3fcd5.js","assets/YouTubePlayer-rmQquWju.js","assets/YoutubeTest-CiPhVSY1.js","assets/YoutubeSimple-aT7GF_-e.js","assets/TikTokDemo-D5dFXBdK.js","assets/Search-w2ibVnWx.js","assets/webvitals-B44qvw7I.js"])))=>i.map(i=>d[i]);
var is=Object.defineProperty,ls=Object.defineProperties;var cs=Object.getOwnPropertyDescriptors;var je=Object.getOwnPropertySymbols;var mt=Object.prototype.hasOwnProperty,ht=Object.prototype.propertyIsEnumerable;var ze=(t,r,s)=>r in t?is(t,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[r]=s,w=(t,r)=>{for(var s in r||(r={}))mt.call(r,s)&&ze(t,s,r[s]);if(je)for(var s of je(r))ht.call(r,s)&&ze(t,s,r[s]);return t},R=(t,r)=>ls(t,cs(r));var C=(t,r)=>{var s={};for(var a in t)mt.call(t,a)&&r.indexOf(a)<0&&(s[a]=t[a]);if(t!=null&&je)for(var a of je(t))r.indexOf(a)<0&&ht.call(t,a)&&(s[a]=t[a]);return s};var ce=(t,r,s)=>ze(t,typeof r!="symbol"?r+"":r,s);var b=(t,r,s)=>new Promise((a,o)=>{var n=l=>{try{u(s.next(l))}catch(h){o(h)}},i=l=>{try{u(s.throw(l))}catch(h){o(h)}},u=l=>l.done?a(l.value):Promise.resolve(l.value).then(n,i);u((s=s.apply(t,r)).next())});import{X as ne,A as xt,S as He,j as ds,H as ae,k as Je,C as Ae,m as us,P as ms,n as We,p as me,q as Ce,t as hs,r as xs,D as J,u as kt,F as se,G as Et,M as gs,L as Tt,v as Re,w as ps,T as fs,x as bs,y as It,O as At,z as ws,B as Ct,E as Ze,J as vs,K as Dt,R as ys,N as Ot,V as js,Q as Ns,U as Mt,W as Ss,Y as re,Z as _s,$ as Fe,a0 as Pt,a1 as z,a2 as gt}from"./vendor-ui-BUbFcrva.js";import{r as c,j as e,L as he,i as Qe,k as ks,H as pt,B as Es,m as Ts,n as de,N as Se,p as Is,c as Rt,q as As,t as Cs}from"./vendor-react-NAV4UYoK.js";import{c as Ds}from"./vendor-supabase-CMR6_zzL.js";import{s as _e,e as ke,p as K,i as Ee,a as Ne,f as F,b as Z}from"./vendor-date-BfA9-vu0.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function s(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(o){if(o.ep)return;o.ep=!0;const n=s(o);fetch(o.href,n)}})();function $(t){return"/"+t.toLowerCase().replace(/ /g,"-")}const Xe=()=>{const t=navigator.userAgent||navigator.vendor||window.opera;return/iPad|iPhone|iPod/.test(t)&&!window.MSStream},Lt=()=>window.navigator.standalone===!0||window.matchMedia("(display-mode: standalone)").matches,Os=()=>{const t=navigator.userAgent;return/Safari/.test(t)&&!/Chrome/.test(t)},De=()=>{const t=Xe(),r=Lt(),s=localStorage.getItem("ios-tutorial-seen");return t&&!r&&!s};function Ms({onShowVisualGuide:t}){const[r,s]=c.useState(!1),[a,o]=c.useState(0),[n,i]=c.useState(!1),[u,l]=c.useState(!1);c.useEffect(()=>{const p=Xe(),y=Lt();if(i(p),l(y),De()){const S=setTimeout(()=>{s(!0)},2e3);return()=>clearTimeout(S)}},[]);const h=[{title:"Adicionar √† tela inicial",description:"Clique no bot√£o Compartilhar na parte inferior do seu navegador",icon:He,arrow:xt,arrowPosition:"bottom-20 right-4",highlight:"share-button"},{title:"Selecionar a op√ß√£o",description:"Depois escolha 'Na tela inicial' no menu",icon:ae,arrow:ds,arrowPosition:"bottom-16 right-20",highlight:"add-to-home"},{title:"Confirmar a adi√ß√£o",description:"Pressione 'Adicionar' para instalar o aplicativo",icon:ae,arrow:xt,arrowPosition:"bottom-12 right-16",highlight:"confirm-add"}],d=()=>{a<h.length-1?o(a+1):(s(!1),localStorage.setItem("ios-tutorial-seen","true"))},g=()=>{s(!1),localStorage.setItem("ios-tutorial-seen","true")},N=()=>{s(!1),localStorage.setItem("ios-tutorial-seen","true")};return!De()||!r?null:e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50",onClick:N}),e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl max-w-sm w-full mx-4 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white p-6 text-center relative",children:[e.jsx("button",{onClick:N,className:"absolute top-4 right-4 p-2 rounded-full bg-white/20 hover:bg-white/30 transition-colors",children:e.jsx(ne,{className:"w-5 h-5"})}),e.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-4",children:(()=>{const p=h[a].icon;return e.jsx(p,{className:"w-8 h-8"})})()}),e.jsx("h2",{className:"text-xl font-bold mb-2",children:h[a].title}),e.jsx("p",{className:"text-blue-100 text-sm",children:h[a].description})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"bg-gray-100 rounded-2xl p-4 mb-6 relative",children:[e.jsxs("div",{className:"bg-white rounded-xl p-3 mb-3 flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Safari"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"w-3 h-3 bg-red-400 rounded-full"}),e.jsx("div",{className:"w-3 h-3 bg-yellow-400 rounded-full"}),e.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full"})]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-3 flex items-center justify-between",children:[e.jsx("div",{className:"w-6 h-6 bg-gray-300 rounded"}),e.jsx("div",{className:"flex-1 mx-3 h-8 bg-gray-200 rounded-lg"}),e.jsx("div",{className:"w-6 h-6 bg-gray-300 rounded"})]}),e.jsx("div",{className:"bg-white rounded-xl p-3 mt-3 flex items-center justify-center",children:e.jsxs("div",{className:"flex items-center gap-2 text-blue-600",children:[e.jsx(He,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium",children:"Compartilhar"})]})}),e.jsx("div",{className:`absolute ${h[a].arrowPosition} animate-bounce`,children:(()=>{const p=h[a].arrow;return e.jsx(p,{className:"w-8 h-8 text-blue-600 drop-shadow-lg"})})()})]}),e.jsx("div",{className:"flex justify-center gap-2 mb-6",children:h.map((p,y)=>e.jsx("div",{className:`w-2 h-2 rounded-full transition-colors ${y===a?"bg-blue-500":"bg-gray-300"}`},y))}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:g,className:"flex-1 py-3 px-4 text-gray-600 border border-gray-300 rounded-xl hover:bg-gray-50 transition-colors",children:"Ignorar"}),e.jsx("button",{onClick:d,className:"flex-1 py-3 px-4 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors font-medium",children:a===h.length-1?"Finalizar":"Pr√≥ximo"})]})]})]})}),e.jsx("div",{className:"fixed bottom-20 left-4 right-4 z-40 lg:hidden",children:e.jsx("div",{className:"bg-blue-600 text-white rounded-2xl p-4 shadow-lg border border-blue-500/20",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center",children:e.jsx(ae,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-sm",children:"Adicionar √† tela inicial"}),e.jsx("p",{className:"text-blue-100 text-xs",children:'Clique em Compartilhar e depois "Na tela inicial"'})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>s(!0),className:"bg-white/20 hover:bg-white/30 px-3 py-1 rounded-lg text-xs font-medium transition-colors",children:"Tutorial"}),e.jsx("button",{onClick:t,className:"bg-white/20 hover:bg-white/30 px-3 py-1 rounded-lg text-xs font-medium transition-colors",children:"Guia visual"})]})]})})})]})}const Ps=({message:t,type:r="info",duration:s=5e3,onClose:a})=>{const[o,n]=c.useState(!0);c.useEffect(()=>{if(s>0){const d=setTimeout(()=>{n(!1),setTimeout(()=>a==null?void 0:a(),300)},s);return()=>clearTimeout(d)}},[s,a]);const i=()=>{n(!1),setTimeout(()=>a==null?void 0:a(),300)},u={success:us,error:Ae,warning:Ae,info:Je},l={success:"bg-green-500 border-green-600",error:"bg-red-500 border-red-600",warning:"bg-yellow-500 border-yellow-600",info:"bg-blue-500 border-blue-600"},h=u[r];return o?e.jsx("div",{className:`fixed top-4 right-4 z-50 transform transition-all duration-300 ${o?"translate-x-0 opacity-100":"translate-x-full opacity-0"}`,children:e.jsx("div",{className:`${l[r]} text-white rounded-lg shadow-lg border p-4 max-w-sm`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(h,{className:"w-5 h-5 mt-0.5 flex-shrink-0"}),e.jsx("div",{className:"flex-1",children:e.jsx("p",{className:"text-sm font-medium",children:t})}),e.jsx("button",{onClick:i,className:"text-white/80 hover:text-white transition-colors flex-shrink-0",children:e.jsx(ne,{className:"w-4 h-4"})})]})})}):null};function Rs({isOpen:t,onClose:r}){const[s,a]=c.useState(0),[o,n]=c.useState(!1),i=[{title:"Passo 1: Bot√£o Compartilhar",description:"Localize o bot√£o Compartilhar na parte inferior do seu navegador Safari",image:"step1",highlight:"share-button"},{title:"Passo 2: Menu Compartilhar",description:"O menu Compartilhar abre com v√°rias op√ß√µes",image:"step2",highlight:"share-menu"},{title:"Passo 3: Na tela inicial",description:"Role e selecione 'Na tela inicial'",image:"step3",highlight:"add-to-home"},{title:"Passo 4: Confirma√ß√£o",description:"Pressione 'Adicionar' para instalar o aplicativo",image:"step4",highlight:"confirm"}],u=()=>{s<i.length-1&&a(s+1)},l=()=>{s>0&&a(s-1)},h=()=>{if(n(!o),!o){const g=setInterval(()=>{a(N=>N>=i.length-1?(clearInterval(g),n(!1),N):N+1)},3e3)}},d=g=>e.jsxs("div",{className:"relative bg-gray-100 rounded-2xl p-6 mb-6",children:[e.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-lg",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4 text-xs text-gray-600",children:[e.jsx("span",{children:"9:41"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-4 h-2 bg-gray-300 rounded-full"}),e.jsx("span",{children:"100%"})]})]}),e.jsx("div",{className:"bg-gray-200 rounded-lg p-2 mb-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded"}),e.jsx("span",{className:"text-xs text-gray-600",children:"musica-da-segunda.com"})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"h-4 bg-gray-300 rounded"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-3/4"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded-full"}),e.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded-full"}),e.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded-full"}),e.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded-full"}),e.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded-full"})]})})]}),e.jsx("div",{className:"absolute bottom-4 right-4 bg-blue-500 text-white rounded-full p-3 shadow-lg",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"})})}),e.jsx("div",{className:"absolute bottom-16 right-4 animate-bounce",children:e.jsx("svg",{className:"w-8 h-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 10l7-7m0 0l7 7m-7-7v18"})})})]});return t?e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/60",onClick:r}),e.jsxs("div",{className:"relative bg-white rounded-3xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Guia de instala√ß√£o iOS"}),e.jsx("button",{onClick:r,className:"p-2 rounded-full bg-white/20 hover:bg-white/30 transition-colors",children:e.jsx(ne,{className:"w-6 h-6"})})]}),e.jsx("div",{className:"flex items-center gap-4 mt-4",children:e.jsxs("button",{onClick:h,className:"flex items-center gap-2 bg-white/20 hover:bg-white/30 px-4 py-2 rounded-lg transition-colors",children:[o?e.jsx(ms,{className:"w-4 h-4"}):e.jsx(We,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:o?"Pausar":"Reprodu√ß√£o autom√°tica"})]})})]}),e.jsxs("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:[d(),e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:i[s].title}),e.jsx("p",{className:"text-gray-600",children:i[s].description})]}),e.jsx("div",{className:"flex justify-center gap-2 mb-6",children:i.map((g,N)=>e.jsx("div",{className:`w-3 h-3 rounded-full transition-colors ${N===s?"bg-blue-500":"bg-gray-300"}`},N))}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("button",{onClick:l,disabled:s===0,className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${s===0?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-blue-500 text-white hover:bg-blue-600"}`,children:[e.jsx(me,{className:"w-4 h-4"}),"Anterior"]}),e.jsxs("button",{onClick:u,disabled:s===i.length-1,className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${s===i.length-1?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-blue-500 text-white hover:bg-blue-600"}`,children:["Pr√≥ximo",e.jsx(Ce,{className:"w-4 h-4"})]})]})]})]})]}):null}function Ls(){const[t,r]=c.useState(!1),[s,a]=c.useState(""),[o,n]=c.useState("info"),[i,u]=c.useState(!1);c.useEffect(()=>{if(De()){const h=setTimeout(()=>{Xe()&&Os()&&(a('üí° Dica: Adicione este app √† sua tela inicial para uma experi√™ncia melhor! Clique em "Tutorial" para ver o guia completo.'),n("info"),r(!0))},3e3);return()=>clearTimeout(h)}},[]);const l=()=>{r(!1)};return De()?e.jsxs(e.Fragment,{children:[e.jsx(Ms,{onShowVisualGuide:()=>u(!0)}),t&&e.jsx(Ps,{message:s,type:o,duration:8e3,onClose:l}),e.jsx(Rs,{isOpen:i,onClose:()=>u(!1)})]}):null}function B(...t){return hs(xs(t))}const ge=s=>{var a=s,{shouldScaleBackground:t=!0}=a,r=C(a,["shouldScaleBackground"]);return e.jsx(J.Root,w({shouldScaleBackground:t},r))};ge.displayName="Drawer";const Us=J.Portal,Ut=c.forwardRef((a,s)=>{var o=a,{className:t}=o,r=C(o,["className"]);return e.jsx(J.Overlay,w({ref:s,className:B("fixed inset-0 z-[200] bg-black/60 backdrop-blur-sm",t)},r))});Ut.displayName=J.Overlay.displayName;const pe=c.forwardRef((o,a)=>{var n=o,{className:t,children:r}=n,s=C(n,["className","children"]);const i=c.useId(),u=s["aria-describedby"];return e.jsxs(Us,{children:[e.jsx(Ut,{}),e.jsxs(J.Content,R(w({ref:a,className:B("fixed inset-x-0 bottom-0 z-[200] mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",t)},s),{"aria-describedby":u!=null?u:i,children:[u===void 0?e.jsx(J.Description,{id:i,className:"sr-only",children:"Drawer content"}):null,e.jsx("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),r]}))]})});pe.displayName="DrawerContent";const fe=s=>{var a=s,{className:t}=a,r=C(a,["className"]);return e.jsx("div",w({className:B("grid gap-1.5 p-4 text-center sm:text-left",t)},r))};fe.displayName="DrawerHeader";const be=c.forwardRef((a,s)=>{var o=a,{className:t}=o,r=C(o,["className"]);return e.jsx(J.Title,w({ref:s,className:B("text-lg font-semibold leading-none tracking-tight",t)},r))});be.displayName=J.Title.displayName;const et=c.forwardRef((a,s)=>{var o=a,{className:t}=o,r=C(o,["className"]);return e.jsx(J.Description,w({ref:s,className:B("text-sm text-muted-foreground",t)},r))});et.displayName=J.Description.displayName;function zs({open:t,onOpenChange:r}){const s=[{name:"Pesquisar",url:$("Search"),icon:kt,description:"Encontre uma m√∫sica"},{name:"Blog Musical",url:$("Blog"),icon:se,description:"Artigos e not√≠cias sobre m√∫sica"},{name:"A Roda de Segunda",url:$("Roda"),icon:Et,description:"Gire a roda e descubra uma m√∫sica!"},{name:"Sobre / Nossa Miss√£o",url:$("Sobre"),icon:Je,description:"Descubra nossa hist√≥ria"},{name:"Contato",url:"mailto:contact@amusicadasegunda.com",icon:gs,description:"Envie-nos uma mensagem",isExternal:!0}];return e.jsx(ge,{open:t,onOpenChange:r,shouldScaleBackground:!1,children:e.jsxs(pe,{className:"bg-black/95 backdrop-blur-xl border-t border-white/20 max-h-[85vh]",children:[e.jsx("div",{className:"mx-auto mt-4 h-1.5 w-16 rounded-full bg-white/30"}),e.jsxs(fe,{className:"px-6 pt-4 pb-2",children:[e.jsx(be,{className:"text-xl font-bold text-white flex items-center gap-3",children:e.jsx("span",{children:"Menu"})}),e.jsx(et,{className:"sr-only",children:"Menu principal de navigation mobile."})]}),e.jsx("div",{className:"px-6 pb-6 flex-1 overflow-y-auto",children:e.jsx("div",{className:"space-y-2",children:s.map(a=>{const o=a.icon;return a.isExternal?e.jsxs("a",{href:a.url,className:"flex items-center gap-4 p-4 rounded-2xl bg-white/5 hover:bg-white/10 border border-white/10 transition-all duration-300 active:scale-95 touch-manipulation group",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-white/10 group-hover:bg-white/20 flex items-center justify-center transition-colors",children:e.jsx(o,{className:"w-6 h-6 text-white drop-shadow-sm"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-white font-semibold text-base mb-1 drop-shadow-sm",children:a.name}),e.jsx("p",{className:"text-white/70 text-sm drop-shadow-sm",children:a.description})]})]},a.name):e.jsxs(he,{to:a.url,onClick:()=>r(!1),className:"flex items-center gap-4 p-4 rounded-2xl bg-white/5 hover:bg-white/10 border border-white/10 transition-all duration-200 active:scale-95 touch-manipulation group",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-white/10 group-hover:bg-white/20 flex items-center justify-center transition-colors",children:e.jsx(o,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-white font-semibold text-base mb-1",children:a.name}),e.jsx("p",{className:"text-white/60 text-sm",children:a.description})]})]},a.name)})})})]})})}function Bs(){const t=Qe(),[r,s]=c.useState(!1),a=[{name:"Home",url:$("Home"),icon:ae,isLink:!0},{name:"Playlist",url:$("Playlist"),icon:Tt,isLink:!0},{name:"Agenda",url:$("Calendar"),icon:Re,isLink:!0},{name:"Menu",url:"#",icon:ps,isLink:!1,onClick:()=>s(!0)}],o=i=>i.name==="Home"&&t.pathname==="/"?!0:i.name==="Menu"?!1:t.pathname===i.url,n=i=>{i.preventDefault(),s(!0)};return e.jsxs(e.Fragment,{children:[e.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-[100] bg-black/90 backdrop-blur-md border-t border-white/20 shadow-2xl","aria-label":"Navigation principale",children:e.jsx("div",{className:"flex items-center justify-around px-2 py-3 safe-area-inset-bottom",children:a.map(i=>{const u=o(i);return i.isLink?e.jsxs(he,{to:i.url,"aria-current":u?"page":void 0,className:`
                    flex flex-col items-center justify-center
                    min-w-[64px] min-h-[64px] px-4 py-3
                    rounded-2xl transition-all duration-300
                    touch-manipulation
                    ${u?"bg-cyan-500/30 text-white scale-105":"text-white/60 hover:text-white hover:bg-white/10 active:scale-95"}
                  `,children:[e.jsx(i.icon,{className:`w-6 h-6 mb-1 flex-shrink-0 transition-colors ${u?"text-white scale-110":"text-white/60"}`,"aria-hidden":"true"}),e.jsx("span",{className:`text-[10px] font-medium text-center leading-tight ${u?"text-white font-semibold":"text-white/60"}`,children:i.name})]},i.name):e.jsxs("button",{onClick:n,className:`
                    flex flex-col items-center justify-center
                    min-w-[64px] min-h-[64px] px-4 py-3
                    rounded-2xl transition-all duration-300
                    touch-manipulation
                    text-white/60 hover:text-white hover:bg-white/10 active:scale-95
                  `,"aria-label":"Ouvrir le menu",children:[e.jsx(i.icon,{className:"w-6 h-6 mb-1 flex-shrink-0 text-white/60 transition-colors","aria-hidden":"true"}),e.jsx("span",{className:"text-[10px] font-medium text-center leading-tight text-white/60",children:i.name})]},i.name)})})}),e.jsx(zs,{open:r,onOpenChange:s})]})}function zt({title:t,description:r,keywords:s,image:a,url:o,type:n="website",robots:i="index, follow",enabled:u=!0}){const l="A M√∫sica da Segunda",h="https://www.amusicadasegunda.com",d=`${h}/icons/icon-512x512.png`,g=t?t.includes("|")?t:`${t} | ${l}`:l,N=r||"Descubra uma nova m√∫sica incr√≠vel toda segunda-feira. Sua dose semanal de descobertas musicais.",p=s||"m√∫sica, segunda-feira, descobertas musicais, nova m√∫sica, playlist semanal, m√∫sica brasileira, indie music",y=a||d,S=o?`${h}${o}`:h;c.useEffect(()=>{if(!(typeof document=="undefined"||!u))try{document.title=g;const x=(M,I,P)=>{let v=document.querySelector(`meta[${M}="${I}"]`);v||(v=document.createElement("meta"),v.setAttribute(M,I),document.head.appendChild(v)),v.setAttribute("content",P)},f=M=>{let I=document.querySelector('link[rel="canonical"]');I||(I=document.createElement("link"),I.setAttribute("rel","canonical"),document.head.appendChild(I)),I.setAttribute("href",M)};x("name","description",N),x("name","keywords",p),x("name","robots",i),x("property","og:title",g),x("property","og:description",N),x("property","og:url",S),x("property","og:image",y),x("property","og:type",n),x("property","og:site_name",l),x("property","og:locale","pt_BR"),x("name","twitter:card","summary_large_image"),x("name","twitter:site","@amusicadasegunda"),x("name","twitter:title",g),x("name","twitter:description",N),x("name","twitter:image",y),f(S);const _={"@context":"https://schema.org","@type":n==="article"?"Article":"WebPage",headline:g,description:N,image:y,url:S,publisher:{"@type":"Organization",name:l,url:h,logo:{"@type":"ImageObject",url:d,width:512,height:512},sameAs:["https://www.tiktok.com/@amusicadasegunda","https://open.spotify.com/user/amusicadasegunda"]},mainEntityOfPage:{"@type":"WebPage","@id":S}};n==="article"&&(_.author={"@type":"Person",name:"Piment√£o rouge",url:h});const k="dynamic-page-jsonld";let E=document.getElementById(k);E||(E=document.createElement("script"),E.type="application/ld+json",E.id=k,document.head.appendChild(E)),E.textContent=JSON.stringify(_)}catch(x){console.error("Erro ao atualizar SEO:",x)}},[g,N,p,y,S,n,i,d])}const Vs="https://efnzmpzkzeuktqkghwfa.supabase.co",$s="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVmbnptcHpremV1a3Rxa2dod2ZhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTYyMzE4MzcsImV4cCI6MjA3MTgwNzgzN30.iQiDuurPIkSNjHWP6TID0dATrOCJQ71-kblcsRsHiAk",D=Ds(Vs,$s,{db:{schema:"public"},auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storage:typeof window!="undefined"?window.localStorage:void 0,storageKey:"supabase.auth.token"},global:{headers:{"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"}}}),L={SONGS:"songs",ALBUMS:"albums",SETTINGS:"settings"},W=(t,r="Supabase operation")=>{throw console.error(`‚ùå ${r}:`,t),new Error(`${r}: ${t.message}`)},qs=()=>b(null,null,function*(){try{const{data:t,error:r}=yield D.from(L.SONGS).select("count").limit(1);if(r){if(r.code==="PGRST116")return console.log("‚úÖ Connexion Supabase r√©ussie (table songs non cr√©√©e)"),!0;throw r}return console.log("‚úÖ Connexion Supabase r√©ussie"),!0}catch(t){return console.error("‚ùå Erreur de connexion Supabase:",t),!1}}),Ys=t=>{if(!t||typeof t!="string")return{column:"release_date",ascending:!1};let r=!0,s=t.trim();return s.startsWith("-")?(r=!1,s=s.slice(1)):s.startsWith("+")&&(r=!0,s=s.slice(1)),s||(s="release_date"),{column:s,ascending:r}},G={list(t="release_date",r=null){return b(this,null,function*(){try{const{column:s,ascending:a}=Ys(t);let o=D.from(L.SONGS).select("*").order(s,{ascending:a});r&&(o=o.limit(r));const{data:n,error:i}=yield o;if(i)throw i;return n||[]}catch(s){return W(s,"Liste des chansons"),[]}})},get(t){return b(this,null,function*(){try{const{data:r,error:s}=yield D.from(L.SONGS).select("*").eq("id",t).single();if(s)throw s;return r}catch(r){return W(r,`R√©cup√©ration chanson ID ${t}`),null}})},getBySlug(t){return b(this,null,function*(){try{const{data:r,error:s}=yield D.from(L.SONGS).select("*").eq("status","published");if(s)throw s;return(r==null?void 0:r.find(o=>{var i;return((i=o.title)==null?void 0:i.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim())===t}))||null}catch(r){return W(r,`R√©cup√©ration chanson slug ${t}`),null}})},getCurrent(){return b(this,null,function*(){try{console.warn("üîç getCurrent() - D√©but de la fonction"),console.warn("üîç Timestamp:",new Date().toISOString());const{data:t,error:r}=yield D.from(L.SONGS).select("*").eq("status","published").order("created_at",{ascending:!1}).limit(1).single();if(r){if(r.code==="PGRST116")return console.warn(`‚ö†Ô∏è Aucune chanson "published" trouv√©e, ce n'est pas une erreur.`),null;throw console.error("‚ùå Erreur Supabase getCurrent:",r),r}if(console.warn("üìä Chanson actuelle trouv√©e:",t||null),!t)return console.warn("‚ö†Ô∏è Aucune chanson published trouv√©e"),null;const s=t;return console.warn("üéØ Chanson s√©lectionn√©e:",s),console.warn("üîç DEBUG getCurrent - Tri appliqu√©:"),console.warn("  - Titre:",s==null?void 0:s.title),console.warn("  - created_at:",s==null?void 0:s.created_at),console.warn("  - updated_at:",s==null?void 0:s.updated_at),console.warn("  - release_date:",s==null?void 0:s.release_date),console.warn("  - Status:",s==null?void 0:s.status),s}catch(t){return console.error("‚ùå Erreur dans getCurrent:",t),W(t,"Chanson actuelle"),null}})},extractYouTubeId(t){if(!t||typeof t!="string")return null;const r=t.trim();if(!r)return null;const s=[/[?&]v=([A-Za-z0-9_-]{11})/,/youtu\.be\/([A-Za-z0-9_-]{11})/,/youtube\.com\/embed\/([A-Za-z0-9_-]{11})/,/youtube\.com\/v\/([A-Za-z0-9_-]{11})/,/youtube\.com\/shorts\/([A-Za-z0-9_-]{11})/,/^([A-Za-z0-9_-]{11})$/];for(const a of s){const o=r.match(a);if(o&&o[1])return o[1]}return null},normalizeYouTubeUrl(t){if(!t||typeof t!="string")return null;const r=t.trim();if(!r)return null;const s=r.match(/youtube\.com\/shorts\/([A-Za-z0-9_-]{11})/);if(s)return`https://youtube.com/shorts/${s[1]}`;const a=r.match(/(music\.youtube\.com\/playlist\?list=[A-Za-z0-9_-]+)/);if(a)return`https://${a[1]}`;const o=r.match(/music\.youtube\.com\/watch\?v=([A-Za-z0-9_-]{11})/);if(o)return`https://music.youtube.com/watch?v=${o[1]}`;const n=r.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/)([A-Za-z0-9_-]{11})/);if(n)return`https://youtube.com/watch?v=${n[1]}`;try{const i=new URL(r),u=new URLSearchParams;return i.searchParams.has("v")&&u.set("v",i.searchParams.get("v")),i.searchParams.has("list")&&u.set("list",i.searchParams.get("list")),`${i.origin}${i.pathname}${u.toString()?"?"+u.toString():""}`}catch(i){return r}},getByYouTubeUrl(t){return b(this,null,function*(){try{if(!t||!t.trim())return null;const r=t.trim(),s=this.normalizeYouTubeUrl(r),a=this.extractYouTubeId(r);console.warn("üîç Recherche YouTube URL:",{originalUrl:r,normalizedUrl:s,videoId:a});let{data:o,error:n}=yield D.from(L.SONGS).select("*").eq("youtube_url",r).maybeSingle();if(n&&n.code!=="PGRST116"&&console.error("‚ùå Erreur recherche par youtube_url (original):",n),!o&&s&&s!==r){const{data:i,error:u}=yield D.from(L.SONGS).select("*").eq("youtube_url",s).maybeSingle();u&&u.code!=="PGRST116"?console.error("‚ùå Erreur recherche par youtube_url (normalis√©e):",u):i&&(o=i)}if(!o&&a){const{data:i,error:u}=yield D.from(L.SONGS).select("*").not("youtube_url","is",null);if(!u&&i&&i.length>0){const l=i.find(h=>h.youtube_url?this.extractYouTubeId(h.youtube_url)===a:!1);l&&(console.warn("‚úÖ Chanson trouv√©e par ID vid√©o:",l.title),o=l)}}if(!o){const{data:i,error:u}=yield D.from(L.SONGS).select("*").ilike("youtube_url",`%${a||r.split("/").pop()}%`);if(!u&&i&&i.length>0){const l=i.find(h=>h.youtube_url?this.extractYouTubeId(h.youtube_url)===a:!1);l&&(console.warn("‚úÖ Chanson trouv√©e par recherche partielle:",l.title),o=l)}}return o||null}catch(r){return console.error("‚ùå Exception recherche par youtube_url:",r),null}})},getByTikTokId(t){return b(this,null,function*(){try{if(!t||!t.trim())return null;const{data:r,error:s}=yield D.from(L.SONGS).select("*").eq("tiktok_video_id",t.trim()).maybeSingle();return s?(console.error("‚ùå Erreur recherche par tiktok_video_id:",s),null):r}catch(r){return console.error("‚ùå Exception recherche par tiktok_video_id:",r),null}})},create(t){return b(this,null,function*(){var r,s,a,o,n,i,u,l,h,d,g,N,p,y,S,x;try{let f=null;const{data:{session:_}}=yield D.auth.getSession();if(!_){const v=new Error("‚ùå Vous devez √™tre connect√© pour cr√©er une chanson");throw v.code="NOT_AUTHENTICATED",v}const{data:k,error:E}=yield D.from("admins").select("user_id").eq("user_id",_.user.id).maybeSingle();if(E){console.error("‚ùå Erreur v√©rification admin avant insertion:",E);const v=new Error("‚ùå Erreur lors de la v√©rification des droits admin");throw v.code="ADMIN_CHECK_FAILED",v.originalError=E,v}if(!k){const v=new Error("‚ùå Vous n'avez pas les droits administrateur pour cr√©er une chanson");throw v.code="NOT_ADMIN",v}if(console.warn("‚úÖ V√©rification admin OK, v√©rification des doublons..."),t.youtube_url&&t.youtube_url.trim()){f=this.normalizeYouTubeUrl(t.youtube_url.trim());let v=yield this.getByYouTubeUrl(t.youtube_url.trim());if(!v&&f&&f!==t.youtube_url.trim()){const{data:T,error:Y}=yield D.from(L.SONGS).select("*").eq("youtube_url",f).maybeSingle();Y&&Y.code!=="PGRST116"?console.warn("‚ö†Ô∏è Erreur lors de la recherche de doublon (normalis√©e):",Y):T&&(v=T)}if(!v){const T=this.extractYouTubeId(t.youtube_url.trim());if(T){const{data:Y,error:H}=yield D.from(L.SONGS).select("*").not("youtube_url","is",null);H?console.warn("‚ö†Ô∏è Erreur lors de la recherche de toutes les chansons:",H):Y&&(v=Y.find(A=>A.youtube_url?this.extractYouTubeId(A.youtube_url)===T:!1))}}if(v){const T=new Error(`Une chanson avec cette URL YouTube existe d√©j√† : "${v.title}" (ID: ${v.id})`);throw T.code="DUPLICATE_YOUTUBE_URL",T.existingSong=v,T}}if(t.tiktok_video_id&&t.tiktok_video_id.trim()){const v=yield this.getByTikTokId(t.tiktok_video_id.trim());if(v){const T=new Error(`Une chanson avec cet ID TikTok existe d√©j√† : "${v.title}" (ID: ${v.id})`);throw T.code="DUPLICATE_TIKTOK_ID",T.existingSong=v,T}}const M={title:(r=t.title)==null?void 0:r.trim(),artist:((s=t.artist)==null?void 0:s.trim())||"A M√∫sica da Segunda",description:(a=t.description)==null?void 0:a.trim(),lyrics:(o=t.lyrics)==null?void 0:o.trim(),release_date:t.release_date,status:t.status||"draft",tiktok_video_id:(n=t.tiktok_video_id)==null?void 0:n.trim(),tiktok_url:(i=t.tiktok_url)==null?void 0:i.trim(),tiktok_publication_date:t.tiktok_publication_date,spotify_url:(u=t.spotify_url)==null?void 0:u.trim(),apple_music_url:(l=t.apple_music_url)==null?void 0:l.trim(),youtube_url:(h=t.youtube_url)==null?void 0:h.trim(),cover_image:(d=t.cover_image)==null?void 0:d.trim(),hashtags:Array.isArray(t.hashtags)?t.hashtags:[]};console.warn("‚úÖ V√©rification des doublons OK, insertion de la chanson...");const{data:I,error:P}=yield D.from(L.SONGS).insert([M]).select().single();if(P){if(P.code==="42501"||(g=P.message)!=null&&g.includes("permission denied")||(N=P.message)!=null&&N.includes("new row violates row-level security")||(p=P.message)!=null&&p.includes("row-level security")){console.error("‚ùå ERREUR PERMISSION RLS:",P),console.error("‚ùå Code:",P.code),console.error("‚ùå Message:",P.message),console.error("‚ùå D√©tails:",P.details),console.error("‚ùå Hint:",P.hint),console.error("‚ùå User ID:",_.user.id),console.error("‚ùå Admin check result:",k);const v=new Error(`‚ùå Erreur de permission RLS : La policy RLS bloque l'insertion. V√©rifiez que la policy "Allow admins full access" ou "songs_admin_full_access" a bien une clause WITH CHECK qui v√©rifie la table admins. Ex√©cutez le script supabase/scripts/fix_songs_rls_complete.sql dans Supabase SQL Editor.`);throw v.code="PERMISSION_DENIED",v.originalError=P,v}if(P.code==="23505"||(y=P.message)!=null&&y.includes("duplicate key")){console.warn("‚ö†Ô∏è Erreur duplicate key d√©tect√©e, recherche de la chanson existante...");const v=((x=(S=P.message)==null?void 0:S.match(/Key \(([^)]+)\)/))==null?void 0:x[1])||"unknown";console.warn("‚ö†Ô∏è Champ en conflit:",v);let T=null,Y="DUPLICATE_KEY";if((v.includes("youtube")||M.youtube_url)&&(T=yield this.getByYouTubeUrl(M.youtube_url||""),T&&(Y="DUPLICATE_YOUTUBE_URL")),!T&&(v.includes("tiktok")||M.tiktok_video_id)&&(T=yield this.getByTikTokId(M.tiktok_video_id||""),T&&(Y="DUPLICATE_TIKTOK_ID")),T){const A=Y==="DUPLICATE_YOUTUBE_URL"?"URL YouTube":"ID TikTok",ee=new Error(`Une chanson avec cette ${A} existe d√©j√† : "${T.title}" (ID: ${T.id})`);throw ee.code=Y,ee.existingSong=T,ee}const H=new Error("Une contrainte d'unicit√© emp√™che la cr√©ation de cette chanson. V√©rifiez que l'URL YouTube ou l'ID TikTok n'existe pas d√©j√†.");throw H.code="DUPLICATE_KEY",H.originalError=P,H.conflictField=v,H}throw P}return console.warn("‚úÖ Chanson cr√©√©e avec succ√®s:",I),I}catch(f){throw f.code!=="DUPLICATE_TIKTOK_ID"&&f.code!=="DUPLICATE_YOUTUBE_URL"&&W(f,"Cr√©ation chanson"),f}})},update(t,r){return b(this,null,function*(){var s,a,o,n,i,u,l,h,d,g,N;try{console.warn("üîÑ supabaseSongService.update - d√©but"),console.warn("üîÑ ID re√ßu:",t,"Type:",typeof t),console.warn("üîÑ Updates re√ßus:",JSON.stringify(r,null,2));const p={};Object.keys(r).forEach(f=>{var _;f==="id"||f==="created_at"||f==="updated_at"||r[f]!==void 0&&(f==="hashtags"?p[f]=Array.isArray(r[f])?r[f]:[]:f==="tiktok_video_id"||f==="tiktok_url"?p[f]=((_=r[f])==null?void 0:_.trim())||null:p[f]=r[f])}),console.warn("üîÑ Updates nettoy√©s:",JSON.stringify(p,null,2));const y=yield this.get(t);if(!y)throw new Error(`Chanson avec l'ID ${t} introuvable`);if(p.tiktok_video_id!==void 0){const f=((s=p.tiktok_video_id)==null?void 0:s.trim())||null,_=((a=y.tiktok_video_id)==null?void 0:a.trim())||null;if(f&&f!==_){const k=yield this.getByTikTokId(f),E=k?Number(k.id):null,M=Number(t);if(k&&E!==M){const I=new Error(`Une chanson avec cet ID TikTok existe d√©j√† : "${k.title}" (ID: ${k.id})`);throw I.code="DUPLICATE_TIKTOK_ID",I.existingSong=k,I}}}if(p.youtube_url!==void 0){const f=((o=p.youtube_url)==null?void 0:o.trim())||null,_=((n=y.youtube_url)==null?void 0:n.trim())||null;if(f&&f!==_){const k=yield this.getByYouTubeUrl(f),E=k?Number(k.id):null,M=Number(t);if(k&&E!==M){const I=new Error(`Une chanson avec cette URL YouTube existe d√©j√† : "${k.title}" (ID: ${k.id})`);throw I.code="DUPLICATE_YOUTUBE_URL",I.existingSong=k,I}}}const{data:S,error:x}=yield D.from(L.SONGS).update(p).eq("id",t).select().single();if(console.warn("[Supabase][UPDATE] id=",t,"payload=",p),console.warn("üîÑ R√©ponse Supabase:",JSON.stringify({data:S,error:x},null,2)),x){if(console.error("[Supabase][UPDATE][ERROR]",x),console.error("‚ùå Erreur Supabase:",x.message,`
Code:`,x.code,`
Details:`,x.details,`
Hint:`,x.hint,`
Stack:`,x.stack),x.code==="42501"||(i=x.message)!=null&&i.includes("permission denied")||(u=x.message)!=null&&u.includes("row-level security")){const f=new Error("‚ùå Erreur de permission : Vous n'avez pas les droits de mise √† jour sur la table songs. V√©rifiez que vous √™tes bien connect√© en tant qu'admin et que les RLS policies sont correctement configur√©es.");throw f.code="PERMISSION_DENIED",f.originalError=x,f}if(x.code==="23505"||(l=x.message)!=null&&l.includes("duplicate key")){console.warn("‚ö†Ô∏è Erreur duplicate key d√©tect√©e lors de la mise √† jour");const f=((d=(h=x.message)==null?void 0:h.match(/Key \(([^)]+)\)/))==null?void 0:d[1])||"unknown";console.warn("‚ö†Ô∏è Champ en conflit:",f);let _=null,k="DUPLICATE_KEY";if((f.includes("tiktok")||p.tiktok_video_id)&&(_=yield this.getByTikTokId(p.tiktok_video_id||""),_&&_.id!==t&&(k="DUPLICATE_TIKTOK_ID")),!_&&(f.includes("youtube")||p.youtube_url)&&(_=yield this.getByYouTubeUrl(p.youtube_url||""),_&&_.id!==t&&(k="DUPLICATE_YOUTUBE_URL")),_){const M=k==="DUPLICATE_YOUTUBE_URL"?"URL YouTube":"ID TikTok",I=new Error(`Une chanson avec cette ${M} existe d√©j√† : "${_.title}" (ID: ${_.id})`);throw I.code=k,I.existingSong=_,I}const E=new Error("Une contrainte d'unicit√© emp√™che la mise √† jour de cette chanson. V√©rifiez que l'URL YouTube ou l'ID TikTok n'existe pas d√©j√† dans une autre chanson.");throw E.code="DUPLICATE_KEY",E.originalError=x,E.conflictField=f,E}throw new Error(x.message||"Update failed")}return console.warn("‚úÖ Chanson mise √† jour avec succ√®s:",S),S}catch(p){if(console.error("‚ùå Erreur dans supabaseSongService.update:",p),console.error("‚ùå D√©tails de l'erreur:",{message:p.message,code:p.code,details:p.details,hint:p.hint}),p.code==="42501"||(g=p.message)!=null&&g.includes("permission denied")||(N=p.message)!=null&&N.includes("row-level security")){const y=new Error("‚ùå Erreur de permission : Vous n'avez pas les droits de mise √† jour sur la table songs. V√©rifiez que vous √™tes bien connect√© en tant qu'admin et que les RLS policies sont correctement configur√©es.");throw y.code="PERMISSION_DENIED",y.originalError=p,y}throw p}})},delete(t){return b(this,null,function*(){try{const{error:r}=yield D.from(L.SONGS).delete().eq("id",t);if(r)throw r;return console.warn("‚úÖ Chanson supprim√©e avec succ√®s ID:",t),!0}catch(r){throw W(r,`Suppression chanson ID ${t}`),r}})},search(t){return b(this,null,function*(){try{if(!t||t.trim()==="")return yield this.list();const r=t.trim().toLowerCase(),{data:s,error:a}=yield D.from(L.SONGS).select("*").or(`title.ilike.%${r}%,artist.ilike.%${r}%,description.ilike.%${r}%`).order("release_date",{ascending:!1});if(a)throw a;return s||[]}catch(r){return W(r,"Recherche chansons"),[]}})},getByStatus(t){return b(this,null,function*(){try{const{data:r,error:s}=yield D.from(L.SONGS).select("*").eq("status",t).order("release_date",{ascending:!1});if(s)throw s;return r||[]}catch(r){return W(r,`Chansons par statut: ${t}`),[]}})},getByMonth(t,r){return b(this,null,function*(){try{const s=`${t}-${r.toString().padStart(2,"0")}-01`,a=`${t}-${r.toString().padStart(2,"0")}-31`,{data:o,error:n}=yield D.from(L.SONGS).select("*").gte("release_date",s).lte("release_date",a).order("release_date",{ascending:!1});if(n)throw n;return o||[]}catch(s){return W(s,`Chansons par mois ${r}/${t}`),[]}})}},U=(...t)=>{};let Be="supabase",Q=!0;const Gs=()=>b(null,null,function*(){try{return U("üîÑ Test de connexion Supabase..."),(yield qs())?(U("‚úÖ Mode de stockage: Supabase ‚òÅÔ∏è (connect√©)"),Q=!0,Be="supabase",!0):(U("‚ö†Ô∏è Connexion Supabase √©chou√©e, mais on force quand m√™me Supabase"),Q=!0,Be="supabase",!0)}catch(t){return Q=!0,Be="supabase",!0}});Gs().then(()=>{});const ft={list:(t="-release_date",r=null)=>b(null,null,function*(){try{U("‚òÅÔ∏è Chargement depuis Supabase...");const s=yield G.list(t,r);return s&&s.length>0?(U("‚úÖ Chansons charg√©es depuis Supabase:",s.length),s):(U("‚ö†Ô∏è Aucune chanson trouv√©e dans Supabase"),[])}catch(s){return console.error("Erro ao carregar m√∫sicas desde Supabase:",s),[]}}),get:t=>b(null,null,function*(){try{if(Q)return yield G.get(t)}catch(r){return console.error("Erro ao carregar m√∫sica:",r),null}}),getCurrent:()=>b(null,null,function*(){try{if(Q){const t=yield G.getCurrent();if(t)return t}return U("‚ö†Ô∏è Supabase indisponible ou sans donn√©es"),null}catch(t){return console.error("Erro ao carregar m√∫sica atual:",t),null}}),getByYouTubeUrl:t=>b(null,null,function*(){try{return yield G.getByYouTubeUrl(t)}catch(r){return console.error("‚ùå Erreur recherche par youtube_url:",r),null}}),getByTikTokId:t=>b(null,null,function*(){try{return yield G.getByTikTokId(t)}catch(r){return console.error("‚ùå Erreur recherche par tiktok_video_id:",r),null}}),create:t=>b(null,null,function*(){try{U("‚òÅÔ∏è Cr√©ation via Supabase...");const r=yield G.create(t);return U("‚úÖ Cr√©ation Supabase r√©ussie:",r),r}catch(r){throw console.error("‚ùå ERREUR CR√âATION SUPABASE:",r),console.error("‚ùå Message:",r.message),console.error("‚ùå Code:",r.code),console.error("‚ùå Details:",r.details),console.error("‚ùå Hint:",r.hint),r.existingSong&&console.error("‚ùå Chanson existante:",r.existingSong),r}}),update:(t,r)=>b(null,null,function*(){try{U("‚òÅÔ∏è Mise √† jour via Supabase..."),U("üìã Donn√©es √† mettre √† jour:",{id:t,updates:r}),U("üîç Type de l'ID:",typeof t),U("üîç Valeur de l'ID:",t),U("üîÑ Appel de supabaseSongService.update...");const s=yield G.update(t,r);return U("‚úÖ R√©sultat de la mise √† jour Supabase:",s),U("‚úÖ Mise √† jour Supabase r√©ussie - pas de synchronisation localStorage n√©cessaire"),s}catch(s){throw console.error("‚ùå ERREUR SUPABASE D√âTAILL√âE:",s),console.error("‚ùå Message d'erreur:",s.message),console.error("‚ùå Code d'erreur:",s.code),console.error("‚ùå D√©tails de l'erreur:",s.details),console.error("‚ùå Hint:",s.hint),console.error("‚ùå Stack trace:",s.stack),console.error("‚ùå Erreur compl√®te:",JSON.stringify(s,null,2)),console.error("‚ùå √âCHEC DE LA MISE √Ä JOUR SUPABASE - PAS DE FALLBACK"),s}}),delete:t=>b(null,null,function*(){try{U("‚òÅÔ∏è Suppression via Supabase...");const r=yield G.delete(t);return U("‚úÖ Suppression Supabase r√©ussie:",r),r}catch(r){throw console.error("‚ùå ERREUR SUPPRESSION SUPABASE:",r),console.error("‚ùå Message:",r.message),console.error("‚ùå Code:",r.code),r}}),search:t=>b(null,null,function*(){try{if(Q)return yield G.search(t)}catch(r){return console.error("Erro ao pesquisar m√∫sicas:",r),[]}}),getByStatus:t=>b(null,null,function*(){try{if(Q)return yield G.getByStatus(t)}catch(r){return console.error("Erro ao carregar m√∫sicas por status:",r),[]}}),getByMonth:(t,r)=>b(null,null,function*(){try{if(Q)return yield G.getByMonth(t,r)}catch(s){return console.error("Erro ao carregar m√∫sicas por m√™s:",s),[]}}),getBySlug:t=>b(null,null,function*(){try{if(Q)return(yield G.getBySlug(t))||null}catch(r){return console.error("Erro ao carregar m√∫sica por slug:",r),null}})},Hs=typeof import.meta!="undefined"&&!0,te={debug:(...t)=>{},info:(...t)=>{},warn:(...t)=>{Hs||console.warn(...t)},error:(...t)=>{console.error(...t)}};function Fs(){const[t,r]=c.useState(null);return c.useEffect(()=>{const s=()=>{const o=new Date,n=o.getDay(),i=n===0?1:(8-n)%7||7,u=new Date(o);u.setDate(o.getDate()+i),u.setHours(9,0,0,0);const l=u-o;return l>0?{d:Math.floor(l/864e5),h:Math.floor(l/36e5%24),m:Math.floor(l/1e3/60%60),s:Math.floor(l/1e3%60)}:null},a=setInterval(()=>{r(s())},1e3);return r(s()),()=>clearInterval(a)},[]),t?e.jsxs("div",{className:"bg-[#f8f5f2] rounded-3xl p-5 shadow-lg",children:[e.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[e.jsx(fs,{className:"w-5 h-5 text-gray-500"}),e.jsx("h3",{className:"font-semibold text-gray-700",children:"Pr√≥xima m√∫sica em..."})]}),e.jsx("div",{className:"grid grid-cols-4 gap-3 text-center",children:Object.entries(t).map(([s,a])=>e.jsxs("div",{className:"bg-[#e7f1f7] rounded-xl p-3",children:[e.jsx("p",{className:"text-2xl font-bold text-[#32a2dc]",children:a}),e.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase",children:s==="d"?"dias":s==="h"?"horas":s==="m"?"min":"seg"})]},s))})]}):e.jsxs("div",{className:"bg-[#f8f5f2] rounded-3xl p-5 shadow-lg text-center",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"√â Segunda-feira!"}),e.jsx("p",{className:"text-gray-600",children:"A nova m√∫sica j√° est√° dispon√≠vel!"})]})}const Ks=It("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),q=c.forwardRef((i,n)=>{var u=i,{className:t,variant:r,size:s,asChild:a=!1}=u,o=C(u,["className","variant","size","asChild"]);const l=a?bs:"button";return e.jsx(l,w({className:B(Ks({variant:r,size:s,className:t})),ref:n},o))});q.displayName="Button";const Ke=ys,Js=ws,Bt=c.forwardRef((a,s)=>{var o=a,{className:t}=o,r=C(o,["className"]);return e.jsx(At,w({ref:s,className:B("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t)},r))});Bt.displayName=At.displayName;const Oe=c.forwardRef((o,a)=>{var n=o,{className:t,children:r}=n,s=C(n,["className","children"]);const i=c.useId(),u=s["aria-describedby"];return e.jsxs(Js,{children:[e.jsx(Bt,{}),e.jsxs(Ct,R(w({ref:a,className:B("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t)},s),{"aria-describedby":u!=null?u:i,children:[u===void 0?e.jsx(Ze,{id:i,className:"sr-only",children:"Dialog content"}):null,r,e.jsxs(vs,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(ne,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]}))]})});Oe.displayName=Ct.displayName;const Me=s=>{var a=s,{className:t}=a,r=C(a,["className"]);return e.jsx("div",w({className:B("flex flex-col space-y-1.5 text-center sm:text-left",t)},r))};Me.displayName="DialogHeader";const Pe=c.forwardRef((a,s)=>{var o=a,{className:t}=o,r=C(o,["className"]);return e.jsx(Dt,w({ref:s,className:B("text-lg font-semibold leading-none tracking-tight",t)},r))});Pe.displayName=Dt.displayName;const Ws=c.forwardRef((a,s)=>{var o=a,{className:t}=o,r=C(o,["className"]);return e.jsx(Ze,w({ref:s,className:B("text-sm text-muted-foreground",t)},r))});Ws.displayName=Ze.displayName;const we=c.forwardRef((o,a)=>{var n=o,{className:t,children:r}=n,s=C(n,["className","children"]);return e.jsxs(Ot,R(w({ref:a,className:B("relative overflow-hidden",t)},s),{children:[e.jsx(js,{className:"h-full w-full rounded-[inherit]",children:r}),e.jsx(Vt,{}),e.jsx(Ns,{})]}))});we.displayName=Ot.displayName;const Vt=c.forwardRef((o,a)=>{var n=o,{className:t,orientation:r="vertical"}=n,s=C(n,["className","orientation"]);return e.jsx(Mt,R(w({ref:a,orientation:r,className:B("flex touch-none select-none transition-colors",r==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",r==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t)},s),{children:e.jsx(Ss,{className:"relative flex-1 rounded-full bg-border"})}))});Vt.displayName=Mt.displayName;function Zs({open:t,onOpenChange:r,song:s,title:a="Letras da M√∫sica",maxHeight:o="h-56",showIcon:n=!0}){return s?e.jsx(Ke,{open:t,onOpenChange:r,children:e.jsxs(Oe,{className:"bg-[#f8f5f2] max-w-md max-h-[70vh]",children:[e.jsx(Me,{children:e.jsxs(Pe,{className:"text-lg font-bold text-gray-800 flex items-center gap-2",children:[n&&e.jsx(se,{className:"w-5 h-5 text-blue-500"}),a]})}),e.jsx("div",{className:"mt-4",children:s.lyrics?e.jsx(we,{className:o,children:e.jsx("div",{className:"pr-4",children:e.jsx("pre",{className:"text-gray-700 whitespace-pre-wrap font-sans text-sm leading-relaxed",children:s.lyrics})})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(se,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-600 font-medium",children:"Letras n√£o dispon√≠veis"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"As letras desta m√∫sica ser√£o adicionadas em breve."})]})})]})}):null}function Qs({open:t,onOpenChange:r,lyrics:s,songTitle:a}){return e.jsx(ge,{open:t,onOpenChange:r,shouldScaleBackground:!1,children:e.jsxs(pe,{className:"bg-black/95 backdrop-blur-xl border-t border-white/20 max-h-[85vh]",children:[e.jsx("div",{className:"mx-auto mt-4 h-1.5 w-16 rounded-full bg-white/30"}),e.jsxs(fe,{className:"px-6 pt-4 pb-2",children:[e.jsxs(be,{className:"text-xl font-bold text-white flex items-center gap-3",children:[e.jsx(se,{className:"w-6 h-6 text-white"}),"Letras"]}),a&&e.jsx(et,{className:"text-white/80 text-sm mt-2 drop-shadow-sm",children:a})]}),e.jsx("div",{className:"px-6 pb-6 flex-1 overflow-hidden",children:s&&s.trim()?e.jsx(we,{className:"h-[calc(85vh-120px)]",children:e.jsx("div",{className:"pr-4",children:e.jsx("pre",{className:"text-white/95 whitespace-pre-wrap font-sans text-base leading-relaxed drop-shadow-sm",children:s})})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(se,{className:"w-16 h-16 text-white/40 mx-auto mb-4"}),e.jsx("p",{className:"text-white/90 font-medium text-lg mb-2 drop-shadow-sm",children:"Letras n√£o dispon√≠veis"}),e.jsx("p",{className:"text-white/70 text-sm drop-shadow-sm",children:"As letras desta m√∫sica ser√£o adicionadas em breve."})]})})]})})}function Xs({open:t,onOpenChange:r,song:s}){if(!s)return null;const a=[{name:"Spotify",url:s.spotify_url,icon:"üéß",color:"bg-[#1DB954] hover:bg-[#1ed760]",available:!!s.spotify_url},{name:"Apple Music",url:s.apple_music_url,icon:"üéµ",color:"bg-gradient-to-r from-[#FA233B] to-[#FB5C74] hover:opacity-90",available:!!s.apple_music_url},{name:"YouTube Music",url:s.youtube_music_url||s.youtube_url,icon:"üì∫",color:"bg-[#FF0000] hover:bg-[#cc0000]",available:!!(s.youtube_music_url||s.youtube_url)}].filter(o=>o.available);return e.jsx(ge,{open:t,onOpenChange:r,shouldScaleBackground:!1,children:e.jsxs(pe,{className:"bg-black/95 backdrop-blur-xl border-t border-white/20 max-h-[85vh]",children:[e.jsx("div",{className:"mx-auto mt-4 h-1.5 w-16 rounded-full bg-white/30"}),e.jsxs(fe,{className:"px-6 pt-4 pb-2",children:[e.jsxs(be,{className:"text-xl font-bold text-white flex items-center gap-3",children:[e.jsx(re,{className:"w-6 h-6 text-white"}),"Ouvir"]}),s.title&&e.jsx("p",{className:"text-white/80 text-sm mt-2 drop-shadow-sm",children:s.title})]}),e.jsx("div",{className:"px-6 pb-6 flex-1 overflow-y-auto",children:a.length>0?e.jsx("div",{className:"space-y-3",children:a.map(o=>e.jsx("a",{href:o.url,target:"_blank",rel:"noopener noreferrer",className:"block",children:e.jsxs(q,{size:"lg",className:`w-full ${o.color} text-white font-bold py-4 px-6 rounded-full shadow-xl transition-all duration-300 hover:scale-105 active:scale-95 flex items-center justify-center gap-3 touch-manipulation`,children:[e.jsx("span",{className:"text-2xl",children:o.icon}),e.jsxs("span",{children:["Abrir no ",o.name]}),e.jsx(_s,{className:"w-5 h-5"})]})},o.name))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(re,{className:"w-16 h-16 text-white/40 mx-auto mb-4"}),e.jsx("p",{className:"text-white/90 font-medium text-lg mb-2 drop-shadow-sm",children:"Nenhuma plataforma dispon√≠vel"}),e.jsx("p",{className:"text-white/70 text-sm drop-shadow-sm",children:"Os links de streaming ser√£o adicionados em breve."})]})})]})})}function er({open:t,onOpenChange:r,songs:s,onSelectSong:a}){const[o,n]=c.useState(new Date),i=c.useMemo(()=>{if(!s||s.length===0)return[];const g=_e(o),N=ke(o);return s.filter(p=>{const y=K(p.release_date);return Ee(y,{start:g,end:N})})},[s,o]),u=()=>{n(g=>Ne(g,-1))},l=()=>{n(g=>Ne(g,1))},h=c.useMemo(()=>{if(!s||s.length===0)return!1;const g=Ne(o,-1),N=_e(g),p=ke(g);return s.some(y=>{const S=K(y.release_date);return Ee(S,{start:N,end:p})})},[s,o]),d=c.useMemo(()=>{if(!s||s.length===0)return!1;const g=Ne(o,1),N=_e(g),p=ke(g);return s.some(y=>{const S=K(y.release_date);return Ee(S,{start:N,end:p})})},[s,o]);return e.jsx(ge,{open:t,onOpenChange:r,shouldScaleBackground:!1,children:e.jsxs(pe,{className:"bg-black/95 backdrop-blur-xl border-t border-white/20 max-h-[85vh]",children:[e.jsx("div",{className:"mx-auto mt-4 h-1.5 w-16 rounded-full bg-white/30"}),e.jsxs(fe,{className:"px-6 pt-4 pb-2",children:[e.jsxs(be,{className:"text-xl font-bold text-white flex items-center gap-3",children:[e.jsx(Fe,{className:"w-6 h-6 text-white"}),"Hist√≥rico"]}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsx(q,{variant:"ghost",size:"icon",onClick:u,disabled:!h,className:"h-8 w-8 text-white/70 hover:text-white hover:bg-white/10 disabled:opacity-30 disabled:cursor-not-allowed",children:e.jsx(me,{className:"w-4 h-4"})}),e.jsx("p",{className:"text-white/90 text-sm font-medium drop-shadow-sm",children:F(o,"MMMM yyyy",{locale:Z})}),e.jsx(q,{variant:"ghost",size:"icon",onClick:l,disabled:!d,className:"h-8 w-8 text-white/70 hover:text-white hover:bg-white/10 disabled:opacity-30 disabled:cursor-not-allowed",children:e.jsx(Ce,{className:"w-4 h-4"})})]})]}),e.jsx("div",{className:"px-6 pb-6 flex-1 overflow-hidden",children:i&&i.length>0?e.jsx(we,{className:"h-[calc(85vh-180px)]",children:e.jsx("div",{className:"space-y-2 pr-4",children:i.map(g=>e.jsxs("button",{onClick:()=>{a&&a(g),r(!1)},className:"w-full flex items-center gap-4 p-4 rounded-2xl bg-white/5 hover:bg-white/10 border border-white/10 transition-all duration-300 active:scale-95 touch-manipulation group text-left",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-white/10 group-hover:bg-white/20 flex items-center justify-center transition-colors flex-shrink-0",children:e.jsx(We,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-white font-semibold text-base mb-1 truncate drop-shadow-sm",children:g.title}),e.jsx("p",{className:"text-white/70 text-sm truncate drop-shadow-sm",children:g.artist||"A M√∫sica da Segunda"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(Re,{className:"w-3 h-3 text-white/60"}),e.jsx("p",{className:"text-white/60 text-xs drop-shadow-sm",children:F(K(g.release_date),"dd/MM/yyyy",{locale:Z})})]})]})]},g.id))})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Fe,{className:"w-16 h-16 text-white/40 mx-auto mb-4"}),e.jsx("p",{className:"text-white/90 font-medium text-lg mb-2 drop-shadow-sm",children:"Nenhuma m√∫sica dispon√≠vel"}),e.jsxs("p",{className:"text-white/70 text-sm drop-shadow-sm",children:["Nenhuma m√∫sica foi publicada em ",F(o,"MMMM yyyy",{locale:Z}),"."]})]})})]})})}const V={SONGS:"musica-da-segunda-songs",ALBUMS:"musica-da-segunda-albums",SETTINGS:"musica-da-segunda-settings"},Ve=[{id:1,slug:"croissant",title:"O Croissant",artist:"A M√∫sica da Segunda",description:'A m√∫sica "O Croissant" brinca com o cho',release_date:"2025-02-03",status:"published",genre:"Indie",tiktok_video_id:"sample_tiktok_1"},{id:2,slug:"confissoes-bancarias",title:"Confiss√µes Banc√°rias",artist:"A M√∫sica da Segunda",description:"Confiss√µes sobre a vida banc√°ria e financeira",release_date:"2025-08-25",status:"published",genre:"Indie",tiktok_video_id:"sample_tiktok_2"},{id:3,slug:"festas-juninas",title:"Festas Juninas",artist:"A M√∫sica da Segunda",description:"Celebrando as tradicionais festas juninas brasileiras",release_date:"2025-06-30",status:"published",genre:"M√∫sica Brasileira",tiktok_video_id:"sample_tiktok_3"},{id:4,slug:"cafe-no-brasil",title:"Caf√© no Brasil",artist:"A M√∫sica da Segunda",description:"Uma ode ao caf√© brasileiro e sua cultura",release_date:"2025-07-14",status:"published",genre:"M√∫sica Brasileira",tiktok_video_id:"sample_tiktok_4"}],$t={initialize(){try{const t=this.songs.getAll();t.length===0?(localStorage.setItem(V.SONGS,JSON.stringify(Ve)),console.warn("üîÑ localStorage initialis√© avec donn√©es de fallback:",Ve.length,"chansons")):console.warn("üîÑ localStorage d√©j√† initialis√© avec:",t.length,"chansons")}catch(t){console.error("‚ùå Erreur initialisation localStorage:",t),localStorage.setItem(V.SONGS,JSON.stringify(Ve))}},forceReset(){localStorage.setItem(V.SONGS,JSON.stringify([])),console.warn("üîÑ localStorage r√©initialis√© - donn√©es Supabase uniquement")},cleanConfissoesBancarias(){try{const t=this.songs.getAll(),r=t.filter(s=>s.title!=="Confiss√µes Banc√°rias"&&s.tiktok_video_id!=="7540762684149517590");if(r.length!==t.length){const s=r.map((a,o)=>R(w({},a),{id:o+1}));return localStorage.setItem(V.SONGS,JSON.stringify(s)),console.warn(`üßπ "Confiss√µes Banc√°rias" supprim√©e du localStorage. ${t.length-r.length} chanson(s) nettoy√©e(s)`),!0}return console.warn("‚úÖ localStorage d√©j√† propre, aucune action n√©cessaire"),!1}catch(t){return console.error("‚ùå Erreur lors du nettoyage:",t),!1}},songs:{getAll(){try{const t=localStorage.getItem(V.SONGS);return t?JSON.parse(t):[]}catch(t){return console.error("Erro ao carregar m√∫sicas:",t),[]}},getById(t){return this.getAll().find(s=>s.id===t)||null},getCurrent(){const r=this.getAll().filter(s=>s.status==="published");return r.length===0?null:(r.sort((s,a)=>new Date(a.release_date)-new Date(s.release_date)),r[0])},create(t){try{const r=this.getAll(),s=R(w({},t),{id:Date.now(),created_at:new Date().toISOString(),updated_at:new Date().toISOString()});return r.push(s),localStorage.setItem(V.SONGS,JSON.stringify(r)),s}catch(r){throw console.error("Erro ao criar m√∫sica:",r),r}},update(t,r){try{const s=this.getAll(),a=s.findIndex(o=>o.id===t);if(a===-1)throw new Error("M√∫sica n√£o encontrada");return s[a]=R(w(w({},s[a]),r),{updated_at:new Date().toISOString()}),localStorage.setItem(V.SONGS,JSON.stringify(s)),s[a]}catch(s){throw console.error("Erro ao atualizar m√∫sica:",s),s}},delete(t){try{const s=this.getAll().filter(a=>a.id!==t);return localStorage.setItem(V.SONGS,JSON.stringify(s)),!0}catch(r){throw console.error("Erro ao deletar m√∫sica:",r),r}},search(t){const r=this.getAll();if(!t)return r;const s=t.toLowerCase();return r.filter(a=>{var o;return a.title.toLowerCase().includes(s)||a.artist.toLowerCase().includes(s)||((o=a.description)==null?void 0:o.toLowerCase().includes(s))})}},albums:{getAll(){try{const t=localStorage.getItem(V.ALBUMS);return t?JSON.parse(t):[]}catch(t){return console.error("Erro ao carregar √°lbuns:",t),[]}},create(t){try{const r=this.getAll(),s=R(w({},t),{id:Date.now(),created_at:new Date().toISOString()});return r.push(s),localStorage.setItem(V.ALBUMS,JSON.stringify(r)),s}catch(r){throw console.error("Erro ao criar √°lbum:",r),r}}},clearAll(){localStorage.removeItem(V.SONGS),localStorage.removeItem(V.ALBUMS),localStorage.removeItem(V.SETTINGS)},exportData(){return{songs:this.songs.getAll(),albums:this.albums.getAll(),exportDate:new Date().toISOString()}},importData(t){try{return t.songs&&localStorage.setItem(V.SONGS,JSON.stringify(t.songs)),t.albums&&localStorage.setItem(V.ALBUMS,JSON.stringify(t.albums)),!0}catch(r){throw console.error("Erro ao importar dados:",r),r}}};$t.initialize();const tr=20,sr=1e6,X={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"};let $e=0;function rr(){return $e=($e+1)%Number.MAX_VALUE,$e.toString()}const qe=new Map,bt=t=>{if(qe.has(t))return;const r=setTimeout(()=>{qe.delete(t),xe({type:X.REMOVE_TOAST,toastId:t})},sr);qe.set(t,r)},ar=(t,r)=>{switch(r.type){case X.ADD_TOAST:return R(w({},t),{toasts:[r.toast,...t.toasts].slice(0,tr)});case X.UPDATE_TOAST:return R(w({},t),{toasts:t.toasts.map(s=>s.id===r.toast.id?w(w({},s),r.toast):s)});case X.DISMISS_TOAST:{const{toastId:s}=r;return s?bt(s):t.toasts.forEach(a=>{bt(a.id)}),R(w({},t),{toasts:t.toasts.map(a=>a.id===s||s===void 0?R(w({},a),{open:!1}):a)})}case X.REMOVE_TOAST:return r.toastId===void 0?R(w({},t),{toasts:[]}):R(w({},t),{toasts:t.toasts.filter(s=>s.id!==r.toastId)})}},Te=[];let Ie={toasts:[]};function xe(t){Ie=ar(Ie,t),Te.forEach(r=>{r(Ie)})}function or(r){var t=C(r,[]);const s=rr(),a=n=>xe({type:X.UPDATE_TOAST,toast:R(w({},n),{id:s})}),o=()=>xe({type:X.DISMISS_TOAST,toastId:s});return xe({type:X.ADD_TOAST,toast:R(w({},t),{id:s,open:!0,onOpenChange:n=>{n||o()}})}),{id:s,dismiss:o,update:a}}function qt(){const[t,r]=c.useState(Ie);return c.useEffect(()=>(Te.push(r),()=>{const s=Te.indexOf(r);s>-1&&Te.splice(s,1)}),[t]),R(w({},t),{toast:or,dismiss:s=>xe({type:X.DISMISS_TOAST,toastId:s})})}function wt({youtube_music_url:t,youtube_url:r,title:s}){const[a,o]=c.useState(!1),n=()=>o(!0),i=x=>{(x.key==="Enter"||x.key===" ")&&(x.preventDefault(),n())},u=t&&t.trim()?t.trim():null,l=r&&r.trim()?r.trim():null,h=x=>{if(!x||typeof x!="string")return null;try{const f=x.toLowerCase(),_=x.match(/[?&]list=([A-Za-z0-9_-]+)/);if(_)return{id:_[1],type:"playlist"};const k=[/(?:youtube\.com\/shorts\/)([A-Za-z0-9_-]{11})/,/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/|youtube\.com\/v\/)([A-Za-z0-9_-]{11})/,/^([A-Za-z0-9_-]{11})$/];for(const E of k){const M=x.match(E);if(M)return{id:M[1],type:"video"}}if(f.includes("music.youtube.com")){const E=x.match(/[?&]v=([A-Za-z0-9_-]{11})/);if(E)return{id:E[1],type:"video"}}return null}catch(f){return null}};let d=u?h(u):null,g=u||"";if(!d&&l&&(d=h(l),g=l||""),c.useEffect(()=>{o(!1)},[t,r]),!d)return e.jsx("div",{className:"w-full aspect-video rounded-lg overflow-hidden shadow-lg flex items-center justify-center bg-gradient-to-br from-gray-800 to-gray-900",children:e.jsx("p",{className:"text-white text-sm",children:"Vid√©o non disponible"})});const N=g.includes("/shorts/"),p="https://www.youtube-nocookie.com/embed",y=d.type==="video"?`${p}/${d.id}?rel=0&modestbranding=1&playsinline=1&controls=1&autoplay=1`:`${p}/videoseries?list=${d.id}&rel=0&modestbranding=1&playsinline=1&controls=1&autoplay=1`,S=d.type==="video"?`https://img.youtube.com/vi/${d.id}/hqdefault.jpg`:null;return a?N?e.jsx("div",{className:"relative rounded-lg overflow-hidden shadow-2xl",style:{width:"100%",aspectRatio:"9/16",minHeight:"min(500px, 70vh)",maxHeight:"70vh"},children:e.jsx("iframe",{className:"absolute top-0 left-0 w-full h-full",src:y,title:s||"YouTube Short",frameBorder:"0",referrerPolicy:"strict-origin-when-cross-origin",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}):e.jsx("div",{className:"w-full aspect-video rounded-lg overflow-hidden shadow-lg",children:e.jsx("iframe",{className:"w-full h-full",src:y,title:s||"YouTube",frameBorder:"0",referrerPolicy:"strict-origin-when-cross-origin",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}):N?e.jsxs("div",{className:"relative rounded-lg overflow-hidden shadow-2xl cursor-pointer group",style:{width:"100%",aspectRatio:"9/16",minHeight:"min(500px, 70vh)",maxHeight:"70vh"},onClick:n,onKeyDown:i,role:"button",tabIndex:0,"aria-label":`Reproduzir ${s||"v√≠deo"}`,children:[S&&e.jsx("img",{src:S,alt:s||"YouTube Short",className:"absolute inset-0 w-full h-full object-cover",loading:"eager",fetchPriority:"high"}),e.jsx("div",{className:"absolute inset-0 bg-black/20 group-hover:bg-black/30 transition-colors flex items-center justify-center",children:e.jsx("div",{className:"w-16 h-16 bg-red-600 rounded-full flex items-center justify-center shadow-xl group-hover:scale-110 transition-transform",children:e.jsx("svg",{viewBox:"0 0 24 24",className:"w-8 h-8 text-white ml-1",fill:"currentColor",children:e.jsx("path",{d:"M8 5v14l11-7z"})})})})]}):e.jsxs("div",{className:"w-full aspect-video rounded-lg overflow-hidden shadow-lg cursor-pointer group relative",onClick:n,onKeyDown:i,role:"button",tabIndex:0,"aria-label":`Reproduzir ${s||"v√≠deo"}`,children:[S?e.jsx("img",{src:S,alt:s||"YouTube",className:"w-full h-full object-cover",loading:"eager",fetchPriority:"high"}):e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-800 to-gray-900"}),e.jsx("div",{className:"absolute inset-0 bg-black/20 group-hover:bg-black/30 transition-colors flex items-center justify-center",children:e.jsx("div",{className:"w-16 h-16 bg-red-600 rounded-full flex items-center justify-center shadow-xl group-hover:scale-110 transition-transform",children:e.jsx("svg",{viewBox:"0 0 24 24",className:"w-8 h-8 text-white ml-1",fill:"currentColor",children:e.jsx("path",{d:"M8 5v14l11-7z"})})})})]})}function nr(){const t=ks(),{toast:r}=qt(),[s,a]=c.useState(null),[o,n]=c.useState([]),[i,u]=c.useState([]),[l,h]=c.useState(!0),[d,g]=c.useState(null),[N,p]=c.useState(null),[y,S]=c.useState(!1),[x,f]=c.useState(!1),[_,k]=c.useState(!1),[E,M]=c.useState(!1),[I,P]=c.useState(!1),[v,T]=c.useState(!1),[Y,H]=c.useState(!1),[A,ee]=c.useState(null),[j,tt]=c.useState(null),[st,ve]=c.useState(!1);c.useEffect(()=>{$t.initialize(),rt(),Qt()},[]);const rt=()=>b(null,null,function*(){h(!0),g(null);try{te.debug("üîÑ Tentative de chargement depuis Supabase..."),console.warn("üîÑ loadCurrentSong appel√© √†:",new Date().toISOString());const m=yield ft.getCurrent();te.debug("üìä Chanson actuelle charg√©e:",m),m?(console.warn("üéµ Chanson charg√©e:",{title:m.title,created_at:m.created_at,updated_at:m.updated_at,release_date:m.release_date,id:m.id}),m.title==="Rio continua lindo (s√≥ que n√£o)"&&(console.error("‚ö†Ô∏è PROBL√àME: Ancienne chanson charg√©e (Rio) au lieu de William!"),console.error("‚ö†Ô∏è V√©rifier les dates dans Supabase et le tri"))):console.warn("‚ö†Ô∏è Aucune chanson charg√©e"),a(m),tt(m),ve(!1)}catch(m){te.error("‚ùå Erro ao carregar m√∫sica atual:",m),g("Erro ao carregar a m√∫sica da semana. Tente novamente.")}finally{h(!1)}}),Qt=()=>b(null,null,function*(){try{te.debug("üîÑ Chargement des musiques depuis Supabase...");const m=yield ft.list("-release_date",null);te.debug("üìä Toutes les musiques charg√©es:",m),u(m);const O=new Date,Ue=_e(O),le=ke(O),ut=m.filter(os=>{const ns=K(os.release_date);return Ee(ns,{start:Ue,end:le})});te.debug("üìÖ Musiques du mois en cours:",ut),n(ut)}catch(m){te.error("‚ùå Erro ao carregar m√∫sicas recentes:",m)}}),Xt=()=>{rt()},ie=(m,O)=>{O&&(O.preventDefault(),O.stopPropagation()),te.debug("üéµ handleReplaceVideo appel√© avec:",m.title),tt(m),ve(!1),window.scrollTo({top:0,behavior:"smooth"})},ye=()=>!j||i.length===0?-1:i.findIndex(m=>m.id===j.id),at=()=>{const m=ye();if(m>=0&&m<i.length-1){const O=i[m+1];ie(O,null)}},ot=()=>{const m=ye();if(m>0){const O=i[m-1];ie(O,null)}},nt=()=>{const m=ye();return m>=0&&m<i.length-1},it=()=>ye()>0,es=m=>{ee(m),f(!0)},lt=m=>{ee(m),window.innerWidth<1024?M(!0):k(!0)},ts=m=>{ee(m),H(!0)},ct=m=>b(null,null,function*(){if(navigator.share)try{yield navigator.share({title:`${m.title} - ${m.artist}`,text:"Confira esta m√∫sica incr√≠vel da M√∫sica da Segunda!",url:m.youtube_music_url||m.youtube_url||window.location.href})}catch(O){}else{const O=`${m.title} - ${m.artist}
Confira esta m√∫sica incr√≠vel da M√∫sica da Segunda!`;navigator.clipboard.writeText(O),r({title:"‚úÖ Copiado!",description:"Link copiado para a √°rea de transfer√™ncia",duration:3e3})}}),ss=()=>{const m=new Date;return m.setMonth(m.getMonth()-1),F(m,"yyyy-MM")},rs=()=>{const m=ss();t(`/calendar?month=${m}`)},as=m=>{if(!m||typeof m!="string")return null;const O=[/(?:youtube\.com\/shorts\/)([A-Za-z0-9_-]{11})/,/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/|youtube\.com\/v\/)([A-Za-z0-9_-]{11})/,/^([A-Za-z0-9_-]{11})$/,/music\.youtube\.com\/watch\?v=([A-Za-z0-9_-]{11})/];for(const Ue of O){const le=m.match(Ue);if(le&&le[1])return le[1]}return null},dt=m=>{if(!m)return null;const O=as(m.youtube_music_url||m.youtube_url);return O?`https://img.youtube.com/vi/${O}/maxresdefault.jpg`:null};return zt({title:"A M√∫sica da Segunda | Par√≥dias Musicais e Humor Inteligente",description:"A M√∫sica da Segunda - Nova m√∫sica toda segunda-feira! Par√≥dias musicais inteligentes sobre as not√≠cias do Brasil. Descubra humor e m√∫sica para sua semana.",keywords:"m√∫sica da segunda, par√≥dias musicais, not√≠cias do brasil, m√∫sica brasileira, descoberta musical, nova m√∫sica toda segunda, par√≥dias inteligentes",image:(s==null?void 0:s.cover_image)||"https://www.amusicadasegunda.com/icons/icon-512x512.png",url:"/",type:"website",robots:"index, follow, max-video-preview:0"}),l?e.jsxs("div",{className:"p-5 max-w-md mx-auto md:max-w-2xl lg:max-w-4xl",children:[e.jsxs(pt,{children:[e.jsx("title",{children:"A M√∫sica da Segunda: Par√≥dias das Not√≠cias do Brasil"}),e.jsx("meta",{name:"description",content:"A M√∫sica da Segunda: As Not√≠cias do Brasil em Forma de Par√≥dia. Site oficial de par√≥dias musicais inteligentes e divertidas."})]}),e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"text-4xl md:text-5xl lg:text-6xl font-black text-white drop-shadow-lg mb-2",children:"A M√∫sica da Segunda"}),e.jsx("p",{className:"text-white/80 font-medium text-lg md:text-xl drop-shadow-md",children:"Descubra m√∫sica nova toda segunda-feira"})]}),e.jsx("div",{className:"flex items-center justify-center py-20",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),e.jsx("p",{className:"text-white/80",children:"Carregando m√∫sica da semana..."})]})})]}):d?e.jsxs("div",{className:"p-5 max-w-md mx-auto md:max-w-2xl lg:max-w-4xl",children:[e.jsxs(pt,{children:[e.jsx("title",{children:"A M√∫sica da Segunda: Par√≥dias das Not√≠cias do Brasil"}),e.jsx("meta",{name:"description",content:"A M√∫sica da Segunda: As Not√≠cias do Brasil em Forma de Par√≥dia. Site oficial de par√≥dias musicais inteligentes e divertidas."})]}),e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-4xl md:text-5xl lg:text-6xl font-black text-white drop-shadow-lg mb-2",children:"M√∫sica da Segunda"}),e.jsx("p",{className:"text-white/80 font-medium text-lg md:text-xl drop-shadow-md",children:"Descubra m√∫sica nova toda segunda-feira"})]}),e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-3xl p-6 text-center",children:[e.jsx(Ae,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-red-800 mb-2",children:"Erro ao carregar"}),e.jsx("p",{className:"text-red-600 mb-4",children:d}),e.jsxs("button",{onClick:Xt,className:"inline-flex items-center gap-2 bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg transition-colors",children:[e.jsx(Pt,{className:"w-4 h-4"}),"Tentar novamente"]})]})]}):e.jsxs("div",{className:"p-5 max-w-md mx-auto md:max-w-2xl lg:max-w-4xl",children:[e.jsx("div",{className:"lg:hidden text-center mb-8",children:e.jsxs("div",{className:"flex items-center justify-center gap-4 mb-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-full overflow-hidden border-4 border-white/20 shadow-xl flex-shrink-0",children:e.jsx("img",{src:"/images/Musica da segunda.webp",alt:"Logo A M√∫sica da Segunda - Par√≥dias Musicais do Brasil",className:"w-full h-full object-cover",loading:"eager",fetchPriority:"high",width:"64",height:"64"})}),e.jsxs("div",{className:"text-left flex-1",children:[e.jsx("h1",{className:"text-2xl md:text-3xl font-black text-white drop-shadow-lg mb-1",children:"A M√∫sica da Segunda"}),e.jsx("p",{className:"text-white/80 font-medium text-sm md:text-base drop-shadow-md",children:"Descubra m√∫sica nova toda segunda-feira"})]}),e.jsx("button",{onClick:()=>T(!0),className:"w-12 h-12 bg-white/20 backdrop-blur-xl hover:bg-white/30 rounded-full flex items-center justify-center shadow-xl border border-white/20 transition-all duration-300 hover:scale-110 active:scale-95 touch-manipulation flex-shrink-0","aria-label":"Historique",title:"Historique",children:e.jsx(Fe,{className:"w-5 h-5 text-white drop-shadow-lg"})})]})}),e.jsxs("div",{className:"hidden lg:block text-center mb-8",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-black text-white drop-shadow-lg mb-2",children:"A M√∫sica da Segunda"}),e.jsx("p",{className:"text-white/80 font-medium text-lg md:text-xl drop-shadow-md",children:"Descubra m√∫sica nova toda segunda-feira"})]}),e.jsxs("div",{className:"hidden lg:grid lg:grid-cols-2 lg:gap-8 lg:mt-8",children:[e.jsxs("div",{className:"space-y-6 relative",children:[j?e.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-lg relative",children:[nt()&&e.jsx("button",{onClick:at,className:"absolute left-2 top-1/2 -translate-y-1/2 z-20 p-2 rounded-full bg-black/20 backdrop-blur-sm text-white/80 hover:bg-black/40 transition-all duration-300 hover:scale-110 active:scale-90","aria-label":"M√∫sica anterior",title:"M√∫sica anterior",children:e.jsx(me,{className:"w-6 h-6"})}),it()&&e.jsx("button",{onClick:ot,className:"absolute right-2 top-1/2 -translate-y-1/2 z-20 p-2 rounded-full bg-black/20 backdrop-blur-sm text-white/80 hover:bg-black/40 transition-all duration-300 hover:scale-110 active:scale-90","aria-label":"Pr√≥xima m√∫sica",title:"Pr√≥xima m√∫sica",children:e.jsx(Ce,{className:"w-6 h-6"})}),e.jsx("p",{className:"text-xs font-medium uppercase tracking-widest text-gray-500 mb-2 text-center",children:j.release_date&&F(K(j.release_date),"dd MMMM yyyy",{locale:Z}).toUpperCase()}),e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4 text-center",children:e.jsxs("button",{onClick:()=>ts(j),className:"inline-flex items-center gap-2 hover:text-blue-600 transition-colors cursor-pointer",title:"Ver descri√ß√£o da m√∫sica",children:[e.jsx("span",{className:"text-2xl",children:"‚ÑπÔ∏è"}),e.jsx("span",{children:j.title})]})}),e.jsx(wt,{youtube_music_url:j.youtube_music_url,youtube_url:j.youtube_url,title:j.title}),e.jsxs("div",{className:"mt-4 text-center",children:[e.jsx("h4",{className:"font-bold text-gray-800 text-lg mb-2",children:j.title}),e.jsx("p",{className:"text-gray-600",children:j.artist}),e.jsx("p",{className:"text-gray-500 text-sm mt-1",children:F(K(j.release_date),"dd/MM/yyyy",{locale:Z})})]}),e.jsx("div",{className:"mt-6",children:e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsx(q,{variant:"outline",className:"bg-white/70 hover:bg-white/90 text-gray-700 font-semibold border-gray-300 py-3 rounded-2xl text-sm",onClick:()=>es(j),children:"Plataformas"}),e.jsx(q,{variant:"outline",className:"bg-white/70 hover:bg-white/90 text-gray-700 font-semibold border-gray-300 py-3 rounded-2xl text-sm",onClick:()=>lt(j),children:"Letras"}),e.jsx(q,{variant:"outline",className:"bg-white/70 hover:bg-white/90 text-gray-700 font-semibold border-gray-300 py-3 rounded-2xl text-sm",onClick:()=>ct(j),children:"Compartilhar"})]})})]}):e.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-lg",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4 text-center",children:"‚ÑπÔ∏è Nenhuma m√∫sica dispon√≠vel"}),e.jsx("div",{className:"bg-gradient-to-br from-gray-100 to-gray-200 rounded-2xl flex items-center justify-center",style:{height:"min(70vh, 600px)",aspectRatio:"16/9"},children:e.jsxs("div",{className:"text-center text-gray-500",children:[e.jsx(re,{className:"w-16 h-16 mx-auto mb-4"}),e.jsx("p",{className:"text-lg font-medium",children:"Nenhuma m√∫sica dispon√≠vel"}),e.jsx("p",{className:"text-sm",children:"Volte na segunda-feira!"})]})})]}),e.jsx(Fs,{})]}),e.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-lg",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center gap-3",children:[e.jsx(Re,{className:"w-6 h-6 text-blue-600"}),"M√∫sicas do M√™s"]})}),o.length>0?e.jsx("div",{className:"space-y-4",children:o.map(m=>e.jsx("div",{className:"bg-white rounded-2xl p-4 shadow-md hover:shadow-lg transition-all duration-200 border border-gray-100",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-500 rounded-xl flex items-center justify-center flex-shrink-0 shadow-md hover:shadow-lg transition-all duration-200 cursor-pointer transform hover:scale-105",onClick:O=>ie(m,O),title:"Clique para ver esta m√∫sica na coluna de v√≠deo",children:e.jsx(We,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800 truncate cursor-pointer hover:underline",onClick:O=>ie(m,O),title:"Clique para ver esta m√∫sica na coluna de v√≠deo",children:m.title}),e.jsx("p",{className:"text-gray-600 text-base font-medium mt-1",children:m.artist}),e.jsx("p",{className:"text-gray-500 text-sm font-medium mt-1",children:F(K(m.release_date),"dd/MM/yyyy",{locale:Z})})]})]})},m.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(re,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"Nenhuma m√∫sica publicada este m√™s ainda"})]}),e.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:e.jsxs("button",{onClick:rs,className:"inline-flex items-center gap-2 text-gray-500 hover:text-gray-700 text-sm transition-colors group cursor-pointer",children:[e.jsx(me,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"}),"Ver m√∫sicas de ",F(new Date(new Date().setMonth(new Date().getMonth()-1)),"MMMM yyyy",{locale:Z})]})})]})]}),e.jsx("div",{className:"lg:hidden fixed inset-0 flex flex-col overflow-hidden",children:j?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"relative flex-1 overflow-hidden",children:[dt(j)&&e.jsxs("div",{className:"absolute inset-0 z-0",children:[!st&&e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-900 via-gray-800 to-black"}),e.jsx("img",{src:dt(j),alt:j.title,className:`absolute inset-0 w-full h-full object-cover blur-3xl scale-110 transition-opacity duration-500 ${st?"opacity-100":"opacity-0"}`,onLoad:()=>ve(!0),onError:()=>ve(!0)}),e.jsx("div",{className:"absolute inset-0 bg-black/50"})]}),nt()&&e.jsx("button",{onClick:at,className:"absolute left-2 top-1/2 -translate-y-1/2 z-20 p-2 rounded-full bg-black/20 backdrop-blur-sm text-white/80 hover:bg-black/40 transition-all duration-300 hover:scale-110 active:scale-90 touch-manipulation","aria-label":"M√∫sica anterior",title:"M√∫sica anterior",children:e.jsx(me,{className:"w-6 h-6"})}),it()&&e.jsx("button",{onClick:ot,className:"absolute right-2 top-1/2 -translate-y-1/2 z-20 p-2 rounded-full bg-black/20 backdrop-blur-sm text-white/80 hover:bg-black/40 transition-all duration-300 hover:scale-110 active:scale-90 touch-manipulation","aria-label":"Pr√≥xima m√∫sica",title:"Pr√≥xima m√∫sica",children:e.jsx(Ce,{className:"w-6 h-6"})}),e.jsx("div",{className:"relative z-10 h-full flex items-center justify-center px-4",children:e.jsx("div",{className:"w-full max-w-md",children:e.jsx("div",{className:"bg-black/20 backdrop-blur-xl rounded-3xl shadow-2xl overflow-hidden border border-white/10",children:e.jsx(wt,{youtube_music_url:j.youtube_music_url,youtube_url:j.youtube_url,title:j.title})})})}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-48 bg-gradient-to-t from-black/90 to-transparent z-10 pointer-events-none"}),e.jsxs("div",{className:"absolute bottom-4 left-4 z-20 text-white",children:[e.jsx("p",{className:"text-xs font-medium uppercase tracking-widest text-white/80 mb-1 drop-shadow-lg",children:j.release_date&&F(K(j.release_date),"dd MMMM yyyy",{locale:Z}).toUpperCase()}),e.jsx("h2",{className:"text-xl font-bold text-white drop-shadow-lg",children:j.title})]}),e.jsxs("div",{className:"absolute right-2 bottom-20 flex flex-col gap-3 z-20",children:[e.jsx("button",{onClick:()=>P(!0),className:"w-14 h-14 bg-green-500/90 hover:bg-green-600 backdrop-blur-xl rounded-full flex items-center justify-center shadow-xl border border-green-400/30 transition-all duration-300 hover:scale-110 active:scale-95 touch-manipulation","aria-label":"Ouvir em outras plataformas",title:"Ouvir em outras plataformas",children:e.jsx(re,{className:"w-6 h-6 text-white drop-shadow-lg"})}),j.lyrics&&j.lyrics.trim()&&e.jsx("button",{onClick:()=>lt(j),className:"w-14 h-14 bg-white/20 backdrop-blur-xl hover:bg-white/30 rounded-full flex items-center justify-center shadow-xl border border-white/20 transition-all duration-300 hover:scale-110 active:scale-95 touch-manipulation","aria-label":"Ver letras",title:"Ver letras",children:e.jsx(se,{className:"w-6 h-6 text-white drop-shadow-lg"})}),e.jsx("button",{onClick:()=>ct(j),className:"w-14 h-14 bg-white/20 backdrop-blur-xl hover:bg-white/30 rounded-full flex items-center justify-center shadow-xl border border-white/20 transition-all duration-300 hover:scale-110 active:scale-95 touch-manipulation","aria-label":"Compartilhar",title:"Compartilhar",children:e.jsx(He,{className:"w-6 h-6 text-white drop-shadow-lg"})})]})]}),e.jsx("div",{className:"relative z-30 pb-4 px-4 flex justify-center",children:e.jsxs(q,{size:"lg",onClick:()=>P(!0),className:"w-full max-w-md bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-bold py-4 px-6 rounded-full shadow-xl transition-all duration-300 hover:scale-105 active:scale-95 flex items-center justify-center gap-2 touch-manipulation",children:[e.jsx("span",{className:"text-2xl",children:"üéß"}),e.jsx("span",{children:"Ouvir"})]})}),e.jsx(Qs,{open:E,onOpenChange:M,lyrics:j==null?void 0:j.lyrics,songTitle:j==null?void 0:j.title}),e.jsx(Xs,{open:I,onOpenChange:P,song:j}),e.jsx(er,{open:v,onOpenChange:T,songs:i,onSelectSong:m=>ie(m,null)})]}):e.jsx("div",{className:"relative z-10 h-full flex items-center justify-center px-4",children:e.jsxs("div",{className:"bg-black/40 backdrop-blur-xl rounded-3xl p-8 text-center border border-white/20 shadow-2xl",children:[e.jsx(re,{className:"w-16 h-16 text-white/80 mx-auto mb-4 drop-shadow-lg"}),e.jsx("h3",{className:"text-xl font-semibold text-white mb-2 drop-shadow-lg",children:"Nenhuma m√∫sica dispon√≠vel"}),e.jsx("p",{className:"text-white/90 drop-shadow-md",children:"A m√∫sica da semana ser√° publicada em breve. Volte na segunda-feira!"})]})})}),e.jsx(Ke,{open:x,onOpenChange:f,children:e.jsxs(Oe,{className:"bg-[#f8f5f2] max-w-md",children:[e.jsx(Me,{children:e.jsx(Pe,{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:"üéµ Ouvir em outras plataformas"})}),A&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-4 border border-blue-200",children:[e.jsx("h3",{className:"text-lg font-bold text-blue-900 mb-1",children:A.title}),e.jsx("p",{className:"text-blue-700 font-medium",children:A.artist})]}),e.jsxs("div",{className:"space-y-3",children:[A.spotify_url&&e.jsx("a",{href:A.spotify_url,target:"_blank",rel:"noopener noreferrer",className:"block",children:e.jsx(q,{className:"w-full bg-[#1DB954] hover:bg-[#1ed760] text-white font-bold py-3 rounded-2xl text-sm transition-all duration-200 hover:scale-105",children:"üéß Ouvir no Spotify"})}),A.apple_music_url&&e.jsx("a",{href:A.apple_music_url,target:"_blank",rel:"noopener noreferrer",className:"block",children:e.jsx(q,{className:"w-full bg-gradient-to-r from-[#FA233B] to-[#FB5C74] hover:opacity-90 text-white font-bold py-3 rounded-2xl text-sm transition-all duration-200 hover:scale-105",children:"üéµ Ouvir no Apple Music"})}),A.youtube_url&&e.jsx("a",{href:A.youtube_url,target:"_blank",rel:"noopener noreferrer",className:"block",children:e.jsx(q,{className:"w-full bg-[#FF0000] hover:bg-[#cc0000] text-white font-bold py-3 rounded-2xl text-sm transition-all duration-200 hover:scale-105",children:"üì∫ Ouvir no YouTube"})}),!A.spotify_url&&!A.apple_music_url&&!A.youtube_url&&e.jsxs("div",{className:"text-center py-6",children:[e.jsx(re,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-600 font-medium",children:"Links de streaming em breve..."}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Esta m√∫sica ser√° disponibilizada em breve nas principais plataformas."})]})]})]})]})}),e.jsx(Zs,{open:_,onOpenChange:k,song:A,title:"üìù Letras da M√∫sica",maxHeight:"h-52",showIcon:!1}),e.jsx(Ke,{open:Y,onOpenChange:H,children:e.jsxs(Oe,{className:"bg-[#f8f5f2] max-w-2xl max-h-[80vh]",children:[e.jsx(Me,{children:e.jsx(Pe,{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:"‚ÑπÔ∏è Descri√ß√£o da M√∫sica"})}),A&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-4 border border-blue-200",children:[e.jsx("h3",{className:"text-lg font-bold text-blue-900 mb-1",children:A.title}),e.jsx("p",{className:"text-blue-700 font-medium",children:A.artist}),e.jsxs("p",{className:"text-blue-600 text-sm",children:["üìÖ ",F(K(A.release_date),"dd/MM/yyyy",{locale:Z})]})]}),e.jsx("div",{className:"bg-white rounded-xl p-4 border border-gray-200",children:A.description?e.jsx(we,{className:"h-60",children:e.jsx("div",{className:"pr-4",children:e.jsx("pre",{className:"text-gray-700 whitespace-pre-wrap font-sans text-sm leading-relaxed",children:A.description})})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(se,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-600 font-medium",children:"Descri√ß√£o n√£o dispon√≠vel"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"A descri√ß√£o desta m√∫sica ser√° adicionada em breve."})]})})]})]})})]})}const ir=c.lazy(()=>z(()=>import("./Calendar-C6H_7vYK.js"),__vite__mapDeps([0,1,2,3,4]))),lr=c.lazy(()=>z(()=>import("./RodaDaSegunda-DoaM50yH.js"),__vite__mapDeps([5,1,2,4,3]))),cr=c.lazy(()=>z(()=>import("./ProtectedAdmin-BhDUO-qG.js"),__vite__mapDeps([6,1,2,7,8,9,10,3,4,11]))),dr=c.lazy(()=>z(()=>import("./Sobre-C06yaP-a.js"),__vite__mapDeps([12,1,2,4,3]))),ur=c.lazy(()=>z(()=>import("./ContentForAI-CLfLbvBo.js"),__vite__mapDeps([13,1,2,4,3]))),mr=c.lazy(()=>z(()=>import("./Blog-olWgJ0_g.js"),__vite__mapDeps([14,1,2,9,8,3,4]))),hr=c.lazy(()=>z(()=>import("./Login-Lf0La8g0.js").then(t=>t.e),__vite__mapDeps([10,1,2,7,9]))),vt=c.lazy(()=>z(()=>import("./Playlist-ofupVDk0.js"),__vite__mapDeps([15,1,2,16,4,3]))),xr=c.lazy(()=>z(()=>import("./Song-DO8QAipE.js"),__vite__mapDeps([17,1,2,16,3,4]))),gr=c.lazy(()=>z(()=>import("./Youtube-DW_3fcd5.js"),__vite__mapDeps([18,1,2,19,3,4]))),pr=c.lazy(()=>z(()=>import("./YoutubeTest-CiPhVSY1.js"),__vite__mapDeps([20,1,2]))),fr=c.lazy(()=>z(()=>import("./YoutubeSimple-aT7GF_-e.js"),__vite__mapDeps([21,1,2,19,4,3]))),yt=c.lazy(()=>z(()=>import("./TikTokDemo-D5dFXBdK.js"),__vite__mapDeps([22,1,2,7,4,3]))),br=c.lazy(()=>z(()=>import("./Search-w2ibVnWx.js"),__vite__mapDeps([23,1,2,4,3]))),Le=[{path:"/",component:nr,name:"Home",seo:null},{path:"/calendar",component:ir,name:"Calendar",seo:{title:"Calend√°rio Musical - A M√∫sica da Segunda",description:"Calend√°rio completo de todas as m√∫sicas publicadas. Explore a hist√≥ria musical do projeto.",keywords:"calend√°rio musical, m√∫sicas, hist√≥rico, publica√ß√£o semanal"}},{path:"/roda",component:lr,name:"Roda",seo:{title:"A Roda de Segunda - Descubra uma M√∫sica",description:"Gire a roda e descubra qual m√∫sica da M√∫sica da Segunda ouvir hoje!",keywords:"roda da sorte, m√∫sica aleat√≥ria, sorteio musical, m√∫sica da segunda"}},{path:"/sobre",component:dr,name:"Sobre",seo:{title:"Sobre - A M√∫sica da Segunda",description:"Conhe√ßa a hist√≥ria do projeto A M√∫sica da Segunda e descubra como nasceu essa paix√£o pela m√∫sica.",keywords:"sobre, hist√≥ria, projeto, m√∫sica brasileira"}},{path:"/api/content-for-ai.json",component:ur,name:"ContentForAI",seo:null},{path:"/blog",component:mr,name:"Blog",seo:{title:"Blog - A M√∫sica da Segunda",description:"Artigos e not√≠cias sobre m√∫sica, cultura e atualidades.",keywords:"blog, artigos, not√≠cias, cultura musical"}},{path:"/admin",component:cr,name:"Admin",seo:null},{path:"/login",component:hr,name:"Login",seo:null},{path:"/playlist",component:vt,name:"Playlist",seo:{title:"Playlist - Todas as M√∫sicas",description:"Lista completa de todas as m√∫sicas publicadas no projeto A M√∫sica da Segunda.",keywords:"playlist, todas as m√∫sicas, lista completa"}},{path:"/musica",component:vt,name:"Playlist",seo:{title:"Can√ß√µes - Todas as M√∫sicas",description:"Lista completa de todas as can√ß√µes publicadas no projeto A M√∫sica da Segunda.",keywords:"can√ß√µes, todas as m√∫sicas, lista completa"}},{path:"/musica/:slug",component:xr,name:"Song",seo:null},{path:"/youtube-test",component:pr,name:"YoutubeTest",seo:null},{path:"/youtube-simple",component:fr,name:"YoutubeSimple",seo:null},{path:"/youtube",component:gr,name:"Youtube",seo:null},{path:"/tiktokdemo",component:yt,name:"TikTokDemo",seo:null},{path:"/tiktok/:id",component:yt,name:"TikTokDemo",seo:null},{path:"/search",component:br,name:"Search",seo:null}];Le.reduce((t,r)=>(t[r.name]=r.component,t),{});function Yt(t){t.startsWith("#")&&(t=t.slice(1)),t.endsWith("/")&&(t=t.slice(0,-1));let r=t.split("/").pop();if(r.includes("?")&&(r=r.split("?")[0]),!r||r==="amusicadasegunda")return"Home";if(r.startsWith("tiktok"))return"TikTokDemo";if(t.startsWith("/musica/")&&r!=="musica")return"Song";const s=Le.find(a=>a.path.split("/").pop().toLowerCase()===r.toLowerCase());return s?s.name:"Home"}function wr(t){const r=Le.find(s=>s.name===t);return r?r.seo:null}function vr({children:t}){const r=Qe(),s=Yt(r.pathname),a=wr(s);zt(R(w({},a),{enabled:!!a}));const o=[{name:"In√≠cio",url:$("Home"),icon:ae},{name:"Calend√°rio",url:$("Calendar"),icon:Re},{name:"Playlist",url:$("Playlist"),icon:Tt},{name:"Blog",url:$("Blog"),icon:se},{name:"A Roda",url:$("Roda"),icon:Et},{name:"Sobre",url:$("Sobre"),icon:Je},{name:"Pesquisar",url:$("Search"),icon:kt}],n=i=>i.name==="In√≠cio"&&r.pathname==="/"?!0:r.pathname===i.url;return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"lg:hidden flex flex-col h-[100dvh] overflow-hidden bg-black text-white",children:[e.jsx("a",{href:"#main-mobile",className:"skip-link",children:"Ir para o conte√∫do"}),e.jsx("header",{className:"flex-shrink-0 bg-black/90 backdrop-blur-lg border-b border-white/10 z-40",children:e.jsx("div",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(he,{to:"/",className:"w-10 h-10 rounded-full overflow-hidden border-2 border-white/20 flex-shrink-0 bg-white",children:e.jsx("img",{src:"/images/2026 logo.png",alt:"Logo A M√∫sica da Segunda - Par√≥dias Musicais do Brasil",className:"w-full h-full object-cover",loading:"eager"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-lg font-black text-white leading-tight truncate drop-shadow-sm",children:"A M√∫sica da Segunda"}),e.jsx("p",{className:"text-xs text-gray-300 mt-0.5 truncate drop-shadow-sm",children:"Nova m√∫sica toda segunda-feira"})]})]})})}),e.jsx("main",{id:"main-mobile",className:"flex-1 overflow-hidden relative",children:e.jsx("div",{className:"h-full overflow-y-auto overscroll-behavior-contain pb-20",children:t})}),e.jsx(Bs,{})]}),e.jsxs("div",{className:"hidden lg:block min-h-screen bg-gradient-to-b from-teal-200 to-rose-200",children:[e.jsx("a",{href:"#main-desktop",className:"skip-link",children:"Ir para o conte√∫do"}),e.jsx("header",{className:"bg-white/90 backdrop-blur-lg border-b border-white/50 shadow-lg sticky top-0 z-40",children:e.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(he,{to:"/",className:"w-12 h-12 rounded-full overflow-hidden border-2 border-white/20 shadow-lg flex-shrink-0 bg-white",children:e.jsx("img",{src:"/images/2026 logo.png",alt:"Logo A M√∫sica da Segunda - Par√≥dias Musicais do Brasil",className:"w-full h-full object-cover",loading:"eager"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-black text-gray-800 leading-tight",children:"A M√∫sica da Segunda"}),e.jsx("p",{className:"text-xs text-gray-600 mt-0.5",children:"Site oficial de par√≥dias musicais inteligentes e divertidas"})]})]}),e.jsx("nav",{className:"flex items-center gap-1","aria-label":"Navigation principale",children:o.map(i=>e.jsxs(he,{to:i.url,"aria-current":n(i)?"page":void 0,className:`flex items-center gap-2 px-4 py-2 rounded-xl transition-all duration-300 font-medium ${n(i)?"bg-[#32a2dc] text-white shadow-md":"text-gray-600 hover:text-gray-800 hover:bg-gray-100"}`,children:[e.jsx(i.icon,{className:"w-4 h-4","aria-hidden":"true"}),e.jsx("span",{children:i.name})]},i.name))})]})})}),e.jsx("main",{id:"main-desktop",className:"relative z-10",children:t}),e.jsx("footer",{className:"border-t border-white/60 bg-white/80 backdrop-blur-sm",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-2",children:e.jsx("p",{className:"text-[11px] md:text-xs text-gray-500 text-center",children:"(c) 2026 A M√∫sica da Segunda. Uma produ√ß√£o The Piment√£o Rouge Project."})})})]}),e.jsx(Ls,{})]})}function yr(){return e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 animate-pulse",children:"Chargement..."})]})})}function jr(){const{slug:t}=Is(),r=t?`/musica/${t}`:"/musica";return e.jsx(Se,{to:r,replace:!0})}function Nr(){const t=Qe(),r=Yt(t.pathname);return c.useEffect(()=>{typeof window.gtag=="function"&&window.gtag("event","page_view",{page_path:t.pathname+t.search,page_title:document.title})},[t]),e.jsx(vr,{currentPageName:r,children:e.jsx(c.Suspense,{fallback:e.jsx(yr,{}),children:e.jsxs(Ts,{children:[e.jsx(de,{path:"/chansons",element:e.jsx(Se,{to:"/musica",replace:!0})}),e.jsx(de,{path:"/chansons/:slug",element:e.jsx(jr,{})}),e.jsx(de,{path:"/home",element:e.jsx(Se,{to:"/",replace:!0})}),e.jsx(de,{path:"/playlist",element:e.jsx(Se,{to:"/musica",replace:!0})}),Le.map(s=>e.jsx(de,{path:s.path,element:e.jsx(s.component,{})},s.path))]})})})}function Sr(){return e.jsx(Es,{children:e.jsx(Nr,{})})}const Gt=c.forwardRef((s,r)=>{var t=C(s,[]);return e.jsx("div",w({ref:r,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]"},t))});Gt.displayName="ToastProvider";const Ht=c.forwardRef((s,r)=>{var t=C(s,[]);return e.jsx("div",w({ref:r,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]"},t))});Ht.displayName="ToastViewport";const _r=It("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Ft=c.forwardRef((o,a)=>{var n=o,{className:t,variant:r}=n,s=C(n,["className","variant"]);return e.jsx("div",w({ref:a,className:B(_r({variant:r}),t)},s))});Ft.displayName="Toast";const kr=c.forwardRef((a,s)=>{var o=a,{className:t}=o,r=C(o,["className"]);return e.jsx("div",w({ref:s,className:B("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t)},r))});kr.displayName="ToastAction";const Kt=c.forwardRef((a,s)=>{var o=a,{className:t}=o,r=C(o,["className"]);return e.jsx("button",R(w({ref:s,className:B("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"data-toast-close":""},r),{children:e.jsx(ne,{className:"h-4 w-4"})}))});Kt.displayName="ToastClose";const Jt=c.forwardRef((a,s)=>{var o=a,{className:t}=o,r=C(o,["className"]);return e.jsx("div",w({ref:s,className:B("text-sm font-semibold",t)},r))});Jt.displayName="ToastTitle";const Wt=c.forwardRef((a,s)=>{var o=a,{className:t}=o,r=C(o,["className"]);return e.jsx("div",w({ref:s,className:B("text-sm opacity-90",t)},r))});Wt.displayName="ToastDescription";function Er(){const{toasts:t}=qt();return e.jsxs(Gt,{children:[t.map(function(i){var u=i,{id:r,title:s,description:a,action:o}=u,n=C(u,["id","title","description","action"]);return e.jsxs(Ft,R(w({},n),{children:[e.jsxs("div",{className:"grid gap-1",children:[s&&e.jsx(Jt,{children:s}),a&&e.jsx(Wt,{children:a})]}),o,e.jsx(Kt,{})]}),r)}),e.jsx(Ht,{})]})}function Tr(){const[t,r]=c.useState(navigator.onLine),[s,a]=c.useState(!1);return c.useEffect(()=>{const o=()=>{r(!0),a(!1),console.log("üåê Connexion restaur√©e")},n=()=>{r(!1),a(!0),console.log("üì± Mode hors ligne d√©tect√©"),setTimeout(()=>a(!1),5e3)};return window.addEventListener("online",o),window.addEventListener("offline",n),navigator.onLine||r(!1),()=>{window.removeEventListener("online",o),window.removeEventListener("offline",n)}},[]),t?null:e.jsxs("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50",children:[s&&e.jsxs("div",{className:"bg-yellow-500 text-white px-4 py-2 rounded-lg shadow-lg flex items-center gap-2 animate-bounce",children:[e.jsx("span",{children:"üì±"}),e.jsx("span",{className:"text-sm font-medium",children:"Mode hors ligne - App dispon√≠vel offline"})]}),e.jsxs("div",{className:"bg-gray-800 text-white px-3 py-1 rounded-full text-xs flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),e.jsx("span",{children:"Offline"})]})]})}const oe={};function Ir(i){return b(this,arguments,function*({endpoint:t,p256dh:r,auth:s,topic:a="new-song",locale:o="pt-BR",vapidKeyVersion:n="v1"}){var d,g,N,p;if(!t||!r||!s)throw new Error("Missing subscription fields: endpoint, p256dh, auth");console.warn("üì° upsertPushSubscription - D√©but"),console.warn("üì° Endpoint:",(t==null?void 0:t.substring(0,50))+"..."),console.warn("üì° Topic:",a,"Locale:",o,"VAPID version:",n);const u={endpoint:t,p256dh:r,auth:s,topics:[a],locale:o,vapid_key_version:n,last_seen_at:new Date().toISOString()};console.warn("üì° Payload (sans cl√©s):",{endpoint:t,topics:u.topics,locale:o,vapid_key_version:u.vapid_key_version});let{data:l,error:h}=yield D.from("push_subscriptions").upsert(u,{onConflict:"endpoint"}).select("endpoint, id, created_at").maybeSingle();if(h){if(console.error("‚ùå Erreur upsertPushSubscription:",h),console.error("‚ùå Code:",h.code),console.error("‚ùå Message:",h.message),console.error("‚ùå Details:",h.details),console.error("‚ùå Hint:",h.hint),(d=h.message)!=null&&d.includes("no unique or exclusion constraint matching the ON CONFLICT specification")||(g=h.message)!=null&&g.includes("ON CONFLICT")){console.error("‚ùå Contrainte UNIQUE manquante sur endpoint - tentative de fallback INSERT/UPDATE");try{const{data:y}=yield D.from("push_subscriptions").select("endpoint, id").eq("endpoint",t).maybeSingle();if(y){const{data:S,error:x}=yield D.from("push_subscriptions").update({p256dh:r,auth:s,topics:[a],locale:o,vapid_key_version:n,last_seen_at:new Date().toISOString()}).eq("endpoint",t).select("endpoint, id, created_at").maybeSingle();if(x)throw x;return console.warn("‚úÖ Subscription mise √† jour via fallback UPDATE"),S||{endpoint:t,success:!0}}else{const{data:S,error:x}=yield D.from("push_subscriptions").insert(u).select("endpoint, id, created_at").maybeSingle();if(x)throw x;return console.warn("‚úÖ Subscription cr√©√©e via fallback INSERT"),S||{endpoint:t,success:!0}}}catch(y){console.error("‚ùå Fallback INSERT/UPDATE a √©chou√©:",y);const S=new Error("Erreur de contrainte : La contrainte UNIQUE sur endpoint est manquante dans la base de donn√©es. Ex√©cutez la migration 20250110000000_fix_push_subscriptions_unique_constraint.sql");throw S.code="CONSTRAINT_ERROR",S.originalError=h,S.fallbackError=y,S}}if(h.code==="42501"||(N=h.message)!=null&&N.includes("permission denied")||(p=h.message)!=null&&p.includes("row-level security")){const y=new Error("Erreur de permission RLS : Les politiques de s√©curit√© ne permettent pas l'insertion. V√©rifiez que les RLS policies sont correctement configur√©es sur la table push_subscriptions.");throw y.code="RLS_ERROR",y.originalError=h,y}throw h}return l?(console.warn("‚úÖ Subscription sauvegard√©e avec succ√®s:",l),l):(console.warn("‚ö†Ô∏è upsertPushSubscription: Aucune donn√©e retourn√©e (mais pas d'erreur)"),{endpoint:t,success:!0})})}console.warn("üöÄ PUSH LIB LOADED - VERSION:",Date.now());const ue="BASujCEc1P4RwjUo-SKAxVdIL8yJ4R978lHaQBIZf4oxqs24oPHdeS7iB7So9RWVmlMHgKzZvbie6Ai8yov1Few",jt=(oe==null?void 0:oe.VITE_PUSH_API_BASE)||"https://efnzmpzkzeuktqkghwfa.functions.supabase.co",Nt=(oe==null?void 0:oe.VITE_VAPID_KEY_VERSION)||"v1",Ar=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1,Cr=()=>navigator.standalone===!0,Dr=()=>/Android/i.test(navigator.userAgent),St=()=>Ar()||Dr(),Zt=()=>"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window,_t=t=>{const r="=".repeat((4-t.length%4)%4),s=(t+r).replace(/-/g,"+").replace(/_/g,"/"),a=atob(s),o=new Uint8Array(a.length);for(let n=0;n<a.length;++n)o[n]=a.charCodeAt(n);return o},Or=()=>localStorage.getItem("push_optout")==="true",Mr=()=>{if(!Zt()||Or())return!1;const t=localStorage.getItem("push_refused_until");return t&&Date.now()<Number(t)||!St()?!1:St()?Cr():!1};function Pr(){return b(this,null,function*(){try{return console.warn("üîç R√©cup√©ration du Service Worker existant..."),yield navigator.serviceWorker.ready}catch(t){return console.warn("‚ö†Ô∏è SW pas pr√™t, tentative d'enregistrement..."),yield navigator.serviceWorker.register("/sw.js")}})}function Rr(){return b(this,arguments,function*({locale:t="pt-BR"}={}){var i,u;if(console.warn("üîç DIAGNOSTIC VAPID:"),console.warn("VAPID_PUBLIC_KEY length:",ue==null?void 0:ue.length),console.warn("API_BASE:",jt),console.warn("---"),console.warn("üîç Starting push activation..."),!Zt())throw console.error("‚ùå Push not supported"),new Error("Push non support√©");try{const l=_t(ue);if(console.warn("üîë VAPID key test - Length:",l.byteLength,"(doit √™tre 65)"),l.byteLength!==65)throw console.error("‚ùå VAPID key invalide: longueur incorrecte"),new Error("VAPID key invalide: longueur incorrecte");console.warn("‚úÖ VAPID key valide")}catch(l){throw console.error("‚ùå VAPID key error:",l),new Error("VAPID key invalide: "+l.message)}console.warn("‚úÖ Environment variables loaded");const r=yield Pr();if(!r)throw console.error("‚ùå Service Worker registration failed"),new Error("Service Worker registration failed");console.warn("‚úÖ Service Worker registered"),console.warn("üîç SW state:",(i=r.active)==null?void 0:i.state,"controller:",!!navigator.serviceWorker.controller);const s=yield Notification.requestPermission();if(console.warn("üîê Permission result:",s),s!=="granted"){const l=Date.now()+2592e6;throw localStorage.setItem("push_refused_until",String(l)),new Error("Permission refus√©e")}console.warn("üîë Creating push subscription...");const a=yield r.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:_t(ue)});console.warn("‚úÖ Push subscription created");const o=btoa(String.fromCharCode(...new Uint8Array(a.getKey("p256dh")))),n=btoa(String.fromCharCode(...new Uint8Array(a.getKey("auth"))));console.warn("üì° Sending subscription to server (Supabase)...");try{yield Ir({endpoint:a.endpoint,p256dh:o,auth:n,topic:"new-song",locale:t,vapidKeyVersion:Nt}),console.warn("‚úÖ Subscription saved to Supabase")}catch(l){if(console.error("‚ùå Supabase save failed:",l),console.error("‚ùå Error type:",(u=l==null?void 0:l.constructor)==null?void 0:u.name),console.error("‚ùå Error code:",l==null?void 0:l.code),console.error("‚ùå Error message:",l==null?void 0:l.message),(l==null?void 0:l.code)==="CONSTRAINT_ERROR")throw console.error("‚ùå Erreur de contrainte UNIQUE d√©tect√©e - pas de fallback API"),yield a.unsubscribe(),new Error("Erreur de base de donn√©es : La contrainte UNIQUE sur endpoint est manquante. Veuillez contacter le support technique.");if((l==null?void 0:l.code)==="RLS_ERROR"||(l==null?void 0:l.code)==="42501")throw console.error("‚ùå Erreur RLS d√©tect√©e - pas de fallback API"),yield a.unsubscribe(),new Error("Erreur de permission : Impossible de sauvegarder l'abonnement. V√©rifiez que les politiques RLS sont correctement configur√©es sur la table push_subscriptions.");console.error("‚ùå Supabase save failed, trying API fallback:",l);const h={endpoint:a.endpoint,keys:{p256dh:btoa(String.fromCharCode(...new Uint8Array(a.getKey("p256dh")))),auth:btoa(String.fromCharCode(...new Uint8Array(a.getKey("auth"))))}};try{const d=yield fetch(`${jt}/push/subscribe`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({subscription:h,topic:"new-song",locale:t,vapidKeyVersion:Nt})});if(console.warn("üìä API fallback response:",d.status,d.statusText),!d.ok){const g=yield d.text();throw console.error("‚ùå Both Supabase and API failed:",g),yield a.unsubscribe(),new Error(`Subscribe failed: ${d.status} ${d.statusText}. D√©tails: ${g}`)}console.warn("‚úÖ Subscription saved via API fallback")}catch(d){throw console.error("‚ùå API fallback also failed:",d),yield a.unsubscribe(),new Error(`√âchec de l'activation : Impossible de sauvegarder l'abonnement. Erreur Supabase: ${(l==null?void 0:l.message)||l}. Erreur API: ${(d==null?void 0:d.message)||d}`)}}return console.warn("‚úÖ Push activation completed successfully"),a})}function Lr(){const[t,r]=c.useState(!1),[s,a]=c.useState(!1),[o,n]=c.useState(null);c.useEffect(()=>{const l=setTimeout(()=>b(null,null,function*(){try{const h=yield Mr();r(h)}catch(h){console.error("Erreur v√©rification CTA push:",h),r(!1)}}),3e3);return()=>clearTimeout(l)},[]);const i=()=>b(null,null,function*(){var l,h;a(!0),n(null);try{yield Rr(),r(!1)}catch(d){console.error("√âchec de l'abonnement push :",d),console.error("D√©tails de l'erreur:",{message:d==null?void 0:d.message,code:d==null?void 0:d.code,name:d==null?void 0:d.name,stack:d==null?void 0:d.stack});let g="Activation √©chou√©e. Veuillez r√©essayer.";Notification.permission==="denied"?g="Notifications bloqu√©es. Veuillez les autoriser dans les param√®tres de votre navigateur.":d!=null&&d.message?g=d.message:(d==null?void 0:d.code)==="RLS_ERROR"||(d==null?void 0:d.code)==="42501"?g="Erreur de permission : Impossible de sauvegarder l'abonnement. Contactez le support.":(l=d==null?void 0:d.message)!=null&&l.includes("VAPID")?g="Erreur de configuration : Cl√© VAPID invalide. Contactez le support.":(h=d==null?void 0:d.message)!=null&&h.includes("Service Worker")&&(g="Erreur : Service Worker non disponible. V√©rifiez que vous utilisez HTTPS ou localhost."),n(g)}finally{a(!1)}}),u=()=>{r(!1)};return t?e.jsx("div",{className:"fixed bottom-5 left-1/2 -translate-x-1/2 z-50 w-full max-w-sm px-4 animate-in slide-in-from-bottom-5 duration-300",children:e.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 relative",children:[e.jsx("button",{onClick:u,className:"absolute top-2 right-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300","aria-label":"Fermer",children:e.jsx(ne,{className:"w-4 h-4"})}),e.jsxs("div",{className:"flex flex-col items-center gap-3 pr-6",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center",children:e.jsx(gt,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),o?e.jsx("p",{className:"text-sm text-red-600 dark:text-red-400 text-center",children:o}):e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 text-center",children:"Ne manquez jamais une nouvelle chanson !"}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 text-center",children:"Recevez une notification chaque lundi"})]}),e.jsx(q,{onClick:i,disabled:s,className:"w-full bg-blue-600 hover:bg-blue-700 text-white",children:s?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"animate-spin mr-2",children:"‚è≥"}),"Activation..."]}):e.jsxs(e.Fragment,{children:[e.jsx(gt,{className:"w-4 h-4 mr-2"}),"Activer les notifications"]})})]})]})}):null}const Ye="v1.0.0",Ge="migration_confissoes_bancarias_cleanup",Ur={isCompleted(){return localStorage.getItem(Ge)===Ye},markCompleted(){localStorage.setItem(Ge,Ye),console.log("‚úÖ Migration Confiss√µes Banc√°rias termin√©e")},execute(){return b(this,null,function*(){if(this.isCompleted()){console.log("üîÑ Migration d√©j√† effectu√©e, passage...");return}console.log("üöÄ D√©but de la migration Confiss√µes Banc√°rias...");try{this.cleanConfissoesBancarias(),yield this.forceSupabaseSync(),this.markCompleted(),console.log("üéâ Migration termin√©e avec succ√®s !")}catch(t){throw console.error("‚ùå Erreur lors de la migration:",t),t}})},cleanConfissoesBancarias(){try{const t=JSON.parse(localStorage.getItem("songs")||"[]"),s=t.filter(a=>a.title!=="Confiss√µes Banc√°rias"&&a.tiktok_video_id!=="7540762684149517590").map((a,o)=>R(w({},a),{id:o+1}));localStorage.setItem("songs",JSON.stringify(s)),console.log(`üßπ localStorage nettoy√© : ${t.length-s.length} chanson(s) supprim√©e(s)`),console.log(`üìù ${s.length} chanson(s) conserv√©e(s) et renum√©rot√©e(s)`)}catch(t){throw console.error("‚ùå Erreur lors du nettoyage du localStorage:",t),t}},forceSupabaseSync(){return b(this,null,function*(){try{localStorage.setItem("force_supabase_sync","true"),localStorage.setItem("last_supabase_sync",new Date().toISOString()),console.log("üîÑ Synchronisation Supabase forc√©e")}catch(t){throw console.error("‚ùå Erreur lors de la synchronisation Supabase:",t),t}})},getStatus(){return{completed:this.isCompleted(),version:Ye,lastSync:localStorage.getItem("last_supabase_sync"),forceSupabase:localStorage.getItem("force_supabase_sync")==="true"}},reset(){localStorage.removeItem(Ge),localStorage.removeItem("force_supabase_sync"),localStorage.removeItem("last_supabase_sync"),console.log("üîÑ Migration r√©initialis√©e")}};function zr(){return c.useEffect(()=>{b(null,null,function*(){try{yield Ur.execute()}catch(r){console.error("‚ùå Erreur lors de la migration:",r)}})},[]),e.jsxs(e.Fragment,{children:[e.jsx(Tr,{}),e.jsx(Sr,{}),e.jsx(Er,{}),e.jsx(Lr,{})]})}class Br extends Rt.Component{constructor(s){super(s);ce(this,"logErrorToService",(s,a)=>{const o={message:s.toString(),stack:s.stack,componentStack:a.componentStack,timestamp:new Date().toISOString(),userAgent:navigator.userAgent,url:window.location.href,errorCount:this.state.errorCount};console.log("üìä Error data for monitoring:",o);try{const n=JSON.parse(localStorage.getItem("app_errors")||"[]");n.push(o),localStorage.setItem("app_errors",JSON.stringify(n.slice(-10)))}catch(n){console.error("Failed to save error to localStorage:",n)}});ce(this,"handleReset",()=>{this.setState({hasError:!1,error:null,errorInfo:null})});ce(this,"handleGoHome",()=>{window.location.href="/"});ce(this,"handleReload",()=>{window.location.reload()});this.state={hasError:!1,error:null,errorInfo:null,errorCount:0}}static getDerivedStateFromError(s){return{hasError:!0}}componentDidCatch(s,a){console.error("üö® ErrorBoundary caught an error:",s),console.error("üìç Error info:",a),this.setState(o=>({error:s,errorInfo:a,errorCount:o.errorCount+1})),this.props.onError&&this.props.onError(s,a),this.logErrorToService(s,a)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:e.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-gray-100 flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-2xl w-full",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-red-500 to-pink-500 p-8 text-white",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"bg-white/20 rounded-full p-4",children:e.jsx(Ae,{className:"w-12 h-12"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Oops! Algo deu errado"}),e.jsx("p",{className:"text-white/90 text-lg",children:"Encontramos um erro inesperado"})]})]})}),e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("p",{className:"text-gray-700 text-lg mb-4",children:"N√£o se preocupe, n√£o √© culpa sua! Nossa equipe foi notificada e estamos trabalhando para resolver o problema."}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[e.jsx("span",{className:"text-blue-500",children:"‚ÑπÔ∏è"}),"O que voc√™ pode fazer:"]}),e.jsxs("ul",{className:"space-y-2 text-gray-600",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-500 mt-1",children:"‚úì"}),e.jsx("span",{children:"Recarregar a p√°gina para tentar novamente"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-500 mt-1",children:"‚úì"}),e.jsx("span",{children:"Voltar para a p√°gina inicial"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-500 mt-1",children:"‚úì"}),e.jsx("span",{children:"Limpar o cache do seu navegador"})]})]})]})]}),!1,e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mt-8",children:[e.jsxs(q,{onClick:this.handleReload,className:"flex-1 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white",size:"lg",children:[e.jsx(Pt,{className:"w-5 h-5 mr-2"}),"Recarregar P√°gina"]}),e.jsxs(q,{onClick:this.handleGoHome,variant:"outline",className:"flex-1 border-2",size:"lg",children:[e.jsx(ae,{className:"w-5 h-5 mr-2"}),"Ir para In√≠cio"]})]}),e.jsx("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("span",{className:"font-semibold",children:"Precisa de ajuda?"})," Se o problema persistir, entre em contato conosco atrav√©s do"," ",e.jsx("a",{href:"/sobre",className:"underline hover:text-blue-900 font-semibold",onClick:s=>{s.preventDefault(),this.handleGoHome()},children:"formul√°rio de contato"}),"."]})})]}),e.jsx("div",{className:"bg-gray-50 px-8 py-4 border-t border-gray-200",children:e.jsxs("p",{className:"text-center text-sm text-gray-600",children:["C√≥digo do erro: ",e.jsxs("code",{className:"bg-gray-200 px-2 py-1 rounded font-mono text-xs",children:["ERR_",new Date().getTime()]})]})})]}),e.jsx("div",{className:"mt-6 text-center text-sm text-gray-600",children:e.jsx("p",{children:"üéµ A M√∫sica da Segunda - Nova m√∫sica toda segunda-feira"})})]})}):this.props.children}}const Vr={},$r=(t,r)=>{console.log("üî¥ Global error handler:",{error:t,errorInfo:r})};As.createRoot(document.getElementById("root")).render(e.jsx(Rt.StrictMode,{children:e.jsx(Br,{onError:$r,children:e.jsx(Cs,{context:Vr,children:e.jsx(zr,{})})})}));try{z(()=>import("./webvitals-B44qvw7I.js"),__vite__mapDeps([24,2,1])).catch(()=>{})}catch(t){console.warn("üîß Mode non-module d√©tect√©, Web Vitals d√©sactiv√©")}if("serviceWorker"in navigator){const t=()=>b(null,null,function*(){var r;try{const{Capacitor:s}=yield z(()=>b(null,null,function*(){const{Capacitor:a}=yield import("./vendor-ui-BUbFcrva.js").then(o=>o.b4);return{Capacitor:a}}),__vite__mapDeps([2,1]));return((r=s.isNativePlatform)==null?void 0:r.call(s))===!0}catch(s){return!1}});window.addEventListener("load",()=>b(null,null,function*(){(yield t())||navigator.serviceWorker.register("/sw.js").catch(console.error)}))}const qr=()=>b(null,null,function*(){var t;try{const{Capacitor:r}=yield z(()=>b(null,null,function*(){const{Capacitor:s}=yield import("./vendor-ui-BUbFcrva.js").then(a=>a.b4);return{Capacitor:s}}),__vite__mapDeps([2,1]));if((t=r.isNativePlatform)!=null&&t.call(r)){const{SplashScreen:s}=yield z(()=>b(null,null,function*(){const{SplashScreen:a}=yield import("./vendor-ui-BUbFcrva.js").then(o=>o.b5);return{SplashScreen:a}}),__vite__mapDeps([2,1]));yield s.hide()}}catch(r){}});qr();export{q as B,Fs as C,Ke as D,Zs as L,ft as S,Oe as a,Me as b,Pe as c,Ws as d,B as e,qt as f,$t as g,we as h,te as l,D as s,zt as u};
