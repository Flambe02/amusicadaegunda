const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/TikTokDemo-7EJRoNPo.js","assets/ui-Cj0cQA2E.js","assets/vendor-S3TIWv48.js","assets/utils-BrH8iV8Q.js","assets/index-CNkd3vIL.js","assets/index-BeggUThu.js"])))=>i.map(i=>d[i]);
var sh=Object.defineProperty,rh=Object.defineProperties;var ah=Object.getOwnPropertyDescriptors;var va=Object.getOwnPropertySymbols;var Io=Object.prototype.hasOwnProperty,Mo=Object.prototype.propertyIsEnumerable;var Do=Math.pow,En=(s,e,t)=>e in s?sh(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,p=(s,e)=>{for(var t in e||(e={}))Io.call(e,t)&&En(s,t,e[t]);if(va)for(var t of va(e))Mo.call(e,t)&&En(s,t,e[t]);return s},A=(s,e)=>rh(s,ah(e));var $=(s,e)=>{var t={};for(var a in s)Io.call(s,a)&&e.indexOf(a)<0&&(t[a]=s[a]);if(s!=null&&va)for(var a of va(s))e.indexOf(a)<0&&Mo.call(s,a)&&(t[a]=s[a]);return t};var ut=(s,e,t)=>En(s,typeof e!="symbol"?e+"":e,t);var x=(s,e,t)=>new Promise((a,n)=>{var i=c=>{try{l(t.next(c))}catch(d){n(d)}},o=c=>{try{l(t.throw(c))}catch(d){n(d)}},l=c=>c.done?a(c.value):Promise.resolve(c.value).then(i,o);l((t=t.apply(s,e)).next())});import{r as h,j as r,_ as Z,t as nh,a as cn,S as ih,O as Ec,P as oh,C as Cc,b as lh,T as Ac,D as Oc,R as ch,u as tt,c as Rc,d as Pc,e as ze,f as dn,g as Re,h as ps,i as rs,k as Ut,l as Ic,m as dh,A as uh,n as hh,o as Mc,p as Zi,q as mh,s as fh,v as ph,w as gh,F as xh,x as bh,y as yh,z as Lo,B as vh,E as wh}from"./ui-Cj0cQA2E.js";import{a as _h,g as la,b as Dc}from"./vendor-S3TIWv48.js";import{c as Lc,t as jh,b as Cn,a as Ar,d as Or,e as Sh,s as qa,f as Ha,p as ye,i as $c,g as oe,h as $o,j as Uo,k as An,l as Bo}from"./utils-BrH8iV8Q.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function t(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(n){if(n.ep)return;n.ep=!0;const i=t(n);fetch(n.href,i)}})();const Nh="modulepreload",kh=function(s){return"/"+s},Fo={},It=function(e,t,a){let n=Promise.resolve();if(t&&t.length>0){let o=function(d){return Promise.all(d.map(u=>Promise.resolve(u).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));n=o(t.map(d=>{if(d=kh(d),d in Fo)return;Fo[d]=!0;const u=d.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${f}`))return;const m=document.createElement("link");if(m.rel=u?"stylesheet":Nh,u||(m.as="script"),m.crossOrigin="",m.href=d,c&&m.setAttribute("nonce",c),document.head.appendChild(m),u)return new Promise((g,v)=>{m.addEventListener("load",g),m.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${d}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return n.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})};var wa={},Vo;function Th(){if(Vo)return wa;Vo=1;var s=_h();return wa.createRoot=s.createRoot,wa.hydrateRoot=s.hydrateRoot,wa}var Eh=Th();const Ch=la(Eh);/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var zo="popstate";function Ah(s={}){function e(a,n){let{pathname:i,search:o,hash:l}=a.location;return di("",{pathname:i,search:o,hash:l},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function t(a,n){return typeof n=="string"?n:Xr(n)}return Rh(e,t,null,s)}function Me(s,e){if(s===!1||s===null||typeof s=="undefined")throw new Error(e)}function Vt(s,e){if(!s){typeof console!="undefined"&&console.warn(e);try{throw new Error(e)}catch(t){}}}function Oh(){return Math.random().toString(36).substring(2,10)}function qo(s,e){return{usr:s.state,key:s.key,idx:e}}function di(s,e,t=null,a){return A(p({pathname:typeof s=="string"?s:s.pathname,search:"",hash:""},typeof e=="string"?br(e):e),{state:t,key:e&&e.key||a||Oh()})}function Xr({pathname:s="/",search:e="",hash:t=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(s+=t.charAt(0)==="#"?t:"#"+t),s}function br(s){let e={};if(s){let t=s.indexOf("#");t>=0&&(e.hash=s.substring(t),s=s.substring(0,t));let a=s.indexOf("?");a>=0&&(e.search=s.substring(a),s=s.substring(0,a)),s&&(e.pathname=s)}return e}function Rh(s,e,t,a={}){let{window:n=document.defaultView,v5Compat:i=!1}=a,o=n.history,l="POP",c=null,d=u();d==null&&(d=0,o.replaceState(A(p({},o.state),{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function f(){l="POP";let b=u(),C=b==null?null:b-d;d=b,c&&c({action:l,location:j.location,delta:C})}function m(b,C){l="PUSH";let k=di(j.location,b,C);d=u()+1;let y=qo(k,d),N=j.createHref(k);try{o.pushState(y,"",N)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;n.location.assign(N)}i&&c&&c({action:l,location:j.location,delta:1})}function g(b,C){l="REPLACE";let k=di(j.location,b,C);d=u();let y=qo(k,d),N=j.createHref(k);o.replaceState(y,"",N),i&&c&&c({action:l,location:j.location,delta:0})}function v(b){return Ph(b)}let j={get action(){return l},get location(){return s(n,o)},listen(b){if(c)throw new Error("A history only accepts one active listener");return n.addEventListener(zo,f),c=b,()=>{n.removeEventListener(zo,f),c=null}},createHref(b){return e(n,b)},createURL:v,encodeLocation(b){let C=v(b);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:m,replace:g,go(b){return o.go(b)}};return j}function Ph(s,e=!1){let t="http://localhost";typeof window!="undefined"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Me(t,"No window.location.(origin|href) available to create URL");let a=typeof s=="string"?s:Xr(s);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=t+a),new URL(a,t)}function Uc(s,e,t="/"){return Ih(s,e,t,!1)}function Ih(s,e,t,a){let n=typeof e=="string"?br(e):e,i=as(n.pathname||"/",t);if(i==null)return null;let o=Bc(s);Mh(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=Wh(i);l=qh(o[c],d,a)}return l}function Bc(s,e=[],t=[],a="",n=!1){let i=(o,l,c=n,d)=>{let u={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(u.relativePath.startsWith("/")){if(!u.relativePath.startsWith(a)&&c)return;Me(u.relativePath.startsWith(a),`Absolute route path "${u.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(a.length)}let f=ss([a,u.relativePath]),m=t.concat(u);o.children&&o.children.length>0&&(Me(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),Bc(o.children,e,m,f,c)),!(o.path==null&&!o.index)&&e.push({path:f,score:Vh(f,o.index),routesMeta:m})};return s.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))i(o,l);else for(let d of Fc(o.path))i(o,l,!0,d)}),e}function Fc(s){let e=s.split("/");if(e.length===0)return[];let[t,...a]=e,n=t.endsWith("?"),i=t.replace(/\?$/,"");if(a.length===0)return n?[i,""]:[i];let o=Fc(a.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),n&&l.push(...o),l.map(c=>s.startsWith("/")&&c===""?"/":c)}function Mh(s){s.sort((e,t)=>e.score!==t.score?t.score-e.score:zh(e.routesMeta.map(a=>a.childrenIndex),t.routesMeta.map(a=>a.childrenIndex)))}var Dh=/^:[\w-]+$/,Lh=3,$h=2,Uh=1,Bh=10,Fh=-2,Ho=s=>s==="*";function Vh(s,e){let t=s.split("/"),a=t.length;return t.some(Ho)&&(a+=Fh),e&&(a+=$h),t.filter(n=>!Ho(n)).reduce((n,i)=>n+(Dh.test(i)?Lh:i===""?Uh:Bh),a)}function zh(s,e){return s.length===e.length&&s.slice(0,-1).every((a,n)=>a===e[n])?s[s.length-1]-e[e.length-1]:0}function qh(s,e,t=!1){let{routesMeta:a}=s,n={},i="/",o=[];for(let l=0;l<a.length;++l){let c=a[l],d=l===a.length-1,u=i==="/"?e:e.slice(i.length)||"/",f=Wa({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),m=c.route;if(!f&&d&&t&&!a[a.length-1].route.index&&(f=Wa({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!f)return null;Object.assign(n,f.params),o.push({params:n,pathname:ss([i,f.pathname]),pathnameBase:Zh(ss([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=ss([i,f.pathnameBase]))}return o}function Wa(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[t,a]=Hh(s.path,s.caseSensitive,s.end),n=e.match(t);if(!n)return null;let i=n[0],o=i.replace(/(.)\/+$/,"$1"),l=n.slice(1);return{params:a.reduce((d,{paramName:u,isOptional:f},m)=>{if(u==="*"){let v=l[m]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const g=l[m];return f&&!g?d[u]=void 0:d[u]=(g||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:s}}function Hh(s,e=!1,t=!0){Vt(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let a=[],n="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(a.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(a.push({paramName:"*"}),n+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?n+="\\/*$":s!==""&&s!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,e?void 0:"i"),a]}function Wh(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Vt(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function as(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,a=s.charAt(t);return a&&a!=="/"?null:s.slice(t)||"/"}function Yh(s,e="/"){let{pathname:t,search:a="",hash:n=""}=typeof s=="string"?br(s):s;return{pathname:t?t.startsWith("/")?t:Gh(t,e):e,search:Jh(a),hash:Xh(n)}}function Gh(s,e){let t=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(n=>{n===".."?t.length>1&&t.pop():n!=="."&&t.push(n)}),t.length>1?t.join("/"):"/"}function On(s,e,t,a){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Kh(s){return s.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Vc(s){let e=Kh(s);return e.map((t,a)=>a===e.length-1?t.pathname:t.pathnameBase)}function zc(s,e,t,a=!1){let n;typeof s=="string"?n=br(s):(n=p({},s),Me(!n.pathname||!n.pathname.includes("?"),On("?","pathname","search",n)),Me(!n.pathname||!n.pathname.includes("#"),On("#","pathname","hash",n)),Me(!n.search||!n.search.includes("#"),On("#","search","hash",n)));let i=s===""||n.pathname==="",o=i?"/":n.pathname,l;if(o==null)l=t;else{let f=e.length-1;if(!a&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;n.pathname=m.join("/")}l=f>=0?e[f]:"/"}let c=Yh(n,l),d=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}var ss=s=>s.join("/").replace(/\/\/+/g,"/"),Zh=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),Jh=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,Xh=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function Qh(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var qc=["POST","PUT","PATCH","DELETE"];new Set(qc);var em=["GET",...qc];new Set(em);var yr=h.createContext(null);yr.displayName="DataRouter";var un=h.createContext(null);un.displayName="DataRouterState";h.createContext(!1);var Hc=h.createContext({isTransitioning:!1});Hc.displayName="ViewTransition";var tm=h.createContext(new Map);tm.displayName="Fetchers";var sm=h.createContext(null);sm.displayName="Await";var Ht=h.createContext(null);Ht.displayName="Navigation";var ca=h.createContext(null);ca.displayName="Location";var Wt=h.createContext({outlet:null,matches:[],isDataRoute:!1});Wt.displayName="Route";var Ji=h.createContext(null);Ji.displayName="RouteError";function rm(s,{relative:e}={}){Me(da(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:a}=h.useContext(Ht),{hash:n,pathname:i,search:o}=ua(s,{relative:e}),l=i;return t!=="/"&&(l=i==="/"?t:ss([t,i])),a.createHref({pathname:l,search:o,hash:n})}function da(){return h.useContext(ca)!=null}function ls(){return Me(da(),"useLocation() may be used only in the context of a <Router> component."),h.useContext(ca).location}var Wc="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Yc(s){h.useContext(Ht).static||h.useLayoutEffect(s)}function hn(){let{isDataRoute:s}=h.useContext(Wt);return s?xm():am()}function am(){Me(da(),"useNavigate() may be used only in the context of a <Router> component.");let s=h.useContext(yr),{basename:e,navigator:t}=h.useContext(Ht),{matches:a}=h.useContext(Wt),{pathname:n}=ls(),i=JSON.stringify(Vc(a)),o=h.useRef(!1);return Yc(()=>{o.current=!0}),h.useCallback((c,d={})=>{if(Vt(o.current,Wc),!o.current)return;if(typeof c=="number"){t.go(c);return}let u=zc(c,JSON.parse(i),n,d.relative==="path");s==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:ss([e,u.pathname])),(d.replace?t.replace:t.push)(u,d.state,d)},[e,t,i,n,s])}h.createContext(null);function nm(){let{matches:s}=h.useContext(Wt),e=s[s.length-1];return e?e.params:{}}function ua(s,{relative:e}={}){let{matches:t}=h.useContext(Wt),{pathname:a}=ls(),n=JSON.stringify(Vc(t));return h.useMemo(()=>zc(s,JSON.parse(n),a,e==="path"),[s,n,a,e])}function im(s,e){return Gc(s,e)}function Gc(s,e,t,a,n){var k;Me(da(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=h.useContext(Ht),{matches:o}=h.useContext(Wt),l=o[o.length-1],c=l?l.params:{},d=l?l.pathname:"/",u=l?l.pathnameBase:"/",f=l&&l.route;{let y=f&&f.path||"";Kc(d,!f||y.endsWith("*")||y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${y}"> to <Route path="${y==="/"?"*":`${y}/*`}">.`)}let m=ls(),g;if(e){let y=typeof e=="string"?br(e):e;Me(u==="/"||((k=y.pathname)==null?void 0:k.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${y.pathname}" was given in the \`location\` prop.`),g=y}else g=m;let v=g.pathname||"/",j=v;if(u!=="/"){let y=u.replace(/^\//,"").split("/");j="/"+v.replace(/^\//,"").split("/").slice(y.length).join("/")}let b=Uc(s,{pathname:j});Vt(f||b!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),Vt(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=um(b&&b.map(y=>Object.assign({},y,{params:Object.assign({},c,y.params),pathname:ss([u,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?u:ss([u,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),o,t,a,n);return e&&C?h.createElement(ca.Provider,{value:{location:p({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:"POP"}},C):C}function om(){let s=gm(),e=Qh(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),t=s instanceof Error?s.stack:null,a="rgba(200,200,200, 0.5)",n={padding:"0.5rem",backgroundColor:a},i={padding:"2px 4px",backgroundColor:a},o=null;return console.error("Error handled by React Router default ErrorBoundary:",s),o=h.createElement(h.Fragment,null,h.createElement("p",null,"ðŸ’¿ Hey developer ðŸ‘‹"),h.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",h.createElement("code",{style:i},"ErrorBoundary")," or"," ",h.createElement("code",{style:i},"errorElement")," prop on your route.")),h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},e),t?h.createElement("pre",{style:n},t):null,o)}var lm=h.createElement(om,null),cm=class extends h.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){this.props.unstable_onError?this.props.unstable_onError(s,e):console.error("React Router caught the following error during render",s)}render(){return this.state.error!==void 0?h.createElement(Wt.Provider,{value:this.props.routeContext},h.createElement(Ji.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function dm({routeContext:s,match:e,children:t}){let a=h.useContext(yr);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),h.createElement(Wt.Provider,{value:s},t)}function um(s,e=[],t=null,a=null,n=null){if(s==null){if(!t)return null;if(t.errors)s=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)s=t.matches;else return null}let i=s,o=t==null?void 0:t.errors;if(o!=null){let d=i.findIndex(u=>u.route.id&&(o==null?void 0:o[u.route.id])!==void 0);Me(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,c=-1;if(t)for(let d=0;d<i.length;d++){let u=i[d];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(c=d),u.route.id){let{loaderData:f,errors:m}=t,g=u.route.loader&&!f.hasOwnProperty(u.route.id)&&(!m||m[u.route.id]===void 0);if(u.route.lazy||g){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((d,u,f)=>{let m,g=!1,v=null,j=null;t&&(m=o&&u.route.id?o[u.route.id]:void 0,v=u.route.errorElement||lm,l&&(c<0&&f===0?(Kc("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,j=null):c===f&&(g=!0,j=u.route.hydrateFallbackElement||null)));let b=e.concat(i.slice(0,f+1)),C=()=>{let k;return m?k=v:g?k=j:u.route.Component?k=h.createElement(u.route.Component,null):u.route.element?k=u.route.element:k=d,h.createElement(dm,{match:u,routeContext:{outlet:d,matches:b,isDataRoute:t!=null},children:k})};return t&&(u.route.ErrorBoundary||u.route.errorElement||f===0)?h.createElement(cm,{location:t.location,revalidation:t.revalidation,component:v,error:m,children:C(),routeContext:{outlet:null,matches:b,isDataRoute:!0},unstable_onError:a}):C()},null)}function Xi(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hm(s){let e=h.useContext(yr);return Me(e,Xi(s)),e}function mm(s){let e=h.useContext(un);return Me(e,Xi(s)),e}function fm(s){let e=h.useContext(Wt);return Me(e,Xi(s)),e}function Qi(s){let e=fm(s),t=e.matches[e.matches.length-1];return Me(t.route.id,`${s} can only be used on routes that contain a unique "id"`),t.route.id}function pm(){return Qi("useRouteId")}function gm(){var a;let s=h.useContext(Ji),e=mm("useRouteError"),t=Qi("useRouteError");return s!==void 0?s:(a=e.errors)==null?void 0:a[t]}function xm(){let{router:s}=hm("useNavigate"),e=Qi("useNavigate"),t=h.useRef(!1);return Yc(()=>{t.current=!0}),h.useCallback((o,...l)=>x(null,[o,...l],function*(n,i={}){Vt(t.current,Wc),t.current&&(typeof n=="number"?s.navigate(n):yield s.navigate(n,p({fromRouteId:e},i)))}),[s,e])}var Wo={};function Kc(s,e,t){!e&&!Wo[s]&&(Wo[s]=!0,Vt(!1,t))}h.memo(bm);function bm({routes:s,future:e,state:t,unstable_onError:a}){return Gc(s,void 0,t,a,e)}function Zc(s){Me(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ym({basename:s="/",children:e=null,location:t,navigationType:a="POP",navigator:n,static:i=!1}){Me(!da(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=s.replace(/^\/*/,"/"),l=h.useMemo(()=>({basename:o,navigator:n,static:i,future:{}}),[o,n,i]);typeof t=="string"&&(t=br(t));let{pathname:c="/",search:d="",hash:u="",state:f=null,key:m="default"}=t,g=h.useMemo(()=>{let v=as(c,o);return v==null?null:{location:{pathname:v,search:d,hash:u,state:f,key:m},navigationType:a}},[o,c,d,u,f,m,a]);return Vt(g!=null,`<Router basename="${o}"> is not able to match the URL "${c}${d}${u}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:h.createElement(Ht.Provider,{value:l},h.createElement(ca.Provider,{children:e,value:g}))}function vm({children:s,location:e}){return im(ui(s),e)}function ui(s,e=[]){let t=[];return h.Children.forEach(s,(a,n)=>{if(!h.isValidElement(a))return;let i=[...e,n];if(a.type===h.Fragment){t.push.apply(t,ui(a.props.children,i));return}Me(a.type===Zc,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Me(!a.props.index||!a.props.children,"An index route cannot have child routes.");let o={id:a.props.id||i.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(o.children=ui(a.props.children,i)),t.push(o)}),t}var Ma="get",Da="application/x-www-form-urlencoded";function mn(s){return s!=null&&typeof s.tagName=="string"}function wm(s){return mn(s)&&s.tagName.toLowerCase()==="button"}function _m(s){return mn(s)&&s.tagName.toLowerCase()==="form"}function jm(s){return mn(s)&&s.tagName.toLowerCase()==="input"}function Sm(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function Nm(s,e){return s.button===0&&(!e||e==="_self")&&!Sm(s)}var _a=null;function km(){if(_a===null)try{new FormData(document.createElement("form"),0),_a=!1}catch(s){_a=!0}return _a}var Tm=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Rn(s){return s!=null&&!Tm.has(s)?(Vt(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Da}"`),null):s}function Em(s,e){let t,a,n,i,o;if(_m(s)){let l=s.getAttribute("action");a=l?as(l,e):null,t=s.getAttribute("method")||Ma,n=Rn(s.getAttribute("enctype"))||Da,i=new FormData(s)}else if(wm(s)||jm(s)&&(s.type==="submit"||s.type==="image")){let l=s.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=s.getAttribute("formaction")||l.getAttribute("action");if(a=c?as(c,e):null,t=s.getAttribute("formmethod")||l.getAttribute("method")||Ma,n=Rn(s.getAttribute("formenctype"))||Rn(l.getAttribute("enctype"))||Da,i=new FormData(l,s),!km()){let{name:d,type:u,value:f}=s;if(u==="image"){let m=d?`${d}.`:"";i.append(`${m}x`,"0"),i.append(`${m}y`,"0")}else d&&i.append(d,f)}}else{if(mn(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Ma,a=null,n=Da,o=s}return i&&n==="text/plain"&&(o=i,i=void 0),{action:a,method:t.toLowerCase(),encType:n,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function eo(s,e){if(s===!1||s===null||typeof s=="undefined")throw new Error(e)}function Cm(s,e,t){let a=typeof s=="string"?new URL(s,typeof window=="undefined"?"server://singlefetch/":window.location.origin):s;return a.pathname==="/"?a.pathname=`_root.${t}`:e&&as(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${t}`,a}function Am(s,e){return x(this,null,function*(){if(s.id in e)return e[s.id];try{let t=yield import(s.module);return e[s.id]=t,t}catch(t){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}})}function Om(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}function Rm(s,e,t){return x(this,null,function*(){let a=yield Promise.all(s.map(n=>x(null,null,function*(){let i=e.routes[n.route.id];if(i){let o=yield Am(i,t);return o.links?o.links():[]}return[]})));return Dm(a.flat(1).filter(Om).filter(n=>n.rel==="stylesheet"||n.rel==="preload").map(n=>n.rel==="stylesheet"?A(p({},n),{rel:"prefetch",as:"style"}):A(p({},n),{rel:"prefetch"})))})}function Yo(s,e,t,a,n,i){let o=(c,d)=>t[d]?c.route.id!==t[d].route.id:!0,l=(c,d)=>{var u;return t[d].pathname!==c.pathname||((u=t[d].route.path)==null?void 0:u.endsWith("*"))&&t[d].params["*"]!==c.params["*"]};return i==="assets"?e.filter((c,d)=>o(c,d)||l(c,d)):i==="data"?e.filter((c,d)=>{var f;let u=a.routes[c.route.id];if(!u||!u.hasLoader)return!1;if(o(c,d)||l(c,d))return!0;if(c.route.shouldRevalidate){let m=c.route.shouldRevalidate({currentUrl:new URL(n.pathname+n.search+n.hash,window.origin),currentParams:((f=t[0])==null?void 0:f.params)||{},nextUrl:new URL(s,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function Pm(s,e,{includeHydrateFallback:t}={}){return Im(s.map(a=>{let n=e.routes[a.route.id];if(!n)return[];let i=[n.module];return n.clientActionModule&&(i=i.concat(n.clientActionModule)),n.clientLoaderModule&&(i=i.concat(n.clientLoaderModule)),t&&n.hydrateFallbackModule&&(i=i.concat(n.hydrateFallbackModule)),n.imports&&(i=i.concat(n.imports)),i}).flat(1))}function Im(s){return[...new Set(s)]}function Mm(s){let e={},t=Object.keys(s).sort();for(let a of t)e[a]=s[a];return e}function Dm(s,e){let t=new Set;return new Set(e),s.reduce((a,n)=>{let i=JSON.stringify(Mm(n));return t.has(i)||(t.add(i),a.push({key:i,link:n})),a},[])}function Jc(){let s=h.useContext(yr);return eo(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function Lm(){let s=h.useContext(un);return eo(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var to=h.createContext(void 0);to.displayName="FrameworkContext";function Xc(){let s=h.useContext(to);return eo(s,"You must render this element inside a <HydratedRouter> element"),s}function $m(s,e){let t=h.useContext(to),[a,n]=h.useState(!1),[i,o]=h.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:d,onMouseLeave:u,onTouchStart:f}=e,m=h.useRef(null);h.useEffect(()=>{if(s==="render"&&o(!0),s==="viewport"){let j=C=>{C.forEach(k=>{o(k.isIntersecting)})},b=new IntersectionObserver(j,{threshold:.5});return m.current&&b.observe(m.current),()=>{b.disconnect()}}},[s]),h.useEffect(()=>{if(a){let j=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(j)}}},[a]);let g=()=>{n(!0)},v=()=>{n(!1),o(!1)};return t?s!=="intent"?[i,m,{}]:[i,m,{onFocus:Rr(l,g),onBlur:Rr(c,v),onMouseEnter:Rr(d,g),onMouseLeave:Rr(u,v),onTouchStart:Rr(f,g)}]:[!1,m,{}]}function Rr(s,e){return t=>{s&&s(t),t.defaultPrevented||e(t)}}function Um(t){var a=t,{page:s}=a,e=$(a,["page"]);let{router:n}=Jc(),i=h.useMemo(()=>Uc(n.routes,s,n.basename),[n.routes,s,n.basename]);return i?h.createElement(Fm,p({page:s,matches:i},e)):null}function Bm(s){let{manifest:e,routeModules:t}=Xc(),[a,n]=h.useState([]);return h.useEffect(()=>{let i=!1;return Rm(s,e,t).then(o=>{i||n(o)}),()=>{i=!0}},[s,e,t]),a}function Fm(a){var n=a,{page:s,matches:e}=n,t=$(n,["page","matches"]);let i=ls(),{manifest:o,routeModules:l}=Xc(),{basename:c}=Jc(),{loaderData:d,matches:u}=Lm(),f=h.useMemo(()=>Yo(s,e,u,o,i,"data"),[s,e,u,o,i]),m=h.useMemo(()=>Yo(s,e,u,o,i,"assets"),[s,e,u,o,i]),g=h.useMemo(()=>{if(s===i.pathname+i.search+i.hash)return[];let b=new Set,C=!1;if(e.forEach(y=>{var S;let N=o.routes[y.route.id];!N||!N.hasLoader||(!f.some(T=>T.route.id===y.route.id)&&y.route.id in d&&((S=l[y.route.id])!=null&&S.shouldRevalidate)||N.hasClientLoader?C=!0:b.add(y.route.id))}),b.size===0)return[];let k=Cm(s,c,"data");return C&&b.size>0&&k.searchParams.set("_routes",e.filter(y=>b.has(y.route.id)).map(y=>y.route.id).join(",")),[k.pathname+k.search]},[c,d,i,o,f,e,s,l]),v=h.useMemo(()=>Pm(m,o),[m,o]),j=Bm(m);return h.createElement(h.Fragment,null,g.map(b=>h.createElement("link",p({key:b,rel:"prefetch",as:"fetch",href:b},t))),v.map(b=>h.createElement("link",p({key:b,rel:"modulepreload",href:b},t))),j.map(({key:b,link:C})=>h.createElement("link",p({key:b,nonce:t.nonce},C))))}function Vm(...s){return e=>{s.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Qc=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined";try{Qc&&(window.__reactRouterVersion="7.8.2")}catch(s){}function zm({basename:s,children:e,window:t}){let a=h.useRef();a.current==null&&(a.current=Ah({window:t,v5Compat:!0}));let n=a.current,[i,o]=h.useState({action:n.action,location:n.location}),l=h.useCallback(c=>{h.startTransition(()=>o(c))},[o]);return h.useLayoutEffect(()=>n.listen(l),[n,l]),h.createElement(ym,{basename:s,children:e,location:i.location,navigationType:i.action,navigator:n})}var ed=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wr=h.forwardRef(function(v,g){var j=v,{onClick:e,discover:t="render",prefetch:a="none",relative:n,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:f}=j,m=$(j,["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"]);let{basename:b}=h.useContext(Ht),C=typeof d=="string"&&ed.test(d),k,y=!1;if(typeof d=="string"&&C&&(k=d,Qc))try{let B=new URL(window.location.href),te=d.startsWith("//")?new URL(B.protocol+d):new URL(d),ge=as(te.pathname,b);te.origin===B.origin&&ge!=null?d=ge+te.search+te.hash:y=!0}catch(B){Vt(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let N=rm(d,{relative:n}),[S,T,E]=$m(a,m),I=Ym(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:n,viewTransition:f});function P(B){e&&e(B),B.defaultPrevented||I(B)}let V=h.createElement("a",A(p(p({},m),E),{href:k||N,onClick:y||i?e:P,ref:Vm(g,T),target:c,"data-discover":!C&&t==="render"?"true":void 0}));return S&&!C?h.createElement(h.Fragment,null,V,h.createElement(Um,{page:N})):V});Wr.displayName="Link";var qm=h.forwardRef(function(f,u){var m=f,{"aria-current":e="page",caseSensitive:t=!1,className:a="",end:n=!1,style:i,to:o,viewTransition:l,children:c}=m,d=$(m,["aria-current","caseSensitive","className","end","style","to","viewTransition","children"]);let g=ua(o,{relative:d.relative}),v=ls(),j=h.useContext(un),{navigator:b,basename:C}=h.useContext(Ht),k=j!=null&&Xm(g)&&l===!0,y=b.encodeLocation?b.encodeLocation(g).pathname:g.pathname,N=v.pathname,S=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;t||(N=N.toLowerCase(),S=S?S.toLowerCase():null,y=y.toLowerCase()),S&&C&&(S=as(S,C)||S);const T=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let E=N===y||!n&&N.startsWith(y)&&N.charAt(T)==="/",I=S!=null&&(S===y||!n&&S.startsWith(y)&&S.charAt(y.length)==="/"),P={isActive:E,isPending:I,isTransitioning:k},V=E?e:void 0,B;typeof a=="function"?B=a(P):B=[a,E?"active":null,I?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let te=typeof i=="function"?i(P):i;return h.createElement(Wr,A(p({},d),{"aria-current":V,className:B,ref:u,style:te,to:o,viewTransition:l}),typeof c=="function"?c(P):c)});qm.displayName="NavLink";var Hm=h.forwardRef((v,g)=>{var j=v,{discover:s="render",fetcherKey:e,navigate:t,reloadDocument:a,replace:n,state:i,method:o=Ma,action:l,onSubmit:c,relative:d,preventScrollReset:u,viewTransition:f}=j,m=$(j,["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"]);let b=Zm(),C=Jm(l,{relative:d}),k=o.toLowerCase()==="get"?"get":"post",y=typeof l=="string"&&ed.test(l),N=S=>{if(c&&c(S),S.defaultPrevented)return;S.preventDefault();let T=S.nativeEvent.submitter,E=(T==null?void 0:T.getAttribute("formmethod"))||o;b(T||S.currentTarget,{fetcherKey:e,method:E,navigate:t,replace:n,state:i,relative:d,preventScrollReset:u,viewTransition:f})};return h.createElement("form",A(p({ref:g,method:k,action:C,onSubmit:a?c:N},m),{"data-discover":!y&&s==="render"?"true":void 0}))});Hm.displayName="Form";function Wm(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function td(s){let e=h.useContext(yr);return Me(e,Wm(s)),e}function Ym(s,{target:e,replace:t,state:a,preventScrollReset:n,relative:i,viewTransition:o}={}){let l=hn(),c=ls(),d=ua(s,{relative:i});return h.useCallback(u=>{if(Nm(u,e)){u.preventDefault();let f=t!==void 0?t:Xr(c)===Xr(d);l(s,{replace:f,state:a,preventScrollReset:n,relative:i,viewTransition:o})}},[c,l,d,t,a,e,s,n,i,o])}var Gm=0,Km=()=>`__${String(++Gm)}__`;function Zm(){let{router:s}=td("useSubmit"),{basename:e}=h.useContext(Ht),t=pm();return h.useCallback((i,...o)=>x(null,[i,...o],function*(a,n={}){let{action:l,method:c,encType:d,formData:u,body:f}=Em(a,e);if(n.navigate===!1){let m=n.fetcherKey||Km();yield s.fetch(m,t,n.action||l,{preventScrollReset:n.preventScrollReset,formData:u,body:f,formMethod:n.method||c,formEncType:n.encType||d,flushSync:n.flushSync})}else yield s.navigate(n.action||l,{preventScrollReset:n.preventScrollReset,formData:u,body:f,formMethod:n.method||c,formEncType:n.encType||d,replace:n.replace,state:n.state,fromRouteId:t,flushSync:n.flushSync,viewTransition:n.viewTransition})}),[s,e,t])}function Jm(s,{relative:e}={}){let{basename:t}=h.useContext(Ht),a=h.useContext(Wt);Me(a,"useFormAction must be used inside a RouteContext");let[n]=a.matches.slice(-1),i=p({},ua(s||".",{relative:e})),o=ls();if(s==null){i.search=o.search;let l=new URLSearchParams(i.search),c=l.getAll("index");if(c.some(u=>u==="")){l.delete("index"),c.filter(f=>f).forEach(f=>l.append("index",f));let u=l.toString();i.search=u?`?${u}`:""}}return(!s||s===".")&&n.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(i.pathname=i.pathname==="/"?t:ss([t,i.pathname])),Xr(i)}function Xm(s,{relative:e}={}){let t=h.useContext(Hc);Me(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=td("useViewTransitionState"),n=ua(s,{relative:e});if(!t.isTransitioning)return!1;let i=as(t.currentLocation.pathname,a)||t.currentLocation.pathname,o=as(t.nextLocation.pathname,a)||t.nextLocation.pathname;return Wa(n.pathname,o)!=null||Wa(n.pathname,i)!=null}function Ys(s){return"/"+s.toLowerCase().replace(/ /g,"-")}/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qm=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),sd=(...s)=>s.filter((e,t,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ef={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tf=h.forwardRef((d,c)=>{var u=d,{color:s="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:a,className:n="",children:i,iconNode:o}=u,l=$(u,["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"]);return h.createElement("svg",p(A(p({ref:c},ef),{width:e,height:e,stroke:s,strokeWidth:a?Number(t)*24/Number(e):t,className:sd("lucide",n)}),l),[...o.map(([f,m])=>h.createElement(f,m)),...Array.isArray(i)?i:[i]])});/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=(s,e)=>{const t=h.forwardRef((o,i)=>{var l=o,{className:a}=l,n=$(l,["className"]);return h.createElement(tf,p({ref:i,iconNode:e,className:sd(`lucide-${Qm(s)}`,a)},n))});return t.displayName=`${s}`,t};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sf=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Qr=J("ArrowLeft",sf);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rf=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],af=J("ArrowRight",rf);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nf=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],Go=J("ArrowUp",nf);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const of=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],lf=J("Award",of);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cf=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Ko=J("Bell",cf);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const df=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Mt=J("Calendar",df);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uf=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],hf=J("Check",uf);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mf=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],so=J("ChevronDown",mf);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ff=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],dr=J("ChevronLeft",ff);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pf=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],rd=J("ChevronRight",pf);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gf=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],xf=J("ChevronUp",gf);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bf=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],vs=J("CircleAlert",bf);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yf=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ro=J("CircleCheckBig",yf);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vf=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],wf=J("CircleHelp",vf);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _f=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Zo=J("Download",_f);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jf=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Is=J("ExternalLink",jf);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sf=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],hi=J("EyeOff",Sf);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nf=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],mi=J("Eye",Nf);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kf=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],zt=J("FileText",kf);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tf=[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]],Ef=J("Filter",Tf);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cf=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],fi=J("Gift",Cf);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Af=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],Jo=J("Hash",Af);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Of=[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]],Rf=J("Headphones",Of);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pf=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],If=J("Heart",Pf);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mf=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Yr=J("House",Mf);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Df=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],ao=J("Info",Df);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lf=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],Xo=J("Instagram",Lf);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $f=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],Uf=J("KeyRound",$f);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bf=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],Qo=J("Lightbulb",Bf);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ff=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],el=J("Link",Ff);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vf=[["path",{d:"M21 15V6",key:"h1cx4g"}],["path",{d:"M18.5 18a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z",key:"8saifv"}],["path",{d:"M12 12H3",key:"18klou"}],["path",{d:"M16 6H3",key:"1wxfjs"}],["path",{d:"M12 18H3",key:"11ftsu"}]],zf=J("ListMusic",Vf);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qf=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],nr=J("LoaderCircle",qf);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hf=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Ya=J("Lock",Hf);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wf=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],pi=J("Mail",Wf);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yf=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],Gf=J("MessageCircle",Yf);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kf=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],Se=J("Music",Kf);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zf=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],Jf=J("Pause",Zf);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xf=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],gt=J("Play",Xf);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qf=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ep=J("Plus",Qf);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tp=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],gs=J("RefreshCw",tp);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sp=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],tl=J("RotateCcw",sp);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rp=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Pn=J("Save",rp);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ap=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],gi=J("Search",ap);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const np=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],xi=J("Share2",np);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ip=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],sl=J("Shield",ip);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const op=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],ad=J("Sparkles",op);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lp=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],rl=J("SquarePen",lp);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cp=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],dp=J("Star",cp);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const up=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],hp=J("Timer",up);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mp=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],In=J("Trash2",mp);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fp=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],al=J("Upload",fp);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pp=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],gp=J("User",pp);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xp=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],nl=J("Users",xp);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bp=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],ur=J("Video",bp);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yp=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],vp=J("VolumeX",yp);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wp=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],mt=J("X",wp);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _p=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],jp=J("Youtube",_p);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sp=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Np=J("Zap",Sp),no=()=>{const s=navigator.userAgent||navigator.vendor||window.opera;return/iPad|iPhone|iPod/.test(s)&&!window.MSStream},nd=()=>window.navigator.standalone===!0||window.matchMedia("(display-mode: standalone)").matches,kp=()=>{const s=navigator.userAgent;return/Safari/.test(s)&&!/Chrome/.test(s)},Ga=()=>{const s=no(),e=nd(),t=localStorage.getItem("ios-tutorial-seen");return s&&!e&&!t};function Tp({onShowVisualGuide:s}){const[e,t]=h.useState(!1),[a,n]=h.useState(0),[i,o]=h.useState(!1),[l,c]=h.useState(!1);h.useEffect(()=>{const g=no(),v=nd();if(o(g),c(v),Ga()){const j=setTimeout(()=>{t(!0)},2e3);return()=>clearTimeout(j)}},[]);const d=[{title:"Adicionar Ã  tela inicial",description:"Clique no botÃ£o Compartilhar na parte inferior do seu navegador",icon:xi,arrow:Go,arrowPosition:"bottom-20 right-4",highlight:"share-button"},{title:"Selecionar a opÃ§Ã£o",description:"Depois escolha 'Na tela inicial' no menu",icon:Yr,arrow:af,arrowPosition:"bottom-16 right-20",highlight:"add-to-home"},{title:"Confirmar a adiÃ§Ã£o",description:"Pressione 'Adicionar' para instalar o aplicativo",icon:Yr,arrow:Go,arrowPosition:"bottom-12 right-16",highlight:"confirm-add"}],u=()=>{a<d.length-1?n(a+1):(t(!1),localStorage.setItem("ios-tutorial-seen","true"))},f=()=>{t(!1),localStorage.setItem("ios-tutorial-seen","true")},m=()=>{t(!1),localStorage.setItem("ios-tutorial-seen","true")};return!Ga()||!e?null:r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"fixed inset-0 bg-black/50 z-50",onClick:m}),r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl max-w-sm w-full mx-4 overflow-hidden",children:[r.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white p-6 text-center relative",children:[r.jsx("button",{onClick:m,className:"absolute top-4 right-4 p-2 rounded-full bg-white/20 hover:bg-white/30 transition-colors",children:r.jsx(mt,{className:"w-5 h-5"})}),r.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-4",children:(()=>{const g=d[a].icon;return r.jsx(g,{className:"w-8 h-8"})})()}),r.jsx("h2",{className:"text-xl font-bold mb-2",children:d[a].title}),r.jsx("p",{className:"text-blue-100 text-sm",children:d[a].description})]}),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"bg-gray-100 rounded-2xl p-4 mb-6 relative",children:[r.jsxs("div",{className:"bg-white rounded-xl p-3 mb-3 flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Safari"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-red-400 rounded-full"}),r.jsx("div",{className:"w-3 h-3 bg-yellow-400 rounded-full"}),r.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full"})]})]}),r.jsxs("div",{className:"bg-white rounded-xl p-3 flex items-center justify-between",children:[r.jsx("div",{className:"w-6 h-6 bg-gray-300 rounded"}),r.jsx("div",{className:"flex-1 mx-3 h-8 bg-gray-200 rounded-lg"}),r.jsx("div",{className:"w-6 h-6 bg-gray-300 rounded"})]}),r.jsx("div",{className:"bg-white rounded-xl p-3 mt-3 flex items-center justify-center",children:r.jsxs("div",{className:"flex items-center gap-2 text-blue-600",children:[r.jsx(xi,{className:"w-5 h-5"}),r.jsx("span",{className:"text-sm font-medium",children:"Compartilhar"})]})}),r.jsx("div",{className:`absolute ${d[a].arrowPosition} animate-bounce`,children:(()=>{const g=d[a].arrow;return r.jsx(g,{className:"w-8 h-8 text-blue-600 drop-shadow-lg"})})()})]}),r.jsx("div",{className:"flex justify-center gap-2 mb-6",children:d.map((g,v)=>r.jsx("div",{className:`w-2 h-2 rounded-full transition-colors ${v===a?"bg-blue-500":"bg-gray-300"}`},v))}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{onClick:f,className:"flex-1 py-3 px-4 text-gray-600 border border-gray-300 rounded-xl hover:bg-gray-50 transition-colors",children:"Ignorar"}),r.jsx("button",{onClick:u,className:"flex-1 py-3 px-4 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors font-medium",children:a===d.length-1?"Finalizar":"PrÃ³ximo"})]})]})]})}),r.jsx("div",{className:"fixed bottom-20 left-4 right-4 z-40 lg:hidden",children:r.jsx("div",{className:"bg-blue-600 text-white rounded-2xl p-4 shadow-lg border border-blue-500/20",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center",children:r.jsx(Yr,{className:"w-5 h-5"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-semibold text-sm",children:"Adicionar Ã  tela inicial"}),r.jsx("p",{className:"text-blue-100 text-xs",children:'Clique em Compartilhar e depois "Na tela inicial"'})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>t(!0),className:"bg-white/20 hover:bg-white/30 px-3 py-1 rounded-lg text-xs font-medium transition-colors",children:"Tutorial"}),r.jsx("button",{onClick:s,className:"bg-white/20 hover:bg-white/30 px-3 py-1 rounded-lg text-xs font-medium transition-colors",children:"Guia visual"})]})]})})})]})}const Ep=({message:s,type:e="info",duration:t=5e3,onClose:a})=>{const[n,i]=h.useState(!0);h.useEffect(()=>{if(t>0){const u=setTimeout(()=>{i(!1),setTimeout(()=>a==null?void 0:a(),300)},t);return()=>clearTimeout(u)}},[t,a]);const o=()=>{i(!1),setTimeout(()=>a==null?void 0:a(),300)},l={success:ro,error:vs,warning:vs,info:ao},c={success:"bg-green-500 border-green-600",error:"bg-red-500 border-red-600",warning:"bg-yellow-500 border-yellow-600",info:"bg-blue-500 border-blue-600"},d=l[e];return n?r.jsx("div",{className:`fixed top-4 right-4 z-50 transform transition-all duration-300 ${n?"translate-x-0 opacity-100":"translate-x-full opacity-0"}`,children:r.jsx("div",{className:`${c[e]} text-white rounded-lg shadow-lg border p-4 max-w-sm`,children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(d,{className:"w-5 h-5 mt-0.5 flex-shrink-0"}),r.jsx("div",{className:"flex-1",children:r.jsx("p",{className:"text-sm font-medium",children:s})}),r.jsx("button",{onClick:o,className:"text-white/80 hover:text-white transition-colors flex-shrink-0",children:r.jsx(mt,{className:"w-4 h-4"})})]})})}):null};function Cp({isOpen:s,onClose:e}){const[t,a]=h.useState(0),[n,i]=h.useState(!1),o=[{title:"Passo 1: BotÃ£o Compartilhar",description:"Localize o botÃ£o Compartilhar na parte inferior do seu navegador Safari",image:"step1",highlight:"share-button"},{title:"Passo 2: Menu Compartilhar",description:"O menu Compartilhar abre com vÃ¡rias opÃ§Ãµes",image:"step2",highlight:"share-menu"},{title:"Passo 3: Na tela inicial",description:"Role e selecione 'Na tela inicial'",image:"step3",highlight:"add-to-home"},{title:"Passo 4: ConfirmaÃ§Ã£o",description:"Pressione 'Adicionar' para instalar o aplicativo",image:"step4",highlight:"confirm"}],l=()=>{t<o.length-1&&a(t+1)},c=()=>{t>0&&a(t-1)},d=()=>{if(i(!n),!n){const f=setInterval(()=>{a(m=>m>=o.length-1?(clearInterval(f),i(!1),m):m+1)},3e3)}},u=f=>r.jsxs("div",{className:"relative bg-gray-100 rounded-2xl p-6 mb-6",children:[r.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-lg",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4 text-xs text-gray-600",children:[r.jsx("span",{children:"9:41"}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-4 h-2 bg-gray-300 rounded-full"}),r.jsx("span",{children:"100%"})]})]}),r.jsx("div",{className:"bg-gray-200 rounded-lg p-2 mb-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded"}),r.jsx("span",{className:"text-xs text-gray-600",children:"musica-da-segunda.com"})]})}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:"h-4 bg-gray-300 rounded"}),r.jsx("div",{className:"h-3 bg-gray-200 rounded w-3/4"}),r.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]}),r.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded-full"}),r.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded-full"}),r.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded-full"}),r.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded-full"}),r.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded-full"})]})})]}),r.jsx("div",{className:"absolute bottom-4 right-4 bg-blue-500 text-white rounded-full p-3 shadow-lg",children:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"})})}),r.jsx("div",{className:"absolute bottom-16 right-4 animate-bounce",children:r.jsx("svg",{className:"w-8 h-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 10l7-7m0 0l7 7m-7-7v18"})})})]});return s?r.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[r.jsx("div",{className:"absolute inset-0 bg-black/60",onClick:e}),r.jsxs("div",{className:"relative bg-white rounded-3xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden",children:[r.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white p-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Guia de instalaÃ§Ã£o iOS"}),r.jsx("button",{onClick:e,className:"p-2 rounded-full bg-white/20 hover:bg-white/30 transition-colors",children:r.jsx(mt,{className:"w-6 h-6"})})]}),r.jsx("div",{className:"flex items-center gap-4 mt-4",children:r.jsxs("button",{onClick:d,className:"flex items-center gap-2 bg-white/20 hover:bg-white/30 px-4 py-2 rounded-lg transition-colors",children:[n?r.jsx(Jf,{className:"w-4 h-4"}):r.jsx(gt,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm",children:n?"Pausar":"ReproduÃ§Ã£o automÃ¡tica"})]})})]}),r.jsxs("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:[u(),r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:o[t].title}),r.jsx("p",{className:"text-gray-600",children:o[t].description})]}),r.jsx("div",{className:"flex justify-center gap-2 mb-6",children:o.map((f,m)=>r.jsx("div",{className:`w-3 h-3 rounded-full transition-colors ${m===t?"bg-blue-500":"bg-gray-300"}`},m))}),r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("button",{onClick:c,disabled:t===0,className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${t===0?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-blue-500 text-white hover:bg-blue-600"}`,children:[r.jsx(dr,{className:"w-4 h-4"}),"Anterior"]}),r.jsxs("button",{onClick:l,disabled:t===o.length-1,className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${t===o.length-1?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-blue-500 text-white hover:bg-blue-600"}`,children:["PrÃ³ximo",r.jsx(rd,{className:"w-4 h-4"})]})]})]})]})]}):null}function Ap(){const[s,e]=h.useState(!1),[t,a]=h.useState(""),[n,i]=h.useState("info"),[o,l]=h.useState(!1);h.useEffect(()=>{if(Ga()){const d=setTimeout(()=>{no()&&kp()&&(a('ðŸ’¡ Dica: Adicione este app Ã  sua tela inicial para uma experiÃªncia melhor! Clique em "Tutorial" para ver o guia completo.'),i("info"),e(!0))},3e3);return()=>clearTimeout(d)}},[]);const c=()=>{e(!1)};return Ga()?r.jsxs(r.Fragment,{children:[r.jsx(Tp,{onShowVisualGuide:()=>l(!0)}),s&&r.jsx(Ep,{message:t,type:n,duration:8e3,onClose:c}),r.jsx(Cp,{isOpen:o,onClose:()=>l(!1)})]}):null}function ea(o){var l=o,{src:s,alt:e,className:t="",loading:a="lazy",decoding:n="async"}=l,i=$(l,["src","alt","className","loading","decoding"]);const[c,d]=h.useState(!1),[u,f]=h.useState(!1),g=(b=>{if(!b||b.startsWith("http://")||b.startsWith("https://"))return null;const C=b.replace(/\.(jpg|jpeg|png)$/i,".webp");return C!==b?C:null})(s),v=s,j=()=>{d(!0)};return c?r.jsx("div",{className:`bg-gray-200 flex items-center justify-center ${t}`,role:"img","aria-label":e,children:r.jsx("span",{className:"text-gray-400 text-sm",children:"Imagem nÃ£o disponÃ­vel"})}):!g||u?r.jsx("img",p({src:v,alt:e,className:t,loading:a,decoding:n,onError:j},i)):r.jsxs("picture",{children:[r.jsx("source",{srcSet:g,type:"image/webp"}),r.jsx("img",p({src:v,alt:e,className:t,loading:a,decoding:n,onError:j},i))]})}function Op({children:s}){const e=ls(),t=[{name:"InÃ­cio",url:Ys("Home"),icon:Yr},{name:"CalendÃ¡rio",url:Ys("Calendar"),icon:Mt},{name:"Playlist",url:Ys("Playlist"),icon:zf},{name:"Blog",url:Ys("Blog"),icon:zt},{name:"Ano 2025",url:Ys("AdventCalendar"),icon:fi},{name:"Sobre",url:Ys("Sobre"),icon:ao}],a=n=>n.name==="InÃ­cio"&&e.pathname==="/"?!0:e.pathname===n.url;return r.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-teal-200 to-rose-200",children:[r.jsx("a",{href:"#main",className:"skip-link",children:"Ir para o conteÃºdo"}),r.jsx("header",{className:"hidden lg:block bg-white/90 backdrop-blur-lg border-b border-white/50 shadow-lg sticky top-0 z-40",children:r.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(Wr,{to:"/",className:"w-12 h-12 rounded-full overflow-hidden border-2 border-white/20 shadow-lg flex-shrink-0",children:r.jsx(ea,{src:"images/Musica da segunda.jpg",alt:"Logo MÃºsica da Segunda",className:"w-full h-full object-cover",loading:"lazy"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-black text-gray-800 leading-tight",children:"A MÃºsica da Segunda"}),r.jsx("p",{className:"text-xs text-gray-600 mt-0.5",children:"Site oficial de parÃ³dias musicais inteligentes e divertidas"})]})]}),r.jsx("nav",{className:"flex items-center gap-1","aria-label":"Navigation principale",children:t.map(n=>r.jsxs(Wr,{to:n.url,"aria-current":a(n)?"page":void 0,className:`flex items-center gap-2 px-4 py-2 rounded-xl transition-all duration-300 font-medium ${a(n)?"bg-[#32a2dc] text-white shadow-md":"text-gray-600 hover:text-gray-800 hover:bg-gray-100"}`,children:[r.jsx(n.icon,{className:"w-4 h-4","aria-hidden":"true"}),r.jsx("span",{children:n.name})]},n.name))})]})})}),r.jsx("main",{id:"main",className:"lg:pb-0 pb-28 relative z-10",children:s}),r.jsx("nav",{className:"lg:hidden fixed bottom-4 left-1/2 -translate-x-1/2 w-[calc(100%-2rem)] max-w-2xl bg-white/80 backdrop-blur-lg rounded-3xl shadow-xl border border-white/50 z-50","aria-label":"Navigation mobile",children:r.jsx("div",{className:"flex gap-1 p-1",children:t.map(n=>r.jsxs(Wr,{to:n.url,"aria-current":a(n)?"page":void 0,className:`flex flex-col items-center justify-center py-3 px-2 rounded-3xl transition-all duration-300 flex-1 min-w-0 ${a(n)?"bg-[#32a2dc] text-white shadow-lg transform scale-105":"text-gray-500 hover:text-gray-700 hover:bg-white/60"}`,children:[r.jsx(n.icon,{className:"w-5 h-5 mb-1 flex-shrink-0","aria-hidden":"true"}),r.jsx("span",{className:"text-xs font-bold text-center leading-tight truncate",children:n.name})]},n.name))})}),r.jsx(Ap,{})]})}const rt={SONGS:"musica-da-segunda-songs",ALBUMS:"musica-da-segunda-albums",SETTINGS:"musica-da-segunda-settings"},Mn=[{id:1,slug:"croissant",title:"O Croissant",artist:"A MÃºsica da Segunda",description:'A mÃºsica "O Croissant" brinca com o cho',release_date:"2025-02-03",status:"published",genre:"Indie",tiktok_video_id:"sample_tiktok_1"},{id:2,slug:"confissoes-bancarias",title:"ConfissÃµes BancÃ¡rias",artist:"A MÃºsica da Segunda",description:"ConfissÃµes sobre a vida bancÃ¡ria e financeira",release_date:"2025-08-25",status:"published",genre:"Indie",tiktok_video_id:"sample_tiktok_2"},{id:3,slug:"festas-juninas",title:"Festas Juninas",artist:"A MÃºsica da Segunda",description:"Celebrando as tradicionais festas juninas brasileiras",release_date:"2025-06-30",status:"published",genre:"MÃºsica Brasileira",tiktok_video_id:"sample_tiktok_3"},{id:4,slug:"cafe-no-brasil",title:"CafÃ© no Brasil",artist:"A MÃºsica da Segunda",description:"Uma ode ao cafÃ© brasileiro e sua cultura",release_date:"2025-07-14",status:"published",genre:"MÃºsica Brasileira",tiktok_video_id:"sample_tiktok_4"}],De={initialize(){try{const s=this.songs.getAll();s.length===0?(localStorage.setItem(rt.SONGS,JSON.stringify(Mn)),console.warn("ðŸ”„ localStorage initialisÃ© avec donnÃ©es de fallback:",Mn.length,"chansons")):console.warn("ðŸ”„ localStorage dÃ©jÃ  initialisÃ© avec:",s.length,"chansons")}catch(s){console.error("âŒ Erreur initialisation localStorage:",s),localStorage.setItem(rt.SONGS,JSON.stringify(Mn))}},forceReset(){localStorage.setItem(rt.SONGS,JSON.stringify([])),console.warn("ðŸ”„ localStorage rÃ©initialisÃ© - donnÃ©es Supabase uniquement")},cleanConfissoesBancarias(){try{const s=this.songs.getAll(),e=s.filter(t=>t.title!=="ConfissÃµes BancÃ¡rias"&&t.tiktok_video_id!=="7540762684149517590");if(e.length!==s.length){const t=e.map((a,n)=>A(p({},a),{id:n+1}));return localStorage.setItem(rt.SONGS,JSON.stringify(t)),console.warn(`ðŸ§¹ "ConfissÃµes BancÃ¡rias" supprimÃ©e du localStorage. ${s.length-e.length} chanson(s) nettoyÃ©e(s)`),!0}return console.warn("âœ… localStorage dÃ©jÃ  propre, aucune action nÃ©cessaire"),!1}catch(s){return console.error("âŒ Erreur lors du nettoyage:",s),!1}},songs:{getAll(){try{const s=localStorage.getItem(rt.SONGS);return s?JSON.parse(s):[]}catch(s){return console.error("Erro ao carregar mÃºsicas:",s),[]}},getById(s){return this.getAll().find(t=>t.id===s)||null},getCurrent(){const e=this.getAll().filter(t=>t.status==="published");return e.length===0?null:(e.sort((t,a)=>new Date(a.release_date)-new Date(t.release_date)),e[0])},create(s){try{const e=this.getAll(),t=A(p({},s),{id:Date.now(),created_at:new Date().toISOString(),updated_at:new Date().toISOString()});return e.push(t),localStorage.setItem(rt.SONGS,JSON.stringify(e)),t}catch(e){throw console.error("Erro ao criar mÃºsica:",e),e}},update(s,e){try{const t=this.getAll(),a=t.findIndex(n=>n.id===s);if(a===-1)throw new Error("MÃºsica nÃ£o encontrada");return t[a]=A(p(p({},t[a]),e),{updated_at:new Date().toISOString()}),localStorage.setItem(rt.SONGS,JSON.stringify(t)),t[a]}catch(t){throw console.error("Erro ao atualizar mÃºsica:",t),t}},delete(s){try{const t=this.getAll().filter(a=>a.id!==s);return localStorage.setItem(rt.SONGS,JSON.stringify(t)),!0}catch(e){throw console.error("Erro ao deletar mÃºsica:",e),e}},search(s){const e=this.getAll();if(!s)return e;const t=s.toLowerCase();return e.filter(a=>{var n;return a.title.toLowerCase().includes(t)||a.artist.toLowerCase().includes(t)||((n=a.description)==null?void 0:n.toLowerCase().includes(t))})}},albums:{getAll(){try{const s=localStorage.getItem(rt.ALBUMS);return s?JSON.parse(s):[]}catch(s){return console.error("Erro ao carregar Ã¡lbuns:",s),[]}},create(s){try{const e=this.getAll(),t=A(p({},s),{id:Date.now(),created_at:new Date().toISOString()});return e.push(t),localStorage.setItem(rt.ALBUMS,JSON.stringify(e)),t}catch(e){throw console.error("Erro ao criar Ã¡lbum:",e),e}}},clearAll(){localStorage.removeItem(rt.SONGS),localStorage.removeItem(rt.ALBUMS),localStorage.removeItem(rt.SETTINGS)},exportData(){return{songs:this.songs.getAll(),albums:this.albums.getAll(),exportDate:new Date().toISOString()}},importData(s){try{return s.songs&&localStorage.setItem(rt.SONGS,JSON.stringify(s.songs)),s.albums&&localStorage.setItem(rt.ALBUMS,JSON.stringify(s.albums)),!0}catch(e){throw console.error("Erro ao importar dados:",e),e}}};De.initialize();const Rp=s=>{let e;return s?e=s:typeof fetch=="undefined"?e=(...t)=>It(()=>x(null,null,function*(){const{default:a}=yield Promise.resolve().then(()=>Bs);return{default:a}}),[]).then(({default:a})=>a(...t)):e=fetch,(...t)=>e(...t)};class io extends Error{constructor(e,t="FunctionsError",a){super(e),this.name=t,this.context=a}}class il extends io{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class ol extends io{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class ll extends io{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var bi;(function(s){s.Any="any",s.ApNortheast1="ap-northeast-1",s.ApNortheast2="ap-northeast-2",s.ApSouth1="ap-south-1",s.ApSoutheast1="ap-southeast-1",s.ApSoutheast2="ap-southeast-2",s.CaCentral1="ca-central-1",s.EuCentral1="eu-central-1",s.EuWest1="eu-west-1",s.EuWest2="eu-west-2",s.EuWest3="eu-west-3",s.SaEast1="sa-east-1",s.UsEast1="us-east-1",s.UsWest1="us-west-1",s.UsWest2="us-west-2"})(bi||(bi={}));class Pp{constructor(e,{headers:t={},customFetch:a,region:n=bi.Any}={}){this.url=e,this.headers=t,this.region=n,this.fetch=Rp(a)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Z(this,arguments,void 0,function*(t,a={}){var n;try{const{headers:i,method:o,body:l,signal:c}=a;let d={},{region:u}=a;u||(u=this.region);const f=new URL(`${this.url}/${t}`);u&&u!=="any"&&(d["x-region"]=u,f.searchParams.set("forceFunctionRegion",u));let m;l&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?typeof Blob!="undefined"&&l instanceof Blob||l instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",m=l):typeof l=="string"?(d["Content-Type"]="text/plain",m=l):typeof FormData!="undefined"&&l instanceof FormData?m=l:(d["Content-Type"]="application/json",m=JSON.stringify(l)):m=l;const g=yield this.fetch(f.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),i),body:m,signal:c}).catch(C=>{throw C.name==="AbortError"?C:new il(C)}),v=g.headers.get("x-relay-error");if(v&&v==="true")throw new ol(g);if(!g.ok)throw new ll(g);let j=((n=g.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),b;return j==="application/json"?b=yield g.json():j==="application/octet-stream"||j==="application/pdf"?b=yield g.blob():j==="text/event-stream"?b=g:j==="multipart/form-data"?b=yield g.formData():b=yield g.text(),{data:b,error:null,response:g}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new il(i)}:{data:null,error:i,response:i instanceof ll||i instanceof ol?i.context:void 0}}})}}var et={};const vr=Dc(nh);var ja={},Sa={},Na={},ka={},Ta={},Ip=function(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global;throw new Error("unable to locate global object")},hr=Ip();const Mp=hr.fetch,id=hr.fetch.bind(hr),od=hr.Headers,Dp=hr.Request,Lp=hr.Response,Bs=Object.freeze(Object.defineProperty({__proto__:null,Headers:od,Request:Dp,Response:Lp,default:id,fetch:Mp},Symbol.toStringTag,{value:"Module"})),$p=Dc(Bs);var Ea={},cl;function ld(){if(cl)return Ea;cl=1,Object.defineProperty(Ea,"__esModule",{value:!0});class s extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}return Ea.default=s,Ea}var dl;function cd(){if(dl)return Ta;dl=1,Object.defineProperty(Ta,"__esModule",{value:!0});const s=vr,e=s.__importDefault($p),t=s.__importDefault(ld());class a{constructor(i){var o,l;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(o=i.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=i.signal,this.isMaybeSingle=(l=i.isMaybeSingle)!==null&&l!==void 0?l:!1,i.fetch?this.fetch=i.fetch:typeof fetch=="undefined"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=new Headers(this.headers),this.headers.set(i,o),this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let c=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(d=>x(this,null,function*(){var u,f,m,g;let v=null,j=null,b=null,C=d.status,k=d.statusText;if(d.ok){if(this.method!=="HEAD"){const T=yield d.text();T===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?j=T:j=JSON.parse(T))}const N=(f=this.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),S=(m=d.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");N&&S&&S.length>1&&(b=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(j)&&(j.length>1?(v={code:"PGRST116",details:`Results contain ${j.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},j=null,b=null,C=406,k="Not Acceptable"):j.length===1?j=j[0]:j=null)}else{const N=yield d.text();try{v=JSON.parse(N),Array.isArray(v)&&d.status===404&&(j=[],v=null,C=200,k="OK")}catch(S){d.status===404&&N===""?(C=204,k="No Content"):v={message:N}}if(v&&this.isMaybeSingle&&(!((g=v==null?void 0:v.details)===null||g===void 0)&&g.includes("0 rows"))&&(v=null,C=200,k="OK"),v&&this.shouldThrowOnError)throw new t.default(v)}return{error:v,data:j,count:b,status:C,statusText:k}}));return this.shouldThrowOnError||(c=c.catch(d=>{var u,f,m;return{error:{message:`${(u=d==null?void 0:d.name)!==null&&u!==void 0?u:"FetchError"}: ${d==null?void 0:d.message}`,details:`${(f=d==null?void 0:d.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(m=d==null?void 0:d.code)!==null&&m!==void 0?m:""}`},data:null,count:null,status:0,statusText:""}})),c.then(i,o)}returns(){return this}overrideTypes(){return this}}return Ta.default=a,Ta}var ul;function dd(){if(ul)return ka;ul=1,Object.defineProperty(ka,"__esModule",{value:!0});const e=vr.__importDefault(cd());class t extends e.default{select(n){let i=!1;const o=(n!=null?n:"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(n,{ascending:i=!0,nullsFirst:o,foreignTable:l,referencedTable:c=l}={}){const d=c?`${c}.order`:"order",u=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${u?`${u},`:""}${n}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:i,referencedTable:o=i}={}){const l=typeof o=="undefined"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${n}`),this}range(n,i,{foreignTable:o,referencedTable:l=o}={}){const c=typeof l=="undefined"?"offset":`${l}.offset`,d=typeof l=="undefined"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${n}`),this.url.searchParams.set(d,`${i-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:n=!1,verbose:i=!1,settings:o=!1,buffers:l=!1,wal:c=!1,format:d="text"}={}){var u;const f=[n?"analyze":null,i?"verbose":null,o?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),m=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${m}"; options=${f};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(n){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${n}`),this}}return ka.default=t,ka}var hl;function oo(){if(hl)return Na;hl=1,Object.defineProperty(Na,"__esModule",{value:!0});const e=vr.__importDefault(dd());class t extends e.default{eq(n,i){return this.url.searchParams.append(n,`eq.${i}`),this}neq(n,i){return this.url.searchParams.append(n,`neq.${i}`),this}gt(n,i){return this.url.searchParams.append(n,`gt.${i}`),this}gte(n,i){return this.url.searchParams.append(n,`gte.${i}`),this}lt(n,i){return this.url.searchParams.append(n,`lt.${i}`),this}lte(n,i){return this.url.searchParams.append(n,`lte.${i}`),this}like(n,i){return this.url.searchParams.append(n,`like.${i}`),this}likeAllOf(n,i){return this.url.searchParams.append(n,`like(all).{${i.join(",")}}`),this}likeAnyOf(n,i){return this.url.searchParams.append(n,`like(any).{${i.join(",")}}`),this}ilike(n,i){return this.url.searchParams.append(n,`ilike.${i}`),this}ilikeAllOf(n,i){return this.url.searchParams.append(n,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(n,i){return this.url.searchParams.append(n,`ilike(any).{${i.join(",")}}`),this}is(n,i){return this.url.searchParams.append(n,`is.${i}`),this}in(n,i){const o=Array.from(new Set(i)).map(l=>typeof l=="string"&&new RegExp("[,()]").test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(n,`in.(${o})`),this}contains(n,i){return typeof i=="string"?this.url.searchParams.append(n,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(n,`cs.{${i.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(i)}`),this}containedBy(n,i){return typeof i=="string"?this.url.searchParams.append(n,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(n,`cd.{${i.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(i)}`),this}rangeGt(n,i){return this.url.searchParams.append(n,`sr.${i}`),this}rangeGte(n,i){return this.url.searchParams.append(n,`nxl.${i}`),this}rangeLt(n,i){return this.url.searchParams.append(n,`sl.${i}`),this}rangeLte(n,i){return this.url.searchParams.append(n,`nxr.${i}`),this}rangeAdjacent(n,i){return this.url.searchParams.append(n,`adj.${i}`),this}overlaps(n,i){return typeof i=="string"?this.url.searchParams.append(n,`ov.${i}`):this.url.searchParams.append(n,`ov.{${i.join(",")}}`),this}textSearch(n,i,{config:o,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const d=o===void 0?"":`(${o})`;return this.url.searchParams.append(n,`${c}fts${d}.${i}`),this}match(n){return Object.entries(n).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(n,i,o){return this.url.searchParams.append(n,`not.${i}.${o}`),this}or(n,{foreignTable:i,referencedTable:o=i}={}){const l=o?`${o}.or`:"or";return this.url.searchParams.append(l,`(${n})`),this}filter(n,i,o){return this.url.searchParams.append(n,`${i}.${o}`),this}}return Na.default=t,Na}var ml;function ud(){if(ml)return Sa;ml=1,Object.defineProperty(Sa,"__esModule",{value:!0});const e=vr.__importDefault(oo());class t{constructor(n,{headers:i={},schema:o,fetch:l}){this.url=n,this.headers=new Headers(i),this.schema=o,this.fetch=l}select(n,i){const{head:o=!1,count:l}=i!=null?i:{},c=o?"HEAD":"GET";let d=!1;const u=(n!=null?n:"*").split("").map(f=>/\s/.test(f)&&!d?"":(f==='"'&&(d=!d),f)).join("");return this.url.searchParams.set("select",u),l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(n,{count:i,defaultToNull:o=!0}={}){var l;const c="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(n)){const d=n.reduce((u,f)=>u.concat(Object.keys(f)),[]);if(d.length>0){const u=[...new Set(d)].map(f=>`"${f}"`);this.url.searchParams.set("columns",u.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(n,{onConflict:i,ignoreDuplicates:o=!1,count:l,defaultToNull:c=!0}={}){var d;const u="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(n)){const f=n.reduce((m,g)=>m.concat(Object.keys(g)),[]);if(f.length>0){const m=[...new Set(f)].map(g=>`"${g}"`);this.url.searchParams.set("columns",m.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(n,{count:i}={}){var o;const l="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:n}={}){var i;const o="DELETE";return n&&this.headers.append("Prefer",`count=${n}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return Sa.default=t,Sa}var fl;function Up(){if(fl)return ja;fl=1,Object.defineProperty(ja,"__esModule",{value:!0});const s=vr,e=s.__importDefault(ud()),t=s.__importDefault(oo());class a{constructor(i,{headers:o={},schema:l,fetch:c}={}){this.url=i,this.headers=new Headers(o),this.schemaName=l,this.fetch=c}from(i){const o=new URL(`${this.url}/${i}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new a(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:l=!1,get:c=!1,count:d}={}){var u;let f;const m=new URL(`${this.url}/rpc/${i}`);let g;l||c?(f=l?"HEAD":"GET",Object.entries(o).filter(([j,b])=>b!==void 0).map(([j,b])=>[j,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([j,b])=>{m.searchParams.append(j,b)})):(f="POST",g=o);const v=new Headers(this.headers);return d&&v.set("Prefer",`count=${d}`),new t.default({method:f,url:m,headers:v,schema:this.schemaName,body:g,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return ja.default=a,ja}var pl;function Bp(){if(pl)return et;pl=1,Object.defineProperty(et,"__esModule",{value:!0}),et.PostgrestError=et.PostgrestBuilder=et.PostgrestTransformBuilder=et.PostgrestFilterBuilder=et.PostgrestQueryBuilder=et.PostgrestClient=void 0;const s=vr,e=s.__importDefault(Up());et.PostgrestClient=e.default;const t=s.__importDefault(ud());et.PostgrestQueryBuilder=t.default;const a=s.__importDefault(oo());et.PostgrestFilterBuilder=a.default;const n=s.__importDefault(dd());et.PostgrestTransformBuilder=n.default;const i=s.__importDefault(cd());et.PostgrestBuilder=i.default;const o=s.__importDefault(ld());return et.PostgrestError=o.default,et.default={PostgrestClient:e.default,PostgrestQueryBuilder:t.default,PostgrestFilterBuilder:a.default,PostgrestTransformBuilder:n.default,PostgrestBuilder:i.default,PostgrestError:o.default},et}var Fp=Bp();const Vp=la(Fp),{PostgrestClient:zp,PostgrestQueryBuilder:iw,PostgrestFilterBuilder:ow,PostgrestTransformBuilder:lw,PostgrestBuilder:cw,PostgrestError:dw}=Vp;class qp{static detectEnvironment(){var e;if(typeof WebSocket!="undefined")return{type:"native",constructor:WebSocket};if(typeof globalThis!="undefined"&&typeof globalThis.WebSocket!="undefined")return{type:"native",constructor:globalThis.WebSocket};if(typeof global!="undefined"&&typeof global.WebSocket!="undefined")return{type:"native",constructor:global.WebSocket};if(typeof globalThis!="undefined"&&typeof globalThis.WebSocketPair!="undefined"&&typeof globalThis.WebSocket=="undefined")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis!="undefined"&&globalThis.EdgeRuntime||typeof navigator!="undefined"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process!="undefined"){const t=process.versions;if(t&&t.node){const a=t.node,n=parseInt(a.replace(/^v/,"").split(".")[0]);return n>=22?typeof globalThis.WebSocket!="undefined"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${n} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){const a=this.getWebSocketConstructor();return new a(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch(e){return!1}}}const Hp="2.76.1",Wp=`realtime-js/${Hp}`,Yp="1.0.0",yi=1e4,Gp=1e3,Kp=100;var Gr;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(Gr||(Gr={}));var He;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})(He||(He={}));var Ot;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(Ot||(Ot={}));var vi;(function(s){s.websocket="websocket"})(vi||(vi={}));var Rs;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(Rs||(Rs={}));class Zp{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),a=new TextDecoder;return this._decodeBroadcast(e,t,a)}_decodeBroadcast(e,t,a){const n=t.getUint8(1),i=t.getUint8(2);let o=this.HEADER_LENGTH+2;const l=a.decode(e.slice(o,o+n));o=o+n;const c=a.decode(e.slice(o,o+i));o=o+i;const d=JSON.parse(a.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:c,payload:d}}}class hd{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ce;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})(Ce||(Ce={}));const gl=(s,e,t={})=>{var a;const n=(a=t.skipTypes)!==null&&a!==void 0?a:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=Jp(o,s,e,n),i),{}):{}},Jp=(s,e,t,a)=>{const n=e.find(l=>l.name===s),i=n==null?void 0:n.type,o=t[s];return i&&!a.includes(i)?md(i,o):wi(o)},md=(s,e)=>{if(s.charAt(0)==="_"){const t=s.slice(1,s.length);return tg(e,t)}switch(s){case Ce.bool:return Xp(e);case Ce.float4:case Ce.float8:case Ce.int2:case Ce.int4:case Ce.int8:case Ce.numeric:case Ce.oid:return Qp(e);case Ce.json:case Ce.jsonb:return eg(e);case Ce.timestamp:return sg(e);case Ce.abstime:case Ce.date:case Ce.daterange:case Ce.int4range:case Ce.int8range:case Ce.money:case Ce.reltime:case Ce.text:case Ce.time:case Ce.timestamptz:case Ce.timetz:case Ce.tsrange:case Ce.tstzrange:return wi(e);default:return wi(e)}},wi=s=>s,Xp=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},Qp=s=>{if(typeof s=="string"){const e=parseFloat(s);if(!Number.isNaN(e))return e}return s},eg=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch(e){return console.log(`JSON parse error: ${e}`),s}return s},tg=(s,e)=>{if(typeof s!="string")return s;const t=s.length-1,a=s[t];if(s[0]==="{"&&a==="}"){let i;const o=s.slice(1,t);try{i=JSON.parse("["+o+"]")}catch(l){i=o?o.split(","):[]}return i.map(l=>md(e,l))}return s},sg=s=>typeof s=="string"?s.replace(" ","T"):s,fd=s=>{const e=new URL(s);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Dn{constructor(e,t,a={},n=yi){this.channel=e,this.event=t,this.payload=a,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var a;return this._hasReceived(e)&&t((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(a=>a.status===e).forEach(a=>a.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var xl;(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})(xl||(xl={}));class Kr{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},n=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Kr.syncState(this.state,n,i,o),this.pendingDiffs.forEach(c=>{this.state=Kr.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(a.diff,{},n=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=Kr.syncDiff(this.state,n,i,o),l())}),this.onJoin((n,i,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:o})}),this.onLeave((n,i,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,a,n){const i=this.cloneDeep(e),o=this.transformState(t),l={},c={};return this.map(i,(d,u)=>{o[d]||(c[d]=u)}),this.map(o,(d,u)=>{const f=i[d];if(f){const m=u.map(b=>b.presence_ref),g=f.map(b=>b.presence_ref),v=u.filter(b=>g.indexOf(b.presence_ref)<0),j=f.filter(b=>m.indexOf(b.presence_ref)<0);v.length>0&&(l[d]=v),j.length>0&&(c[d]=j)}else l[d]=u}),this.syncDiff(i,{joins:l,leaves:c},a,n)}static syncDiff(e,t,a,n){const{joins:i,leaves:o}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return a||(a=()=>{}),n||(n=()=>{}),this.map(i,(l,c)=>{var d;const u=(d=e[l])!==null&&d!==void 0?d:[];if(e[l]=this.cloneDeep(c),u.length>0){const f=e[l].map(g=>g.presence_ref),m=u.filter(g=>f.indexOf(g.presence_ref)<0);e[l].unshift(...m)}a(l,u,c)}),this.map(o,(l,c)=>{let d=e[l];if(!d)return;const u=c.map(f=>f.presence_ref);d=d.filter(f=>u.indexOf(f.presence_ref)<0),e[l]=d,n(l,d,c),d.length===0&&delete e[l]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(a=>t(a,e[a]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,a)=>{const n=e[a];return"metas"in n?t[a]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):t[a]=n,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var bl;(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})(bl||(bl={}));var Zr;(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes",s.SYSTEM="system"})(Zr||(Zr={}));var es;(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})(es||(es={}));class lo{constructor(e,t={config:{}},a){var n,i;if(this.topic=e,this.params=t,this.socket=a,this.bindings={},this.state=He.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Dn(this,Ot.join,this.params,this.timeout),this.rejoinTimer=new hd(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=He.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=He.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=He.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=He.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=He.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ot.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new Kr(this),this.broadcastEndpointURL=fd(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(n=this.params.config)===null||n===void 0?void 0:n.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){var a,n,i;if(this.socket.isConnected()||this.socket.connect(),this.state==He.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,d=(n=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(g=>g.filter))!==null&&n!==void 0?n:[],u=!!this.bindings[Zr.PRESENCE]&&this.bindings[Zr.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},m={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:u}),postgres_changes:d,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(g=>e==null?void 0:e(es.CHANNEL_ERROR,g)),this._onClose(()=>e==null?void 0:e(es.CLOSED)),this.updateJoinPayload(Object.assign({config:m},f)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",v=>x(this,[v],function*({postgres_changes:g}){var j;if(this.socket.setAuth(),g===void 0){e==null||e(es.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,C=(j=b==null?void 0:b.length)!==null&&j!==void 0?j:0,k=[];for(let y=0;y<C;y++){const N=b[y],{filter:{event:S,schema:T,table:E,filter:I}}=N,P=g&&g[y];if(P&&P.event===S&&P.schema===T&&P.table===E&&P.filter===I)k.push(Object.assign(Object.assign({},N),{id:P.id}));else{this.unsubscribe(),this.state=He.errored,e==null||e(es.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=k,e&&e(es.SUBSCRIBED);return}})).receive("error",g=>{this.state=He.errored,e==null||e(es.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(es.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(a){return x(this,arguments,function*(e,t={}){return yield this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)})}untrack(){return x(this,arguments,function*(e={}){return yield this.send({type:"presence",event:"untrack"},e)})}on(e,t,a){return this.state===He.joined&&e===Zr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,a)}httpSend(n,i){return x(this,arguments,function*(e,t,a={}){var o;const l=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(t==null)return Promise.reject("Payload is required for httpSend()");const c={method:"POST",headers:{Authorization:l,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},d=yield this._fetchWithTimeout(this.broadcastEndpointURL,c,(o=a.timeout)!==null&&o!==void 0?o:this.timeout);if(d.status===202)return{success:!0};let u=d.statusText;try{const f=yield d.json();u=f.error||f.message||u}catch(f){}return Promise.reject(new Error(u))})}send(a){return x(this,arguments,function*(e,t={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:l}=e,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:l,private:this.private}]})};try{const u=yield this._fetchWithTimeout(this.broadcastEndpointURL,d,(n=t.timeout)!==null&&n!==void 0?n:this.timeout);return yield(i=u.body)===null||i===void 0?void 0:i.cancel(),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var l,c,d;const u=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((d=(c=(l=this.params)===null||l===void 0?void 0:l.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=He.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ot.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(n=>{a=new Dn(this,Ot.leave,{},e),a.receive("ok",()=>{t(),n("ok")}).receive("timeout",()=>{t(),n("timed out")}).receive("error",()=>{n("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a==null||a.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=He.closed,this.bindings={}}_fetchWithTimeout(e,t,a){return x(this,null,function*(){const n=new AbortController,i=setTimeout(()=>n.abort(),a),o=yield this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:n.signal}));return clearTimeout(i),o})}_push(e,t,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new Dn(this,e,t,a);return this._canPush()?n.send():this._addToPushBuffer(n),n}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Kp){const t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,a){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,a){var n,i;const o=e.toLocaleLowerCase(),{close:l,error:c,leave:d,join:u}=Ot;if(a&&[l,c,d,u].indexOf(o)>=0&&a!==this._joinRef())return;let m=this._onMessage(o,t,a);if(t&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(g=>{var v,j,b;return((v=g.filter)===null||v===void 0?void 0:v.event)==="*"||((b=(j=g.filter)===null||j===void 0?void 0:j.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(g=>g.callback(m,a)):(i=this.bindings[o])===null||i===void 0||i.filter(g=>{var v,j,b,C,k,y;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const N=g.id,S=(v=g.filter)===null||v===void 0?void 0:v.event;return N&&((j=t.ids)===null||j===void 0?void 0:j.includes(N))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((b=t.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const N=(k=(C=g==null?void 0:g.filter)===null||C===void 0?void 0:C.event)===null||k===void 0?void 0:k.toLocaleLowerCase();return N==="*"||N===((y=t==null?void 0:t.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof m=="object"&&"ids"in m){const v=m.data,{schema:j,table:b,commit_timestamp:C,type:k,errors:y}=v;m=Object.assign(Object.assign({},{schema:j,table:b,commit_timestamp:C,eventType:k,new:{},old:{},errors:y}),this._getPayloadRecords(v))}g.callback(m,a)})}_isClosed(){return this.state===He.closed}_isJoined(){return this.state===He.joined}_isJoining(){return this.state===He.joining}_isLeaving(){return this.state===He.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,a){const n=e.toLocaleLowerCase(),i={type:n,filter:t,callback:a};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(e,t){const a=e.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===a&&lo.isEqual(n.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const a in e)if(e[a]!==t[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ot.close,{},e)}_onError(e){this._on(Ot.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=He.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=gl(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=gl(e.columns,e.old_record)),t}}const Ln=()=>{},Ca={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},rg=[1e3,2e3,5e3,1e4],ag=1e4,ng=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ig{constructor(e,t){var a;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=yi,this.transport=null,this.heartbeatIntervalMs=Ca.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ln,this.ref=0,this.reconnectTimer=null,this.logger=Ln,this.conn=null,this.sendBuffer=[],this.serializer=new Zp,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=n=>{let i;return n?i=n:typeof fetch=="undefined"?i=(...o)=>It(()=>x(this,null,function*(){const{default:l}=yield Promise.resolve().then(()=>Bs);return{default:l}}),void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((a=t==null?void 0:t.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${vi.websocket}`,this.httpEndpoint=fd(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t==null?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=qp.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Yp}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},e?this.conn.close(e,t!=null?t:""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}removeChannel(e){return x(this,null,function*(){const t=yield e.unsubscribe();return this.channels.length===0&&this.disconnect(),t})}removeAllChannels(){return x(this,null,function*(){const e=yield Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e})}log(e,t,a){this.logger(e,t,a)}connectionState(){switch(this.conn&&this.conn.readyState){case Gr.connecting:return Rs.Connecting;case Gr.open:return Rs.Open;case Gr.closing:return Rs.Closing;default:return Rs.Closed}}isConnected(){return this.connectionState()===Rs.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){const a=`realtime:${e}`,n=this.getChannels().find(i=>i.topic===a);if(n)return n;{const i=new lo(`realtime:${e}`,t,this);return this.channels.push(i),i}}push(e){const{topic:t,event:a,payload:n,ref:i}=e,o=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${t} ${a} (${i})`,n),this.isConnected()?o():this.sendBuffer.push(o)}setAuth(e=null){return x(this,null,function*(){this._authPromise=this._performAuth(e);try{yield this._authPromise}finally{this._authPromise=null}})}sendHeartbeat(){return x(this,null,function*(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Gp,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},Ca.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")})}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(a=>a.topic===e&&(a._isJoined()||a._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{if(t.topic==="phoenix"&&t.event==="phx_reply")try{this.heartbeatCallback(t.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}t.ref&&t.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:n,payload:i,ref:o}=t,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${a} ${n} ${l}`.trim(),i),this.channels.filter(d=>d._isMember(a)).forEach(d=>d._trigger(n,i,o)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ot.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const a=e.match(/\?/)?"&":"?",n=new URLSearchParams(t);return`${e}${a}${n}`}_workerObjectUrl(e){let t;if(e)t=e;else{const a=new Blob([ng],{type:"application/javascript"});t=URL.createObjectURL(a)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}_performAuth(e=null){return x(this,null,function*(){let t;e?t=e:this.accessToken?t=yield this.accessToken():t=this.accessTokenValue,this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(a=>{const n={access_token:t,version:Wp};t&&a.updateJoinPayload(n),a.joinedOnce&&a._isJoined()&&a._push(Ot.access_token,{access_token:t})}))})}_waitForAuthIfNeeded(){return x(this,null,function*(){this._authPromise&&(yield this._authPromise)})}_setAuthSafely(e="general"){this.setAuth().catch(t=>{this.log("error",`error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(a=>{try{a(t)}catch(n){this.log("error",`error in ${e} callback`,n)}})}catch(a){this.log("error",`error triggering ${e} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new hd(()=>x(this,null,function*(){setTimeout(()=>x(this,null,function*(){yield this._waitForAuthIfNeeded(),this.isConnected()||this.connect()}),Ca.RECONNECT_DELAY)}),this.reconnectAfterMs)}_initializeOptions(e){var t,a,n,i,o,l,c,d,u;if(this.transport=(t=e==null?void 0:e.transport)!==null&&t!==void 0?t:null,this.timeout=(a=e==null?void 0:e.timeout)!==null&&a!==void 0?a:yi,this.heartbeatIntervalMs=(n=e==null?void 0:e.heartbeatIntervalMs)!==null&&n!==void 0?n:Ca.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=e==null?void 0:e.heartbeatCallback)!==null&&l!==void 0?l:Ln,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:(f=>rg[f-1]||ag),this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:((f,m)=>m(JSON.stringify(f))),this.decode=(u=e==null?void 0:e.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window!="undefined"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class co extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Ie(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}class og extends co{constructor(e,t,a){super(e),this.name="StorageApiError",this.status=t,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class _i extends co{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}const uo=s=>{let e;return s?e=s:typeof fetch=="undefined"?e=(...t)=>It(()=>x(null,null,function*(){const{default:a}=yield Promise.resolve().then(()=>Bs);return{default:a}}),void 0).then(({default:a})=>a(...t)):e=fetch,(...t)=>e(...t)},lg=()=>Z(void 0,void 0,void 0,function*(){return typeof Response=="undefined"?(yield It(()=>Promise.resolve().then(()=>Bs),void 0)).Response:Response}),ji=s=>{if(Array.isArray(s))return s.map(t=>ji(t));if(typeof s=="function"||s!==Object(s))return s;const e={};return Object.entries(s).forEach(([t,a])=>{const n=t.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[n]=ji(a)}),e},cg=s=>{if(typeof s!="object"||s===null)return!1;const e=Object.getPrototypeOf(s);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},$n=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),dg=(s,e,t)=>Z(void 0,void 0,void 0,function*(){const a=yield lg();s instanceof a&&!(t!=null&&t.noResolveJson)?s.json().then(n=>{const i=s.status||500,o=(n==null?void 0:n.statusCode)||i+"";e(new og($n(n),i,o))}).catch(n=>{e(new _i($n(n),n))}):e(new _i($n(s),s))}),ug=(s,e,t,a)=>{const n={method:s,headers:(e==null?void 0:e.headers)||{}};return s==="GET"||!a?n:(cg(a)?(n.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n.body=JSON.stringify(a)):n.body=a,e!=null&&e.duplex&&(n.duplex=e.duplex),Object.assign(Object.assign({},n),t))};function ha(s,e,t,a,n,i){return Z(this,void 0,void 0,function*(){return new Promise((o,l)=>{s(t,ug(e,a,n,i)).then(c=>{if(!c.ok)throw c;return a!=null&&a.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>dg(c,l,a))})})}function ta(s,e,t,a){return Z(this,void 0,void 0,function*(){return ha(s,"GET",e,t,a)})}function At(s,e,t,a,n){return Z(this,void 0,void 0,function*(){return ha(s,"POST",e,a,n,t)})}function Si(s,e,t,a,n){return Z(this,void 0,void 0,function*(){return ha(s,"PUT",e,a,n,t)})}function hg(s,e,t,a){return Z(this,void 0,void 0,function*(){return ha(s,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),a)})}function ho(s,e,t,a,n){return Z(this,void 0,void 0,function*(){return ha(s,"DELETE",e,a,n,t)})}class mg{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}execute(){return Z(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ie(e))return{data:null,error:e};throw e}})}}var pd;class fg{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[pd]="BlobDownloadBuilder",this.promise=null}asStream(){return new mg(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Z(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ie(e))return{data:null,error:e};throw e}})}}pd=Symbol.toStringTag;const pg={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},yl={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class gg{constructor(e,t={},a,n){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=a,this.fetch=uo(n)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,t,a,n){return Z(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},yl),n);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob!="undefined"&&a instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",a)):typeof FormData!="undefined"&&a instanceof FormData?(i=a,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=a,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),n!=null&&n.headers&&(l=Object.assign(Object.assign({},l),n.headers));const d=this._removeEmptyFolders(t),u=this._getFinalPath(d),f=yield(e=="PUT"?Si:At)(this.fetch,`${this.url}/object/${u}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:d,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ie(i))return{data:null,error:i};throw i}})}upload(e,t,a){return Z(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,a)})}uploadToSignedUrl(e,t,a,n){return Z(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",t);try{let c;const d=Object.assign({upsert:yl.upsert},n),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob!="undefined"&&a instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",a)):typeof FormData!="undefined"&&a instanceof FormData?(c=a,c.append("cacheControl",d.cacheControl)):(c=a,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const f=yield Si(this.fetch,l.toString(),c,{headers:u});return{data:{path:i,fullPath:f.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Ie(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,t){return Z(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e);const n=Object.assign({},this.headers);t!=null&&t.upsert&&(n["x-upsert"]="true");const i=yield At(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:n}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new co("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ie(a))return{data:null,error:a};throw a}})}update(e,t,a){return Z(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,a)})}move(e,t,a){return Z(this,void 0,void 0,function*(){try{return{data:yield At(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ie(n))return{data:null,error:n};throw n}})}copy(e,t,a){return Z(this,void 0,void 0,function*(){try{return{data:{path:(yield At(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ie(n))return{data:null,error:n};throw n}})}createSignedUrl(e,t,a){return Z(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),i=yield At(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:t},a!=null&&a.transform?{transform:a.transform}:{}),{headers:this.headers});const o=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ie(n))return{data:null,error:n};throw n}})}createSignedUrls(e,t,a){return Z(this,void 0,void 0,function*(){try{const n=yield At(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),i=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ie(n))return{data:null,error:n};throw n}})}download(e,t){const n=typeof(t==null?void 0:t.transform)!="undefined"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),o=i?`?${i}`:"",l=this._getFinalPath(e),c=()=>ta(this.fetch,`${this.url}/${n}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new fg(c,this.shouldThrowOnError)}info(e){return Z(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const a=yield ta(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:ji(a),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ie(a))return{data:null,error:a};throw a}})}exists(e){return Z(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield hg(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ie(a)&&a instanceof _i){const n=a.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:a}}throw a}})}getPublicUrl(e,t){const a=this._getFinalPath(e),n=[],i=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&n.push(i);const l=typeof(t==null?void 0:t.transform)!="undefined"?"render/image":"object",c=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});c!==""&&n.push(c);let d=n.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${a}${d}`)}}}remove(e){return Z(this,void 0,void 0,function*(){try{return{data:yield ho(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ie(t))return{data:null,error:t};throw t}})}list(e,t,a){return Z(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},pg),t),{prefix:e||""});return{data:yield At(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},a),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ie(n))return{data:null,error:n};throw n}})}listV2(e,t){return Z(this,void 0,void 0,function*(){try{const a=Object.assign({},e);return{data:yield At(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,a,{headers:this.headers},t),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ie(a))return{data:null,error:a};throw a}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer!="undefined"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const gd="2.76.1",xd={"X-Client-Info":`storage-js/${gd}`};class xg{constructor(e,t={},a,n){this.shouldThrowOnError=!1;const i=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},xd),t),this.fetch=uo(a)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Z(this,void 0,void 0,function*(){try{return{data:yield ta(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ie(e))return{data:null,error:e};throw e}})}getBucket(e){return Z(this,void 0,void 0,function*(){try{return{data:yield ta(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ie(t))return{data:null,error:t};throw t}})}createBucket(e){return Z(this,arguments,void 0,function*(t,a={public:!1}){try{return{data:yield At(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ie(n))return{data:null,error:n};throw n}})}updateBucket(e,t){return Z(this,void 0,void 0,function*(){try{return{data:yield Si(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ie(a))return{data:null,error:a};throw a}})}emptyBucket(e){return Z(this,void 0,void 0,function*(){try{return{data:yield At(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ie(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Z(this,void 0,void 0,function*(){try{return{data:yield ho(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ie(t))return{data:null,error:t};throw t}})}}class bg{constructor(e,t={},a){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},xd),t),this.fetch=uo(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Z(this,void 0,void 0,function*(){try{return{data:yield At(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ie(t))return{data:null,error:t};throw t}})}listBuckets(e){return Z(this,void 0,void 0,function*(){try{const t=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&t.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&t.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&t.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&t.set("sortOrder",e.sortOrder),e!=null&&e.search&&t.set("search",e.search);const a=t.toString(),n=a?`${this.url}/bucket?${a}`:`${this.url}/bucket`,i=yield ta(this.fetch,n,{headers:this.headers});return{data:Array.isArray(i)?i.filter(l=>l.type==="ANALYTICS"):[],error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ie(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Z(this,void 0,void 0,function*(){try{return{data:yield ho(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ie(t))return{data:null,error:t};throw t}})}}const mo={"X-Client-Info":`storage-js/${gd}`,"Content-Type":"application/json"};class bd extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function ft(s){return typeof s=="object"&&s!==null&&"__isStorageVectorsError"in s}class Un extends bd{constructor(e,t,a){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class yg extends bd{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}}var vl;(function(s){s.InternalError="InternalError",s.S3VectorConflictException="S3VectorConflictException",s.S3VectorNotFoundException="S3VectorNotFoundException",s.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",s.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",s.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(vl||(vl={}));const fo=s=>{let e;return s?e=s:typeof fetch=="undefined"?e=(...t)=>It(()=>x(null,null,function*(){const{default:a}=yield Promise.resolve().then(()=>Bs);return{default:a}}),void 0).then(({default:a})=>a(...t)):e=fetch,(...t)=>e(...t)},vg=s=>{if(typeof s!="object"||s===null)return!1;const e=Object.getPrototypeOf(s);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},wl=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),wg=(s,e,t)=>Z(void 0,void 0,void 0,function*(){if(s&&typeof s=="object"&&"status"in s&&"ok"in s&&typeof s.status=="number"&&!(t!=null&&t.noResolveJson)){const n=s.status||500,i=s;if(typeof i.json=="function")i.json().then(o=>{const l=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||n+"";e(new Un(wl(o),n,l))}).catch(()=>{const o=n+"",l=i.statusText||`HTTP ${n} error`;e(new Un(l,n,o))});else{const o=n+"",l=i.statusText||`HTTP ${n} error`;e(new Un(l,n,o))}}else e(new yg(wl(s),s))}),_g=(s,e,t,a)=>{const n={method:s,headers:(e==null?void 0:e.headers)||{}};return a?(vg(a)?(n.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n.body=JSON.stringify(a)):n.body=a,Object.assign(Object.assign({},n),t)):n};function jg(s,e,t,a,n,i){return Z(this,void 0,void 0,function*(){return new Promise((o,l)=>{s(t,_g(e,a,n,i)).then(c=>{if(!c.ok)throw c;if(a!=null&&a.noResolveJson)return c;const d=c.headers.get("content-type");return!d||!d.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>wg(c,l,a))})})}function pt(s,e,t,a,n){return Z(this,void 0,void 0,function*(){return jg(s,"POST",e,a,n,t)})}class Sg{constructor(e,t={},a){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},mo),t),this.fetch=fo(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return Z(this,void 0,void 0,function*(){try{return{data:(yield pt(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ft(t))return{data:null,error:t};throw t}})}getIndex(e,t){return Z(this,void 0,void 0,function*(){try{return{data:yield pt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ft(a))return{data:null,error:a};throw a}})}listIndexes(e){return Z(this,void 0,void 0,function*(){try{return{data:yield pt(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ft(t))return{data:null,error:t};throw t}})}deleteIndex(e,t){return Z(this,void 0,void 0,function*(){try{return{data:(yield pt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ft(a))return{data:null,error:a};throw a}})}}class Ng{constructor(e,t={},a){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},mo),t),this.fetch=fo(a)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return Z(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield pt(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ft(t))return{data:null,error:t};throw t}})}getVectors(e){return Z(this,void 0,void 0,function*(){try{return{data:yield pt(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ft(t))return{data:null,error:t};throw t}})}listVectors(e){return Z(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield pt(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ft(t))return{data:null,error:t};throw t}})}queryVectors(e){return Z(this,void 0,void 0,function*(){try{return{data:yield pt(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ft(t))return{data:null,error:t};throw t}})}deleteVectors(e){return Z(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield pt(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ft(t))return{data:null,error:t};throw t}})}}class kg{constructor(e,t={},a){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},mo),t),this.fetch=fo(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Z(this,void 0,void 0,function*(){try{return{data:(yield pt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ft(t))return{data:null,error:t};throw t}})}getBucket(e){return Z(this,void 0,void 0,function*(){try{return{data:yield pt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ft(t))return{data:null,error:t};throw t}})}listBuckets(){return Z(this,arguments,void 0,function*(e={}){try{return{data:yield pt(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ft(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Z(this,void 0,void 0,function*(){try{return{data:(yield pt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ft(t))return{data:null,error:t};throw t}})}}class Tg extends kg{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new Eg(this.url,this.headers,e,this.fetch)}}class Eg extends Sg{constructor(e,t,a,n){super(e,t,n),this.vectorBucketName=a}createIndex(e){const t=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Z(this,void 0,void 0,function*(){return t.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Z(this,arguments,void 0,function*(t={}){return e.listIndexes.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const t=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Z(this,void 0,void 0,function*(){return t.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const t=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Z(this,void 0,void 0,function*(){return t.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new Cg(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class Cg extends Ng{constructor(e,t,a,n,i){super(e,t,i),this.vectorBucketName=a,this.indexName=n}putVectors(e){const t=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Z(this,void 0,void 0,function*(){return t.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const t=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Z(this,void 0,void 0,function*(){return t.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Z(this,arguments,void 0,function*(t={}){return e.listVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const t=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Z(this,void 0,void 0,function*(){return t.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const t=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Z(this,void 0,void 0,function*(){return t.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Ag extends xg{constructor(e,t={},a,n){super(e,t,a,n)}from(e){return new gg(this.url,this.headers,e,this.fetch)}get vectors(){return new Tg(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new bg(this.url+"/iceberg",this.headers,this.fetch)}}const Og="2.76.1";let Vr="";typeof Deno!="undefined"?Vr="deno":typeof document!="undefined"?Vr="web":typeof navigator!="undefined"&&navigator.product==="ReactNative"?Vr="react-native":Vr="node";const Rg={"X-Client-Info":`supabase-js-${Vr}/${Og}`},Pg={headers:Rg},Ig={schema:"public"},Mg={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Dg={},Lg=s=>{let e;return s?e=s:typeof fetch=="undefined"?e=id:e=fetch,(...t)=>e(...t)},$g=()=>typeof Headers=="undefined"?od:Headers,Ug=(s,e,t)=>{const a=Lg(t),n=$g();return(i,o)=>x(null,null,function*(){var l;const c=(l=yield e())!==null&&l!==void 0?l:s;let d=new n(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",s),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),a(i,Object.assign(Object.assign({},o),{headers:d}))})};function Bg(s){return s.endsWith("/")?s:s+"/"}function Fg(s,e){var t,a;const{db:n,auth:i,realtime:o,global:l}=s,{db:c,auth:d,realtime:u,global:f}=e,m={db:Object.assign(Object.assign({},c),n),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(t=f==null?void 0:f.headers)!==null&&t!==void 0?t:{}),(a=l==null?void 0:l.headers)!==null&&a!==void 0?a:{})}),accessToken:()=>x(null,null,function*(){return""})};return s.accessToken?m.accessToken=s.accessToken:delete m.accessToken,m}function Vg(s){const e=s==null?void 0:s.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Bg(e))}catch(t){throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const yd="2.76.1",tr=30*1e3,Ni=3,Bn=Ni*tr,zg="http://localhost:9999",qg="supabase.auth.token",Hg={"X-Client-Info":`gotrue-js/${yd}`},ki="X-Supabase-Api-Version",vd={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Wg=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Yg=600*1e3;class sa extends Error{constructor(e,t,a){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=a}}function Q(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}class Gg extends sa{constructor(e,t,a){super(e,t,a),this.name="AuthApiError",this.status=t,this.code=a}}function Kg(s){return Q(s)&&s.name==="AuthApiError"}class Ps extends sa{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Ss extends sa{constructor(e,t,a,n){super(e,a,n),this.name=t,this.status=a}}class ms extends Ss{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Zg(s){return Q(s)&&s.name==="AuthSessionMissingError"}class Gs extends Ss{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Aa extends Ss{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Oa extends Ss{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Jg(s){return Q(s)&&s.name==="AuthImplicitGrantRedirectError"}class _l extends Ss{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ti extends Ss{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Fn(s){return Q(s)&&s.name==="AuthRetryableFetchError"}class jl extends Ss{constructor(e,t,a){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=a}}class Ei extends Ss{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ka="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Sl=` 	
\r=`.split(""),Xg=(()=>{const s=new Array(128);for(let e=0;e<s.length;e+=1)s[e]=-1;for(let e=0;e<Sl.length;e+=1)s[Sl[e].charCodeAt(0)]=-2;for(let e=0;e<Ka.length;e+=1)s[Ka[e].charCodeAt(0)]=e;return s})();function Nl(s,e,t){if(s!==null)for(e.queue=e.queue<<8|s,e.queuedBits+=8;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;t(Ka[a]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;t(Ka[a]),e.queuedBits-=6}}function wd(s,e,t){const a=Xg[s];if(a>-1)for(e.queue=e.queue<<6|a,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(s)}"`)}}function kl(s){const e=[],t=o=>{e.push(String.fromCodePoint(o))},a={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},i=o=>{tx(o,a,t)};for(let o=0;o<s.length;o+=1)wd(s.charCodeAt(o),n,i);return e.join("")}function Qg(s,e){if(s<=127){e(s);return}else if(s<=2047){e(192|s>>6),e(128|s&63);return}else if(s<=65535){e(224|s>>12),e(128|s>>6&63),e(128|s&63);return}else if(s<=1114111){e(240|s>>18),e(128|s>>12&63),e(128|s>>6&63),e(128|s&63);return}throw new Error(`Unrecognized Unicode codepoint: ${s.toString(16)}`)}function ex(s,e){for(let t=0;t<s.length;t+=1){let a=s.charCodeAt(t);if(a>55295&&a<=56319){const n=(a-55296)*1024&65535;a=(s.charCodeAt(t+1)-56320&65535|n)+65536,t+=1}Qg(a,e)}}function tx(s,e,t){if(e.utf8seq===0){if(s<=127){t(s);return}for(let a=1;a<6;a+=1)if((s>>7-a&1)===0){e.utf8seq=a;break}if(e.utf8seq===2)e.codepoint=s&31;else if(e.utf8seq===3)e.codepoint=s&15;else if(e.utf8seq===4)e.codepoint=s&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(s<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|s&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function ir(s){const e=[],t={queue:0,queuedBits:0},a=n=>{e.push(n)};for(let n=0;n<s.length;n+=1)wd(s.charCodeAt(n),t,a);return new Uint8Array(e)}function sx(s){const e=[];return ex(s,t=>e.push(t)),new Uint8Array(e)}function Ms(s){const e=[],t={queue:0,queuedBits:0},a=n=>{e.push(n)};return s.forEach(n=>Nl(n,t,a)),Nl(null,t,a),e.join("")}function rx(s){return Math.round(Date.now()/1e3)+s}function ax(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){const e=Math.random()*16|0;return(s=="x"?e:e&3|8).toString(16)})}const ht=()=>typeof window!="undefined"&&typeof document!="undefined",Cs={tested:!1,writable:!1},_d=()=>{if(!ht())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch(e){return!1}if(Cs.tested)return Cs.writable;const s=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(s,s),globalThis.localStorage.removeItem(s),Cs.tested=!0,Cs.writable=!0}catch(e){Cs.tested=!0,Cs.writable=!1}return Cs.writable};function nx(s){const e={},t=new URL(s);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((n,i)=>{e[i]=n})}catch(a){}return t.searchParams.forEach((a,n)=>{e[n]=a}),e}const jd=s=>{let e;return s?e=s:typeof fetch=="undefined"?e=(...t)=>It(()=>x(null,null,function*(){const{default:a}=yield Promise.resolve().then(()=>Bs);return{default:a}}),void 0).then(({default:a})=>a(...t)):e=fetch,(...t)=>e(...t)},ix=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",sr=(s,e,t)=>x(null,null,function*(){yield s.setItem(e,JSON.stringify(t))}),As=(s,e)=>x(null,null,function*(){const t=yield s.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch(a){return t}}),hs=(s,e)=>x(null,null,function*(){yield s.removeItem(e)});class fn{constructor(){this.promise=new fn.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}fn.promiseConstructor=Promise;function Vn(s){const e=s.split(".");if(e.length!==3)throw new Ei("Invalid JWT structure");for(let a=0;a<e.length;a++)if(!Wg.test(e[a]))throw new Ei("JWT not in base64url format");return{header:JSON.parse(kl(e[0])),payload:JSON.parse(kl(e[1])),signature:ir(e[2]),raw:{header:e[0],payload:e[1]}}}function ox(s){return x(this,null,function*(){return yield new Promise(e=>{setTimeout(()=>e(null),s)})})}function lx(s,e){return new Promise((a,n)=>{x(null,null,function*(){for(let i=0;i<1/0;i++)try{const o=yield s(i);if(!e(i,null,o)){a(o);return}}catch(o){if(!e(i,o)){n(o);return}}})})}function cx(s){return("0"+s.toString(16)).substr(-2)}function dx(){const e=new Uint32Array(56);if(typeof crypto=="undefined"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=t.length;let n="";for(let i=0;i<56;i++)n+=t.charAt(Math.floor(Math.random()*a));return n}return crypto.getRandomValues(e),Array.from(e,cx).join("")}function ux(s){return x(this,null,function*(){const t=new TextEncoder().encode(s),a=yield crypto.subtle.digest("SHA-256",t),n=new Uint8Array(a);return Array.from(n).map(i=>String.fromCharCode(i)).join("")})}function hx(s){return x(this,null,function*(){if(!(typeof crypto!="undefined"&&typeof crypto.subtle!="undefined"&&typeof TextEncoder!="undefined"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),s;const t=yield ux(s);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}function Ks(s,e,t=!1){return x(this,null,function*(){const a=dx();let n=a;t&&(n+="/PASSWORD_RECOVERY"),yield sr(s,`${e}-code-verifier`,n);const i=yield hx(a);return[i,a===i?"plain":"s256"]})}const mx=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function fx(s){const e=s.headers.get(ki);if(!e||!e.match(mx))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch(t){return null}}function px(s){if(!s)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(s<=e)throw new Error("JWT has expired")}function gx(s){switch(s){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const xx=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Zs(s){if(!xx.test(s))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function zn(){const s={};return new Proxy(s,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const a=t.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Tl(s){return JSON.parse(JSON.stringify(s))}const Os=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),bx=[502,503,504];function El(s){return x(this,null,function*(){var e;if(!ix(s))throw new Ti(Os(s),0);if(bx.includes(s.status))throw new Ti(Os(s),s.status);let t;try{t=yield s.json()}catch(i){throw new Ps(Os(i),i)}let a;const n=fx(s);if(n&&n.getTime()>=vd["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?a=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(a=t.error_code),a){if(a==="weak_password")throw new jl(Os(t),s.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(a==="session_not_found")throw new ms}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new jl(Os(t),s.status,t.weak_password.reasons);throw new Gg(Os(t),s.status||500,a)})}const yx=(s,e,t,a)=>{const n={method:s,headers:(e==null?void 0:e.headers)||{}};return s==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),n.body=JSON.stringify(a),Object.assign(Object.assign({},n),t))};function re(s,e,t,a){return x(this,null,function*(){var n;const i=Object.assign({},a==null?void 0:a.headers);i[ki]||(i[ki]=vd["2024-01-01"].name),a!=null&&a.jwt&&(i.Authorization=`Bearer ${a.jwt}`);const o=(n=a==null?void 0:a.query)!==null&&n!==void 0?n:{};a!=null&&a.redirectTo&&(o.redirect_to=a.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=yield vx(s,e,t+l,{headers:i,noResolveJson:a==null?void 0:a.noResolveJson},{},a==null?void 0:a.body);return a!=null&&a.xform?a==null?void 0:a.xform(c):{data:Object.assign({},c),error:null}})}function vx(s,e,t,a,n,i){return x(this,null,function*(){const o=yx(e,a,n,i);let l;try{l=yield s(t,Object.assign({},o))}catch(c){throw console.error(c),new Ti(Os(c),0)}if(l.ok||(yield El(l)),a!=null&&a.noResolveJson)return l;try{return yield l.json()}catch(c){yield El(c)}})}function kt(s){var e;let t=null;jx(s)&&(t=Object.assign({},s),s.expires_at||(t.expires_at=rx(s.expires_in)));const a=(e=s.user)!==null&&e!==void 0?e:s;return{data:{session:t,user:a},error:null}}function Cl(s){const e=kt(s);return!e.error&&s.weak_password&&typeof s.weak_password=="object"&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.message&&typeof s.weak_password.message=="string"&&s.weak_password.reasons.reduce((t,a)=>t&&typeof a=="string",!0)&&(e.data.weak_password=s.weak_password),e}function xs(s){var e;return{data:{user:(e=s.user)!==null&&e!==void 0?e:s},error:null}}function wx(s){return{data:s,error:null}}function _x(s){const{action_link:e,email_otp:t,hashed_token:a,redirect_to:n,verification_type:i}=s,o=cn(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:t,hashed_token:a,redirect_to:n,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function Al(s){return s}function jx(s){return s.access_token&&s.refresh_token&&s.expires_in}const qn=["global","local","others"];class Sx{constructor({url:e="",headers:t={},fetch:a}){this.url=e,this.headers=t,this.fetch=jd(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}signOut(a){return x(this,arguments,function*(e,t=qn[0]){if(qn.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${qn.join(", ")}`);try{return yield re(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Q(n))return{data:null,error:n};throw n}})}inviteUserByEmail(a){return x(this,arguments,function*(e,t={}){try{return yield re(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:xs})}catch(n){if(Q(n))return{data:{user:null},error:n};throw n}})}generateLink(e){return x(this,null,function*(){try{const{options:t}=e,a=cn(e,["options"]),n=Object.assign(Object.assign({},a),t);return"newEmail"in a&&(n.new_email=a==null?void 0:a.newEmail,delete n.newEmail),yield re(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:_x,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(Q(t))return{data:{properties:null,user:null},error:t};throw t}})}createUser(e){return x(this,null,function*(){try{return yield re(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:xs})}catch(t){if(Q(t))return{data:{user:null},error:t};throw t}})}listUsers(e){return x(this,null,function*(){var t,a,n,i,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=yield re(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&a!==void 0?a:"",per_page:(i=(n=e==null?void 0:e.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:Al});if(u.error)throw u.error;const f=yield u.json(),m=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return g.length>0&&(g.forEach(v=>{const j=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(v.split(";")[1].split("=")[1]);d[`${b}Page`]=j}),d.total=parseInt(m)),{data:Object.assign(Object.assign({},f),d),error:null}}catch(d){if(Q(d))return{data:{users:[]},error:d};throw d}})}getUserById(e){return x(this,null,function*(){Zs(e);try{return yield re(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:xs})}catch(t){if(Q(t))return{data:{user:null},error:t};throw t}})}updateUserById(e,t){return x(this,null,function*(){Zs(e);try{return yield re(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:xs})}catch(a){if(Q(a))return{data:{user:null},error:a};throw a}})}deleteUser(e,t=!1){return x(this,null,function*(){Zs(e);try{return yield re(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:xs})}catch(a){if(Q(a))return{data:{user:null},error:a};throw a}})}_listFactors(e){return x(this,null,function*(){Zs(e.userId);try{const{data:t,error:a}=yield re(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:t,error:a}}catch(t){if(Q(t))return{data:null,error:t};throw t}})}_deleteFactor(e){return x(this,null,function*(){Zs(e.userId),Zs(e.id);try{return{data:yield re(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(Q(t))return{data:null,error:t};throw t}})}_listOAuthClients(e){return x(this,null,function*(){var t,a,n,i,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=yield re(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&a!==void 0?a:"",per_page:(i=(n=e==null?void 0:e.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:Al});if(u.error)throw u.error;const f=yield u.json(),m=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return g.length>0&&(g.forEach(v=>{const j=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(v.split(";")[1].split("=")[1]);d[`${b}Page`]=j}),d.total=parseInt(m)),{data:Object.assign(Object.assign({},f),d),error:null}}catch(d){if(Q(d))return{data:{clients:[]},error:d};throw d}})}_createOAuthClient(e){return x(this,null,function*(){try{return yield re(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(Q(t))return{data:null,error:t};throw t}})}_getOAuthClient(e){return x(this,null,function*(){try{return yield re(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(Q(t))return{data:null,error:t};throw t}})}_deleteOAuthClient(e){return x(this,null,function*(){try{return yield re(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(Q(t))return{data:null,error:t};throw t}})}_regenerateOAuthClientSecret(e){return x(this,null,function*(){try{return yield re(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(Q(t))return{data:null,error:t};throw t}})}}function Ol(s={}){return{getItem:e=>s[e]||null,setItem:(e,t)=>{s[e]=t},removeItem:e=>{delete s[e]}}}const Js={debug:!!(globalThis&&_d()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Sd extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Nx extends Sd{}function kx(s,e,t){return x(this,null,function*(){Js.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",s,e);const a=new globalThis.AbortController;return e>0&&setTimeout(()=>{a.abort(),Js.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",s)},e),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(s,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},n=>x(null,null,function*(){if(n){Js.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",s,n.name);try{return yield t()}finally{Js.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",s,n.name)}}else{if(e===0)throw Js.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",s),new Nx(`Acquiring an exclusive Navigator LockManager lock "${s}" immediately failed`);if(Js.debug)try{const i=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield t()}})))})}function Tx(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(s){typeof self!="undefined"&&(self.globalThis=self)}}function Nd(s){if(!/^0x[a-fA-F0-9]{40}$/.test(s))throw new Error(`@supabase/auth-js: Address "${s}" is invalid.`);return s.toLowerCase()}function Ex(s){return parseInt(s,16)}function Cx(s){const e=new TextEncoder().encode(s);return"0x"+Array.from(e,a=>a.toString(16).padStart(2,"0")).join("")}function Ax(s){var e;const{chainId:t,domain:a,expirationTime:n,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:c,resources:d,scheme:u,uri:f,version:m}=s;{if(!Number.isInteger(t))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${t}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((e=s.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${s.statement}`)}const g=Nd(s.address),v=u?`${u}://${a}`:a,j=s.statement?`${s.statement}
`:"",b=`${v} wants you to sign in with your Ethereum account:
${g}

${j}`;let C=`URI: ${f}
Version: ${m}
Chain ID: ${t}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(n&&(C+=`
Expiration Time: ${n.toISOString()}`),l&&(C+=`
Not Before: ${l.toISOString()}`),c&&(C+=`
Request ID: ${c}`),d){let k=`
Resources:`;for(const y of d){if(!y||typeof y!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${y}`);k+=`
- ${y}`}C+=k}return`${b}
${C}`}class Fe extends Error{constructor({message:e,code:t,cause:a,name:n}){var i;super(e,{cause:a}),this.__isWebAuthnError=!0,this.name=(i=n!=null?n:a instanceof Error?a.name:void 0)!==null&&i!==void 0?i:"Unknown Error",this.code=t}}class Za extends Fe{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}function Ox({error:s,options:e}){var t,a,n;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Fe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else if(s.name==="ConstraintError"){if(((t=i.authenticatorSelection)===null||t===void 0?void 0:t.requireResidentKey)===!0)return new Fe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:s});if(e.mediation==="conditional"&&((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Fe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:s});if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Fe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:s})}else{if(s.name==="InvalidStateError")return new Fe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:s});if(s.name==="NotAllowedError")return new Fe({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Fe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:s}):new Fe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:s});if(s.name==="SecurityError"){const o=window.location.hostname;if(kd(o)){if(i.rp.id!==o)return new Fe({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new Fe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Fe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:s})}else if(s.name==="UnknownError")return new Fe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new Fe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}function Rx({error:s,options:e}){const{publicKey:t}=e;if(!t)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Fe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else{if(s.name==="NotAllowedError")return new Fe({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="SecurityError"){const a=window.location.hostname;if(kd(a)){if(t.rpId!==a)return new Fe({message:`The RP ID "${t.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new Fe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="UnknownError")return new Fe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new Fe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}class Px{createNewAbortSignal(){if(this.controller){const t=new Error("Cancelling existing WebAuthn API call for new one");t.name="AbortError",this.controller.abort(t)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Ix=new Px;function Mx(s){if(!s)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential!="undefined"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(s);const{challenge:e,user:t,excludeCredentials:a}=s,n=cn(s,["challenge","user","excludeCredentials"]),i=ir(e).buffer,o=Object.assign(Object.assign({},t),{id:ir(t.id).buffer}),l=Object.assign(Object.assign({},n),{challenge:i,user:o});if(a&&a.length>0){l.excludeCredentials=new Array(a.length);for(let c=0;c<a.length;c++){const d=a[c];l.excludeCredentials[c]=Object.assign(Object.assign({},d),{id:ir(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function Dx(s){if(!s)throw new Error("Credential request options are required");if(typeof PublicKeyCredential!="undefined"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(s);const{challenge:e,allowCredentials:t}=s,a=cn(s,["challenge","allowCredentials"]),n=ir(e).buffer,i=Object.assign(Object.assign({},a),{challenge:n});if(t&&t.length>0){i.allowCredentials=new Array(t.length);for(let o=0;o<t.length;o++){const l=t[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:ir(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function Lx(s){var e;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const t=s;return{id:s.id,rawId:s.id,response:{attestationObject:Ms(new Uint8Array(s.response.attestationObject)),clientDataJSON:Ms(new Uint8Array(s.response.clientDataJSON))},type:"public-key",clientExtensionResults:s.getClientExtensionResults(),authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function $x(s){var e;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const t=s,a=s.getClientExtensionResults(),n=s.response;return{id:s.id,rawId:s.id,response:{authenticatorData:Ms(new Uint8Array(n.authenticatorData)),clientDataJSON:Ms(new Uint8Array(n.clientDataJSON)),signature:Ms(new Uint8Array(n.signature)),userHandle:n.userHandle?Ms(new Uint8Array(n.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function kd(s){return s==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(s)}function Rl(){var s,e;return!!(ht()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((s=navigator==null?void 0:navigator.credentials)===null||s===void 0?void 0:s.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}function Ux(s){return x(this,null,function*(){try{const e=yield navigator.credentials.create(s);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Za("Browser returned unexpected credential type",e)}:{data:null,error:new Za("Empty credential response",e)}}catch(e){return{data:null,error:Ox({error:e,options:s})}}})}function Bx(s){return x(this,null,function*(){try{const e=yield navigator.credentials.get(s);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Za("Browser returned unexpected credential type",e)}:{data:null,error:new Za("Empty credential response",e)}}catch(e){return{data:null,error:Rx({error:e,options:s})}}})}const Fx={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},Vx={userVerification:"preferred",hints:["security-key"]};function Ja(...s){const e=n=>n!==null&&typeof n=="object"&&!Array.isArray(n),t=n=>n instanceof ArrayBuffer||ArrayBuffer.isView(n),a={};for(const n of s)if(n)for(const i in n){const o=n[i];if(o!==void 0)if(Array.isArray(o))a[i]=o;else if(t(o))a[i]=o;else if(e(o)){const l=a[i];e(l)?a[i]=Ja(l,o):a[i]=Ja(o)}else a[i]=o}return a}function zx(s,e){return Ja(Fx,s,e||{})}function qx(s,e){return Ja(Vx,s,e||{})}class Hx{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}_enroll(e){return x(this,null,function*(){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))})}_challenge(o,l){return x(this,arguments,function*({factorId:e,webauthn:t,friendlyName:a,signal:n},i){try{const{data:c,error:d}=yield this.client.mfa.challenge({factorId:e,webauthn:t});if(!c)return{data:null,error:d};const u=n!=null?n:Ix.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:f}=c.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${a}`),f.displayName||(f.displayName=f.name)}switch(c.webauthn.type){case"create":{const f=zx(c.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:m,error:g}=yield Ux({publicKey:f,signal:u});return m?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:m}},error:null}:{data:null,error:g}}case"request":{const f=qx(c.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:m,error:g}=yield Bx(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:f,signal:u}));return m?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:m}},error:null}:{data:null,error:g}}}}catch(c){return Q(c)?{data:null,error:c}:{data:null,error:new Ps("Unexpected error in challenge",c)}}})}_verify(n){return x(this,arguments,function*({challengeId:e,factorId:t,webauthn:a}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:a})})}_authenticate(o,l){return x(this,arguments,function*({factorId:e,webauthn:{rpId:t=typeof window!="undefined"?window.location.hostname:void 0,rpOrigins:a=typeof window!="undefined"?[window.location.origin]:void 0,signal:n}},i){if(!t)return{data:null,error:new sa("rpId is required for WebAuthn authentication")};try{if(!Rl())return{data:null,error:new Ps("Browser does not support WebAuthn",null)};const{data:c,error:d}=yield this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:a},signal:n},{request:i});if(!c)return{data:null,error:d};const{webauthn:u}=c;return this._verify({factorId:e,challengeId:c.challengeId,webauthn:{type:u.type,rpId:t,rpOrigins:a,credential_response:u.credential_response}})}catch(c){return Q(c)?{data:null,error:c}:{data:null,error:new Ps("Unexpected error in authenticate",c)}}})}_register(o,l){return x(this,arguments,function*({friendlyName:e,rpId:t=typeof window!="undefined"?window.location.hostname:void 0,rpOrigins:a=typeof window!="undefined"?[window.location.origin]:void 0,signal:n},i){if(!t)return{data:null,error:new sa("rpId is required for WebAuthn registration")};try{if(!Rl())return{data:null,error:new Ps("Browser does not support WebAuthn",null)};const{data:c,error:d}=yield this._enroll({friendlyName:e});if(!c)return yield this.client.mfa.listFactors().then(m=>{var g;return(g=m.data)===null||g===void 0?void 0:g.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===e&&v.status!=="unverified")}).then(m=>m?this.client.mfa.unenroll({factorId:m==null?void 0:m.id}):void 0),{data:null,error:d};const{data:u,error:f}=yield this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:t,rpOrigins:a},signal:n},{create:i});return u?this._verify({factorId:c.id,challengeId:u.challengeId,webauthn:{rpId:t,rpOrigins:a,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:f}}catch(c){return Q(c)?{data:null,error:c}:{data:null,error:new Ps("Unexpected error in register",c)}}})}}Tx();const Wx={url:zg,storageKey:qg,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Hg,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};function Pl(s,e,t){return x(this,null,function*(){return yield t()})}const Xs={};class ra{get jwks(){var e,t;return(t=(e=Xs[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){Xs[this.storageKey]=Object.assign(Object.assign({},Xs[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=Xs[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Xs[this.storageKey]=Object.assign(Object.assign({},Xs[this.storageKey]),{cachedAt:e})}constructor(e){var t,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ra.nextInstanceID,ra.nextInstanceID+=1,this.instanceID>0&&ht()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},Wx),e);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new Sx({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=jd(n.fetch),this.lock=n.lock||Pl,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:ht()&&(!((t=globalThis==null?void 0:globalThis.navigator)===null||t===void 0)&&t.locks)?this.lock=kx:this.lock=Pl,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Hx(this)},this.persistSession?(n.storage?this.storage=n.storage:_d()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ol(this.memoryStorage)),n.userStorage&&(this.userStorage=n.userStorage)):(this.memoryStorage={},this.storage=Ol(this.memoryStorage)),ht()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",i=>x(this,null,function*(){this._debug("received broadcast notification from other tab or client",i),yield this._notifyAllSubscribers(i.data.event,i.data.session,!1)}))}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${yd}) ${new Date().toISOString()}`,...e),this}initialize(){return x(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=x(this,null,function*(){return yield this._acquireLock(-1,()=>x(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return x(this,null,function*(){var e;try{const t=nx(window.location.href);let a="none";if(this._isImplicitGrantCallback(t)?a="implicit":(yield this._isPKCECallback(t))&&(a="pkce"),ht()&&this.detectSessionInUrl&&a!=="none"){const{data:n,error:i}=yield this._getSessionFromURL(t,a);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Jg(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return yield this._removeSession(),{error:i}}const{session:o,redirectType:l}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),yield this._saveSession(o),setTimeout(()=>x(this,null,function*(){l==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",o):yield this._notifyAllSubscribers("SIGNED_IN",o)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(t){return Q(t)?{error:t}:{error:new Ps("Unexpected error during initialization",t)}}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(e){return x(this,null,function*(){var t,a,n;try{const i=yield re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.captchaToken}},xform:kt}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(yield this._saveSession(o.session),yield this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(Q(i))return{data:{user:null,session:null},error:i};throw i}})}signUp(e){return x(this,null,function*(){var t,a,n;try{let i;if("email"in e){const{email:u,password:f,options:m}=e;let g=null,v=null;this.flowType==="pkce"&&([g,v]=yield Ks(this.storage,this.storageKey)),i=yield re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:u,password:f,data:(t=m==null?void 0:m.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:g,code_challenge_method:v},xform:kt})}else if("phone"in e){const{phone:u,password:f,options:m}=e;i=yield re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:f,data:(a=m==null?void 0:m.data)!==null&&a!==void 0?a:{},channel:(n=m==null?void 0:m.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:kt})}else throw new Aa("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(yield this._saveSession(o.session),yield this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(Q(i))return{data:{user:null,session:null},error:i};throw i}})}signInWithPassword(e){return x(this,null,function*(){try{let t;if("email"in e){const{email:i,password:o,options:l}=e;t=yield re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Cl})}else if("phone"in e){const{phone:i,password:o,options:l}=e;t=yield re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Cl})}else throw new Aa("You must provide either an email or phone number and a password");const{data:a,error:n}=t;return n?{data:{user:null,session:null},error:n}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new Gs}:(a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:n})}catch(t){if(Q(t))return{data:{user:null,session:null},error:t};throw t}})}signInWithOAuth(e){return x(this,null,function*(){var t,a,n,i;return yield this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(n=e.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})})}exchangeCodeForSession(e){return x(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>x(this,null,function*(){return this._exchangeCodeForSession(e)}))})}signInWithWeb3(e){return x(this,null,function*(){const{chain:t}=e;switch(t){case"ethereum":return yield this.signInWithEthereum(e);case"solana":return yield this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}})}signInWithEthereum(e){return x(this,null,function*(){var t,a,n,i,o,l,c,d,u,f,m;let g,v;if("message"in e)g=e.message,v=e.signature;else{const{chain:j,wallet:b,statement:C,options:k}=e;let y;if(ht())if(typeof b=="object")y=b;else{const P=window;if("ethereum"in P&&typeof P.ethereum=="object"&&"request"in P.ethereum&&typeof P.ethereum.request=="function")y=P.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(k!=null&&k.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=b}const N=new URL((t=k==null?void 0:k.url)!==null&&t!==void 0?t:window.location.href),S=yield y.request({method:"eth_requestAccounts"}).then(P=>P).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const T=Nd(S[0]);let E=(a=k==null?void 0:k.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!E){const P=yield y.request({method:"eth_chainId"});E=Ex(P)}const I={domain:N.host,address:T,statement:C,uri:N.href,version:"1",chainId:E,nonce:(n=k==null?void 0:k.signInWithEthereum)===null||n===void 0?void 0:n.nonce,issuedAt:(o=(i=k==null?void 0:k.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=k==null?void 0:k.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=k==null?void 0:k.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(d=k==null?void 0:k.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(u=k==null?void 0:k.signInWithEthereum)===null||u===void 0?void 0:u.resources};g=Ax(I),v=yield y.request({method:"personal_sign",params:[Cx(g),T]})}try{const{data:j,error:b}=yield re(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:v},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:kt});if(b)throw b;return!j||!j.session||!j.user?{data:{user:null,session:null},error:new Gs}:(j.session&&(yield this._saveSession(j.session),yield this._notifyAllSubscribers("SIGNED_IN",j.session)),{data:Object.assign({},j),error:b})}catch(j){if(Q(j))return{data:{user:null,session:null},error:j};throw j}})}signInWithSolana(e){return x(this,null,function*(){var t,a,n,i,o,l,c,d,u,f,m,g;let v,j;if("message"in e)v=e.message,j=e.signature;else{const{chain:b,wallet:C,statement:k,options:y}=e;let N;if(ht())if(typeof C=="object")N=C;else{const T=window;if("solana"in T&&typeof T.solana=="object"&&("signIn"in T.solana&&typeof T.solana.signIn=="function"||"signMessage"in T.solana&&typeof T.solana.signMessage=="function"))N=T.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=C}const S=new URL((t=y==null?void 0:y.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in N&&N.signIn){const T=yield N.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),k?{statement:k}:null));let E;if(Array.isArray(T)&&T[0]&&typeof T[0]=="object")E=T[0];else if(T&&typeof T=="object"&&"signedMessage"in T&&"signature"in T)E=T;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)v=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),j=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in N)||typeof N.signMessage!="function"||!("publicKey"in N)||typeof N!="object"||!N.publicKey||!("toBase58"in N.publicKey)||typeof N.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${S.host} wants you to sign in with your Solana account:`,N.publicKey.toBase58(),...k?["",k,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(n=(a=y==null?void 0:y.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&n!==void 0?n:new Date().toISOString()}`,...!((i=y==null?void 0:y.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((o=y==null?void 0:y.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((c=y==null?void 0:y.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((d=y==null?void 0:y.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((f=(u=y==null?void 0:y.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||f===void 0)&&f.length?["Resources",...y.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const T=yield N.signMessage(new TextEncoder().encode(v),"utf8");if(!T||!(T instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");j=T}}try{const{data:b,error:C}=yield re(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Ms(j)},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:kt});if(C)throw C;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new Gs}:(b.session&&(yield this._saveSession(b.session),yield this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:C})}catch(b){if(Q(b))return{data:{user:null,session:null},error:b};throw b}})}_exchangeCodeForSession(e){return x(this,null,function*(){const t=yield As(this.storage,`${this.storageKey}-code-verifier`),[a,n]=(t!=null?t:"").split("/");try{const{data:i,error:o}=yield re(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:a},xform:kt});if(yield hs(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Gs}:(i.session&&(yield this._saveSession(i.session),yield this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:n!=null?n:null}),error:o})}catch(i){if(Q(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}})}signInWithIdToken(e){return x(this,null,function*(){try{const{options:t,provider:a,token:n,access_token:i,nonce:o}=e,l=yield re(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:n,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:kt}),{data:c,error:d}=l;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Gs}:(c.session&&(yield this._saveSession(c.session),yield this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(t){if(Q(t))return{data:{user:null,session:null},error:t};throw t}})}signInWithOtp(e){return x(this,null,function*(){var t,a,n,i,o;try{if("email"in e){const{email:l,options:c}=e;let d=null,u=null;this.flowType==="pkce"&&([d,u]=yield Ks(this.storage,this.storageKey));const{error:f}=yield re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(t=c==null?void 0:c.data)!==null&&t!==void 0?t:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:l,options:c}=e,{data:d,error:u}=yield re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u}}throw new Aa("You must provide either an email or phone number.")}catch(l){if(Q(l))return{data:{user:null,session:null},error:l};throw l}})}verifyOtp(e){return x(this,null,function*(){var t,a;try{let n,i;"options"in e&&(n=(t=e.options)===null||t===void 0?void 0:t.redirectTo,i=(a=e.options)===null||a===void 0?void 0:a.captchaToken);const{data:o,error:l}=yield re(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:kt});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,d=o.user;return c!=null&&c.access_token&&(yield this._saveSession(c),yield this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(n){if(Q(n))return{data:{user:null,session:null},error:n};throw n}})}signInWithSSO(e){return x(this,null,function*(){var t,a,n;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=yield Ks(this.storage,this.storageKey)),yield re(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(a=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&a!==void 0?a:void 0}),!((n=e==null?void 0:e.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:wx})}catch(i){if(Q(i))return{data:null,error:i};throw i}})}reauthenticate(){return x(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>x(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return x(this,null,function*(){try{return yield this._useSession(e=>x(this,null,function*(){const{data:{session:t},error:a}=e;if(a)throw a;if(!t)throw new ms;const{error:n}=yield re(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:n}}))}catch(e){if(Q(e))return{data:{user:null,session:null},error:e};throw e}})}resend(e){return x(this,null,function*(){try{const t=`${this.url}/resend`;if("email"in e){const{email:a,type:n,options:i}=e,{error:o}=yield re(this.fetch,"POST",t,{headers:this.headers,body:{email:a,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:a,type:n,options:i}=e,{data:o,error:l}=yield re(this.fetch,"POST",t,{headers:this.headers,body:{phone:a,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Aa("You must provide either an email or phone number and a type")}catch(t){if(Q(t))return{data:{user:null,session:null},error:t};throw t}})}getSession(){return x(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>x(this,null,function*(){return this._useSession(t=>x(this,null,function*(){return t}))}))})}_acquireLock(e,t){return x(this,null,function*(){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=x(this,null,function*(){return yield a,yield t()});return this.pendingInLock.push(x(this,null,function*(){try{yield n}catch(i){}})),n}return yield this.lock(`lock:${this.storageKey}`,e,()=>x(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=t();for(this.pendingInLock.push(x(this,null,function*(){try{yield a}catch(n){}})),yield a;this.pendingInLock.length;){const n=[...this.pendingInLock];yield Promise.all(n),this.pendingInLock.splice(0,n.length)}return yield a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(e){return x(this,null,function*(){this._debug("#_useSession","begin");try{const t=yield this.__loadSession();return yield e(t)}finally{this._debug("#_useSession","end")}})}__loadSession(){return x(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=yield As(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!e)return{data:{session:null},error:null};const a=e.expires_at?e.expires_at*1e3-Date.now()<Bn:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",e.expires_at),!a){if(this.userStorage){const o=yield As(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=zn()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,d,u)=>(!o&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,u))})}return{data:{session:e},error:null}}const{data:n,error:i}=yield this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}})}getUser(e){return x(this,null,function*(){return e?yield this._getUser(e):(yield this.initializePromise,yield this._acquireLock(-1,()=>x(this,null,function*(){return yield this._getUser()})))})}_getUser(e){return x(this,null,function*(){try{return e?yield re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:xs}):yield this._useSession(t=>x(this,null,function*(){var a,n,i;const{data:o,error:l}=t;if(l)throw l;return!(!((a=o.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ms}:yield re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:xs})}))}catch(t){if(Q(t))return Zg(t)&&(yield this._removeSession(),yield hs(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}})}updateUser(a){return x(this,arguments,function*(e,t={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>x(this,null,function*(){return yield this._updateUser(e,t)}))})}_updateUser(a){return x(this,arguments,function*(e,t={}){try{return yield this._useSession(n=>x(this,null,function*(){const{data:i,error:o}=n;if(o)throw o;if(!i.session)throw new ms;const l=i.session;let c=null,d=null;this.flowType==="pkce"&&e.email!=null&&([c,d]=yield Ks(this.storage,this.storageKey));const{data:u,error:f}=yield re(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:d}),jwt:l.access_token,xform:xs});if(f)throw f;return l.user=u.user,yield this._saveSession(l),yield this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}}))}catch(n){if(Q(n))return{data:{user:null},error:n};throw n}})}setSession(e){return x(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>x(this,null,function*(){return yield this._setSession(e)}))})}_setSession(e){return x(this,null,function*(){try{if(!e.access_token||!e.refresh_token)throw new ms;const t=Date.now()/1e3;let a=t,n=!0,i=null;const{payload:o}=Vn(e.access_token);if(o.exp&&(a=o.exp,n=a<=t),n){const{data:l,error:c}=yield this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=yield this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:a-t,expires_at:a},yield this._saveSession(i),yield this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(t){if(Q(t))return{data:{session:null,user:null},error:t};throw t}})}refreshSession(e){return x(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>x(this,null,function*(){return yield this._refreshSession(e)}))})}_refreshSession(e){return x(this,null,function*(){try{return yield this._useSession(t=>x(this,null,function*(){var a;if(!e){const{data:o,error:l}=t;if(l)throw l;e=(a=o.session)!==null&&a!==void 0?a:void 0}if(!(e!=null&&e.refresh_token))throw new ms;const{data:n,error:i}=yield this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}}))}catch(t){if(Q(t))return{data:{user:null,session:null},error:t};throw t}})}_getSessionFromURL(e,t){return x(this,null,function*(){try{if(!ht())throw new Oa("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Oa(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new _l("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Oa("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new _l("No code detected.");const{data:k,error:y}=yield this._exchangeCodeForSession(e.code);if(y)throw y;const N=new URL(window.location.href);return N.searchParams.delete("code"),window.history.replaceState(window.history.state,"",N.toString()),{data:{session:k.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:n,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:d}=e;if(!i||!l||!o||!d)throw new Oa("No session defined in URL");const u=Math.round(Date.now()/1e3),f=parseInt(l);let m=u+f;c&&(m=parseInt(c));const g=m-u;g*1e3<=tr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${f}s`);const v=m-f;u-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,m,u):u-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,m,u);const{data:j,error:b}=yield this._getUser(i);if(b)throw b;const C={provider_token:a,provider_refresh_token:n,access_token:i,expires_in:f,expires_at:m,refresh_token:o,token_type:d,user:j.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:C,redirectType:e.type},error:null}}catch(a){if(Q(a))return{data:{session:null,redirectType:null},error:a};throw a}})}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}_isPKCECallback(e){return x(this,null,function*(){const t=yield As(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)})}signOut(){return x(this,arguments,function*(e={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>x(this,null,function*(){return yield this._signOut(e)}))})}_signOut(){return x(this,arguments,function*({scope:e}={scope:"global"}){return yield this._useSession(t=>x(this,null,function*(){var a;const{data:n,error:i}=t;if(i)return{error:i};const o=(a=n.session)===null||a===void 0?void 0:a.access_token;if(o){const{error:l}=yield this.admin.signOut(o,e);if(l&&!(Kg(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(yield this._removeSession(),yield hs(this.storage,`${this.storageKey}-code-verifier`)),{error:null}}))})}onAuthStateChange(e){const t=ax(),a={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,a),x(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>x(this,null,function*(){this._emitInitialSession(t)}))}),{data:{subscription:a}}}_emitInitialSession(e){return x(this,null,function*(){return yield this._useSession(t=>x(this,null,function*(){var a,n;try{const{data:{session:i},error:o}=t;if(o)throw o;yield(a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",i),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){yield(n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}}))})}resetPasswordForEmail(a){return x(this,arguments,function*(e,t={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=yield Ks(this.storage,this.storageKey,!0));try{return yield re(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(o){if(Q(o))return{data:null,error:o};throw o}})}getUserIdentities(){return x(this,null,function*(){var e;try{const{data:t,error:a}=yield this.getUser();if(a)throw a;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(Q(t))return{data:null,error:t};throw t}})}linkIdentity(e){return x(this,null,function*(){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)})}linkIdentityOAuth(e){return x(this,null,function*(){var t;try{const{data:a,error:n}=yield this._useSession(i=>x(this,null,function*(){var o,l,c,d,u;const{data:f,error:m}=i;if(m)throw m;const g=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return yield re(this.fetch,"GET",g,{headers:this.headers,jwt:(u=(d=f.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})}));if(n)throw n;return ht()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(a==null?void 0:a.url),{data:{provider:e.provider,url:a==null?void 0:a.url},error:null}}catch(a){if(Q(a))return{data:{provider:e.provider,url:null},error:a};throw a}})}linkIdentityIdToken(e){return x(this,null,function*(){return yield this._useSession(t=>x(this,null,function*(){var a;try{const{error:n,data:{session:i}}=t;if(n)throw n;const{options:o,provider:l,token:c,access_token:d,nonce:u}=e,f=yield re(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=i==null?void 0:i.access_token)!==null&&a!==void 0?a:void 0,body:{provider:l,id_token:c,access_token:d,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:kt}),{data:m,error:g}=f;return g?{data:{user:null,session:null},error:g}:!m||!m.session||!m.user?{data:{user:null,session:null},error:new Gs}:(m.session&&(yield this._saveSession(m.session),yield this._notifyAllSubscribers("USER_UPDATED",m.session)),{data:m,error:g})}catch(n){if(Q(n))return{data:{user:null,session:null},error:n};throw n}}))})}unlinkIdentity(e){return x(this,null,function*(){try{return yield this._useSession(t=>x(this,null,function*(){var a,n;const{data:i,error:o}=t;if(o)throw o;return yield re(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(n=(a=i.session)===null||a===void 0?void 0:a.access_token)!==null&&n!==void 0?n:void 0})}))}catch(t){if(Q(t))return{data:null,error:t};throw t}})}_refreshAccessToken(e){return x(this,null,function*(){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const a=Date.now();return yield lx(n=>x(this,null,function*(){return n>0&&(yield ox(200*Math.pow(2,n-1))),this._debug(t,"refreshing attempt",n),yield re(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:kt})}),(n,i)=>{const o=200*Math.pow(2,n);return i&&Fn(i)&&Date.now()+o-a<tr})}catch(a){if(this._debug(t,"error",a),Q(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(t,"end")}})}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}_handleProviderSignIn(e,t){return x(this,null,function*(){const a=yield this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",a),ht()&&!t.skipBrowserRedirect&&window.location.assign(a),{data:{provider:e,url:a},error:null}})}_recoverAndRefresh(){return x(this,null,function*(){var e,t;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const n=yield As(this.storage,this.storageKey);if(n&&this.userStorage){let o=yield As(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:n.user},yield sr(this.userStorage,this.storageKey+"-user",o)),n.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:zn()}else if(n&&!n.user&&!n.user){const o=yield As(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(n.user=o.user,yield hs(this.storage,this.storageKey+"-user"),yield sr(this.storage,this.storageKey,n)):n.user=zn()}if(this._debug(a,"session from storage",n),!this._isValidSession(n)){this._debug(a,"session is not valid"),n!==null&&(yield this._removeSession());return}const i=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Bn;if(this._debug(a,`session has${i?"":" not"} expired with margin of ${Bn}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=yield this._callRefreshToken(n.refresh_token);o&&(console.error(o),Fn(o)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",o),yield this._removeSession()))}}else if(n.user&&n.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=yield this._getUser(n.access_token);!l&&(o!=null&&o.user)?(n.user=o.user,yield this._saveSession(n),yield this._notifyAllSubscribers("SIGNED_IN",n)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(a,"error getting user data, skipping SIGNED_IN notification",o)}else yield this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(a,"error",n),console.error(n);return}finally{this._debug(a,"end")}})}_callRefreshToken(e){return x(this,null,function*(){var t,a;if(!e)throw new ms;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new fn;const{data:i,error:o}=yield this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new ms;yield this._saveSession(i.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(n,"error",i),Q(i)){const o={data:null,error:i};return Fn(i)||(yield this._removeSession()),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(o),o}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}})}_notifyAllSubscribers(e,t,a=!0){return x(this,null,function*(){const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",t,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:e,session:t});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(l=>x(this,null,function*(){try{yield l.callback(e,t)}catch(c){i.push(c)}}));if(yield Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(n,"end")}})}_saveSession(e){return x(this,null,function*(){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),a=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&t.user&&(yield sr(this.userStorage,this.storageKey+"-user",{user:t.user}));const n=Object.assign({},t);delete n.user;const i=Tl(n);yield sr(this.storage,this.storageKey,i)}else{const n=Tl(t);yield sr(this.storage,this.storageKey,n)}})}_removeSession(){return x(this,null,function*(){this._debug("#_removeSession()"),yield hs(this.storage,this.storageKey),yield hs(this.storage,this.storageKey+"-code-verifier"),yield hs(this.storage,this.storageKey+"-user"),this.userStorage&&(yield hs(this.userStorage,this.storageKey+"-user")),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ht()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}_startAutoRefresh(){return x(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),tr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno!="undefined"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(()=>x(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return x(this,null,function*(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)})}startAutoRefresh(){return x(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return x(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return x(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>x(this,null,function*(){try{const e=Date.now();try{return yield this._useSession(t=>x(this,null,function*(){const{data:{session:a}}=t;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((a.expires_at*1e3-e)/tr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${tr}ms, refresh threshold is ${Ni} ticks`),n<=Ni&&(yield this._callRefreshToken(a.refresh_token))}))}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(e){if(e.isAcquireTimeout||e instanceof Sd)this._debug("auto refresh token tick lock not available");else throw e}})}_handleVisibilityChange(){return x(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!ht()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>x(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}})}_onVisibilityChanged(e){return x(this,null,function*(){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(yield this.initializePromise,yield this._acquireLock(-1,()=>x(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(e,t,a){return x(this,null,function*(){const n=[`provider=${encodeURIComponent(t)}`];if(a!=null&&a.redirectTo&&n.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a!=null&&a.scopes&&n.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[i,o]=yield Ks(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(l.toString())}if(a!=null&&a.queryParams){const i=new URLSearchParams(a.queryParams);n.push(i.toString())}return a!=null&&a.skipBrowserRedirect&&n.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${e}?${n.join("&")}`})}_unenroll(e){return x(this,null,function*(){try{return yield this._useSession(t=>x(this,null,function*(){var a;const{data:n,error:i}=t;return i?{data:null,error:i}:yield re(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(a=n==null?void 0:n.session)===null||a===void 0?void 0:a.access_token})}))}catch(t){if(Q(t))return{data:null,error:t};throw t}})}_enroll(e){return x(this,null,function*(){try{return yield this._useSession(t=>x(this,null,function*(){var a,n;const{data:i,error:o}=t;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:c,error:d}=yield re(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(a=i==null?void 0:i.session)===null||a===void 0?void 0:a.access_token});return d?{data:null,error:d}:(e.factorType==="totp"&&c.type==="totp"&&(!((n=c==null?void 0:c.totp)===null||n===void 0)&&n.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})}))}catch(t){if(Q(t))return{data:null,error:t};throw t}})}_verify(e){return x(this,null,function*(){return this._acquireLock(-1,()=>x(this,null,function*(){try{return yield this._useSession(t=>x(this,null,function*(){var a;const{data:n,error:i}=t;if(i)return{data:null,error:i};const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Lx(e.webauthn.credential_response):$x(e.webauthn.credential_response)})}:{code:e.code}),{data:l,error:c}=yield re(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(a=n==null?void 0:n.session)===null||a===void 0?void 0:a.access_token});return c?{data:null,error:c}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:c})}))}catch(t){if(Q(t))return{data:null,error:t};throw t}}))})}_challenge(e){return x(this,null,function*(){return this._acquireLock(-1,()=>x(this,null,function*(){try{return yield this._useSession(t=>x(this,null,function*(){var a;const{data:n,error:i}=t;if(i)return{data:null,error:i};const o=yield re(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(a=n==null?void 0:n.session)===null||a===void 0?void 0:a.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:Mx(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:Dx(l.webauthn.credential_options.publicKey)})})}),error:null}}}))}catch(t){if(Q(t))return{data:null,error:t};throw t}}))})}_challengeAndVerify(e){return x(this,null,function*(){const{data:t,error:a}=yield this._challenge({factorId:e.factorId});return a?{data:null,error:a}:yield this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})})}_listFactors(){return x(this,null,function*(){var e;const{data:{user:t},error:a}=yield this.getUser();if(a)return{data:null,error:a};const n={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=t==null?void 0:t.factors)!==null&&e!==void 0?e:[])n.all.push(i),i.status==="verified"&&n[i.factor_type].push(i);return{data:n,error:null}})}_getAuthenticatorAssuranceLevel(){return x(this,null,function*(){return this._acquireLock(-1,()=>x(this,null,function*(){return yield this._useSession(e=>x(this,null,function*(){var t,a;const{data:{session:n},error:i}=e;if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Vn(n.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((a=(t=n.user.factors)===null||t===void 0?void 0:t.filter(f=>f.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(c="aal2");const u=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}))})}fetchJwk(a){return x(this,arguments,function*(e,t={keys:[]}){let n=t.keys.find(c=>c.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(c=>c.kid===e),n&&this.jwks_cached_at+Yg>i)return n;const{data:o,error:l}=yield re(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=i,n=o.keys.find(c=>c.kid===e),!n)?null:n})}getClaims(a){return x(this,arguments,function*(e,t={}){try{let n=e;if(!n){const{data:v,error:j}=yield this.getSession();if(j||!v.session)return{data:null,error:j};n=v.session.access_token}const{header:i,payload:o,signature:l,raw:{header:c,payload:d}}=Vn(n);t!=null&&t.allowExpired||px(o.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:yield this.fetchJwk(i.kid,t!=null&&t.keys?{keys:t.keys}:t==null?void 0:t.jwks);if(!u){const{error:v}=yield this.getUser(n);if(v)throw v;return{data:{claims:o,header:i,signature:l},error:null}}const f=gx(i.alg),m=yield crypto.subtle.importKey("jwk",u,f,!0,["verify"]);if(!(yield crypto.subtle.verify(f,m,l,sx(`${c}.${d}`))))throw new Ei("Invalid JWT signature");return{data:{claims:o,header:i,signature:l},error:null}}catch(n){if(Q(n))return{data:null,error:n};throw n}})}}ra.nextInstanceID=0;const Yx=ra;class Gx extends Yx{constructor(e){super(e)}}class Kx{constructor(e,t,a){var n,i,o;this.supabaseUrl=e,this.supabaseKey=t;const l=Vg(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:Ig,realtime:Dg,auth:Object.assign(Object.assign({},Mg),{storageKey:c}),global:Pg},u=Fg(a!=null?a:{},d);this.storageKey=(n=u.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(f,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=Ug(t,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new zp(new URL("rest/v1",l).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new Ag(this.storageUrl.href,this.headers,this.fetch,a==null?void 0:a.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new Pp(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},a={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,a)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return x(this,null,function*(){var e,t;if(this.accessToken)return yield this.accessToken();const{data:a}=yield this.auth.getSession();return(t=(e=a.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:a,storage:n,userStorage:i,storageKey:o,flowType:l,lock:c,debug:d},u,f){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Gx({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),u),storageKey:o,autoRefreshToken:e,persistSession:t,detectSessionInUrl:a,storage:n,userStorage:i,flowType:l,lock:c,debug:d,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new ig(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,a)=>{this._handleTokenChanged(t,"CLIENT",a==null?void 0:a.access_token)})}_handleTokenChanged(e,t,a){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==a?(this.changedAccessToken=a,this.realtime.setAuth(a)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Zx=(s,e,t)=>new Kx(s,e,t);function Jx(){if(typeof window!="undefined"||typeof process=="undefined")return!1;const s=process.version;if(s==null)return!1;const e=s.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Jx()&&console.warn("âš ï¸  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Xx="https://efnzmpzkzeuktqkghwfa.supabase.co",Qx="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVmbnptcHpremV1a3Rxa2dod2ZhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTYyMzE4MzcsImV4cCI6MjA3MTgwNzgzN30.iQiDuurPIkSNjHWP6TID0dATrOCJQ71-kblcsRsHiAk",Le=Zx(Xx,Qx),bt={SONGS:"songs",ALBUMS:"albums",SETTINGS:"settings"},Xt=(s,e="Supabase operation")=>{throw console.error(`âŒ ${e}:`,s),new Error(`${e}: ${s.message}`)},eb=()=>x(null,null,function*(){try{const{data:s,error:e}=yield Le.from(bt.SONGS).select("count").limit(1);if(e){if(e.code==="PGRST116")return console.log("âœ… Connexion Supabase rÃ©ussie (table songs non crÃ©Ã©e)"),!0;throw e}return console.log("âœ… Connexion Supabase rÃ©ussie"),!0}catch(s){return console.error("âŒ Erreur de connexion Supabase:",s),!1}}),tb=s=>{if(!s||typeof s!="string")return{column:"release_date",ascending:!1};let e=!0,t=s.trim();return t.startsWith("-")?(e=!1,t=t.slice(1)):t.startsWith("+")&&(e=!0,t=t.slice(1)),t||(t="release_date"),{column:t,ascending:e}},Tt={list(s="release_date",e=null){return x(this,null,function*(){try{const{column:t,ascending:a}=tb(s);let n=Le.from(bt.SONGS).select("*").order(t,{ascending:a});e&&(n=n.limit(e));const{data:i,error:o}=yield n;if(o)throw o;return i||[]}catch(t){return Xt(t,"Liste des chansons"),[]}})},get(s){return x(this,null,function*(){try{const{data:e,error:t}=yield Le.from(bt.SONGS).select("*").eq("id",s).single();if(t)throw t;return e}catch(e){return Xt(e,`RÃ©cupÃ©ration chanson ID ${s}`),null}})},getBySlug(s){return x(this,null,function*(){try{let{data:e,error:t}=yield Le.from(bt.SONGS).select("*").eq("slug",s).maybeSingle();if(!e&&!t){const{data:a,error:n}=yield Le.from(bt.SONGS).select("*");if(n)throw n;e=(a==null?void 0:a.find(i=>{var l;const o=(l=i.title)==null?void 0:l.toLowerCase().replace(/\s+/g,"-");return i.slug===s||o===s}))||null}if(t)throw t;return e||null}catch(e){return Xt(e,`RÃ©cupÃ©ration chanson slug ${s}`),null}})},getCurrent(){return x(this,null,function*(){try{console.warn("ðŸ” getCurrent() - DÃ©but de la fonction");const{data:s,error:e}=yield Le.from(bt.SONGS).select("*").eq("status","published").order("tiktok_publication_date",{ascending:!1,nullsFirst:!1}).order("release_date",{ascending:!1,nullsFirst:!1}).limit(1);if(e)throw console.error("âŒ Erreur Supabase getCurrent:",e),e;if(console.warn("ðŸ“Š Chanson actuelle trouvÃ©e:",(s==null?void 0:s[0])||null),!s||s.length===0)return console.warn("âš ï¸ Aucune chanson published trouvÃ©e"),null;const t=s[0];return console.warn("ðŸŽ¯ Chanson sÃ©lectionnÃ©e:",t),console.warn("ðŸ” FORCE DEBUG getCurrent:"),console.warn("  - youtube_url:",t==null?void 0:t.youtube_url),console.warn("  - youtube_music_url:",t==null?void 0:t.youtube_music_url),console.warn("  - typeof youtube_music_url:",typeof(t==null?void 0:t.youtube_music_url)),console.warn("  - has_youtube_url:",!!(t!=null&&t.youtube_url)),console.warn("  - has_youtube_music_url:",!!(t!=null&&t.youtube_music_url)),console.warn("  - toutes les clÃ©s:",t?Object.keys(t):[]),console.warn("  - youtube_music_url in keys?",t?"youtube_music_url"in t:!1),t&&"youtube_music_url"in t?console.warn("âœ… youtube_music_url existe dans l'objet:",t.youtube_music_url):console.warn("âŒ youtube_music_url N'EXISTE PAS dans l'objet retournÃ© par Supabase"),t}catch(s){return console.error("âŒ Erreur dans getCurrent:",s),Xt(s,"Chanson actuelle"),null}})},create(s){return x(this,null,function*(){var e,t,a,n,i,o,l,c,d,u;try{const f={title:(e=s.title)==null?void 0:e.trim(),artist:((t=s.artist)==null?void 0:t.trim())||"A MÃºsica da Segunda",description:(a=s.description)==null?void 0:a.trim(),lyrics:(n=s.lyrics)==null?void 0:n.trim(),release_date:s.release_date,status:s.status||"draft",tiktok_video_id:(i=s.tiktok_video_id)==null?void 0:i.trim(),tiktok_url:(o=s.tiktok_url)==null?void 0:o.trim(),tiktok_publication_date:s.tiktok_publication_date,spotify_url:(l=s.spotify_url)==null?void 0:l.trim(),apple_music_url:(c=s.apple_music_url)==null?void 0:c.trim(),youtube_url:(d=s.youtube_url)==null?void 0:d.trim(),cover_image:(u=s.cover_image)==null?void 0:u.trim(),hashtags:Array.isArray(s.hashtags)?s.hashtags:[]},{data:m,error:g}=yield Le.from(bt.SONGS).insert([f]).select().single();if(g)throw g;return console.warn("âœ… Chanson crÃ©Ã©e avec succÃ¨s:",m),m}catch(f){throw Xt(f,"CrÃ©ation chanson"),f}})},update(s,e){return x(this,null,function*(){try{console.warn("ðŸ”„ supabaseSongService.update - dÃ©but"),console.warn("ðŸ”„ ID reÃ§u:",s,"Type:",typeof s),console.warn("ðŸ”„ Updates reÃ§us:",JSON.stringify(e,null,2));const t={};Object.keys(e).forEach(i=>{i==="id"||i==="created_at"||i==="updated_at"||e[i]!==void 0&&e[i]!==null&&(i==="hashtags"&&!Array.isArray(e[i])?t[i]=[]:t[i]=e[i])}),console.warn("ðŸ”„ Updates nettoyÃ©s:",JSON.stringify(t,null,2));const{data:a,error:n}=yield Le.from(bt.SONGS).update(t).eq("id",s).select().single();if(console.warn("[Supabase][UPDATE] id=",s,"payload=",t),console.warn("ðŸ”„ RÃ©ponse Supabase:",JSON.stringify({data:a,error:n},null,2)),n)throw console.error("[Supabase][UPDATE][ERROR]",n),console.error("âŒ Erreur Supabase:",n.message,`
Code:`,n.code,`
Details:`,n.details,`
Hint:`,n.hint,`
Stack:`,n.stack),new Error(n.message||"Update failed");return console.warn("âœ… Chanson mise Ã  jour avec succÃ¨s:",a),a}catch(t){throw console.error("âŒ Erreur dans supabaseSongService.update:",t),console.error("âŒ DÃ©tails de l'erreur:",{message:t.message,code:t.code,details:t.details,hint:t.hint}),t}})},delete(s){return x(this,null,function*(){try{const{error:e}=yield Le.from(bt.SONGS).delete().eq("id",s);if(e)throw e;return console.warn("âœ… Chanson supprimÃ©e avec succÃ¨s ID:",s),!0}catch(e){throw Xt(e,`Suppression chanson ID ${s}`),e}})},search(s){return x(this,null,function*(){try{if(!s||s.trim()==="")return yield this.list();const e=s.trim().toLowerCase(),{data:t,error:a}=yield Le.from(bt.SONGS).select("*").or(`title.ilike.%${e}%,artist.ilike.%${e}%,description.ilike.%${e}%`).order("release_date",{ascending:!1});if(a)throw a;return t||[]}catch(e){return Xt(e,"Recherche chansons"),[]}})},getByStatus(s){return x(this,null,function*(){try{const{data:e,error:t}=yield Le.from(bt.SONGS).select("*").eq("status",s).order("release_date",{ascending:!1});if(t)throw t;return e||[]}catch(e){return Xt(e,`Chansons par statut: ${s}`),[]}})},getByMonth(s,e){return x(this,null,function*(){try{const t=`${s}-${e.toString().padStart(2,"0")}-01`,a=`${s}-${e.toString().padStart(2,"0")}-31`,{data:n,error:i}=yield Le.from(bt.SONGS).select("*").gte("release_date",t).lte("release_date",a).order("release_date",{ascending:!1});if(i)throw i;return n||[]}catch(t){return Xt(t,`Chansons par mois ${e}/${s}`),[]}})}};let La="unknown",$t=!0;const sb=()=>x(null,null,function*(){try{return console.warn("ðŸ”„ Test de connexion Supabase..."),(yield eb())?(console.warn("âœ… Mode de stockage: Supabase â˜ï¸ (connectÃ©)"),$t=!0,La="supabase",!0):(console.warn("âš ï¸ Connexion Supabase Ã©chouÃ©e, mais on force quand mÃªme Supabase"),$t=!0,La="supabase",!0)}catch(s){return console.warn("âš ï¸ Erreur dÃ©tection mode stockage, mais on force Supabase:",s),$t=!0,La="supabase",!0}});sb().then(()=>{console.warn(`ðŸŽ¯ Mode de stockage final: ${La==="supabase"?"Supabase â˜ï¸":"localStorage ðŸ’¾"}`)});const Xe={list:(s="-release_date",e=null)=>x(null,null,function*(){try{console.warn("â˜ï¸ Chargement depuis Supabase...");const t=yield Tt.list(s,e);return t&&t.length>0?(console.warn("âœ… Chansons chargÃ©es depuis Supabase:",t.length),t):(console.warn("âš ï¸ Aucune chanson trouvÃ©e dans Supabase"),[])}catch(t){console.error("Erro ao carregar mÃºsicas desde Supabase:",t)}try{console.warn("ðŸ”„ Fallback vers data/songs.json...");const t=De.songs.getAll();if(t&&t.length>0){const a=t.sort((n,i)=>new Date(i.release_date)-new Date(n.release_date));return console.warn("âœ… Chansons chargÃ©es depuis localStorage:",t.length),e?a.slice(0,e):a}}catch(t){console.error("Erro ao carregar mÃºsicas depuis localStorage:",t)}try{console.warn("ðŸ”„ ForÃ§age initialisation localStorage..."),De.initialize();const t=De.songs.getAll();if(t&&t.length>0){const a=t.sort((n,i)=>new Date(i.release_date)-new Date(n.release_date));return console.warn("âœ… Chansons chargÃ©es aprÃ¨s initialisation forcÃ©e:",t.length),e?a.slice(0,e):a}}catch(t){console.error("Erro ao forÃ§ar inicializaÃ§Ã£o localStorage:",t)}return console.warn("âš ï¸ Aucune chanson trouvÃ©e, retour tableau vide"),[]}),get:s=>x(null,null,function*(){try{return $t?yield Tt.get(s):De.songs.getById(s)}catch(e){return console.error("Erro ao carregar mÃºsica:",e),De.songs.getById(s)}}),getCurrent:()=>x(null,null,function*(){try{if($t){const s=yield Tt.getCurrent();if(s){try{const t=De.songs.getAll().filter(i=>i.title!=="ConfissÃµes BancÃ¡rias"&&i.tiktok_video_id!=="7540762684149517590");t.some(i=>i.tiktok_video_id===s.tiktok_video_id)||t.push(s);const n=t.map((i,o)=>A(p({},i),{id:o+1}));localStorage.setItem("songs",JSON.stringify(n)),console.warn('ðŸ”„ localStorage synchronisÃ© avec Supabase et nettoyÃ© de "ConfissÃµes BancÃ¡rias"')}catch(e){console.warn("âš ï¸ Erreur synchronisation localStorage:",e)}return s}}return console.warn("âš ï¸ Supabase indisponible, utilisation du localStorage nettoyÃ©"),De.songs.getCurrent()}catch(s){console.error("Erro ao carregar mÃºsica atual:",s);try{const t=De.songs.getAll().filter(a=>a.title!=="ConfissÃµes BancÃ¡rias"&&a.tiktok_video_id!=="7540762684149517590");if(t.length>0){const a=t.map((n,i)=>A(p({},n),{id:i+1}));return localStorage.setItem("songs",JSON.stringify(a)),console.warn("ðŸ”„ localStorage nettoyÃ© aprÃ¨s erreur Supabase"),a[0]}}catch(e){console.error("âŒ Erreur lors du nettoyage du localStorage:",e)}return null}}),create:s=>x(null,null,function*(){try{console.warn("â˜ï¸ CrÃ©ation via Supabase...");const e=yield Tt.create(s);return console.warn("âœ… CrÃ©ation Supabase rÃ©ussie:",e),e}catch(e){console.error("âŒ ERREUR CRÃ‰ATION SUPABASE:",e),console.error("âŒ Message:",e.message),console.error("âŒ Code:",e.code),console.error("âŒ Details:",e.details),console.error("âŒ Hint:",e.hint),console.warn("ðŸ”„ Fallback vers localStorage (Supabase a Ã©chouÃ©)..."),console.warn("âš ï¸ ATTENTION: La chanson sera sauvegardÃ©e UNIQUEMENT en local!"),console.warn("âš ï¸ Elle ne sera PAS visible sur le site public tant que Supabase ne fonctionne pas!");try{const t=De.songs.create(s);return console.warn("âœ… Chanson sauvegardÃ©e en localStorage:",t),console.warn("âš ï¸ RAPPEL: Cette chanson est LOCALE uniquement!"),t}catch(t){throw console.error("âŒ Fallback localStorage a aussi Ã©chouÃ©:",t),new Error(`Ã‰chec Supabase ET localStorage: ${e.message}`)}}}),update:(s,e)=>x(null,null,function*(){try{console.warn("â˜ï¸ Mise Ã  jour via Supabase..."),console.warn("ðŸ“‹ DonnÃ©es Ã  mettre Ã  jour:",{id:s,updates:e}),console.warn("ðŸ” Type de l'ID:",typeof s),console.warn("ðŸ” Valeur de l'ID:",s),console.warn("ðŸ”„ Appel de supabaseSongService.update...");const t=yield Tt.update(s,e);return console.warn("âœ… RÃ©sultat de la mise Ã  jour Supabase:",t),console.warn("âœ… Mise Ã  jour Supabase rÃ©ussie - pas de synchronisation localStorage nÃ©cessaire"),t}catch(t){throw console.error("âŒ ERREUR SUPABASE DÃ‰TAILLÃ‰E:",t),console.error("âŒ Message d'erreur:",t.message),console.error("âŒ Code d'erreur:",t.code),console.error("âŒ DÃ©tails de l'erreur:",t.details),console.error("âŒ Hint:",t.hint),console.error("âŒ Stack trace:",t.stack),console.error("âŒ Erreur complÃ¨te:",JSON.stringify(t,null,2)),console.error("âŒ Ã‰CHEC DE LA MISE Ã€ JOUR SUPABASE - PAS DE FALLBACK"),t}}),delete:s=>x(null,null,function*(){try{console.warn("â˜ï¸ Suppression via Supabase...");const e=yield Tt.delete(s);return console.warn("âœ… Suppression Supabase rÃ©ussie:",e),e}catch(e){throw console.error("âŒ ERREUR SUPPRESSION SUPABASE:",e),console.error("âŒ Message:",e.message),console.error("âŒ Code:",e.code),e}}),search:s=>x(null,null,function*(){try{return $t?yield Tt.search(s):De.songs.search(s)}catch(e){return console.error("Erro ao pesquisar mÃºsicas:",e),De.songs.search(s)}}),getByStatus:s=>x(null,null,function*(){try{return $t?yield Tt.getByStatus(s):De.songs.getAll().filter(t=>t.status===s)}catch(e){return console.error("Erro ao carregar mÃºsicas por status:",e),De.songs.getAll().filter(a=>a.status===s)}}),getByMonth:(s,e)=>x(null,null,function*(){try{if($t)return yield Tt.getByMonth(s,e);{const t=De.songs.getAll(),a=new Date(s,e-1,1),n=new Date(s,e,0);return t.filter(i=>{const o=new Date(i.release_date);return o>=a&&o<=n})}}catch(t){console.error("Erro ao carregar mÃºsicas por mÃªs:",t);const a=De.songs.getAll(),n=new Date(s,e-1,1),i=new Date(s,e,0);return a.filter(o=>{const l=new Date(o.release_date);return l>=n&&l<=i})}}),getBySlug:s=>x(null,null,function*(){try{return $t?(yield Tt.getBySlug(s))||null:De.songs.getAll().find(a=>{var n;return a.slug===s||((n=a.title)==null?void 0:n.toLowerCase().replace(/\s+/g,"-"))===s})||null}catch(e){return console.error("Erro ao carregar mÃºsica por slug:",e),De.songs.getAll().find(n=>{var i;return n.slug===s||((i=n.title)==null?void 0:i.toLowerCase().replace(/\s+/g,"-"))===s})||null}})},rb={list:(s="-release_date",e=25)=>x(null,null,function*(){try{if($t){const a=(yield Tt.list(s,e)).filter(n=>new Date(n.release_date).getMonth()===11||n.status==="published");return e?a.slice(0,e):a}else{const n=De.songs.getAll().filter(i=>new Date(i.release_date).getMonth()===11||i.status==="published").sort((i,o)=>new Date(o.release_date)-new Date(i.release_date));return e?n.slice(0,e):n}}catch(t){console.error("Erro ao carregar mÃºsicas do Ano 2025:",t);const i=De.songs.getAll().filter(o=>new Date(o.release_date).getMonth()===11||o.status==="published").sort((o,l)=>new Date(l.release_date)-new Date(o.release_date));return e?i.slice(0,e):i}})},ab=typeof import.meta!="undefined"&&!0,Ye={debug:(...s)=>{},info:(...s)=>{},warn:(...s)=>{ab||console.warn(...s)},error:(...s)=>{console.error(...s)}};function Xa(){const[s,e]=h.useState(null);return h.useEffect(()=>{const t=()=>{const n=new Date,i=n.getDay(),o=i===0?1:(8-i)%7||7,l=new Date(n);l.setDate(n.getDate()+o),l.setHours(9,0,0,0);const c=l-n;return c>0?{d:Math.floor(c/864e5),h:Math.floor(c/36e5%24),m:Math.floor(c/1e3/60%60),s:Math.floor(c/1e3%60)}:null},a=setInterval(()=>{e(t())},1e3);return e(t()),()=>clearInterval(a)},[]),s?r.jsxs("div",{className:"bg-[#f8f5f2] rounded-3xl p-5 shadow-lg",children:[r.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[r.jsx(hp,{className:"w-5 h-5 text-gray-500"}),r.jsx("h3",{className:"font-semibold text-gray-700",children:"PrÃ³xima mÃºsica em..."})]}),r.jsx("div",{className:"grid grid-cols-4 gap-3 text-center",children:Object.entries(s).map(([t,a])=>r.jsxs("div",{className:"bg-[#e7f1f7] rounded-xl p-3",children:[r.jsx("p",{className:"text-2xl font-bold text-[#32a2dc]",children:a}),r.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase",children:t==="d"?"dias":t==="h"?"horas":t==="m"?"min":"seg"})]},t))})]}):r.jsxs("div",{className:"bg-[#f8f5f2] rounded-3xl p-5 shadow-lg text-center",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Ã‰ Segunda-feira!"}),r.jsx("p",{className:"text-gray-600",children:"A nova mÃºsica jÃ¡ estÃ¡ disponÃ­vel!"})]})}const Il=s=>typeof s=="boolean"?`${s}`:s===0?"0":s,Ml=Lc,pn=(s,e)=>t=>{var a;if((e==null?void 0:e.variants)==null)return Ml(s,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:n,defaultVariants:i}=e,o=Object.keys(n).map(d=>{const u=t==null?void 0:t[d],f=i==null?void 0:i[d];if(u===null)return null;const m=Il(u)||Il(f);return n[d][m]}),l=t&&Object.entries(t).reduce((d,u)=>{let[f,m]=u;return m===void 0||(d[f]=m),d},{}),c=e==null||(a=e.compoundVariants)===null||a===void 0?void 0:a.reduce((d,u)=>{let v=u,{class:f,className:m}=v,g=$(v,["class","className"]);return Object.entries(g).every(j=>{let[b,C]=j;return Array.isArray(C)?C.includes(p(p({},i),l)[b]):p(p({},i),l)[b]===C})?[...d,f,m]:d},[]);return Ml(s,o,c,t==null?void 0:t.class,t==null?void 0:t.className)};function ve(...s){return jh(Lc(s))}const nb=pn("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),z=h.forwardRef((o,i)=>{var l=o,{className:s,variant:e,size:t,asChild:a=!1}=l,n=$(l,["className","variant","size","asChild"]);const c=a?ih:"button";return r.jsx(c,p({className:ve(nb({variant:e,size:t,className:s})),ref:i},n))});z.displayName="Button";const Bt=ch,ib=oh,Td=h.forwardRef((a,t)=>{var n=a,{className:s}=n,e=$(n,["className"]);return r.jsx(Ec,p({ref:t,className:ve("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s)},e))});Td.displayName=Ec.displayName;const Pt=h.forwardRef((n,a)=>{var i=n,{className:s,children:e}=i,t=$(i,["className","children"]);return r.jsxs(ib,{children:[r.jsx(Td,{}),r.jsxs(Cc,A(p({ref:a,className:ve("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s)},t),{children:[e,r.jsxs(lh,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[r.jsx(mt,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]}))]})});Pt.displayName=Cc.displayName;const ns=t=>{var a=t,{className:s}=a,e=$(a,["className"]);return r.jsx("div",p({className:ve("flex flex-col space-y-1.5 text-center sm:text-left",s)},e))};ns.displayName="DialogHeader";const qt=h.forwardRef((a,t)=>{var n=a,{className:s}=n,e=$(n,["className"]);return r.jsx(Ac,p({ref:t,className:ve("text-lg font-semibold leading-none tracking-tight",s)},e))});qt.displayName=Ac.displayName;const Ed=h.forwardRef((a,t)=>{var n=a,{className:s}=n,e=$(n,["className"]);return r.jsx(Oc,p({ref:t,className:ve("text-sm text-muted-foreground",s)},e))});Ed.displayName=Oc.displayName;function Ci(s,[e,t]){return Math.min(t,Math.max(e,s))}function ob(s,e){return h.useReducer((t,a)=>{const n=e[t][a];return n!=null?n:t},s)}var po="ScrollArea",[Cd,uw]=Pc(po),[lb,_t]=Cd(po),Ad=h.forwardRef((s,e)=>{const B=s,{__scopeScrollArea:t,type:a="hover",dir:n,scrollHideDelay:i=600}=B,o=$(B,["__scopeScrollArea","type","dir","scrollHideDelay"]),[l,c]=h.useState(null),[d,u]=h.useState(null),[f,m]=h.useState(null),[g,v]=h.useState(null),[j,b]=h.useState(null),[C,k]=h.useState(0),[y,N]=h.useState(0),[S,T]=h.useState(!1),[E,I]=h.useState(!1),P=tt(e,te=>c(te)),V=Rc(n);return r.jsx(lb,{scope:t,type:a,dir:V,scrollHideDelay:i,scrollArea:l,viewport:d,onViewportChange:u,content:f,onContentChange:m,scrollbarX:g,onScrollbarXChange:v,scrollbarXEnabled:S,onScrollbarXEnabledChange:T,scrollbarY:j,onScrollbarYChange:b,scrollbarYEnabled:E,onScrollbarYEnabledChange:I,onCornerWidthChange:k,onCornerHeightChange:N,children:r.jsx(ze.div,A(p({dir:V},o),{ref:P,style:p({position:"relative","--radix-scroll-area-corner-width":C+"px","--radix-scroll-area-corner-height":y+"px"},s.style)}))})});Ad.displayName=po;var Od="ScrollAreaViewport",Rd=h.forwardRef((s,e)=>{const d=s,{__scopeScrollArea:t,children:a,nonce:n}=d,i=$(d,["__scopeScrollArea","children","nonce"]),o=_t(Od,t),l=h.useRef(null),c=tt(e,l,o.onViewportChange);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),r.jsx(ze.div,A(p({"data-radix-scroll-area-viewport":""},i),{ref:c,style:p({overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden"},s.style),children:r.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:a})}))]})});Rd.displayName=Od;var Yt="ScrollAreaScrollbar",go=h.forwardRef((s,e)=>{const c=s,{forceMount:t}=c,a=$(c,["forceMount"]),n=_t(Yt,s.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=n,l=s.orientation==="horizontal";return h.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),n.type==="hover"?r.jsx(cb,A(p({},a),{ref:e,forceMount:t})):n.type==="scroll"?r.jsx(db,A(p({},a),{ref:e,forceMount:t})):n.type==="auto"?r.jsx(Pd,A(p({},a),{ref:e,forceMount:t})):n.type==="always"?r.jsx(xo,A(p({},a),{ref:e})):null});go.displayName=Yt;var cb=h.forwardRef((s,e)=>{const l=s,{forceMount:t}=l,a=$(l,["forceMount"]),n=_t(Yt,s.__scopeScrollArea),[i,o]=h.useState(!1);return h.useEffect(()=>{const c=n.scrollArea;let d=0;if(c){const u=()=>{window.clearTimeout(d),o(!0)},f=()=>{d=window.setTimeout(()=>o(!1),n.scrollHideDelay)};return c.addEventListener("pointerenter",u),c.addEventListener("pointerleave",f),()=>{window.clearTimeout(d),c.removeEventListener("pointerenter",u),c.removeEventListener("pointerleave",f)}}},[n.scrollArea,n.scrollHideDelay]),r.jsx(dn,{present:t||i,children:r.jsx(Pd,A(p({"data-state":i?"visible":"hidden"},a),{ref:e}))})}),db=h.forwardRef((s,e)=>{const d=s,{forceMount:t}=d,a=$(d,["forceMount"]),n=_t(Yt,s.__scopeScrollArea),i=s.orientation==="horizontal",o=xn(()=>c("SCROLL_END"),100),[l,c]=ob("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return h.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),n.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,n.scrollHideDelay,c]),h.useEffect(()=>{const u=n.viewport,f=i?"scrollLeft":"scrollTop";if(u){let m=u[f];const g=()=>{const v=u[f];m!==v&&(c("SCROLL"),o()),m=v};return u.addEventListener("scroll",g),()=>u.removeEventListener("scroll",g)}},[n.viewport,i,c,o]),r.jsx(dn,{present:t||l!=="hidden",children:r.jsx(xo,A(p({"data-state":l==="hidden"?"hidden":"visible"},a),{ref:e,onPointerEnter:Re(s.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Re(s.onPointerLeave,()=>c("POINTER_LEAVE"))}))})}),Pd=h.forwardRef((s,e)=>{const t=_t(Yt,s.__scopeScrollArea),d=s,{forceMount:a}=d,n=$(d,["forceMount"]),[i,o]=h.useState(!1),l=s.orientation==="horizontal",c=xn(()=>{if(t.viewport){const u=t.viewport.offsetWidth<t.viewport.scrollWidth,f=t.viewport.offsetHeight<t.viewport.scrollHeight;o(l?u:f)}},10);return mr(t.viewport,c),mr(t.content,c),r.jsx(dn,{present:a||i,children:r.jsx(xo,A(p({"data-state":i?"visible":"hidden"},n),{ref:e}))})}),xo=h.forwardRef((s,e)=>{const m=s,{orientation:t="vertical"}=m,a=$(m,["orientation"]),n=_t(Yt,s.__scopeScrollArea),i=h.useRef(null),o=h.useRef(0),[l,c]=h.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=$d(l.viewport,l.content),u=A(p({},a),{sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:g=>i.current=g,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:g=>o.current=g});function f(g,v){return gb(g,o.current,l,v)}return t==="horizontal"?r.jsx(ub,A(p({},u),{ref:e,onThumbPositionChange:()=>{if(n.viewport&&i.current){const g=n.viewport.scrollLeft,v=Dl(g,l,n.dir);i.current.style.transform=`translate3d(${v}px, 0, 0)`}},onWheelScroll:g=>{n.viewport&&(n.viewport.scrollLeft=g)},onDragScroll:g=>{n.viewport&&(n.viewport.scrollLeft=f(g,n.dir))}})):t==="vertical"?r.jsx(hb,A(p({},u),{ref:e,onThumbPositionChange:()=>{if(n.viewport&&i.current){const g=n.viewport.scrollTop,v=Dl(g,l);i.current.style.transform=`translate3d(0, ${v}px, 0)`}},onWheelScroll:g=>{n.viewport&&(n.viewport.scrollTop=g)},onDragScroll:g=>{n.viewport&&(n.viewport.scrollTop=f(g))}})):null}),ub=h.forwardRef((s,e)=>{const u=s,{sizes:t,onSizesChange:a}=u,n=$(u,["sizes","onSizesChange"]),i=_t(Yt,s.__scopeScrollArea),[o,l]=h.useState(),c=h.useRef(null),d=tt(e,c,i.onScrollbarXChange);return h.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),r.jsx(Md,A(p({"data-orientation":"horizontal"},n),{ref:d,sizes:t,style:p({bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":gn(t)+"px"},s.style),onThumbPointerDown:f=>s.onThumbPointerDown(f.x),onDragScroll:f=>s.onDragScroll(f.x),onWheelScroll:(f,m)=>{if(i.viewport){const g=i.viewport.scrollLeft+f.deltaX;s.onWheelScroll(g),Bd(g,m)&&f.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&a({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:en(o.paddingLeft),paddingEnd:en(o.paddingRight)}})}}))}),hb=h.forwardRef((s,e)=>{const u=s,{sizes:t,onSizesChange:a}=u,n=$(u,["sizes","onSizesChange"]),i=_t(Yt,s.__scopeScrollArea),[o,l]=h.useState(),c=h.useRef(null),d=tt(e,c,i.onScrollbarYChange);return h.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),r.jsx(Md,A(p({"data-orientation":"vertical"},n),{ref:d,sizes:t,style:p({top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":gn(t)+"px"},s.style),onThumbPointerDown:f=>s.onThumbPointerDown(f.y),onDragScroll:f=>s.onDragScroll(f.y),onWheelScroll:(f,m)=>{if(i.viewport){const g=i.viewport.scrollTop+f.deltaY;s.onWheelScroll(g),Bd(g,m)&&f.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&a({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:en(o.paddingTop),paddingEnd:en(o.paddingBottom)}})}}))}),[mb,Id]=Cd(Yt),Md=h.forwardRef((s,e)=>{const P=s,{__scopeScrollArea:t,sizes:a,hasThumb:n,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:u,onResize:f}=P,m=$(P,["__scopeScrollArea","sizes","hasThumb","onThumbChange","onThumbPointerUp","onThumbPointerDown","onThumbPositionChange","onDragScroll","onWheelScroll","onResize"]),g=_t(Yt,t),[v,j]=h.useState(null),b=tt(e,V=>j(V)),C=h.useRef(null),k=h.useRef(""),y=g.viewport,N=a.content-a.viewport,S=ps(u),T=ps(c),E=xn(f,10);function I(V){if(C.current){const B=V.clientX-C.current.left,te=V.clientY-C.current.top;d({x:B,y:te})}}return h.useEffect(()=>{const V=B=>{const te=B.target;(v==null?void 0:v.contains(te))&&S(B,N)};return document.addEventListener("wheel",V,{passive:!1}),()=>document.removeEventListener("wheel",V,{passive:!1})},[y,v,N,S]),h.useEffect(T,[a,T]),mr(v,E),mr(g.content,E),r.jsx(mb,{scope:t,scrollbar:v,hasThumb:n,onThumbChange:ps(i),onThumbPointerUp:ps(o),onThumbPositionChange:T,onThumbPointerDown:ps(l),children:r.jsx(ze.div,A(p({},m),{ref:b,style:p({position:"absolute"},m.style),onPointerDown:Re(s.onPointerDown,V=>{V.button===0&&(V.target.setPointerCapture(V.pointerId),C.current=v.getBoundingClientRect(),k.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",g.viewport&&(g.viewport.style.scrollBehavior="auto"),I(V))}),onPointerMove:Re(s.onPointerMove,I),onPointerUp:Re(s.onPointerUp,V=>{const B=V.target;B.hasPointerCapture(V.pointerId)&&B.releasePointerCapture(V.pointerId),document.body.style.webkitUserSelect=k.current,g.viewport&&(g.viewport.style.scrollBehavior=""),C.current=null})}))})}),Qa="ScrollAreaThumb",Dd=h.forwardRef((s,e)=>{const i=s,{forceMount:t}=i,a=$(i,["forceMount"]),n=Id(Qa,s.__scopeScrollArea);return r.jsx(dn,{present:t||n.hasThumb,children:r.jsx(fb,p({ref:e},a))})}),fb=h.forwardRef((s,e)=>{const f=s,{__scopeScrollArea:t,style:a}=f,n=$(f,["__scopeScrollArea","style"]),i=_t(Qa,t),o=Id(Qa,t),{onThumbPositionChange:l}=o,c=tt(e,m=>o.onThumbChange(m)),d=h.useRef(void 0),u=xn(()=>{d.current&&(d.current(),d.current=void 0)},100);return h.useEffect(()=>{const m=i.viewport;if(m){const g=()=>{if(u(),!d.current){const v=xb(m,l);d.current=v,l()}};return l(),m.addEventListener("scroll",g),()=>m.removeEventListener("scroll",g)}},[i.viewport,u,l]),r.jsx(ze.div,A(p({"data-state":o.hasThumb?"visible":"hidden"},n),{ref:c,style:p({width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)"},a),onPointerDownCapture:Re(s.onPointerDownCapture,m=>{const v=m.target.getBoundingClientRect(),j=m.clientX-v.left,b=m.clientY-v.top;o.onThumbPointerDown({x:j,y:b})}),onPointerUp:Re(s.onPointerUp,o.onThumbPointerUp)}))});Dd.displayName=Qa;var bo="ScrollAreaCorner",Ld=h.forwardRef((s,e)=>{const t=_t(bo,s.__scopeScrollArea),a=!!(t.scrollbarX&&t.scrollbarY);return t.type!=="scroll"&&a?r.jsx(pb,A(p({},s),{ref:e})):null});Ld.displayName=bo;var pb=h.forwardRef((s,e)=>{const u=s,{__scopeScrollArea:t}=u,a=$(u,["__scopeScrollArea"]),n=_t(bo,t),[i,o]=h.useState(0),[l,c]=h.useState(0),d=!!(i&&l);return mr(n.scrollbarX,()=>{var m;const f=((m=n.scrollbarX)==null?void 0:m.offsetHeight)||0;n.onCornerHeightChange(f),c(f)}),mr(n.scrollbarY,()=>{var m;const f=((m=n.scrollbarY)==null?void 0:m.offsetWidth)||0;n.onCornerWidthChange(f),o(f)}),d?r.jsx(ze.div,A(p({},a),{ref:e,style:p({width:i,height:l,position:"absolute",right:n.dir==="ltr"?0:void 0,left:n.dir==="rtl"?0:void 0,bottom:0},s.style)})):null});function en(s){return s?parseInt(s,10):0}function $d(s,e){const t=s/e;return isNaN(t)?0:t}function gn(s){const e=$d(s.viewport,s.content),t=s.scrollbar.paddingStart+s.scrollbar.paddingEnd,a=(s.scrollbar.size-t)*e;return Math.max(a,18)}function gb(s,e,t,a="ltr"){const n=gn(t),i=n/2,o=e||i,l=n-o,c=t.scrollbar.paddingStart+o,d=t.scrollbar.size-t.scrollbar.paddingEnd-l,u=t.content-t.viewport,f=a==="ltr"?[0,u]:[u*-1,0];return Ud([c,d],f)(s)}function Dl(s,e,t="ltr"){const a=gn(e),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-n,o=e.content-e.viewport,l=i-a,c=t==="ltr"?[0,o]:[o*-1,0],d=Ci(s,c);return Ud([0,o],[0,l])(d)}function Ud(s,e){return t=>{if(s[0]===s[1]||e[0]===e[1])return e[0];const a=(e[1]-e[0])/(s[1]-s[0]);return e[0]+a*(t-s[0])}}function Bd(s,e){return s>0&&s<e}var xb=(s,e=()=>{})=>{let t={left:s.scrollLeft,top:s.scrollTop},a=0;return(function n(){const i={left:s.scrollLeft,top:s.scrollTop},o=t.left!==i.left,l=t.top!==i.top;(o||l)&&e(),t=i,a=window.requestAnimationFrame(n)})(),()=>window.cancelAnimationFrame(a)};function xn(s,e){const t=ps(s),a=h.useRef(0);return h.useEffect(()=>()=>window.clearTimeout(a.current),[]),h.useCallback(()=>{window.clearTimeout(a.current),a.current=window.setTimeout(t,e)},[t,e])}function mr(s,e){const t=ps(e);rs(()=>{let a=0;if(s){const n=new ResizeObserver(()=>{cancelAnimationFrame(a),a=window.requestAnimationFrame(t)});return n.observe(s),()=>{window.cancelAnimationFrame(a),n.unobserve(s)}}},[s,t])}var Fd=Ad,bb=Rd,yb=Ld;const bn=h.forwardRef((n,a)=>{var i=n,{className:s,children:e}=i,t=$(i,["className","children"]);return r.jsxs(Fd,A(p({ref:a,className:ve("relative overflow-hidden",s)},t),{children:[r.jsx(bb,{className:"h-full w-full rounded-[inherit]",children:e}),r.jsx(Vd,{}),r.jsx(yb,{})]}))});bn.displayName=Fd.displayName;const Vd=h.forwardRef((n,a)=>{var i=n,{className:s,orientation:e="vertical"}=i,t=$(i,["className","orientation"]);return r.jsx(go,A(p({ref:a,orientation:e,className:ve("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",s)},t),{children:r.jsx(Dd,{className:"relative flex-1 rounded-full bg-border"})}))});Vd.displayName=go.displayName;function yo({open:s,onOpenChange:e,song:t,title:a="Letras da MÃºsica",maxHeight:n="h-56",showIcon:i=!0}){return t?r.jsx(Bt,{open:s,onOpenChange:e,children:r.jsxs(Pt,{className:"bg-[#f8f5f2] max-w-md max-h-[70vh]",children:[r.jsx(ns,{children:r.jsxs(qt,{className:"text-lg font-bold text-gray-800 flex items-center gap-2",children:[i&&r.jsx(zt,{className:"w-5 h-5 text-blue-500"}),a]})}),r.jsx("div",{className:"mt-4",children:t.lyrics?r.jsx(bn,{className:n,children:r.jsx("div",{className:"pr-4",children:r.jsx("pre",{className:"text-gray-700 whitespace-pre-wrap font-sans text-sm leading-relaxed",children:t.lyrics})})}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(zt,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),r.jsx("p",{className:"text-gray-600 font-medium",children:"Letras nÃ£o disponÃ­veis"}),r.jsx("p",{className:"text-gray-500 text-sm",children:"As letras desta mÃºsica serÃ£o adicionadas em breve."})]})})]})}):null}function zd({videoId:s,className:e="",title:t="YouTube Video"}){const a=h.useRef(null);if(h.useEffect(()=>{console.warn("ðŸŽ¬ YouTubePlayer - videoId reÃ§u:",s),console.warn("ðŸŽ¬ YouTubePlayer - title:",t),a.current&&(console.warn("ðŸ” YouTubePlayer - iframe ref existe:",a.current),console.warn("ðŸ” YouTubePlayer - iframe src:",a.current.src),console.warn("ðŸ” YouTubePlayer - iframe computed style:",window.getComputedStyle(a.current)),console.warn("ðŸ” YouTubePlayer - iframe offsetWidth:",a.current.offsetWidth),console.warn("ðŸ” YouTubePlayer - iframe offsetHeight:",a.current.offsetHeight))},[s,t]),!s)return console.warn("âŒ YouTubePlayer - videoId est vide ou null"),null;const n=typeof window!="undefined"?window.location.origin:"",i=`https://www.youtube-nocookie.com/embed/${s}?rel=0&modestbranding=1&playsinline=1&controls=1&enablejsapi=1${n?`&origin=${encodeURIComponent(n)}`:""}`;console.warn("ðŸŽ¬ YouTubePlayer - URL iframe gÃ©nÃ©rÃ©e:",i);const o=()=>{console.warn("âœ… YouTubePlayer - iframe chargÃ©e avec succÃ¨s")},l=c=>{console.error("âŒ YouTubePlayer - Erreur de chargement iframe:",c)};return r.jsx("div",{className:`${e}`,style:{position:"relative",width:"100%",paddingBottom:"56.25%",backgroundColor:"#000"},children:r.jsx("iframe",{ref:a,title:t,src:i,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",border:0,display:"block"},allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0,referrerPolicy:"strict-origin-when-cross-origin",loading:"lazy",onLoad:o,onError:l})})}function vb({playlistUrl:s,className:e="",title:t="YouTube Playlist"}){if(!s)return null;const n=(i=>{const o=i.match(/[?&]list=([A-Za-z0-9_-]+)/);return o?o[1]:null})(s);if(s.includes("music.youtube.com"))return r.jsx("div",{className:`${e} bg-gradient-to-br from-gray-800 to-gray-900 rounded-2xl p-8 text-center text-white`,children:r.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4",children:[r.jsx("div",{className:"w-16 h-16 bg-red-600 rounded-full flex items-center justify-center",children:r.jsx("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"})})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Playlist YouTube Music"}),r.jsx("p",{className:"text-gray-300 text-sm mb-4",children:"Cette musique est disponible dans une playlist YouTube Music"}),r.jsxs("a",{href:s,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 bg-red-600 hover:bg-red-700 text-white px-6 py-3 rounded-xl font-semibold transition-colors",children:[r.jsx(Is,{className:"w-5 h-5"}),"Ouvrir la playlist sur YouTube Music"]})]})]})});if(n){const i=typeof window!="undefined"?window.location.origin:"",o=`https://www.youtube-nocookie.com/embed/videoseries?list=${n}&rel=0&modestbranding=1&playsinline=1&controls=1${i?`&origin=${encodeURIComponent(i)}`:""}`;return r.jsx("div",{className:`${e}`,style:{position:"relative",width:"100%",paddingBottom:"56.25%"},children:r.jsx("iframe",{title:t,src:o,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",border:0},allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0,referrerPolicy:"strict-origin-when-cross-origin",loading:"lazy"})})}return null}const wb={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 mÃªs",other:"cerca de {{count}} meses"},xMonths:{one:"1 mÃªs",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},_b=(s,e,t)=>{let a;const n=wb[s];return typeof n=="string"?a=n:e===1?a=n.one:a=n.other.replace("{{count}}",String(e)),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"em "+a:"hÃ¡ "+a:a},jb={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},Sb={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Nb={full:"{{date}} 'Ã s' {{time}}",long:"{{date}} 'Ã s' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},kb={date:Cn({formats:jb,defaultWidth:"full"}),time:Cn({formats:Sb,defaultWidth:"full"}),dateTime:Cn({formats:Nb,defaultWidth:"full"})},Tb={lastWeek:s=>{const e=s.getDay();return"'"+(e===0||e===6?"Ãºltimo":"Ãºltima")+"' eeee 'Ã s' p"},yesterday:"'ontem Ã s' p",today:"'hoje Ã s' p",tomorrow:"'amanhÃ£ Ã s' p",nextWeek:"eeee 'Ã s' p",other:"P"},Eb=(s,e,t,a)=>{const n=Tb[s];return typeof n=="function"?n(e):n},Cb={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},Ab={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1Âº trimestre","2Âº trimestre","3Âº trimestre","4Âº trimestre"]},Ob={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","marÃ§o","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},Rb={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","terÃ§a","quarta","quinta","sexta","sÃ¡bado"],wide:["domingo","segunda-feira","terÃ§a-feira","quarta-feira","quinta-feira","sexta-feira","sÃ¡bado"]},Pb={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manhÃ£",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manhÃ£",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manhÃ£",afternoon:"tarde",evening:"tarde",night:"noite"}},Ib={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manhÃ£",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manhÃ£",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manhÃ£",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},Mb=(s,e)=>{const t=Number(s);return(e==null?void 0:e.unit)==="week"?t+"Âª":t+"Âº"},Db={ordinalNumber:Mb,era:Ar({values:Cb,defaultWidth:"wide"}),quarter:Ar({values:Ab,defaultWidth:"wide",argumentCallback:s=>s-1}),month:Ar({values:Ob,defaultWidth:"wide"}),day:Ar({values:Rb,defaultWidth:"wide"}),dayPeriod:Ar({values:Pb,defaultWidth:"wide",formattingValues:Ib,defaultFormattingWidth:"wide"})},Lb=/^(\d+)[ÂºÂªo]?/i,$b=/\d+/i,Ub={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},Bb={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},Fb={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](Âº)? trimestre/i},Vb={any:[/1/i,/2/i,/3/i,/4/i]},zb={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|marÃ§o|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},qb={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},Hb={narrow:/^(dom|[23456]Âª?|s[aÃ¡]b)/i,short:/^(dom|[23456]Âª?|s[aÃ¡]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[aÃ¡]b)/i,wide:/^(domingo|(segunda|ter[cÃ§]a|quarta|quinta|sexta)([- ]feira)?|s[aÃ¡]bado)/i},Wb={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aÃ¡]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aÃ¡]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[aÃ¡]b/i]},Yb={narrow:/^(a|p|mn|md|(da) (manhÃ£|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manhÃ£|tarde|noite))/i},Gb={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manhÃ£/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},Kb={ordinalNumber:Sh({matchPattern:Lb,parsePattern:$b,valueCallback:s=>parseInt(s,10)}),era:Or({matchPatterns:Ub,defaultMatchWidth:"wide",parsePatterns:Bb,defaultParseWidth:"any"}),quarter:Or({matchPatterns:Fb,defaultMatchWidth:"wide",parsePatterns:Vb,defaultParseWidth:"any",valueCallback:s=>s+1}),month:Or({matchPatterns:zb,defaultMatchWidth:"wide",parsePatterns:qb,defaultParseWidth:"any"}),day:Or({matchPatterns:Hb,defaultMatchWidth:"wide",parsePatterns:Wb,defaultParseWidth:"any"}),dayPeriod:Or({matchPatterns:Yb,defaultMatchWidth:"any",parsePatterns:Gb,defaultParseWidth:"any"})},be={code:"pt-BR",formatDistance:_b,formatLong:kb,formatRelative:Eb,localize:Db,match:Kb,options:{weekStartsOn:0,firstWeekContainsDate:1}};function ma({title:s,description:e,keywords:t,image:a,url:n,type:i="website"}){const o="MÃºsica da Segunda",l="https://www.amusicadasegunda.com",c=`${l}/icons/icon-512x512.png`,d=s?`${s} | ${o}`:o,u=e||"Descubra uma nova mÃºsica incrÃ­vel toda segunda-feira. Sua dose semanal de descobertas musicais.",f=t||"mÃºsica, segunda-feira, descobertas musicais, nova mÃºsica, playlist semanal, mÃºsica brasileira, indie music",m=a||c,g=n?`${l}${n}`:l;h.useEffect(()=>{if(typeof document!="undefined")try{document.title=d;const v=(y,N,S)=>{let T=document.querySelector(`meta[${y}="${N}"]`);T||(T=document.createElement("meta"),T.setAttribute(y,N),document.head.appendChild(T)),T.setAttribute("content",S)},j=y=>{let N=document.querySelector('link[rel="canonical"]');N||(N=document.createElement("link"),N.setAttribute("rel","canonical"),document.head.appendChild(N)),N.setAttribute("href",y)};v("name","description",u),v("name","keywords",f),v("property","og:title",d),v("property","og:description",u),v("property","og:url",g),v("property","og:image",m),v("property","og:type",i),v("property","og:site_name",o),v("property","og:locale","pt_BR"),v("name","twitter:card","summary_large_image"),v("name","twitter:site","@amusicadasegunda"),v("name","twitter:title",d),v("name","twitter:description",u),v("name","twitter:image",m),j(g);const b={"@context":"https://schema.org","@type":i==="article"?"Article":"WebPage",headline:d,description:u,image:m,url:g,publisher:{"@type":"Organization",name:o,url:l,logo:{"@type":"ImageObject",url:c,width:512,height:512},sameAs:["https://www.tiktok.com/@amusicadasegunda","https://open.spotify.com/user/amusicadasegunda"]},mainEntityOfPage:{"@type":"WebPage","@id":g}},C="dynamic-page-jsonld";let k=document.getElementById(C);k||(k=document.createElement("script"),k.type="application/ld+json",k.id=C,document.head.appendChild(k)),k.textContent=JSON.stringify(b)}catch(v){console.error("Erro ao atualizar SEO:",v)}},[d,u,f,m,g,i,c])}var Hn,Ll;function Zb(){if(Ll)return Hn;Ll=1;var s=typeof Element!="undefined",e=typeof Map=="function",t=typeof Set=="function",a=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function n(i,o){if(i===o)return!0;if(i&&o&&typeof i=="object"&&typeof o=="object"){if(i.constructor!==o.constructor)return!1;var l,c,d;if(Array.isArray(i)){if(l=i.length,l!=o.length)return!1;for(c=l;c--!==0;)if(!n(i[c],o[c]))return!1;return!0}var u;if(e&&i instanceof Map&&o instanceof Map){if(i.size!==o.size)return!1;for(u=i.entries();!(c=u.next()).done;)if(!o.has(c.value[0]))return!1;for(u=i.entries();!(c=u.next()).done;)if(!n(c.value[1],o.get(c.value[0])))return!1;return!0}if(t&&i instanceof Set&&o instanceof Set){if(i.size!==o.size)return!1;for(u=i.entries();!(c=u.next()).done;)if(!o.has(c.value[0]))return!1;return!0}if(a&&ArrayBuffer.isView(i)&&ArrayBuffer.isView(o)){if(l=i.length,l!=o.length)return!1;for(c=l;c--!==0;)if(i[c]!==o[c])return!1;return!0}if(i.constructor===RegExp)return i.source===o.source&&i.flags===o.flags;if(i.valueOf!==Object.prototype.valueOf&&typeof i.valueOf=="function"&&typeof o.valueOf=="function")return i.valueOf()===o.valueOf();if(i.toString!==Object.prototype.toString&&typeof i.toString=="function"&&typeof o.toString=="function")return i.toString()===o.toString();if(d=Object.keys(i),l=d.length,l!==Object.keys(o).length)return!1;for(c=l;c--!==0;)if(!Object.prototype.hasOwnProperty.call(o,d[c]))return!1;if(s&&i instanceof Element)return!1;for(c=l;c--!==0;)if(!((d[c]==="_owner"||d[c]==="__v"||d[c]==="__o")&&i.$$typeof)&&!n(i[d[c]],o[d[c]]))return!1;return!0}return i!==i&&o!==o}return Hn=function(o,l){try{return n(o,l)}catch(c){if((c.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw c}},Hn}var Jb=Zb();const Xb=la(Jb);var Wn,$l;function Qb(){if($l)return Wn;$l=1;var s=function(e,t,a,n,i,o,l,c){if(!e){var d;if(t===void 0)d=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[a,n,i,o,l,c],f=0;d=new Error(t.replace(/%s/g,function(){return u[f++]})),d.name="Invariant Violation"}throw d.framesToPop=1,d}};return Wn=s,Wn}var ey=Qb();const Ul=la(ey);var Yn,Bl;function ty(){return Bl||(Bl=1,Yn=function(e,t,a,n){var i=a?a.call(n,e,t):void 0;if(i!==void 0)return!!i;if(e===t)return!0;if(typeof e!="object"||!e||typeof t!="object"||!t)return!1;var o=Object.keys(e),l=Object.keys(t);if(o.length!==l.length)return!1;for(var c=Object.prototype.hasOwnProperty.bind(t),d=0;d<o.length;d++){var u=o[d];if(!c(u))return!1;var f=e[u],m=t[u];if(i=a?a.call(n,f,m,u):void 0,i===!1||i===void 0&&f!==m)return!1}return!0}),Yn}var sy=ty();const ry=la(sy);var qd=(s=>(s.BASE="base",s.BODY="body",s.HEAD="head",s.HTML="html",s.LINK="link",s.META="meta",s.NOSCRIPT="noscript",s.SCRIPT="script",s.STYLE="style",s.TITLE="title",s.FRAGMENT="Symbol(react.fragment)",s))(qd||{}),Gn={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},Fl=Object.values(qd),vo={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},ay=Object.entries(vo).reduce((s,[e,t])=>(s[t]=e,s),{}),Rt="data-rh",or={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},lr=(s,e)=>{for(let t=s.length-1;t>=0;t-=1){const a=s[t];if(Object.prototype.hasOwnProperty.call(a,e))return a[e]}return null},ny=s=>{let e=lr(s,"title");const t=lr(s,or.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),t&&e)return t.replace(/%s/g,()=>e);const a=lr(s,or.DEFAULT_TITLE);return e||a||void 0},iy=s=>lr(s,or.ON_CHANGE_CLIENT_STATE)||(()=>{}),Kn=(s,e)=>e.filter(t=>typeof t[s]!="undefined").map(t=>t[s]).reduce((t,a)=>p(p({},t),a),{}),oy=(s,e)=>e.filter(t=>typeof t.base!="undefined").map(t=>t.base).reverse().reduce((t,a)=>{if(!t.length){const n=Object.keys(a);for(let i=0;i<n.length;i+=1){const l=n[i].toLowerCase();if(s.indexOf(l)!==-1&&a[l])return t.concat(a)}}return t},[]),ly=s=>console&&typeof console.warn=="function"&&console.warn(s),Pr=(s,e,t)=>{const a={};return t.filter(n=>Array.isArray(n[s])?!0:(typeof n[s]!="undefined"&&ly(`Helmet: ${s} should be of type "Array". Instead found type "${typeof n[s]}"`),!1)).map(n=>n[s]).reverse().reduce((n,i)=>{const o={};i.filter(c=>{let d;const u=Object.keys(c);for(let m=0;m<u.length;m+=1){const g=u[m],v=g.toLowerCase();e.indexOf(v)!==-1&&!(d==="rel"&&c[d].toLowerCase()==="canonical")&&!(v==="rel"&&c[v].toLowerCase()==="stylesheet")&&(d=v),e.indexOf(g)!==-1&&(g==="innerHTML"||g==="cssText"||g==="itemprop")&&(d=g)}if(!d||!c[d])return!1;const f=c[d].toLowerCase();return a[d]||(a[d]={}),o[d]||(o[d]={}),a[d][f]?!1:(o[d][f]=!0,!0)}).reverse().forEach(c=>n.push(c));const l=Object.keys(o);for(let c=0;c<l.length;c+=1){const d=l[c],u=p(p({},a[d]),o[d]);a[d]=u}return n},[]).reverse()},cy=(s,e)=>{if(Array.isArray(s)&&s.length){for(let t=0;t<s.length;t+=1)if(s[t][e])return!0}return!1},dy=s=>({baseTag:oy(["href"],s),bodyAttributes:Kn("bodyAttributes",s),defer:lr(s,or.DEFER),encode:lr(s,or.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Kn("htmlAttributes",s),linkTags:Pr("link",["rel","href"],s),metaTags:Pr("meta",["name","charset","http-equiv","property","itemprop"],s),noscriptTags:Pr("noscript",["innerHTML"],s),onChangeClientState:iy(s),scriptTags:Pr("script",["src","innerHTML"],s),styleTags:Pr("style",["cssText"],s),title:ny(s),titleAttributes:Kn("titleAttributes",s),prioritizeSeoTags:cy(s,or.PRIORITIZE_SEO_TAGS)}),Hd=s=>Array.isArray(s)?s.join(""):s,uy=(s,e)=>{const t=Object.keys(s);for(let a=0;a<t.length;a+=1)if(e[t[a]]&&e[t[a]].includes(s[t[a]]))return!0;return!1},Zn=(s,e)=>Array.isArray(s)?s.reduce((t,a)=>(uy(a,e)?t.priority.push(a):t.default.push(a),t),{priority:[],default:[]}):{default:s,priority:[]},Vl=(s,e)=>A(p({},s),{[e]:void 0}),hy=["noscript","script","style"],Ai=(s,e=!0)=>e===!1?String(s):String(s).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),Wd=s=>Object.keys(s).reduce((e,t)=>{const a=typeof s[t]!="undefined"?`${t}="${s[t]}"`:`${t}`;return e?`${e} ${a}`:a},""),my=(s,e,t,a)=>{const n=Wd(t),i=Hd(e);return n?`<${s} ${Rt}="true" ${n}>${Ai(i,a)}</${s}>`:`<${s} ${Rt}="true">${Ai(i,a)}</${s}>`},fy=(s,e,t=!0)=>e.reduce((a,n)=>{const i=n,o=Object.keys(i).filter(d=>!(d==="innerHTML"||d==="cssText")).reduce((d,u)=>{const f=typeof i[u]=="undefined"?u:`${u}="${Ai(i[u],t)}"`;return d?`${d} ${f}`:f},""),l=i.innerHTML||i.cssText||"",c=hy.indexOf(s)===-1;return`${a}<${s} ${Rt}="true" ${o}${c?"/>":`>${l}</${s}>`}`},""),Yd=(s,e={})=>Object.keys(s).reduce((t,a)=>{const n=vo[a];return t[n||a]=s[a],t},e),py=(s,e,t)=>{const a={key:e,[Rt]:!0},n=Yd(t,a);return[Ut.createElement("title",n,e)]},$a=(s,e)=>e.map((t,a)=>{const n={key:a,[Rt]:!0};return Object.keys(t).forEach(i=>{const l=vo[i]||i;if(l==="innerHTML"||l==="cssText"){const c=t.innerHTML||t.cssText;n.dangerouslySetInnerHTML={__html:c}}else n[l]=t[i]}),Ut.createElement(s,n)}),yt=(s,e,t=!0)=>{switch(s){case"title":return{toComponent:()=>py(s,e.title,e.titleAttributes),toString:()=>my(s,e.title,e.titleAttributes,t)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>Yd(e),toString:()=>Wd(e)};default:return{toComponent:()=>$a(s,e),toString:()=>fy(s,e,t)}}},gy=({metaTags:s,linkTags:e,scriptTags:t,encode:a})=>{const n=Zn(s,Gn.meta),i=Zn(e,Gn.link),o=Zn(t,Gn.script);return{priorityMethods:{toComponent:()=>[...$a("meta",n.priority),...$a("link",i.priority),...$a("script",o.priority)],toString:()=>`${yt("meta",n.priority,a)} ${yt("link",i.priority,a)} ${yt("script",o.priority,a)}`},metaTags:n.default,linkTags:i.default,scriptTags:o.default}},xy=s=>{const{baseTag:e,bodyAttributes:t,encode:a=!0,htmlAttributes:n,noscriptTags:i,styleTags:o,title:l="",titleAttributes:c,prioritizeSeoTags:d}=s;let{linkTags:u,metaTags:f,scriptTags:m}=s,g={toComponent:()=>{},toString:()=>""};return d&&({priorityMethods:g,linkTags:u,metaTags:f,scriptTags:m}=gy(s)),{priority:g,base:yt("base",e,a),bodyAttributes:yt("bodyAttributes",t,a),htmlAttributes:yt("htmlAttributes",n,a),link:yt("link",u,a),meta:yt("meta",f,a),noscript:yt("noscript",i,a),script:yt("script",m,a),style:yt("style",o,a),title:yt("title",{title:l,titleAttributes:c},a)}},Oi=xy,Ra=[],Gd=!!(typeof window!="undefined"&&window.document&&window.document.createElement),Ri=class{constructor(s,e){ut(this,"instances",[]);ut(this,"canUseDOM",Gd);ut(this,"context");ut(this,"value",{setHelmet:s=>{this.context.helmet=s},helmetInstances:{get:()=>this.canUseDOM?Ra:this.instances,add:s=>{(this.canUseDOM?Ra:this.instances).push(s)},remove:s=>{const e=(this.canUseDOM?Ra:this.instances).indexOf(s);(this.canUseDOM?Ra:this.instances).splice(e,1)}}});this.context=s,this.canUseDOM=e||!1,e||(s.helmet=Oi({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},by={},Kd=Ut.createContext(by),Ds,Zd=(Ds=class extends h.Component{constructor(t){super(t);ut(this,"helmetData");this.helmetData=new Ri(this.props.context||{},Ds.canUseDOM)}render(){return Ut.createElement(Kd.Provider,{value:this.helmetData.value},this.props.children)}},ut(Ds,"canUseDOM",Gd),Ds),Qs=(s,e)=>{const t=document.head||document.querySelector("head"),a=t.querySelectorAll(`${s}[${Rt}]`),n=[].slice.call(a),i=[];let o;return e&&e.length&&e.forEach(l=>{const c=document.createElement(s);for(const d in l)if(Object.prototype.hasOwnProperty.call(l,d))if(d==="innerHTML")c.innerHTML=l.innerHTML;else if(d==="cssText")c.styleSheet?c.styleSheet.cssText=l.cssText:c.appendChild(document.createTextNode(l.cssText));else{const u=d,f=typeof l[u]=="undefined"?"":l[u];c.setAttribute(d,f)}c.setAttribute(Rt,"true"),n.some((d,u)=>(o=u,c.isEqualNode(d)))?n.splice(o,1):i.push(c)}),n.forEach(l=>{var c;return(c=l.parentNode)==null?void 0:c.removeChild(l)}),i.forEach(l=>t.appendChild(l)),{oldTags:n,newTags:i}},Pi=(s,e)=>{const t=document.getElementsByTagName(s)[0];if(!t)return;const a=t.getAttribute(Rt),n=a?a.split(","):[],i=[...n],o=Object.keys(e);for(const l of o){const c=e[l]||"";t.getAttribute(l)!==c&&t.setAttribute(l,c),n.indexOf(l)===-1&&n.push(l);const d=i.indexOf(l);d!==-1&&i.splice(d,1)}for(let l=i.length-1;l>=0;l-=1)t.removeAttribute(i[l]);n.length===i.length?t.removeAttribute(Rt):t.getAttribute(Rt)!==o.join(",")&&t.setAttribute(Rt,o.join(","))},yy=(s,e)=>{typeof s!="undefined"&&document.title!==s&&(document.title=Hd(s)),Pi("title",e)},zl=(s,e)=>{const{baseTag:t,bodyAttributes:a,htmlAttributes:n,linkTags:i,metaTags:o,noscriptTags:l,onChangeClientState:c,scriptTags:d,styleTags:u,title:f,titleAttributes:m}=s;Pi("body",a),Pi("html",n),yy(f,m);const g={baseTag:Qs("base",t),linkTags:Qs("link",i),metaTags:Qs("meta",o),noscriptTags:Qs("noscript",l),scriptTags:Qs("script",d),styleTags:Qs("style",u)},v={},j={};Object.keys(g).forEach(b=>{const{newTags:C,oldTags:k}=g[b];C.length&&(v[b]=C),k.length&&(j[b]=g[b].oldTags)}),e&&e(),c(s,v,j)},Ir=null,vy=s=>{Ir&&cancelAnimationFrame(Ir),s.defer?Ir=requestAnimationFrame(()=>{zl(s,()=>{Ir=null})}):(zl(s),Ir=null)},wy=vy,ql=class extends h.Component{constructor(){super(...arguments);ut(this,"rendered",!1)}shouldComponentUpdate(e){return!ry(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:t}=this.props.context;let a=null;const n=dy(e.get().map(i=>{const o=p({},i.props);return delete o.context,o}));Zd.canUseDOM?wy(n):Oi&&(a=Oi(n)),t(a)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},ci,vt=(ci=class extends h.Component{shouldComponentUpdate(s){return!Xb(Vl(this.props,"helmetData"),Vl(s,"helmetData"))}mapNestedChildrenToProps(s,e){if(!e)return null;switch(s.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${s.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(s,e,t,a){return A(p({},e),{[s.type]:[...e[s.type]||[],p(p({},t),this.mapNestedChildrenToProps(s,a))]})}mapObjectTypeChildren(s,e,t,a){switch(s.type){case"title":return A(p({},e),{[s.type]:a,titleAttributes:p({},t)});case"body":return A(p({},e),{bodyAttributes:p({},t)});case"html":return A(p({},e),{htmlAttributes:p({},t)});default:return A(p({},e),{[s.type]:p({},t)})}}mapArrayTypeChildrenToProps(s,e){let t=p({},e);return Object.keys(s).forEach(a=>{t=A(p({},t),{[a]:s[a]})}),t}warnOnInvalidChildren(s,e){return Ul(Fl.some(t=>s.type===t),typeof s.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${Fl.join(", ")} are allowed. Helmet does not support rendering <${s.type}> elements. Refer to our API for more information.`),Ul(!e||typeof e=="string"||Array.isArray(e)&&!e.some(t=>typeof t!="string"),`Helmet expects a string as a child of <${s.type}>. Did you forget to wrap your children in braces? ( <${s.type}>{\`\`}</${s.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(s,e){let t={};return Ut.Children.forEach(s,a=>{if(!a||!a.props)return;const c=a.props,{children:n}=c,i=$(c,["children"]),o=Object.keys(i).reduce((d,u)=>(d[ay[u]||u]=i[u],d),{});let{type:l}=a;switch(typeof l=="symbol"?l=l.toString():this.warnOnInvalidChildren(a,n),l){case"Symbol(react.fragment)":e=this.mapChildrenToProps(n,e);break;case"link":case"meta":case"noscript":case"script":case"style":t=this.flattenArrayTypeChildren(a,t,o,n);break;default:e=this.mapObjectTypeChildren(a,e,o,n);break}}),this.mapArrayTypeChildrenToProps(t,e)}render(){const n=this.props,{children:s}=n,e=$(n,["children"]);let t=p({},e),{helmetData:a}=e;if(s&&(t=this.mapChildrenToProps(s,t)),a&&!(a instanceof Ri)){const i=a;a=new Ri(i.context,!0),delete t.helmetData}return a?Ut.createElement(ql,A(p({},t),{context:a.value})):Ut.createElement(Kd.Consumer,null,i=>Ut.createElement(ql,A(p({},t),{context:i})))}},ut(ci,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),ci);const _y=20,jy=1e6,ts={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"};let Jn=0;function Sy(){return Jn=(Jn+1)%Number.MAX_VALUE,Jn.toString()}const Xn=new Map,Hl=s=>{if(Xn.has(s))return;const e=setTimeout(()=>{Xn.delete(s),Jr({type:ts.REMOVE_TOAST,toastId:s})},jy);Xn.set(s,e)},Ny=(s,e)=>{switch(e.type){case ts.ADD_TOAST:return A(p({},s),{toasts:[e.toast,...s.toasts].slice(0,_y)});case ts.UPDATE_TOAST:return A(p({},s),{toasts:s.toasts.map(t=>t.id===e.toast.id?p(p({},t),e.toast):t)});case ts.DISMISS_TOAST:{const{toastId:t}=e;return t?Hl(t):s.toasts.forEach(a=>{Hl(a.id)}),A(p({},s),{toasts:s.toasts.map(a=>a.id===t||t===void 0?A(p({},a),{open:!1}):a)})}case ts.REMOVE_TOAST:return e.toastId===void 0?A(p({},s),{toasts:[]}):A(p({},s),{toasts:s.toasts.filter(t=>t.id!==e.toastId)})}},Ua=[];let Ba={toasts:[]};function Jr(s){Ba=Ny(Ba,s),Ua.forEach(e=>{e(Ba)})}function ky(e){var s=$(e,[]);const t=Sy(),a=i=>Jr({type:ts.UPDATE_TOAST,toast:A(p({},i),{id:t})}),n=()=>Jr({type:ts.DISMISS_TOAST,toastId:t});return Jr({type:ts.ADD_TOAST,toast:A(p({},s),{id:t,open:!0,onOpenChange:i=>{i||n()}})}),{id:t,dismiss:n,update:a}}function Jd(){const[s,e]=h.useState(Ba);return h.useEffect(()=>(Ua.push(e),()=>{const t=Ua.indexOf(e);t>-1&&Ua.splice(t,1)}),[s]),A(p({},s),{toast:ky,dismiss:t=>Jr({type:ts.DISMISS_TOAST,toastId:t})})}function Wl({youtube_music_url:s,youtube_url:e,title:t}){const a=s||e||"",i=(d=>{if(!d||typeof d!="string")return null;try{const u=d.toLowerCase(),f=d.match(/[?&]list=([A-Za-z0-9_-]+)/);if(f)return{id:f[1],type:"playlist"};const m=[/(?:youtube\.com\/shorts\/)([A-Za-z0-9_-]{11})/,/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/|youtube\.com\/v\/)([A-Za-z0-9_-]{11})/,/^([A-Za-z0-9_-]{11})$/];for(const g of m){const v=d.match(g);if(v)return{id:v[1],type:"video"}}if(u.includes("music.youtube.com")){const g=d.match(/[?&]v=([A-Za-z0-9_-]{11})/);if(g)return{id:g[1],type:"video"}}return null}catch(u){return null}})(a);if(!i)return r.jsx("div",{className:"w-full aspect-video rounded-lg overflow-hidden shadow-lg flex items-center justify-center bg-gradient-to-br from-gray-800 to-gray-900",children:r.jsx("p",{className:"text-white text-sm",children:"VidÃ©o non disponible"})});const o=a.includes("/shorts/"),l="https://www.youtube-nocookie.com/embed",c=i.type==="video"?`${l}/${i.id}?rel=0&modestbranding=1&playsinline=1&controls=1`:`${l}/videoseries?list=${i.id}&rel=0&modestbranding=1&playsinline=1&controls=1`;return o?r.jsx("div",{className:"relative rounded-lg overflow-hidden shadow-2xl",style:{width:"100%",aspectRatio:"9/16",minHeight:"min(500px, 70vh)",maxHeight:"70vh"},children:r.jsx("iframe",{className:"absolute top-0 left-0 w-full h-full",src:c,title:t||"YouTube Short",frameBorder:"0",referrerPolicy:"strict-origin-when-cross-origin",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,loading:"lazy"})}):r.jsx("div",{className:"w-full aspect-video rounded-lg overflow-hidden shadow-lg",children:r.jsx("iframe",{className:"w-full h-full",src:c,title:t||"YouTube",frameBorder:"0",referrerPolicy:"strict-origin-when-cross-origin",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,loading:"lazy"})})}function Yl(){const s=hn(),{toast:e}=Jd(),[t,a]=h.useState(null),[n,i]=h.useState([]),[o,l]=h.useState(!0),[c,d]=h.useState(null),[u,f]=h.useState(null),[m,g]=h.useState(!1),[v,j]=h.useState(!1),[b,C]=h.useState(!1),[k,y]=h.useState(!1),[N,S]=h.useState(null),[T,E]=h.useState(null);h.useEffect(()=>{De.initialize(),I(),P()},[]);const I=()=>x(null,null,function*(){l(!0),d(null);try{Ye.debug("ðŸ”„ Tentative de chargement depuis Supabase...");const U=yield Xe.getCurrent();Ye.debug("ðŸ“Š Chanson actuelle chargÃ©e:",U),a(U),E(U)}catch(U){Ye.error("âŒ Erro ao carregar mÃºsica atual:",U),d("Erro ao carregar a mÃºsica da semana. Tente novamente.")}finally{l(!1)}}),P=()=>x(null,null,function*(){try{Ye.debug("ðŸ”„ Chargement des musiques rÃ©centes depuis Supabase...");const U=yield Xe.list("-release_date",null);Ye.debug("ðŸ“Š Toutes les musiques chargÃ©es:",U);const O=new Date,ie=qa(O),le=Ha(O),F=U.filter(W=>{const ot=ye(W.release_date);return $c(ot,{start:ie,end:le})});Ye.debug("ðŸ“… Musiques du mois en cours:",F),i(F)}catch(U){Ye.error("âŒ Erro ao carregar mÃºsicas recentes:",U)}}),V=()=>{I()},B=(U,O)=>{O&&(O.preventDefault(),O.stopPropagation()),Ye.debug("ðŸŽµ handleReplaceVideo appelÃ© avec:",U.title),E(U),window.scrollTo({top:0,behavior:"smooth"})},te=U=>{S(U),j(!0)},ge=U=>{S(U),C(!0)},Ae=U=>{S(U),y(!0)},$e=U=>x(null,null,function*(){if(navigator.share)try{yield navigator.share({title:`${U.title} - ${U.artist}`,text:"Confira esta mÃºsica incrÃ­vel da MÃºsica da Segunda!",url:U.youtube_music_url||U.youtube_url||window.location.href})}catch(O){}else{const O=`${U.title} - ${U.artist}
Confira esta mÃºsica incrÃ­vel da MÃºsica da Segunda!`;navigator.clipboard.writeText(O),e({title:"âœ… Copiado!",description:"Link copiado para a Ã¡rea de transferÃªncia",duration:3e3})}}),se=()=>{const U=new Date;return U.setMonth(U.getMonth()-1),oe(U,"yyyy-MM")},Te=()=>{const U=se();s(`/calendar?month=${U}`)};return ma({title:"A MÃºsica da Segunda: ParÃ³dias das NotÃ­cias do Brasil",description:"A MÃºsica da Segunda: As NotÃ­cias do Brasil em Forma de ParÃ³dia. Site oficial de parÃ³dias musicais inteligentes e divertidas.",keywords:"mÃºsica da segunda, parÃ³dias musicais, notÃ­cias do brasil, mÃºsica brasileira, descoberta musical, nova mÃºsica toda segunda",image:t==null?void 0:t.cover_image,url:"/",type:"website"}),o?r.jsxs("div",{className:"p-5 max-w-md mx-auto md:max-w-2xl lg:max-w-4xl",children:[r.jsxs(vt,{children:[r.jsx("title",{children:"A MÃºsica da Segunda: ParÃ³dias das NotÃ­cias do Brasil"}),r.jsx("meta",{name:"description",content:"A MÃºsica da Segunda: As NotÃ­cias do Brasil em Forma de ParÃ³dia. Site oficial de parÃ³dias musicais inteligentes e divertidas."})]}),r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-black text-white drop-shadow-lg mb-2",children:"A MÃºsica da Segunda"}),r.jsx("p",{className:"text-white/80 font-medium text-lg md:text-xl drop-shadow-md",children:"Descubra mÃºsica nova toda segunda-feira"})]}),r.jsx("div",{className:"flex items-center justify-center py-20",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),r.jsx("p",{className:"text-white/80",children:"Carregando mÃºsica da semana..."})]})})]}):c?r.jsxs("div",{className:"p-5 max-w-md mx-auto md:max-w-2xl lg:max-w-4xl",children:[r.jsxs(vt,{children:[r.jsx("title",{children:"A MÃºsica da Segunda: ParÃ³dias das NotÃ­cias do Brasil"}),r.jsx("meta",{name:"description",content:"A MÃºsica da Segunda: As NotÃ­cias do Brasil em Forma de ParÃ³dia. Site oficial de parÃ³dias musicais inteligentes e divertidas."})]}),r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h2",{className:"text-4xl md:text-5xl lg:text-6xl font-black text-white drop-shadow-lg mb-2",children:"MÃºsica da Segunda"}),r.jsx("p",{className:"text-white/80 font-medium text-lg md:text-xl drop-shadow-md",children:"Descubra mÃºsica nova toda segunda-feira"})]}),r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-3xl p-6 text-center",children:[r.jsx(vs,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold text-red-800 mb-2",children:"Erro ao carregar"}),r.jsx("p",{className:"text-red-600 mb-4",children:c}),r.jsxs("button",{onClick:V,className:"inline-flex items-center gap-2 bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg transition-colors",children:[r.jsx(gs,{className:"w-4 h-4"}),"Tentar novamente"]})]})]}):r.jsxs("div",{className:"p-5 max-w-md mx-auto md:max-w-2xl lg:max-w-4xl",children:[r.jsx("div",{className:"lg:hidden text-center mb-8",children:r.jsxs("div",{className:"flex items-center justify-center gap-4 mb-4",children:[r.jsx("div",{className:"w-16 h-16 rounded-full overflow-hidden border-4 border-white/20 shadow-xl flex-shrink-0",children:r.jsx(ea,{src:"images/Musica da segunda.jpg",alt:"Logo MÃºsica da Segunda",className:"w-full h-full object-cover",loading:"lazy"})}),r.jsxs("div",{className:"text-left",children:[r.jsx("h1",{className:"text-2xl md:text-3xl font-black text-white drop-shadow-lg mb-1",children:"A MÃºsica da Segunda"}),r.jsx("p",{className:"text-white/80 font-medium text-sm md:text-base drop-shadow-md",children:"Descubra mÃºsica nova toda segunda-feira"})]})]})}),r.jsxs("div",{className:"hidden lg:block text-center mb-8",children:[r.jsx("h1",{className:"text-4xl md:text-5xl font-black text-white drop-shadow-lg mb-2",children:"A MÃºsica da Segunda"}),r.jsx("p",{className:"text-white/80 font-medium text-lg md:text-xl drop-shadow-md",children:"Descubra mÃºsica nova toda segunda-feira"})]}),r.jsxs("div",{className:"hidden lg:grid lg:grid-cols-2 lg:gap-8 lg:mt-8",children:[r.jsxs("div",{className:"space-y-6",children:[T?r.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-lg",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4 text-center",children:r.jsxs("button",{onClick:()=>Ae(T),className:"inline-flex items-center gap-2 hover:text-blue-600 transition-colors cursor-pointer",title:"Ver descriÃ§Ã£o da mÃºsica",children:[r.jsx("span",{className:"text-2xl",children:"â„¹ï¸"}),r.jsx("span",{children:T.title})]})}),r.jsx("p",{className:"text-gray-600 text-center mb-4",children:oe(ye(T.release_date),"dd/MM/yyyy",{locale:be})}),r.jsx(Wl,{youtube_music_url:T.youtube_music_url,youtube_url:T.youtube_url,title:T.title}),r.jsxs("div",{className:"mt-4 text-center",children:[r.jsx("h4",{className:"font-bold text-gray-800 text-lg mb-2",children:T.title}),r.jsx("p",{className:"text-gray-600",children:T.artist}),r.jsx("p",{className:"text-gray-500 text-sm mt-1",children:oe(ye(T.release_date),"dd/MM/yyyy",{locale:be})})]}),r.jsx("div",{className:"mt-6",children:r.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[r.jsx(z,{variant:"outline",className:"bg-white/70 hover:bg-white/90 text-gray-700 font-semibold border-gray-300 py-3 rounded-2xl text-sm",onClick:()=>te(T),children:"Plataformas"}),r.jsx(z,{variant:"outline",className:"bg-white/70 hover:bg-white/90 text-gray-700 font-semibold border-gray-300 py-3 rounded-2xl text-sm",onClick:()=>ge(T),children:"Letras"}),r.jsx(z,{variant:"outline",className:"bg-white/70 hover:bg-white/90 text-gray-700 font-semibold border-gray-300 py-3 rounded-2xl text-sm",onClick:()=>$e(T),children:"Compartilhar"})]})})]}):r.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-lg",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4 text-center",children:"â„¹ï¸ Nenhuma mÃºsica disponÃ­vel"}),r.jsx("div",{className:"bg-gradient-to-br from-gray-100 to-gray-200 rounded-2xl flex items-center justify-center",style:{height:"min(70vh, 600px)",aspectRatio:"16/9"},children:r.jsxs("div",{className:"text-center text-gray-500",children:[r.jsx(Se,{className:"w-16 h-16 mx-auto mb-4"}),r.jsx("p",{className:"text-lg font-medium",children:"Nenhuma mÃºsica disponÃ­vel"}),r.jsx("p",{className:"text-sm",children:"Volte na segunda-feira!"})]})})]}),r.jsx(Xa,{})]}),r.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-lg",children:[r.jsx("div",{className:"mb-6",children:r.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center gap-3",children:[r.jsx(Mt,{className:"w-6 h-6 text-blue-600"}),"MÃºsicas do MÃªs"]})}),n.length>0?r.jsx("div",{className:"space-y-4",children:n.map(U=>r.jsx("div",{className:"bg-white rounded-2xl p-4 shadow-md hover:shadow-lg transition-all duration-200 border border-gray-100",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-500 rounded-xl flex items-center justify-center flex-shrink-0 shadow-md hover:shadow-lg transition-all duration-200 cursor-pointer transform hover:scale-105",onClick:O=>B(U,O),title:"Clique para ver esta mÃºsica na coluna de vÃ­deo",children:r.jsx(gt,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-800 truncate cursor-pointer hover:underline",onClick:O=>B(U,O),title:"Clique para ver esta mÃºsica na coluna de vÃ­deo",children:U.title}),r.jsx("p",{className:"text-gray-600 text-base font-medium mt-1",children:U.artist}),r.jsx("p",{className:"text-gray-500 text-sm font-medium mt-1",children:oe(ye(U.release_date),"dd/MM/yyyy",{locale:be})})]})]})},U.id))}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Se,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500",children:"Nenhuma mÃºsica publicada este mÃªs ainda"})]}),r.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:r.jsxs("button",{onClick:Te,className:"inline-flex items-center gap-2 text-gray-500 hover:text-gray-700 text-sm transition-colors group cursor-pointer",children:[r.jsx(dr,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"}),"Ver mÃºsicas de ",oe(new Date(new Date().setMonth(new Date().getMonth()-1)),"MMMM yyyy",{locale:be})]})})]})]}),r.jsxs("div",{className:"lg:hidden",children:[T?r.jsx("div",{className:"mb-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-3",children:r.jsx("div",{className:"flex items-start justify-between",children:r.jsxs("div",{className:"flex-1",children:[r.jsx("h2",{className:"text-lg font-bold text-gray-800 leading-tight line-clamp-2",children:T.title}),r.jsx("p",{className:"text-sm text-blue-700 mt-1",children:oe(ye(T.release_date),"dd/MM/yyyy",{locale:be})})]})})}),r.jsx("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden mb-4",children:r.jsx(Wl,{youtube_music_url:T.youtube_music_url,youtube_url:T.youtube_url,title:T.title})}),r.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-4",children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs(z,{variant:"outline",className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-700 py-3 px-4 rounded-xl font-medium transition-colors",onClick:()=>te(T),children:[r.jsx(Se,{className:"w-5 h-5 inline mr-2"}),"Plataformas"]}),T.lyrics&&T.lyrics.trim()&&r.jsxs(z,{variant:"outline",className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-700 py-3 px-4 rounded-xl font-medium transition-colors",onClick:()=>ge(T),children:[r.jsx(zt,{className:"w-5 h-5 inline mr-2"}),"Letras"]}),r.jsxs(z,{variant:"outline",className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-700 py-3 px-4 rounded-xl font-medium transition-colors",onClick:()=>$e(T),children:[r.jsx(gt,{className:"w-5 h-5 inline mr-2"}),"Compartilhar"]})]})})]})}):r.jsxs("div",{className:"bg-white/20 rounded-3xl p-8 text-center",children:[r.jsx(Se,{className:"w-16 h-16 text-white/60 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Nenhuma mÃºsica disponÃ­vel"}),r.jsx("p",{className:"text-white/80",children:"A mÃºsica da semana serÃ¡ publicada em breve. Volte na segunda-feira!"})]}),r.jsx(Xa,{}),r.jsx("div",{className:"mt-8",children:r.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-lg",children:[r.jsx("div",{className:"mb-6",children:r.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center gap-3",children:[r.jsx(Mt,{className:"w-6 h-6 text-blue-600"}),"MÃºsicas do MÃªs"]})}),n.length>0?r.jsx("div",{className:"space-y-4",children:n.map(U=>r.jsx("div",{className:"bg-white rounded-2xl p-4 shadow-md hover:shadow-lg transition-all duration-200 border border-gray-100",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-500 rounded-xl flex items-center justify-center flex-shrink-0 shadow-md hover:shadow-lg transition-all duration-200 cursor-pointer transform hover:scale-105",onClick:O=>B(U,O),title:"Clique para ver esta mÃºsica na coluna de vÃ­deo",children:r.jsx(gt,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"font-bold text-gray-800 text-lg truncate cursor-pointer hover:underline",onClick:O=>B(U,O),title:"Clique para ver esta mÃºsica na coluna de vÃ­deo",children:U.title}),r.jsx("p",{className:"text-gray-600 text-base font-medium mt-1",children:U.artist}),r.jsx("p",{className:"text-gray-500 text-sm font-medium mt-1",children:oe(ye(U.release_date),"dd/MM/yyyy",{locale:be})})]})]})},U.id))}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Se,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500",children:"Nenhuma mÃºsica publicada este mÃªs ainda"})]}),r.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:r.jsxs("button",{onClick:Te,className:"inline-flex items-center gap-2 text-gray-500 hover:text-gray-700 text-sm transition-colors group cursor-pointer",children:[r.jsx(dr,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"}),"Ver mÃºsicas de ",oe(new Date(new Date().setMonth(new Date().getMonth()-1)),"MMMM yyyy",{locale:be})]})})]})})]}),r.jsx(Bt,{open:v,onOpenChange:j,children:r.jsxs(Pt,{className:"bg-[#f8f5f2] max-w-md",children:[r.jsx(ns,{children:r.jsx(qt,{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:"ðŸŽµ Ouvir em outras plataformas"})}),N&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-4 border border-blue-200",children:[r.jsx("h3",{className:"text-lg font-bold text-blue-900 mb-1",children:N.title}),r.jsx("p",{className:"text-blue-700 font-medium",children:N.artist})]}),r.jsxs("div",{className:"space-y-3",children:[N.spotify_url&&r.jsx("a",{href:N.spotify_url,target:"_blank",rel:"noopener noreferrer",className:"block",children:r.jsx(z,{className:"w-full bg-[#1DB954] hover:bg-[#1ed760] text-white font-bold py-3 rounded-2xl text-sm transition-all duration-200 hover:scale-105",children:"ðŸŽ§ Ouvir no Spotify"})}),N.apple_music_url&&r.jsx("a",{href:N.apple_music_url,target:"_blank",rel:"noopener noreferrer",className:"block",children:r.jsx(z,{className:"w-full bg-gradient-to-r from-[#FA233B] to-[#FB5C74] hover:opacity-90 text-white font-bold py-3 rounded-2xl text-sm transition-all duration-200 hover:scale-105",children:"ðŸŽµ Ouvir no Apple Music"})}),(N.youtube_music_url||N.youtube_url)&&r.jsx("a",{href:N.youtube_music_url||N.youtube_url,target:"_blank",rel:"noopener noreferrer",className:"block",children:r.jsx(z,{className:"w-full bg-[#FF0000] hover:bg-[#cc0000] text-white font-bold py-3 rounded-2xl text-sm transition-all duration-200 hover:scale-105",children:"ðŸ“º Assistir no YouTube"})}),!N.spotify_url&&!N.apple_music_url&&!N.youtube_music_url&&!N.youtube_url&&r.jsxs("div",{className:"text-center py-6",children:[r.jsx(Se,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),r.jsx("p",{className:"text-gray-600 font-medium",children:"Links de streaming em breve..."}),r.jsx("p",{className:"text-gray-500 text-sm",children:"Esta mÃºsica serÃ¡ disponibilizada em breve nas principais plataformas."})]})]})]})]})}),r.jsx(yo,{open:b,onOpenChange:C,song:N,title:"ðŸ“ Letras da MÃºsica",maxHeight:"h-52",showIcon:!1}),r.jsx(Bt,{open:k,onOpenChange:y,children:r.jsxs(Pt,{className:"bg-[#f8f5f2] max-w-2xl max-h-[80vh]",children:[r.jsx(ns,{children:r.jsx(qt,{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:"â„¹ï¸ DescriÃ§Ã£o da MÃºsica"})}),N&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-4 border border-blue-200",children:[r.jsx("h3",{className:"text-lg font-bold text-blue-900 mb-1",children:N.title}),r.jsx("p",{className:"text-blue-700 font-medium",children:N.artist}),r.jsxs("p",{className:"text-blue-600 text-sm",children:["ðŸ“… ",oe(ye(N.release_date),"dd/MM/yyyy",{locale:be})]})]}),r.jsx("div",{className:"bg-white rounded-xl p-4 border border-gray-200",children:N.description?r.jsx(bn,{className:"h-60",children:r.jsx("div",{className:"pr-4",children:r.jsx("pre",{className:"text-gray-700 whitespace-pre-wrap font-sans text-sm leading-relaxed",children:N.description})})}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(zt,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),r.jsx("p",{className:"text-gray-600 font-medium",children:"DescriÃ§Ã£o nÃ£o disponÃ­vel"}),r.jsx("p",{className:"text-gray-500 text-sm",children:"A descriÃ§Ã£o desta mÃºsica serÃ¡ adicionada em breve."})]})})]})]})})]})}function Gl(t){var a=t,{children:s}=a,e=$(a,["children"]);return r.jsx("span",A(p({},e),{className:"sr-only",style:{position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",border:"0"},children:s}))}function Ty({youtube_music_url:s,youtube_url:e,title:t}){const a=s||e||"",i=(d=>{if(!d||typeof d!="string")return null;try{const u=d.match(/[?&]list=([A-Za-z0-9_-]+)/);if(u)return{id:u[1],type:"playlist"};const f=[/(?:youtube\.com\/shorts\/)([A-Za-z0-9_-]{11})/,/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/|youtube\.com\/v\/)([A-Za-z0-9_-]{11})/,/^([A-Za-z0-9_-]{11})$/];for(const m of f){const g=d.match(m);if(g)return{id:g[1],type:"video"}}if(d.toLowerCase().includes("music.youtube.com")){const m=d.match(/[?&]v=([A-Za-z0-9_-]{11})/);if(m)return{id:m[1],type:"video"}}return null}catch(u){return null}})(a);if(!i)return r.jsx("div",{className:"w-full aspect-video rounded-lg overflow-hidden shadow-lg flex items-center justify-center bg-gradient-to-br from-gray-800 to-gray-900",children:r.jsx("p",{className:"text-white text-sm",children:"VidÃ©o non disponible"})});const o=a.includes("/shorts/"),l="https://www.youtube-nocookie.com/embed",c=i.type==="video"?`${l}/${i.id}?rel=0&modestbranding=1&playsinline=1&controls=1`:`${l}/videoseries?list=${i.id}&rel=0&modestbranding=1&playsinline=1&controls=1`;return o?r.jsx("div",{className:"relative rounded-lg overflow-hidden shadow-2xl",style:{width:"100%",aspectRatio:"9/16",minHeight:"min(500px, 70vh)",maxHeight:"70vh"},children:r.jsx("iframe",{className:"absolute top-0 left-0 w-full h-full",src:c,title:t||"YouTube Short",frameBorder:"0",referrerPolicy:"strict-origin-when-cross-origin",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,loading:"lazy"})}):r.jsx("div",{className:"w-full aspect-video rounded-lg overflow-hidden shadow-lg",children:r.jsx("iframe",{className:"w-full h-full",src:c,title:t||"YouTube",frameBorder:"0",referrerPolicy:"strict-origin-when-cross-origin",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,loading:"lazy"})})}function Ey({song:s,onClose:e,onShowDescription:t}){const[a,n]=h.useState(!1),[i,o]=h.useState(!1),[l,c]=h.useState(!1),d=h.useRef(null);if(h.useEffect(()=>{const m=g=>{d.current&&!d.current.contains(g.target)&&c(!1)};return document.addEventListener("mousedown",m),()=>{document.removeEventListener("mousedown",m)}},[]),!s||!s.id||!s.title)return r.jsxs("div",{className:"bg-white rounded-2xl p-6 text-center text-gray-500",children:[r.jsx("div",{className:"mb-4",children:r.jsx(vs,{className:"w-12 h-12 text-red-400 mx-auto"})}),r.jsx("p",{className:"text-lg font-medium mb-2",children:"Erro ao carregar mÃºsica"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Dados da mÃºsica invÃ¡lidos ou incompletos"}),e&&r.jsx("button",{onClick:e,className:"mt-4 bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition-colors",children:"Fechar"})]});const u=[];s.spotify_url&&u.push({name:"Spotify",url:s.spotify_url,icon:gt,color:"bg-green-500"}),s.apple_music_url&&u.push({name:"Apple Music",url:s.apple_music_url,icon:gt,color:"bg-pink-500"}),s.youtube_url&&u.push({name:"YouTube",url:s.youtube_url,icon:ur,color:"bg-red-500"});const f=m=>{m&&window.open(m,"_blank","noopener,noreferrer")};return r.jsxs("div",{className:"relative w-full",children:[e&&r.jsx("button",{onClick:e,className:"absolute top-2 right-2 z-50 w-10 h-10 bg-black/50 hover:bg-black/70 backdrop-blur-sm rounded-full flex items-center justify-center transition-all duration-200 shadow-lg","aria-label":"Fermer",children:r.jsx(mt,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{className:"space-y-3",children:[(s.youtube_music_url||s.youtube_url)&&r.jsxs("div",{className:"relative",children:[r.jsx(Ty,{youtube_music_url:s.youtube_music_url,youtube_url:s.youtube_url,title:s.title}),r.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent p-4 pt-8",children:[r.jsx("h2",{className:"text-white font-bold text-lg leading-tight drop-shadow-lg mb-1",children:s.title}),r.jsx("p",{className:"text-white/90 text-sm font-medium drop-shadow-md",children:new Date(s.release_date).toLocaleDateString("pt-BR",{day:"numeric",month:"long",year:"numeric"})})]})]}),r.jsx("div",{className:"bg-white/95 backdrop-blur-md rounded-2xl shadow-xl p-3",children:r.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[r.jsxs("div",{className:"relative",ref:d,children:[r.jsxs("button",{className:"w-full bg-gradient-to-br from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white py-3 px-2 rounded-xl font-bold transition-all duration-200 flex flex-col items-center justify-center space-y-1 shadow-lg hover:shadow-xl transform hover:scale-105",onClick:()=>c(!l),children:[r.jsx(Se,{className:"w-5 h-5"}),r.jsx("span",{className:"text-xs",children:"Ouvir"}),u.length>0&&r.jsx("span",{className:"absolute -top-1 -right-1 text-xs bg-red-500 text-white w-5 h-5 rounded-full flex items-center justify-center font-bold shadow-md",children:u.length})]}),l&&r.jsx("div",{className:"absolute bottom-full left-0 right-auto mb-2 w-64 bg-white rounded-xl shadow-2xl border border-gray-200 p-3 z-50",children:u.length>0?r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-xs text-gray-500 font-bold mb-2 uppercase",children:"DisponÃ­vel em:"}),u.map((m,g)=>r.jsxs("button",{onClick:()=>f(m.url),className:"w-full flex items-center gap-3 p-2 rounded-lg hover:bg-gray-100 transition-colors text-left group",children:[r.jsx("div",{className:`w-10 h-10 rounded-lg ${m.color} flex items-center justify-center shadow-md group-hover:scale-110 transition-transform`,children:r.jsx(m.icon,{className:"w-5 h-5 text-white"})}),r.jsx("span",{className:"text-sm font-bold text-gray-800 flex-1",children:m.name}),r.jsx(Is,{className:"w-4 h-4 text-gray-400 group-hover:text-gray-600"})]},g))]}):r.jsxs("div",{className:"text-center py-3",children:[r.jsx(Se,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Nenhuma plataforma"})]})})]}),s.lyrics&&s.lyrics.trim()?r.jsxs("button",{onClick:()=>n(!0),className:"w-full bg-gradient-to-br from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 text-white py-3 px-2 rounded-xl font-bold transition-all duration-200 flex flex-col items-center justify-center space-y-1 shadow-lg hover:shadow-xl transform hover:scale-105",children:[r.jsx(zt,{className:"w-5 h-5"}),r.jsx("span",{className:"text-xs",children:"Letras"})]}):r.jsxs("button",{disabled:!0,className:"w-full bg-gray-200 text-gray-400 py-3 px-2 rounded-xl font-bold flex flex-col items-center justify-center space-y-1 opacity-50 cursor-not-allowed",children:[r.jsx(zt,{className:"w-5 h-5"}),r.jsx("span",{className:"text-xs",children:"Letras"})]}),r.jsxs("button",{className:"w-full bg-gradient-to-br from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white py-3 px-2 rounded-xl font-bold transition-all duration-200 flex flex-col items-center justify-center space-y-1 shadow-lg hover:shadow-xl transform hover:scale-105",children:[r.jsx(xi,{className:"w-5 h-5"}),r.jsx("span",{className:"text-xs",children:"Partager"})]})]})})]}),r.jsx(yo,{open:a,onOpenChange:n,song:s,title:"Letras da MÃºsica",maxHeight:"h-64"}),r.jsx(Bt,{open:i,onOpenChange:o,children:r.jsxs(Pt,{className:"max-w-md",children:[r.jsx(ns,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(qt,{className:"flex items-center space-x-2",children:[r.jsx(ao,{className:"w-5 h-5 text-blue-500"}),r.jsx("span",{children:"DescriÃ§Ã£o da MÃºsica"})]}),r.jsx("button",{onClick:()=>o(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:r.jsx(mt,{className:"w-5 h-5"})})]})}),r.jsx("div",{className:"mt-4",children:r.jsx("p",{className:"text-gray-700 leading-relaxed font-sans text-sm",children:s.description||"Nenhuma descriÃ§Ã£o disponÃ­vel para esta mÃºsica."})})]})})]})}function Cy(){const[s,e]=h.useState([]),[t,a]=h.useState(new Date),[n,i]=h.useState(null),[o,l]=h.useState(!0);h.useEffect(()=>{let T=new URLSearchParams(window.location.search).get("month");if(!T){const E=window.location.search;if(E.includes("?/")){const I=E.split("?/")[1];if(I.includes("?")){const P=I.split("?")[1];T=new URLSearchParams(P).get("month")}}}if(T)try{const[E,I]=T.split("-").map(Number);E&&I!==void 0&&(a(new Date(E,I-1,1)),console.warn(`ðŸ“… Calendar: Mois chargÃ© depuis l'URL: ${E}-${I}`))}catch(E){console.error("Erro ao parsear parÃ¢metro month:",E)}},[]),h.useEffect(()=>{c()},[t]);const c=()=>x(null,null,function*(){try{l(!0);const S=t.getFullYear(),T=t.getMonth()+1,E=yield Xe.list("-release_date",null),I=(Array.isArray(E)?E:[]).filter(P=>{const V=ye(P.release_date);return V.getFullYear()===S&&V.getMonth()+1===T});I.sort((P,V)=>ye(V.release_date)-ye(P.release_date)),e(I),console.warn(`ðŸ“… Calendrier: ${I.length} chansons chargÃ©es pour ${T}/${S}:`,I.map(P=>`${P.title} (${P.status})`))}catch(S){console.error("Error loading monthly songs:",S),e([])}finally{l(!1)}}),d=qa(t),u=Ha(t);$o({start:d,end:u});const f=S=>s.find(T=>{const E=ye(T.release_date);return Uo(E,S)}),m=S=>{a(T=>{const E=new Date(T);return E.setMonth(T.getMonth()+S),E})},g=S=>An(S)===1,v=S=>{const T=f(S),E=Uo(S,new Date),I=g(S);let P="aspect-square flex flex-col items-center justify-center rounded-2xl text-sm font-bold transition-all duration-300 ";return T?T.status==="published"?P+="bg-[#32a2dc] text-white shadow-lg cursor-pointer hover:shadow-xl transform hover:scale-105 ":T.status==="draft"?P+="bg-orange-500 text-white shadow-lg cursor-pointer hover:shadow-xl transform hover:scale-105 ":P+="bg-gray-500 text-white shadow-lg cursor-pointer hover:shadow-xl transform hover:scale-105 ":I?P+="bg-white/40 text-gray-600 border-2 border-dashed border-gray-400 ":P+="bg-white/20 text-gray-500 ",E&&(P+="ring-2 ring-white ring-opacity-60 "),P},j=S=>{const T=qa(S),E=An(T);return Bo(T,-E)},b=()=>{const S=j(t),T=Ha(t),I=6-An(T),P=Bo(T,I);return $o({start:S,end:P})},C=oe(t,"MMMM yyyy",{locale:be}),k=s.length;if(ma({title:`CalendÃ¡rio Musical ${C}`,description:`Explore ${k} descobertas musicais de ${C}. CalendÃ¡rio completo das mÃºsicas da segunda no MÃºsica da Segunda.`,keywords:`calendÃ¡rio musical, ${C}, descobertas musicais, ${k} mÃºsicas, mÃºsica da segunda, playlist mensal`,url:`/calendar?month=${oe(t,"yyyy-MM")}`,type:"website"}),o)return r.jsxs("div",{className:"p-5 max-w-md mx-auto animate-pulse",children:[r.jsx("div",{className:"h-12 bg-white/30 rounded-2xl mb-6"}),r.jsx("div",{className:"grid grid-cols-7 gap-2 mb-4",children:Array(42).fill(0).map((S,T)=>r.jsx("div",{className:"aspect-square bg-white/30 rounded-2xl"},T))})]});const y=b(),N=S=>{S&&S.id&&S.title?i(S):console.error("Chanson invalide:",S)};return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"p-5 max-w-md mx-auto",children:[r.jsx("div",{className:"lg:hidden text-center mb-8",children:r.jsxs("div",{className:"flex items-center justify-center gap-4 mb-4",children:[r.jsx("div",{className:"w-16 h-16 rounded-full overflow-hidden border-4 border-white/20 shadow-xl flex-shrink-0",children:r.jsx("img",{src:"images/Musica da segunda.jpg",alt:"Logo MÃºsica da Segunda",className:"w-full h-full object-cover"})}),r.jsxs("div",{className:"text-left",children:[r.jsx("h1",{className:"text-2xl md:text-3xl font-black text-white drop-shadow-lg mb-1",children:"Agenda Musical"}),r.jsx("p",{className:"text-white/80 font-medium text-sm md:text-base drop-shadow-md",children:"Acompanhe todas as mÃºsicas da segunda"})]})]})}),r.jsxs("div",{className:"bg-[#f8f5f2] rounded-3xl p-5 shadow-xl mb-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx(z,{variant:"ghost",size:"icon",onClick:()=>m(-1),className:"text-gray-600 hover:text-gray-800 hover:bg-white/60",children:r.jsx(dr,{className:"w-5 h-5"})}),r.jsx("h2",{className:"text-2xl font-black text-gray-800 capitalize",children:oe(t,"MMMM yyyy",{locale:be})}),r.jsx(z,{variant:"ghost",size:"icon",onClick:()=>m(1),className:"text-gray-600 hover:text-gray-800 hover:bg-white/60",children:r.jsx(rd,{className:"w-5 h-5"})})]}),r.jsx("div",{className:"grid grid-cols-7 gap-2 mb-4",children:["Dom","Seg","Ter","Qua","Qui","Sex","SÃ¡b"].map(S=>r.jsx("div",{className:"text-center text-xs font-bold text-gray-500 py-2",children:S},S))}),r.jsx("div",{className:"grid grid-cols-7 gap-2",children:y.map(S=>{const T=f(S),E=g(S),I=S.getMonth()===t.getMonth();return r.jsxs("div",{className:`${v(S)} ${I?"":"opacity-40"}`,onClick:()=>T&&N(T),children:[r.jsx("span",{className:"text-xs",children:oe(S,"d")}),T&&r.jsxs("div",{className:"flex flex-col items-center mt-1",children:[r.jsx(Se,{className:"w-3 h-3"}),T.status==="draft"&&r.jsx("div",{className:"w-1 h-1 bg-white rounded-full mt-1 opacity-80"})]}),E&&!T&&I&&r.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full mt-1 opacity-60"})]},S.toISOString())})}),r.jsxs("div",{className:"mt-6 space-y-2 text-xs",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-4 h-4 bg-[#32a2dc] rounded-lg"}),r.jsx("span",{className:"text-gray-600 font-medium",children:"MÃºsica publicada"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-4 h-4 bg-white/40 border-2 border-dashed border-gray-400 rounded-lg"}),r.jsx("span",{className:"text-gray-600 font-medium",children:"Segunda-feira (aguardando)"})]}),n&&r.jsxs("div",{className:"text-xs text-gray-500 mt-2 p-2 bg-white/40 rounded-lg",children:[r.jsx("p",{className:"font-semibold",children:oe(ye(n.release_date),"dd 'de' MMMM 'de' yyyy - EEEE",{locale:be})}),r.jsxs("p",{children:[n.title," - ",n.artist]}),r.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Status: ",n.status==="published"?"Publicada":n.status==="draft"?"Rascunho":"Arquivada"]})]})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("h3",{className:"text-xl font-bold text-white drop-shadow-lg",children:"MÃºsicas do MÃªs"}),(()=>{const S=s.filter(T=>{const E=ye(T.release_date);return E.getMonth()===t.getMonth()&&E.getFullYear()===t.getFullYear()});return S.length===0?r.jsxs("div",{className:"bg-[#f8f5f2] rounded-2xl p-6 text-center shadow-lg",children:[r.jsx(Se,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),r.jsxs("p",{className:"text-gray-600 font-medium",children:["Nenhuma mÃºsica publicada em ",oe(t,"MMMM yyyy",{locale:be})]}),r.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"As mÃºsicas aparecerÃ£o aqui quando forem publicadas"})]}):S.map(T=>r.jsxs("div",{className:"bg-[#f8f5f2] rounded-2xl p-4 shadow-lg flex items-center gap-4 cursor-pointer hover:shadow-xl transition-all duration-300",onClick:()=>N(T),children:[r.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${T.status==="published"?"bg-[#32a2dc]":T.status==="draft"?"bg-orange-500":"bg-gray-500"}`,children:r.jsx(gt,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{className:"flex-grow",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("p",{className:"font-bold text-gray-800",children:T.title}),r.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${T.status==="published"?"bg-green-100 text-green-800":T.status==="draft"?"bg-orange-100 text-orange-800":"bg-gray-100 text-gray-800"}`,children:T.status==="published"?"Publicada":T.status==="draft"?"Rascunho":"Arquivada"})]}),r.jsx("p",{className:"text-sm text-gray-600",children:T.artist}),r.jsx("p",{className:"text-xs text-gray-400",children:oe(ye(T.release_date),"dd/MM/yyyy")})]})]},T.id))})()]})]}),r.jsx(Bt,{open:!!n,onOpenChange:S=>!S&&i(null),children:r.jsxs(Pt,{className:"max-w-[min(95vw,420px)] p-0 gap-0 border-0 bg-transparent max-h-[95vh] overflow-y-auto [&>button]:hidden",children:[r.jsx(qt,{asChild:!0,children:r.jsx(Gl,{children:n?`${n.title} - ${n.artist}`:"DÃ©tails de la musique"})}),r.jsx(Ed,{asChild:!0,children:r.jsx(Gl,{children:n?`DÃ©tails de la musique ${n.title} par ${n.artist}`:"DÃ©tails de la musique"})}),r.jsx(Ey,{song:n,onClose:()=>i(null),onShowDescription:S=>{console.warn("DescriÃ§Ã£o solicitada para:",S.title)}})]})})]})}function Kl({youtube_music_url:s,youtube_url:e,title:t}){console.warn("ðŸŽ¬ [AdventCalendar] YouTubeEmbed appelÃ© avec:",{youtube_music_url:s,youtube_url:e,title:t});const a=s||e||"";console.warn("ðŸŽ¬ [AdventCalendar] targetUrl:",a);const i=(d=>{if(!d||typeof d!="string")return null;try{const u=d.match(/[?&]list=([A-Za-z0-9_-]+)/);if(u)return{id:u[1],type:"playlist"};const f=[/(?:youtube\.com\/shorts\/)([A-Za-z0-9_-]{11})/,/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/|youtube\.com\/v\/)([A-Za-z0-9_-]{11})/,/^([A-Za-z0-9_-]{11})$/];for(const m of f){const g=d.match(m);if(g)return{id:g[1],type:"video"}}if(d.toLowerCase().includes("music.youtube.com")){const m=d.match(/[?&]v=([A-Za-z0-9_-]{11})/);if(m)return{id:m[1],type:"video"}}return null}catch(u){return null}})(a);if(!i)return r.jsx("div",{className:"w-full aspect-video rounded-lg overflow-hidden shadow-lg flex items-center justify-center bg-gradient-to-br from-gray-800 to-gray-900",children:r.jsx("p",{className:"text-white text-sm",children:"VidÃ©o non disponible"})});const o=a.includes("/shorts/"),l="https://www.youtube-nocookie.com/embed",c=i.type==="video"?`${l}/${i.id}?rel=0&modestbranding=1&playsinline=1&controls=1`:`${l}/videoseries?list=${i.id}&rel=0&modestbranding=1&playsinline=1&controls=1`;return o?r.jsx("div",{className:"w-full flex justify-center",children:r.jsx("div",{className:"relative rounded-lg overflow-hidden shadow-lg",style:{width:"100%",maxWidth:"400px",aspectRatio:"9/16"},children:r.jsx("iframe",{className:"absolute top-0 left-0 w-full h-full",src:c,title:t||"YouTube Short",frameBorder:"0",referrerPolicy:"strict-origin-when-cross-origin",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})}):r.jsx("div",{className:"w-full aspect-video rounded-lg overflow-hidden shadow-lg",children:r.jsx("iframe",{className:"w-full h-full",src:c,title:t||"YouTube",frameBorder:"0",referrerPolicy:"strict-origin-when-cross-origin",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})}const Ay=({day:s,song:e,onOpen:t,hasBeenViewed:a=!1})=>{const n=new Date,i=new Date(2025,11,s),o=s===1?!1:n<i,l=()=>{!o&&e&&t(e)},c="relative aspect-square rounded-2xl flex items-center justify-center text-white font-black text-3xl transition-all duration-300 transform",d="bg-gray-400/50 text-gray-300 cursor-not-allowed",u="bg-gradient-to-br from-red-500 to-rose-600 shadow-lg cursor-pointer hover:scale-105 hover:shadow-xl",f="bg-teal-500/80",m="bg-white shadow-lg cursor-pointer hover:scale-105 hover:shadow-xl";let g=`${c} `;return o?g+=d:a?g+=m:e?g+=u:g+=f,r.jsx("div",{onClick:l,className:g,children:a?r.jsx("div",{className:"w-full h-full flex items-center justify-center",children:r.jsx("img",{src:"/images/IOS Logo.png",alt:`VÃ­deo visualizado - Dia ${s}`,className:"w-16 h-16 object-contain drop-shadow-lg"})}):r.jsxs(r.Fragment,{children:[r.jsx("span",{children:s}),o&&r.jsx(Ya,{className:"absolute w-8 h-8 opacity-70"}),!o&&e&&r.jsxs(r.Fragment,{children:[r.jsx(ad,{className:"absolute top-2 right-2 w-5 h-5 text-yellow-300 animate-ping"}),r.jsx("div",{className:"absolute bottom-1 left-1 right-1 text-center",children:r.jsx("p",{className:"text-xs font-bold text-white drop-shadow-lg truncate",children:e.title})})]})]})})};function Oy(){const[s,e]=h.useState([]),[t,a]=h.useState(null),[n,i]=h.useState(!1),[o,l]=h.useState(null),[c,d]=h.useState(!1),[u,f]=h.useState(!1),[m,g]=h.useState(null),[v,j]=h.useState(new Set),b=Array.from({length:24},(E,I)=>I+1);h.useEffect(()=>{x(null,null,function*(){const P=yield rb.list();e(P)});const I=localStorage.getItem("advent_viewed_songs");if(I)try{const P=JSON.parse(I);j(new Set(P))}catch(P){console.error("Erro ao carregar vÃ­deos visualizados:",P)}},[]);const C=E=>{const I=`advent_day_${E}`,P=localStorage.getItem(I);if(P)return JSON.parse(P);if(s.length===0)return null;const V=s.filter(Ae=>Ae.tiktok_video_id);if(V.length===0)return null;const B=Math.floor(Math.random()*V.length),te=V[B],ge=A(p({},te),{day_of_december:E});return localStorage.setItem(I,JSON.stringify(ge)),ge},k=s.reduce((E,I)=>(E[I.day_of_december]=I,E),{}),y=C(1);y&&(k[1]=y);const N=E=>{g(E),d(!0)},S=E=>{g(E),f(!0)},T=E=>{navigator.share?navigator.share({title:E.title,text:`OuÃ§a ${E.title} por ${E.artist}`,url:E.tiktok_url||window.location.href}):(navigator.clipboard.writeText(E.tiktok_url||window.location.href),alert("Link copiado para a Ã¡rea de transferÃªncia!"))};return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"p-5 max-w-md mx-auto",children:[r.jsx("div",{className:"lg:hidden text-center mb-8",children:r.jsxs("div",{className:"flex items-center justify-center gap-4 mb-4",children:[r.jsx("div",{className:"w-16 h-16 rounded-full overflow-hidden border-4 border-white/20 shadow-xl flex-shrink-0",children:r.jsx("img",{src:"images/Musica da segunda.jpg",alt:"Logo MÃºsica da Segunda",className:"w-full h-full object-cover"})}),r.jsxs("div",{className:"text-left",children:[r.jsx("h1",{className:"text-2xl md:text-3xl font-black text-white drop-shadow-lg mb-1",children:"CalendÃ¡rio do Advento"}),r.jsx("p",{className:"text-white/80 font-medium text-sm md:text-base drop-shadow-md",children:"Dezembro 2025 - Uma surpresa a cada dia!"})]})]})}),r.jsx("div",{className:"bg-[#f8f5f2] rounded-3xl p-5 shadow-xl",children:r.jsx("div",{className:"grid grid-cols-4 gap-3",children:b.map(E=>{const I=k[E]||C(E),P=v.has(E);return r.jsx(Ay,{day:E,song:I,onOpen:a,hasBeenViewed:P},E)})})})]}),r.jsx(Bt,{open:!!t,onOpenChange:()=>a(null),children:r.jsx(Pt,{className:"p-0 border-0 bg-transparent max-w-md w-[95vw] max-h-[95vh] overflow-y-auto mx-auto my-4",children:r.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-rose-50 rounded-3xl shadow-2xl overflow-hidden",children:[r.jsxs("div",{className:"bg-gradient-to-r from-red-500 to-rose-600 p-4 text-center relative",children:[r.jsx("div",{className:"absolute top-2 left-4 bg-white/20 rounded-full w-10 h-10 flex items-center justify-center",children:r.jsx("span",{className:"text-white font-black text-base",children:t==null?void 0:t.day_of_december})}),r.jsx("div",{className:"mt-1",children:r.jsxs("div",{className:"flex items-center justify-center gap-2",children:[r.jsx("h2",{className:"text-xl font-black text-white",children:"Dezembro"}),r.jsx("span",{className:"text-white/90 text-lg font-semibold",children:t==null?void 0:t.day_of_december})]})}),r.jsx("div",{className:"absolute -bottom-4 left-1/2 transform -translate-x-1/2",children:r.jsx("div",{className:"bg-white rounded-full p-2 shadow-lg",children:r.jsx(Se,{className:"w-6 h-6 text-red-500"})})})]}),r.jsxs("div",{className:"p-4 pt-2",children:[r.jsxs("div",{className:"mb-4 bg-white/80 backdrop-blur-sm rounded-2xl p-3 shadow-sm",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(ad,{className:"w-3 h-3 text-amber-500"}),r.jsx("span",{className:"font-bold text-gray-600 text-xs uppercase tracking-wide",children:"Nome da VÃ­deo"})]}),r.jsx("p",{className:"text-gray-800 leading-relaxed font-semibold text-base",children:(t==null?void 0:t.title)||"VÃ­deo Musical"}),(t==null?void 0:t.artist)&&r.jsx("p",{className:"text-gray-600 text-xs mt-1",children:t.artist})]}),r.jsx("div",{className:"mb-4",children:t!=null&&t.youtube_music_url||t!=null&&t.youtube_url?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"bg-black rounded-2xl overflow-hidden shadow-xl",children:r.jsx(Kl,{youtube_music_url:t.youtube_music_url,youtube_url:t.youtube_url,title:t.title})}),r.jsx("div",{className:"text-center mt-2",children:r.jsxs("p",{className:"text-xs text-gray-600 font-medium",children:["ðŸŽ¬ VÃ­deo YouTube - ",t.title]})}),r.jsx("div",{className:"mt-3 text-center",children:r.jsx(z,{onClick:()=>{const E=t.youtube_music_url||t.youtube_url;E&&window.open(E,"_blank")},className:"w-full bg-red-600 hover:bg-red-700 text-white font-bold py-3 rounded-xl transition-all duration-200 hover:scale-105",children:"ðŸ“º Ver no YouTube"})})]}):r.jsx("div",{className:"bg-gray-100 rounded-2xl p-8 text-center",children:r.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-200 to-gray-300 rounded-2xl flex items-center justify-center",children:r.jsxs("div",{className:"text-center text-gray-500",children:[r.jsx(gt,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),r.jsx("p",{className:"text-lg font-medium",children:"VÃ­deo nÃ£o disponÃ­vel"}),r.jsx("p",{className:"text-sm text-gray-400",children:t==null?void 0:t.title})]})})})}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(z,{variant:"outline",className:"w-full bg-white/70 hover:bg-white/90 text-gray-700 font-semibold border-gray-300 py-3 rounded-2xl text-sm",onClick:()=>N(t),children:"Plataformas"}),r.jsx(z,{variant:"outline",className:"w-full bg-white/70 hover:bg-white/90 text-gray-700 font-semibold border-gray-300 py-3 rounded-2xl text-sm",onClick:()=>S(t),children:"Letras"}),r.jsx(z,{variant:"outline",className:"w-full bg-white/70 hover:bg-white/90 text-gray-700 font-semibold border-gray-300 py-3 rounded-2xl text-sm",onClick:()=>T(t),children:"Compartilhar"})]}),r.jsx("div",{className:"mt-6 text-center",children:r.jsxs("div",{className:"flex items-center justify-center gap-2 text-gray-400",children:[r.jsx(fi,{className:"w-4 h-4"}),r.jsx("span",{className:"text-xs font-medium",children:"CalendÃ¡rio do Advento Musical"}),r.jsx(fi,{className:"w-4 h-4"})]})})]})]})})}),n&&o&&r.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center p-4 z-50",children:r.jsx("div",{className:"bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("h2",{className:"text-3xl font-bold text-blue-900",children:["ðŸŽ¬ ",o.title]}),r.jsx("button",{onClick:()=>i(!1),className:"text-gray-500 hover:text-gray-700 text-2xl font-bold p-2 hover:bg-gray-100 rounded-full transition-colors",children:"âœ•"})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-4 border border-blue-200",children:[r.jsx("h3",{className:"text-xl font-bold text-blue-900 mb-2",children:o.title}),r.jsx("p",{className:"text-blue-700 font-medium",children:o.artist}),r.jsxs("p",{className:"text-blue-600 text-sm",children:["ðŸ“… LanÃ§amento: ",oe(ye(o.release_date),"dd/MM/yyyy",{locale:be})]})]}),r.jsx("div",{className:"bg-black rounded-xl overflow-hidden shadow-2xl",children:r.jsx(Kl,{youtube_music_url:o.youtube_music_url,youtube_url:o.youtube_url,title:o.title})}),r.jsxs("div",{className:"flex gap-4 justify-center",children:[r.jsx("button",{onClick:()=>{const E=o.youtube_music_url||o.youtube_url;E&&window.open(E,"_blank")},className:"bg-red-600 text-white px-6 py-3 rounded-xl font-semibold hover:bg-red-700 transition-colors flex items-center gap-2",children:"ðŸ“º Ver no YouTube"}),r.jsx("button",{onClick:()=>i(!1),className:"bg-gray-200 text-gray-700 px-6 py-3 rounded-xl font-semibold hover:bg-gray-300 transition-colors",children:"Fechar"})]})]})]})})}),r.jsx(Bt,{open:c,onOpenChange:d,children:r.jsxs(Pt,{className:"bg-[#f8f5f2] max-w-md",children:[r.jsx(ns,{children:r.jsx(qt,{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:"ðŸŽµ Ouvir em outras plataformas"})}),m&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-4 border border-blue-200",children:[r.jsx("h3",{className:"text-lg font-bold text-blue-900 mb-1",children:m.title}),r.jsx("p",{className:"text-blue-700 font-medium",children:m.artist})]}),r.jsxs("div",{className:"space-y-3",children:[m.spotify_url&&r.jsx("a",{href:m.spotify_url,target:"_blank",rel:"noopener noreferrer",className:"block",children:r.jsx(z,{className:"w-full bg-[#1DB954] hover:bg-[#1ed760] text-white font-bold py-3 rounded-2xl text-sm transition-all duration-200 hover:scale-105",children:"ðŸŽ§ Ouvir no Spotify"})}),m.apple_music_url&&r.jsx("a",{href:m.apple_music_url,target:"_blank",rel:"noopener noreferrer",className:"block",children:r.jsx(z,{className:"w-full bg-gradient-to-r from-[#FA233B] to-[#FB5C74] hover:opacity-90 text-white font-bold py-3 rounded-2xl text-sm transition-all duration-200 hover:scale-105",children:"ðŸŽµ Ouvir no Apple Music"})}),m.youtube_url&&r.jsx("a",{href:m.youtube_url,target:"_blank",rel:"noopener noreferrer",className:"block",children:r.jsx(z,{className:"w-full bg-[#FF0000] hover:bg-[#cc0000] text-white font-bold py-3 rounded-2xl text-sm transition-all duration-200 hover:scale-105",children:"ðŸ“º Assistir no YouTube"})}),!m.spotify_url&&!m.apple_music_url&&!m.youtube_url&&r.jsxs("div",{className:"text-center py-6",children:[r.jsx(Se,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),r.jsx("p",{className:"text-gray-600 font-medium",children:"Links de streaming em breve..."}),r.jsx("p",{className:"text-sm text-gray-500",children:"Esta mÃºsica serÃ¡ disponibilizada em breve nas principais plataformas."})]})]})]})]})}),r.jsx(Bt,{open:u,onOpenChange:f,children:r.jsxs(Pt,{className:"bg-[#f8f5f2] max-w-md max-h-[80vh] overflow-y-auto",children:[r.jsx(ns,{children:r.jsx(qt,{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:"ðŸ“ Letras da mÃºsica"})}),m&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-4 border border-blue-200",children:[r.jsx("h3",{className:"text-lg font-bold text-blue-900 mb-1",children:m.title}),r.jsx("p",{className:"text-blue-700 font-medium",children:m.artist})]}),m.lyrics?r.jsx("div",{className:"bg-white rounded-xl p-4 border border-gray-200",children:r.jsx("pre",{className:"whitespace-pre-wrap text-gray-700 font-medium leading-relaxed",children:m.lyrics})}):r.jsxs("div",{className:"text-center py-6",children:[r.jsx(zt,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),r.jsx("p",{className:"text-gray-600 font-medium",children:"Letras nÃ£o disponÃ­veis"}),r.jsx("p",{className:"text-sm text-gray-500",children:"As letras desta mÃºsica serÃ£o publicadas em breve."})]})]})]})})]})}const ke=h.forwardRef((n,a)=>{var i=n,{className:s,type:e}=i,t=$(i,["className","type"]);return r.jsx("input",p({type:e,className:ve("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:a},t))});ke.displayName="Input";const zr=h.forwardRef((a,t)=>{var n=a,{className:s}=n,e=$(n,["className"]);return r.jsx("textarea",p({className:ve("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:t},e))});zr.displayName="Textarea";function Ry(s){const e=h.useRef({value:s,previous:s});return h.useMemo(()=>(e.current.value!==s&&(e.current.previous=e.current.value,e.current.value=s),e.current.previous),[s])}var Xd=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Py="VisuallyHidden",Iy=h.forwardRef((s,e)=>r.jsx(ze.span,A(p({},s),{ref:e,style:p(p({},Xd),s.style)})));Iy.displayName=Py;var My=[" ","Enter","ArrowUp","ArrowDown"],Dy=[" ","Enter"],Ls="Select",[yn,vn,Ly]=dh(Ls),[wr,hw]=Pc(Ls,[Ly,Ic]),wn=Ic(),[$y,Ns]=wr(Ls),[Uy,By]=wr(Ls),Qd=s=>{const{__scopeSelect:e,children:t,open:a,defaultOpen:n,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:f,disabled:m,required:g,form:v}=s,j=wn(e),[b,C]=h.useState(null),[k,y]=h.useState(null),[N,S]=h.useState(!1),T=Rc(d),[E,I]=Lo({prop:a,defaultProp:n!=null?n:!1,onChange:i,caller:Ls}),[P,V]=Lo({prop:o,defaultProp:l,onChange:c,caller:Ls}),B=h.useRef(null),te=b?v||!!b.closest("form"):!0,[ge,Ae]=h.useState(new Set),$e=Array.from(ge).map(se=>se.props.value).join(";");return r.jsx(vh,A(p({},j),{children:r.jsxs($y,{required:g,scope:e,trigger:b,onTriggerChange:C,valueNode:k,onValueNodeChange:y,valueNodeHasChildren:N,onValueNodeHasChildrenChange:S,contentId:Zi(),value:P,onValueChange:V,open:E,onOpenChange:I,dir:T,triggerPointerDownPosRef:B,disabled:m,children:[r.jsx(yn.Provider,{scope:e,children:r.jsx(Uy,{scope:s.__scopeSelect,onNativeOptionAdd:h.useCallback(se=>{Ae(Te=>new Set(Te).add(se))},[]),onNativeOptionRemove:h.useCallback(se=>{Ae(Te=>{const U=new Set(Te);return U.delete(se),U})},[]),children:t})}),te?r.jsxs(ju,{"aria-hidden":!0,required:g,tabIndex:-1,name:u,autoComplete:f,value:P,onChange:se=>V(se.target.value),disabled:m,form:v,children:[P===void 0?r.jsx("option",{value:""}):null,Array.from(ge)]},$e):null]})}))};Qd.displayName=Ls;var eu="SelectTrigger",tu=h.forwardRef((s,e)=>{const j=s,{__scopeSelect:t,disabled:a=!1}=j,n=$(j,["__scopeSelect","disabled"]),i=wn(t),o=Ns(eu,t),l=o.disabled||a,c=tt(e,o.onTriggerChange),d=vn(t),u=h.useRef("touch"),[f,m,g]=Nu(b=>{const C=d().filter(N=>!N.disabled),k=C.find(N=>N.value===o.value),y=ku(C,b,k);y!==void 0&&o.onValueChange(y.value)}),v=b=>{l||(o.onOpenChange(!0),g()),b&&(o.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)})};return r.jsx(uh,A(p({asChild:!0},i),{children:r.jsx(ze.button,A(p({type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":Su(o.value)?"":void 0},n),{ref:c,onClick:Re(n.onClick,b=>{b.currentTarget.focus(),u.current!=="mouse"&&v(b)}),onPointerDown:Re(n.onPointerDown,b=>{u.current=b.pointerType;const C=b.target;C.hasPointerCapture(b.pointerId)&&C.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&b.pointerType==="mouse"&&(v(b),b.preventDefault())}),onKeyDown:Re(n.onKeyDown,b=>{const C=f.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&m(b.key),!(C&&b.key===" ")&&My.includes(b.key)&&(v(),b.preventDefault())})}))}))});tu.displayName=eu;var su="SelectValue",ru=h.forwardRef((s,e)=>{const m=s,{__scopeSelect:t,className:a,style:n,children:i,placeholder:o=""}=m,l=$(m,["__scopeSelect","className","style","children","placeholder"]),c=Ns(su,t),{onValueNodeHasChildrenChange:d}=c,u=i!==void 0,f=tt(e,c.onValueNodeChange);return rs(()=>{d(u)},[d,u]),r.jsx(ze.span,A(p({},l),{ref:f,style:{pointerEvents:"none"},children:Su(c.value)?r.jsx(r.Fragment,{children:o}):i}))});ru.displayName=su;var Fy="SelectIcon",au=h.forwardRef((s,e)=>{const i=s,{__scopeSelect:t,children:a}=i,n=$(i,["__scopeSelect","children"]);return r.jsx(ze.span,A(p({"aria-hidden":!0},n),{ref:e,children:a||"â–¼"}))});au.displayName=Fy;var Vy="SelectPortal",nu=s=>r.jsx(hh,p({asChild:!0},s));nu.displayName=Vy;var $s="SelectContent",iu=h.forwardRef((s,e)=>{const t=Ns($s,s.__scopeSelect),[a,n]=h.useState();if(rs(()=>{n(new DocumentFragment)},[]),!t.open){const i=a;return i?Mc.createPortal(r.jsx(ou,{scope:s.__scopeSelect,children:r.jsx(yn.Slot,{scope:s.__scopeSelect,children:r.jsx("div",{children:s.children})})}),i):null}return r.jsx(lu,A(p({},s),{ref:e}))});iu.displayName=$s;var Et=10,[ou,ks]=wr($s),zy="SelectContentImpl",qy=gh("SelectContent.RemoveScroll"),lu=h.forwardRef((s,e)=>{const st=s,{__scopeSelect:t,position:a="item-aligned",onCloseAutoFocus:n,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:f,collisionBoundary:m,collisionPadding:g,sticky:v,hideWhenDetached:j,avoidCollisions:b}=st,C=$(st,["__scopeSelect","position","onCloseAutoFocus","onEscapeKeyDown","onPointerDownOutside","side","sideOffset","align","alignOffset","arrowPadding","collisionBoundary","collisionPadding","sticky","hideWhenDetached","avoidCollisions"]),k=Ns($s,t),[y,N]=h.useState(null),[S,T]=h.useState(null),E=tt(e,ee=>N(ee)),[I,P]=h.useState(null),[V,B]=h.useState(null),te=vn(t),[ge,Ae]=h.useState(!1),$e=h.useRef(!1);h.useEffect(()=>{if(y)return mh(y)},[y]),fh();const se=h.useCallback(ee=>{const[fe,...qe]=te().map(xe=>xe.ref.current),[Ne]=qe.slice(-1),je=document.activeElement;for(const xe of ee)if(xe===je||(xe==null||xe.scrollIntoView({block:"nearest"}),xe===fe&&S&&(S.scrollTop=0),xe===Ne&&S&&(S.scrollTop=S.scrollHeight),xe==null||xe.focus(),document.activeElement!==je))return},[te,S]),Te=h.useCallback(()=>se([I,y]),[se,I,y]);h.useEffect(()=>{ge&&Te()},[ge,Te]);const{onOpenChange:U,triggerPointerDownPosRef:O}=k;h.useEffect(()=>{if(y){let ee={x:0,y:0};const fe=Ne=>{var je,xe,Ge,Ue;ee={x:Math.abs(Math.round(Ne.pageX)-((xe=(je=O.current)==null?void 0:je.x)!=null?xe:0)),y:Math.abs(Math.round(Ne.pageY)-((Ue=(Ge=O.current)==null?void 0:Ge.y)!=null?Ue:0))}},qe=Ne=>{ee.x<=10&&ee.y<=10?Ne.preventDefault():y.contains(Ne.target)||U(!1),document.removeEventListener("pointermove",fe),O.current=null};return O.current!==null&&(document.addEventListener("pointermove",fe),document.addEventListener("pointerup",qe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",fe),document.removeEventListener("pointerup",qe,{capture:!0})}}},[y,U,O]),h.useEffect(()=>{const ee=()=>U(!1);return window.addEventListener("blur",ee),window.addEventListener("resize",ee),()=>{window.removeEventListener("blur",ee),window.removeEventListener("resize",ee)}},[U]);const[ie,le]=Nu(ee=>{const fe=te().filter(je=>!je.disabled),qe=fe.find(je=>je.ref.current===document.activeElement),Ne=ku(fe,ee,qe);Ne&&setTimeout(()=>Ne.ref.current.focus())}),F=h.useCallback((ee,fe,qe)=>{const Ne=!$e.current&&!qe;(k.value!==void 0&&k.value===fe||Ne)&&(P(ee),Ne&&($e.current=!0))},[k.value]),W=h.useCallback(()=>y==null?void 0:y.focus(),[y]),ot=h.useCallback((ee,fe,qe)=>{const Ne=!$e.current&&!qe;(k.value!==void 0&&k.value===fe||Ne)&&B(ee)},[k.value]),ue=a==="popper"?Ii:cu,lt=ue===Ii?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:f,collisionBoundary:m,collisionPadding:g,sticky:v,hideWhenDetached:j,avoidCollisions:b}:{};return r.jsx(ou,{scope:t,content:y,viewport:S,onViewportChange:T,itemRefCallback:F,selectedItem:I,onItemLeave:W,itemTextRefCallback:ot,focusSelectedItem:Te,selectedItemText:V,position:a,isPositioned:ge,searchRef:ie,children:r.jsx(ph,{as:qy,allowPinchZoom:!0,children:r.jsx(xh,{asChild:!0,trapped:k.open,onMountAutoFocus:ee=>{ee.preventDefault()},onUnmountAutoFocus:Re(n,ee=>{var fe;(fe=k.trigger)==null||fe.focus({preventScroll:!0}),ee.preventDefault()}),children:r.jsx(bh,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:ee=>ee.preventDefault(),onDismiss:()=>k.onOpenChange(!1),children:r.jsx(ue,A(p(p({role:"listbox",id:k.contentId,"data-state":k.open?"open":"closed",dir:k.dir,onContextMenu:ee=>ee.preventDefault()},C),lt),{onPlaced:()=>Ae(!0),ref:E,style:p({display:"flex",flexDirection:"column",outline:"none"},C.style),onKeyDown:Re(C.onKeyDown,ee=>{const fe=ee.ctrlKey||ee.altKey||ee.metaKey;if(ee.key==="Tab"&&ee.preventDefault(),!fe&&ee.key.length===1&&le(ee.key),["ArrowUp","ArrowDown","Home","End"].includes(ee.key)){let Ne=te().filter(je=>!je.disabled).map(je=>je.ref.current);if(["ArrowUp","End"].includes(ee.key)&&(Ne=Ne.slice().reverse()),["ArrowUp","ArrowDown"].includes(ee.key)){const je=ee.target,xe=Ne.indexOf(je);Ne=Ne.slice(xe+1)}setTimeout(()=>se(Ne)),ee.preventDefault()}})}))})})})})});lu.displayName=zy;var Hy="SelectItemAlignedPosition",cu=h.forwardRef((s,e)=>{const E=s,{__scopeSelect:t,onPlaced:a}=E,n=$(E,["__scopeSelect","onPlaced"]),i=Ns($s,t),o=ks($s,t),[l,c]=h.useState(null),[d,u]=h.useState(null),f=tt(e,I=>u(I)),m=vn(t),g=h.useRef(!1),v=h.useRef(!0),{viewport:j,selectedItem:b,selectedItemText:C,focusSelectedItem:k}=o,y=h.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&j&&b&&C){const I=i.trigger.getBoundingClientRect(),P=d.getBoundingClientRect(),V=i.valueNode.getBoundingClientRect(),B=C.getBoundingClientRect();if(i.dir!=="rtl"){const je=B.left-P.left,xe=V.left-je,Ge=I.left-xe,Ue=I.width+Ge,Gt=Math.max(Ue,P.width),Kt=window.innerWidth-Et,dt=Ci(xe,[Et,Math.max(Et,Kt-Gt)]);l.style.minWidth=Ue+"px",l.style.left=dt+"px"}else{const je=P.right-B.right,xe=window.innerWidth-V.right-je,Ge=window.innerWidth-I.right-xe,Ue=I.width+Ge,Gt=Math.max(Ue,P.width),Kt=window.innerWidth-Et,dt=Ci(xe,[Et,Math.max(Et,Kt-Gt)]);l.style.minWidth=Ue+"px",l.style.right=dt+"px"}const te=m(),ge=window.innerHeight-Et*2,Ae=j.scrollHeight,$e=window.getComputedStyle(d),se=parseInt($e.borderTopWidth,10),Te=parseInt($e.paddingTop,10),U=parseInt($e.borderBottomWidth,10),O=parseInt($e.paddingBottom,10),ie=se+Te+Ae+O+U,le=Math.min(b.offsetHeight*5,ie),F=window.getComputedStyle(j),W=parseInt(F.paddingTop,10),ot=parseInt(F.paddingBottom,10),ue=I.top+I.height/2-Et,lt=ge-ue,st=b.offsetHeight/2,ee=b.offsetTop+st,fe=se+Te+ee,qe=ie-fe;if(fe<=ue){const je=te.length>0&&b===te[te.length-1].ref.current;l.style.bottom="0px";const xe=d.clientHeight-j.offsetTop-j.offsetHeight,Ge=Math.max(lt,st+(je?ot:0)+xe+U),Ue=fe+Ge;l.style.height=Ue+"px"}else{const je=te.length>0&&b===te[0].ref.current;l.style.top="0px";const Ge=Math.max(ue,se+j.offsetTop+(je?W:0)+st)+qe;l.style.height=Ge+"px",j.scrollTop=fe-ue+j.offsetTop}l.style.margin=`${Et}px 0`,l.style.minHeight=le+"px",l.style.maxHeight=ge+"px",a==null||a(),requestAnimationFrame(()=>g.current=!0)}},[m,i.trigger,i.valueNode,l,d,j,b,C,i.dir,a]);rs(()=>y(),[y]);const[N,S]=h.useState();rs(()=>{d&&S(window.getComputedStyle(d).zIndex)},[d]);const T=h.useCallback(I=>{I&&v.current===!0&&(y(),k==null||k(),v.current=!1)},[y,k]);return r.jsx(Yy,{scope:t,contentWrapper:l,shouldExpandOnScrollRef:g,onScrollButtonChange:T,children:r.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:r.jsx(ze.div,A(p({},n),{ref:f,style:p({boxSizing:"border-box",maxHeight:"100%"},n.style)}))})})});cu.displayName=Hy;var Wy="SelectPopperPosition",Ii=h.forwardRef((s,e)=>{const l=s,{__scopeSelect:t,align:a="start",collisionPadding:n=Et}=l,i=$(l,["__scopeSelect","align","collisionPadding"]),o=wn(t);return r.jsx(yh,A(p(p({},o),i),{ref:e,align:a,collisionPadding:n,style:A(p({boxSizing:"border-box"},i.style),{"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"})}))});Ii.displayName=Wy;var[Yy,wo]=wr($s,{}),Mi="SelectViewport",du=h.forwardRef((s,e)=>{const d=s,{__scopeSelect:t,nonce:a}=d,n=$(d,["__scopeSelect","nonce"]),i=ks(Mi,t),o=wo(Mi,t),l=tt(e,i.onViewportChange),c=h.useRef(0);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),r.jsx(yn.Slot,{scope:t,children:r.jsx(ze.div,A(p({"data-radix-select-viewport":"",role:"presentation"},n),{ref:l,style:p({position:"relative",flex:1,overflow:"hidden auto"},n.style),onScroll:Re(n.onScroll,u=>{const f=u.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:g}=o;if(g!=null&&g.current&&m){const v=Math.abs(c.current-f.scrollTop);if(v>0){const j=window.innerHeight-Et*2,b=parseFloat(m.style.minHeight),C=parseFloat(m.style.height),k=Math.max(b,C);if(k<j){const y=k+v,N=Math.min(j,y),S=y-N;m.style.height=N+"px",m.style.bottom==="0px"&&(f.scrollTop=S>0?S:0,m.style.justifyContent="flex-end")}}}c.current=f.scrollTop})}))})]})});du.displayName=Mi;var uu="SelectGroup",[Gy,Ky]=wr(uu),Zy=h.forwardRef((s,e)=>{const i=s,{__scopeSelect:t}=i,a=$(i,["__scopeSelect"]),n=Zi();return r.jsx(Gy,{scope:t,id:n,children:r.jsx(ze.div,A(p({role:"group","aria-labelledby":n},a),{ref:e}))})});Zy.displayName=uu;var hu="SelectLabel",mu=h.forwardRef((s,e)=>{const i=s,{__scopeSelect:t}=i,a=$(i,["__scopeSelect"]),n=Ky(hu,t);return r.jsx(ze.div,A(p({id:n.id},a),{ref:e}))});mu.displayName=hu;var tn="SelectItem",[Jy,fu]=wr(tn),pu=h.forwardRef((s,e)=>{const k=s,{__scopeSelect:t,value:a,disabled:n=!1,textValue:i}=k,o=$(k,["__scopeSelect","value","disabled","textValue"]),l=Ns(tn,t),c=ks(tn,t),d=l.value===a,[u,f]=h.useState(i!=null?i:""),[m,g]=h.useState(!1),v=tt(e,y=>{var N;return(N=c.itemRefCallback)==null?void 0:N.call(c,y,a,n)}),j=Zi(),b=h.useRef("touch"),C=()=>{n||(l.onValueChange(a),l.onOpenChange(!1))};if(a==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return r.jsx(Jy,{scope:t,value:a,disabled:n,textId:j,isSelected:d,onItemTextChange:h.useCallback(y=>{f(N=>{var S;return N||((S=y==null?void 0:y.textContent)!=null?S:"").trim()})},[]),children:r.jsx(yn.ItemSlot,{scope:t,value:a,disabled:n,textValue:u,children:r.jsx(ze.div,A(p({role:"option","aria-labelledby":j,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":n||void 0,"data-disabled":n?"":void 0,tabIndex:n?void 0:-1},o),{ref:v,onFocus:Re(o.onFocus,()=>g(!0)),onBlur:Re(o.onBlur,()=>g(!1)),onClick:Re(o.onClick,()=>{b.current!=="mouse"&&C()}),onPointerUp:Re(o.onPointerUp,()=>{b.current==="mouse"&&C()}),onPointerDown:Re(o.onPointerDown,y=>{b.current=y.pointerType}),onPointerMove:Re(o.onPointerMove,y=>{var N;b.current=y.pointerType,n?(N=c.onItemLeave)==null||N.call(c):b.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Re(o.onPointerLeave,y=>{var N;y.currentTarget===document.activeElement&&((N=c.onItemLeave)==null||N.call(c))}),onKeyDown:Re(o.onKeyDown,y=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&y.key===" "||(Dy.includes(y.key)&&C(),y.key===" "&&y.preventDefault())})}))})})});pu.displayName=tn;var qr="SelectItemText",gu=h.forwardRef((s,e)=>{const C=s,{__scopeSelect:t,className:a,style:n}=C,i=$(C,["__scopeSelect","className","style"]),o=Ns(qr,t),l=ks(qr,t),c=fu(qr,t),d=By(qr,t),[u,f]=h.useState(null),m=tt(e,k=>f(k),c.onItemTextChange,k=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,k,c.value,c.disabled)}),g=u==null?void 0:u.textContent,v=h.useMemo(()=>r.jsx("option",{value:c.value,disabled:c.disabled,children:g},c.value),[c.disabled,c.value,g]),{onNativeOptionAdd:j,onNativeOptionRemove:b}=d;return rs(()=>(j(v),()=>b(v)),[j,b,v]),r.jsxs(r.Fragment,{children:[r.jsx(ze.span,A(p({id:c.textId},i),{ref:m})),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Mc.createPortal(i.children,o.valueNode):null]})});gu.displayName=qr;var xu="SelectItemIndicator",bu=h.forwardRef((s,e)=>{const i=s,{__scopeSelect:t}=i,a=$(i,["__scopeSelect"]);return fu(xu,t).isSelected?r.jsx(ze.span,A(p({"aria-hidden":!0},a),{ref:e})):null});bu.displayName=xu;var Di="SelectScrollUpButton",yu=h.forwardRef((s,e)=>{const t=ks(Di,s.__scopeSelect),a=wo(Di,s.__scopeSelect),[n,i]=h.useState(!1),o=tt(e,a.onScrollButtonChange);return rs(()=>{if(t.viewport&&t.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=t.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[t.viewport,t.isPositioned]),n?r.jsx(wu,A(p({},s),{ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=t;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}})):null});yu.displayName=Di;var Li="SelectScrollDownButton",vu=h.forwardRef((s,e)=>{const t=ks(Li,s.__scopeSelect),a=wo(Li,s.__scopeSelect),[n,i]=h.useState(!1),o=tt(e,a.onScrollButtonChange);return rs(()=>{if(t.viewport&&t.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;i(u)};const c=t.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[t.viewport,t.isPositioned]),n?r.jsx(wu,A(p({},s),{ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=t;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}})):null});vu.displayName=Li;var wu=h.forwardRef((s,e)=>{const d=s,{__scopeSelect:t,onAutoScroll:a}=d,n=$(d,["__scopeSelect","onAutoScroll"]),i=ks("SelectScrollButton",t),o=h.useRef(null),l=vn(t),c=h.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return h.useEffect(()=>()=>c(),[c]),rs(()=>{var f;const u=l().find(m=>m.ref.current===document.activeElement);(f=u==null?void 0:u.ref.current)==null||f.scrollIntoView({block:"nearest"})},[l]),r.jsx(ze.div,A(p({"aria-hidden":!0},n),{ref:e,style:p({flexShrink:0},n.style),onPointerDown:Re(n.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(a,50))}),onPointerMove:Re(n.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(a,50))}),onPointerLeave:Re(n.onPointerLeave,()=>{c()})}))}),Xy="SelectSeparator",_u=h.forwardRef((s,e)=>{const n=s,{__scopeSelect:t}=n,a=$(n,["__scopeSelect"]);return r.jsx(ze.div,A(p({"aria-hidden":!0},a),{ref:e}))});_u.displayName=Xy;var $i="SelectArrow",Qy=h.forwardRef((s,e)=>{const l=s,{__scopeSelect:t}=l,a=$(l,["__scopeSelect"]),n=wn(t),i=Ns($i,t),o=ks($i,t);return i.open&&o.position==="popper"?r.jsx(wh,A(p(p({},n),a),{ref:e})):null});Qy.displayName=$i;var ev="SelectBubbleInput",ju=h.forwardRef((n,a)=>{var i=n,{__scopeSelect:s,value:e}=i,t=$(i,["__scopeSelect","value"]);const o=h.useRef(null),l=tt(a,o),c=Ry(e);return h.useEffect(()=>{const d=o.current;if(!d)return;const u=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(u,"value").set;if(c!==e&&m){const g=new Event("change",{bubbles:!0});m.call(d,e),d.dispatchEvent(g)}},[c,e]),r.jsx(ze.select,A(p({},t),{style:p(p({},Xd),t.style),ref:l,defaultValue:e}))});ju.displayName=ev;function Su(s){return s===""||s===void 0}function Nu(s){const e=ps(s),t=h.useRef(""),a=h.useRef(0),n=h.useCallback(o=>{const l=t.current+o;e(l),(function c(d){t.current=d,window.clearTimeout(a.current),d!==""&&(a.current=window.setTimeout(()=>c(""),1e3))})(l)},[e]),i=h.useCallback(()=>{t.current="",window.clearTimeout(a.current)},[]);return h.useEffect(()=>()=>window.clearTimeout(a.current),[]),[t,n,i]}function ku(s,e,t){const n=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,i=t?s.indexOf(t):-1;let o=tv(s,Math.max(i,0));n.length===1&&(o=o.filter(d=>d!==t));const c=o.find(d=>d.textValue.toLowerCase().startsWith(n.toLowerCase()));return c!==t?c:void 0}function tv(s,e){return s.map((t,a)=>s[(e+a)%s.length])}var sv=Qd,Tu=tu,rv=ru,av=au,nv=nu,Eu=iu,iv=du,Cu=mu,Au=pu,ov=gu,lv=bu,Ou=yu,Ru=vu,Pu=_u;const Ui=sv,Bi=rv,sn=h.forwardRef((n,a)=>{var i=n,{className:s,children:e}=i,t=$(i,["className","children"]);return r.jsxs(Tu,A(p({ref:a,className:ve("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s)},t),{children:[e,r.jsx(av,{asChild:!0,children:r.jsx(so,{className:"h-4 w-4 opacity-50"})})]}))});sn.displayName=Tu.displayName;const Iu=h.forwardRef((a,t)=>{var n=a,{className:s}=n,e=$(n,["className"]);return r.jsx(Ou,A(p({ref:t,className:ve("flex cursor-default items-center justify-center py-1",s)},e),{children:r.jsx(xf,{className:"h-4 w-4"})}))});Iu.displayName=Ou.displayName;const Mu=h.forwardRef((a,t)=>{var n=a,{className:s}=n,e=$(n,["className"]);return r.jsx(Ru,A(p({ref:t,className:ve("flex cursor-default items-center justify-center py-1",s)},e),{children:r.jsx(so,{className:"h-4 w-4"})}))});Mu.displayName=Ru.displayName;const rn=h.forwardRef((i,n)=>{var o=i,{className:s,children:e,position:t="popper"}=o,a=$(o,["className","children","position"]);return r.jsx(nv,{children:r.jsxs(Eu,A(p({ref:n,className:ve("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:t},a),{children:[r.jsx(Iu,{}),r.jsx(iv,{className:ve("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),r.jsx(Mu,{})]}))})});rn.displayName=Eu.displayName;const cv=h.forwardRef((a,t)=>{var n=a,{className:s}=n,e=$(n,["className"]);return r.jsx(Cu,p({ref:t,className:ve("px-2 py-1.5 text-sm font-semibold",s)},e))});cv.displayName=Cu.displayName;const Lt=h.forwardRef((n,a)=>{var i=n,{className:s,children:e}=i,t=$(i,["className","children"]);return r.jsxs(Au,A(p({ref:a,className:ve("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s)},t),{children:[r.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(lv,{children:r.jsx(hf,{className:"h-4 w-4"})})}),r.jsx(ov,{children:e})]}))});Lt.displayName=Au.displayName;const dv=h.forwardRef((a,t)=>{var n=a,{className:s}=n,e=$(n,["className"]);return r.jsx(Pu,p({ref:t,className:ve("-mx-1 my-1 h-px bg-muted",s)},e))});dv.displayName=Pu.displayName;const is=h.forwardRef((a,t)=>{var n=a,{className:s}=n,e=$(n,["className"]);return r.jsx("div",p({ref:t,className:ve("rounded-xl border bg-card text-card-foreground shadow",s)},e))});is.displayName="Card";const _r=h.forwardRef((a,t)=>{var n=a,{className:s}=n,e=$(n,["className"]);return r.jsx("div",p({ref:t,className:ve("flex flex-col space-y-1.5 p-6",s)},e))});_r.displayName="CardHeader";const jr=h.forwardRef((a,t)=>{var n=a,{className:s}=n,e=$(n,["className"]);return r.jsx("div",p({ref:t,className:ve("font-semibold leading-none tracking-tight",s)},e))});jr.displayName="CardTitle";const _n=h.forwardRef((a,t)=>{var n=a,{className:s}=n,e=$(n,["className"]);return r.jsx("div",p({ref:t,className:ve("text-sm text-muted-foreground",s)},e))});_n.displayName="CardDescription";const ws=h.forwardRef((a,t)=>{var n=a,{className:s}=n,e=$(n,["className"]);return r.jsx("div",p({ref:t,className:ve("p-6 pt-0",s)},e))});ws.displayName="CardContent";const uv=h.forwardRef((a,t)=>{var n=a,{className:s}=n,e=$(n,["className"]);return r.jsx("div",p({ref:t,className:ve("flex items-center p-6 pt-0",s)},e))});uv.displayName="CardFooter";const hv=pn("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Fa(a){var n=a,{className:s,variant:e}=n,t=$(n,["className","variant"]);return r.jsx("div",p({className:ve(hv({variant:e}),s)},t))}var mv="Separator",Zl="horizontal",fv=["horizontal","vertical"],Du=h.forwardRef((s,e)=>{const c=s,{decorative:t,orientation:a=Zl}=c,n=$(c,["decorative","orientation"]),i=pv(a)?a:Zl,l=t?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return r.jsx(ze.div,A(p(p({"data-orientation":i},l),n),{ref:e}))});Du.displayName=mv;function pv(s){return fv.includes(s)}var Lu=Du;const gv=h.forwardRef((i,n)=>{var o=i,{className:s,orientation:e="horizontal",decorative:t=!0}=o,a=$(o,["className","orientation","decorative"]);return r.jsx(Lu,p({ref:n,decorative:t,orientation:e,className:ve("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",s)},a))});gv.displayName=Lu.displayName;function xv({postId:s,className:e="",song:t=null,fallbackVideoUrl:a=null}){const[n,i]=h.useState(!0),[o,l]=h.useState(null),[c,d]=h.useState(0),[u,f]=h.useState(0),[m,g]=h.useState(!1),[v,j]=h.useState(!0),[b,C]=h.useState(!0),[k,y]=h.useState(!1),[N,S]=h.useState(!1),[T,E]=h.useState({startTime:null,tiktokLoadTime:null,fallbackActivated:!1,totalLoadTime:null}),I=h.useRef(null),P=h.useRef(null),V=h.useRef(null),B=h.useRef(null),te=h.useRef(null),ge=3,Ae=15e3,$e=1e3,se=h.useCallback(()=>{V.current&&(window.clearTimeout(V.current),V.current=null)},[]);h.useEffect(()=>{if(P.current)return B.current=new IntersectionObserver(([F])=>{var W;F.isIntersecting&&(g(!0),(W=B.current)==null||W.disconnect())},{threshold:.1,rootMargin:"50px"}),B.current.observe(P.current),()=>{var F;(F=B.current)==null||F.disconnect()}},[]),h.useEffect(()=>{if(!s||!m)return;const F=performance.now();return E(W=>A(p({},W),{startTime:F,tiktokLoadTime:null,fallbackActivated:!1,totalLoadTime:null})),console.log(`ðŸš€ TikTok V2.0.0: Chargement de la vidÃ©o ${s}`),i(!0),l(null),d(0),f(W=>W+1),j(!0),C(!0),y(!1),S(!1),se(),V.current=window.setTimeout(()=>{console.warn("â° TikTok V2.0.0: Timeout de chargement atteint (15s)"),U("Timeout: Chargement trop lent")},Ae),se},[s,m,se]);const Te=h.useCallback(()=>{const F=performance.now()-(T.startTime||0);console.log("âœ… TikTok V2.0.0: VidÃ©o chargÃ©e avec succÃ¨s"),se(),i(!1),l(null),j(!0),C(!0),E(W=>A(p({},W),{tiktokLoadTime:F,totalLoadTime:F})),console.log(`ðŸ“Š TikTok V2.0.0: Temps de chargement: ${F.toFixed(2)}ms`)},[se,T.startTime]),U=h.useCallback((F="Erro ao carregar vÃ­deo TikTok")=>{if(console.error("âŒ TikTok V2.0.0: Ã‰chec de chargement",F),se(),c<ge)console.log(`ðŸ”„ Tentative de retry ${c+1}/${ge}`),setTimeout(()=>{d(W=>W+1),f(W=>W+1),i(!0),l(null),V.current=window.setTimeout(()=>{U("Timeout: Retry Ã©chouÃ©")},Ae)},$e);else{console.log("ðŸ”„ TikTok V2.0.0: Tous les retries Ã©chouÃ©s, activation du fallback"),S(!0),l("TikTok indisponÃ­vel - usando fallback"),i(!1);const W=performance.now()-(T.startTime||0);E(ot=>A(p({},ot),{fallbackActivated:!0,totalLoadTime:W})),console.log(`ðŸ“Š TikTok V2.0.0: Fallback activÃ© aprÃ¨s ${W.toFixed(2)}ms`)}},[c,ge,$e,Ae,se,T.startTime]),O=h.useCallback(()=>{console.log("ðŸ”„ TikTok V2.0.0: Retry manuel"),d(0),l(null),S(!1),f(F=>F+1),i(!0),V.current=window.setTimeout(()=>{U("Timeout: Retry manuel Ã©chouÃ©")},Ae)},[U,Ae]);h.useCallback(()=>{te.current&&(te.current.paused?(te.current.play(),y(!0)):(te.current.pause(),y(!1)))},[]);const ie=h.useCallback(()=>{j(!1),C(!1)},[]),le=h.useCallback(()=>{t!=null&&t.tiktok_url&&window.open(t.tiktok_url,"_blank")},[t]);return h.useEffect(()=>()=>{se(),B.current&&B.current.disconnect()},[se]),m?N?r.jsx("div",{className:`${e} bg-black rounded-lg overflow-hidden`,style:{aspectRatio:"9/16"},children:r.jsxs("div",{className:"relative w-full h-full",children:[r.jsxs("video",{ref:te,className:"w-full h-full object-cover",controls:!0,preload:"metadata",poster:(t==null?void 0:t.cover_image)||void 0,onPlay:()=>y(!0),onPause:()=>y(!1),children:[a&&r.jsx("source",{src:a,type:"video/mp4"}),r.jsx("source",{src:"/videos/fallback-video.mp4",type:"video/mp4"}),r.jsx("p",{children:"VÃ­deo nÃ£o suportado pelo navegador"})]}),r.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-4",children:r.jsxs("div",{className:"text-white text-center",children:[r.jsx("p",{className:"text-sm font-medium mb-2",children:"ðŸŽ¬ Fallback VÃ­deo"}),r.jsx("p",{className:"text-xs opacity-80",children:(t==null?void 0:t.title)||"VÃ­deo musical"})]})}),r.jsx("button",{onClick:O,className:"absolute top-2 right-2 bg-black/70 hover:bg-black/90 text-white p-2 rounded-full transition-colors",title:"Tentar TikTok novamente",children:r.jsx(tl,{className:"w-4 h-4"})})]})}):r.jsx("div",{ref:P,className:`${e} bg-black rounded-lg overflow-hidden tiktok-container`,"data-tiktok-component":"true",style:{aspectRatio:"9/16",overflow:"hidden",position:"relative"},children:r.jsxs("div",{className:"relative w-full h-full",style:{overflow:"hidden"},children:[n&&r.jsx("div",{className:"absolute inset-0 bg-black flex items-center justify-center z-10",children:r.jsxs("div",{className:"text-center text-white",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),r.jsx("p",{className:"text-sm",children:"Carregando TikTok..."}),c>0&&r.jsxs("p",{className:"text-xs opacity-70 mt-1",children:["Tentativa ",c+1,"/",ge+1]})]})}),o&&!n&&r.jsx("div",{className:"absolute inset-0 bg-red-900 flex items-center justify-center z-10",children:r.jsxs("div",{className:"text-center text-white p-4",children:[r.jsx(vs,{className:"w-12 h-12 mx-auto mb-4 text-red-300"}),r.jsx("p",{className:"text-sm font-medium mb-2",children:"Erro ao carregar"}),r.jsx("p",{className:"text-xs opacity-80 mb-4",children:o}),r.jsx("button",{onClick:O,className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg text-sm transition-colors",children:"Tentar novamente"})]})}),r.jsx("iframe",{ref:I,src:`https://www.tiktok.com/embed/${s}`,className:"w-full h-full border-0",allowFullScreen:!0,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",onLoad:Te,onError:()=>U("Erro de carregamento do iframe"),style:{display:n||o?"none":"block",overflow:"hidden",scrolling:"no"},scrolling:"no"},u),!n&&!o&&b&&r.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center z-20",children:r.jsxs("div",{className:"text-center text-white p-6",children:[r.jsx(vp,{className:"w-16 h-16 mx-auto mb-4 text-white/80"}),r.jsx("p",{className:"text-lg font-medium mb-2",children:"VÃ­deo em modo silencioso"}),r.jsx("p",{className:"text-sm opacity-80 mb-4",children:"Toque para ativar o som"}),r.jsx("button",{onClick:ie,className:"bg-white text-black px-6 py-3 rounded-full font-medium hover:bg-gray-100 transition-colors",children:"Ativar Som"})]})}),!n&&!o&&r.jsxs("div",{className:"absolute top-2 right-2 flex gap-2",children:[r.jsx("button",{onClick:O,className:"bg-black/70 hover:bg-black/90 text-white p-2 rounded-full transition-colors",title:"Recarregar vÃ­deo",children:r.jsx(tl,{className:"w-4 h-4"})}),(t==null?void 0:t.tiktok_url)&&r.jsx("button",{onClick:le,className:"bg-black/70 hover:bg-black/90 text-white p-2 rounded-full transition-colors",title:"Ver no TikTok",children:r.jsx(Is,{className:"w-4 h-4"})})]})]})}):r.jsx("div",{ref:P,className:`${e} bg-gray-100 rounded-lg flex items-center justify-center`,style:{aspectRatio:"9/16"},children:r.jsxs("div",{className:"text-center text-gray-500",children:[r.jsx(ur,{className:"w-8 h-8 mx-auto mb-2"}),r.jsx("p",{className:"text-sm",children:"Carregando..."})]})})}var _e;(function(s){s.assertEqual=n=>{};function e(n){}s.assertIs=e;function t(n){throw new Error}s.assertNever=t,s.arrayToEnum=n=>{const i={};for(const o of n)i[o]=o;return i},s.getValidEnumValues=n=>{const i=s.objectKeys(n).filter(l=>typeof n[n[l]]!="number"),o={};for(const l of i)o[l]=n[l];return s.objectValues(o)},s.objectValues=n=>s.objectKeys(n).map(function(i){return n[i]}),s.objectKeys=typeof Object.keys=="function"?n=>Object.keys(n):n=>{const i=[];for(const o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.push(o);return i},s.find=(n,i)=>{for(const o of n)if(i(o))return o},s.isInteger=typeof Number.isInteger=="function"?n=>Number.isInteger(n):n=>typeof n=="number"&&Number.isFinite(n)&&Math.floor(n)===n;function a(n,i=" | "){return n.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}s.joinValues=a,s.jsonStringifyReplacer=(n,i)=>typeof i=="bigint"?i.toString():i})(_e||(_e={}));var Jl;(function(s){s.mergeShapes=(e,t)=>p(p({},e),t)})(Jl||(Jl={}));const Y=_e.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),fs=s=>{switch(typeof s){case"undefined":return Y.undefined;case"string":return Y.string;case"number":return Number.isNaN(s)?Y.nan:Y.number;case"boolean":return Y.boolean;case"function":return Y.function;case"bigint":return Y.bigint;case"symbol":return Y.symbol;case"object":return Array.isArray(s)?Y.array:s===null?Y.null:s.then&&typeof s.then=="function"&&s.catch&&typeof s.catch=="function"?Y.promise:typeof Map!="undefined"&&s instanceof Map?Y.map:typeof Set!="undefined"&&s instanceof Set?Y.set:typeof Date!="undefined"&&s instanceof Date?Y.date:Y.object;default:return Y.unknown}},D=_e.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class os extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=a=>{this.issues=[...this.issues,a]},this.addIssues=(a=[])=>{this.issues=[...this.issues,...a]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(i){return i.message},a={_errors:[]},n=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(n);else if(o.code==="invalid_return_type")n(o.returnTypeError);else if(o.code==="invalid_arguments")n(o.argumentsError);else if(o.path.length===0)a._errors.push(t(o));else{let l=a,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(t(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return n(this),a}static assert(e){if(!(e instanceof os))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,_e.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},a=[];for(const n of this.issues)if(n.path.length>0){const i=n.path[0];t[i]=t[i]||[],t[i].push(e(n))}else a.push(e(n));return{formErrors:a,fieldErrors:t}}get formErrors(){return this.flatten()}}os.create=s=>new os(s);const Fi=(s,e)=>{let t;switch(s.code){case D.invalid_type:s.received===Y.undefined?t="Required":t=`Expected ${s.expected}, received ${s.received}`;break;case D.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(s.expected,_e.jsonStringifyReplacer)}`;break;case D.unrecognized_keys:t=`Unrecognized key(s) in object: ${_e.joinValues(s.keys,", ")}`;break;case D.invalid_union:t="Invalid input";break;case D.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${_e.joinValues(s.options)}`;break;case D.invalid_enum_value:t=`Invalid enum value. Expected ${_e.joinValues(s.options)}, received '${s.received}'`;break;case D.invalid_arguments:t="Invalid function arguments";break;case D.invalid_return_type:t="Invalid function return type";break;case D.invalid_date:t="Invalid date";break;case D.invalid_string:typeof s.validation=="object"?"includes"in s.validation?(t=`Invalid input: must include "${s.validation.includes}"`,typeof s.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${s.validation.position}`)):"startsWith"in s.validation?t=`Invalid input: must start with "${s.validation.startsWith}"`:"endsWith"in s.validation?t=`Invalid input: must end with "${s.validation.endsWith}"`:_e.assertNever(s.validation):s.validation!=="regex"?t=`Invalid ${s.validation}`:t="Invalid";break;case D.too_small:s.type==="array"?t=`Array must contain ${s.exact?"exactly":s.inclusive?"at least":"more than"} ${s.minimum} element(s)`:s.type==="string"?t=`String must contain ${s.exact?"exactly":s.inclusive?"at least":"over"} ${s.minimum} character(s)`:s.type==="number"?t=`Number must be ${s.exact?"exactly equal to ":s.inclusive?"greater than or equal to ":"greater than "}${s.minimum}`:s.type==="bigint"?t=`Number must be ${s.exact?"exactly equal to ":s.inclusive?"greater than or equal to ":"greater than "}${s.minimum}`:s.type==="date"?t=`Date must be ${s.exact?"exactly equal to ":s.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(s.minimum))}`:t="Invalid input";break;case D.too_big:s.type==="array"?t=`Array must contain ${s.exact?"exactly":s.inclusive?"at most":"less than"} ${s.maximum} element(s)`:s.type==="string"?t=`String must contain ${s.exact?"exactly":s.inclusive?"at most":"under"} ${s.maximum} character(s)`:s.type==="number"?t=`Number must be ${s.exact?"exactly":s.inclusive?"less than or equal to":"less than"} ${s.maximum}`:s.type==="bigint"?t=`BigInt must be ${s.exact?"exactly":s.inclusive?"less than or equal to":"less than"} ${s.maximum}`:s.type==="date"?t=`Date must be ${s.exact?"exactly":s.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(s.maximum))}`:t="Invalid input";break;case D.custom:t="Invalid input";break;case D.invalid_intersection_types:t="Intersection results could not be merged";break;case D.not_multiple_of:t=`Number must be a multiple of ${s.multipleOf}`;break;case D.not_finite:t="Number must be finite";break;default:t=e.defaultError,_e.assertNever(s)}return{message:t}};let bv=Fi;function yv(){return bv}const vv=s=>{const{data:e,path:t,errorMaps:a,issueData:n}=s,i=[...t,...n.path||[]],o=A(p({},n),{path:i});if(n.message!==void 0)return A(p({},n),{path:i,message:n.message});let l="";const c=a.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:e,defaultError:l}).message;return A(p({},n),{path:i,message:l})};function q(s,e){const t=yv(),a=vv({issueData:e,data:s.data,path:s.path,errorMaps:[s.common.contextualErrorMap,s.schemaErrorMap,t,t===Fi?void 0:Fi].filter(n=>!!n)});s.common.issues.push(a)}class xt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const a=[];for(const n of t){if(n.status==="aborted")return ae;n.status==="dirty"&&e.dirty(),a.push(n.value)}return{status:e.value,value:a}}static mergeObjectAsync(e,t){return x(this,null,function*(){const a=[];for(const n of t){const i=yield n.key,o=yield n.value;a.push({key:i,value:o})}return xt.mergeObjectSync(e,a)})}static mergeObjectSync(e,t){const a={};for(const n of t){const{key:i,value:o}=n;if(i.status==="aborted"||o.status==="aborted")return ae;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value!="undefined"||n.alwaysSet)&&(a[i.value]=o.value)}return{status:e.value,value:a}}}const ae=Object.freeze({status:"aborted"}),Hr=s=>({status:"dirty",value:s}),jt=s=>({status:"valid",value:s}),Xl=s=>s.status==="aborted",Ql=s=>s.status==="dirty",fr=s=>s.status==="valid",an=s=>typeof Promise!="undefined"&&s instanceof Promise;var K;(function(s){s.errToObj=e=>typeof e=="string"?{message:e}:e||{},s.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(K||(K={}));class _s{constructor(e,t,a,n){this._cachedPath=[],this.parent=e,this.data=t,this._path=a,this._key=n}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const ec=(s,e)=>{if(fr(e))return{success:!0,data:e.value};if(!s.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new os(s.common.issues);return this._error=t,this._error}}};function ce(s){if(!s)return{};const{errorMap:e,invalid_type_error:t,required_error:a,description:n}=s;if(e&&(t||a))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:n}:{errorMap:(o,l)=>{var d,u;const{message:c}=s;return o.code==="invalid_enum_value"?{message:c!=null?c:l.defaultError}:typeof l.data=="undefined"?{message:(d=c!=null?c:a)!=null?d:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(u=c!=null?c:t)!=null?u:l.defaultError}},description:n}}class we{get description(){return this._def.description}_getType(e){return fs(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:fs(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new xt,ctx:{common:e.parent.common,data:e.data,parsedType:fs(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(an(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const a=this.safeParse(e,t);if(a.success)return a.data;throw a.error}safeParse(e,t){var i;const a={common:{issues:[],async:(i=t==null?void 0:t.async)!=null?i:!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:fs(e)},n=this._parseSync({data:e,path:a.path,parent:a});return ec(a,n)}"~validate"(e){var a,n;const t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:fs(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:t});return fr(i)?{value:i.value}:{issues:t.common.issues}}catch(i){(n=(a=i==null?void 0:i.message)==null?void 0:a.toLowerCase())!=null&&n.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(i=>fr(i)?{value:i.value}:{issues:t.common.issues})}parseAsync(e,t){return x(this,null,function*(){const a=yield this.safeParseAsync(e,t);if(a.success)return a.data;throw a.error})}safeParseAsync(e,t){return x(this,null,function*(){const a={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:fs(e)},n=this._parse({data:e,path:a.path,parent:a}),i=yield an(n)?n:Promise.resolve(n);return ec(a,i)})}refine(e,t){const a=n=>typeof t=="string"||typeof t=="undefined"?{message:t}:typeof t=="function"?t(n):t;return this._refinement((n,i)=>{const o=e(n),l=()=>i.addIssue(p({code:D.custom},a(n)));return typeof Promise!="undefined"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,t){return this._refinement((a,n)=>e(a)?!0:(n.addIssue(typeof t=="function"?t(a,n):t),!1))}_refinement(e){return new gr({schema:this,typeName:ne.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return ys.create(this,this._def)}nullable(){return xr.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ft.create(this)}promise(){return ln.create(this,this._def)}or(e){return nn.create([this,e],this._def)}and(e){return on.create(this,e,this._def)}transform(e){return new gr(A(p({},ce(this._def)),{schema:this,typeName:ne.ZodEffects,effect:{type:"transform",transform:e}}))}default(e){const t=typeof e=="function"?e:()=>e;return new qi(A(p({},ce(this._def)),{innerType:this,defaultValue:t,typeName:ne.ZodDefault}))}brand(){return new zv(p({typeName:ne.ZodBranded,type:this},ce(this._def)))}catch(e){const t=typeof e=="function"?e:()=>e;return new Hi(A(p({},ce(this._def)),{innerType:this,catchValue:t,typeName:ne.ZodCatch}))}describe(e){const t=this.constructor;return new t(A(p({},this._def),{description:e}))}pipe(e){return _o.create(this,e)}readonly(){return Wi.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const wv=/^c[^\s-]{8,}$/i,_v=/^[0-9a-z]+$/,jv=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Sv=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Nv=/^[a-z0-9_-]{21}$/i,kv=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Tv=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Ev=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Cv="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Qn;const Av=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Ov=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Rv=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Pv=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Iv=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Mv=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,$u="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Dv=new RegExp(`^${$u}$`);function Uu(s){let e="[0-5]\\d";s.precision?e=`${e}\\.\\d{${s.precision}}`:s.precision==null&&(e=`${e}(\\.\\d+)?`);const t=s.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${t}`}function Lv(s){return new RegExp(`^${Uu(s)}$`)}function $v(s){let e=`${$u}T${Uu(s)}`;const t=[];return t.push(s.local?"Z?":"Z"),s.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function Uv(s,e){return!!((e==="v4"||!e)&&Av.test(s)||(e==="v6"||!e)&&Rv.test(s))}function Bv(s,e){if(!kv.test(s))return!1;try{const[t]=s.split(".");if(!t)return!1;const a=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),n=JSON.parse(atob(a));return!(typeof n!="object"||n===null||"typ"in n&&(n==null?void 0:n.typ)!=="JWT"||!n.alg||e&&n.alg!==e)}catch(t){return!1}}function Fv(s,e){return!!((e==="v4"||!e)&&Ov.test(s)||(e==="v6"||!e)&&Pv.test(s))}class bs extends we{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Y.string){const i=this._getOrReturnCtx(e);return q(i,{code:D.invalid_type,expected:Y.string,received:i.parsedType}),ae}const a=new xt;let n;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(n=this._getOrReturnCtx(e,n),q(n,{code:D.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),a.dirty());else if(i.kind==="max")e.data.length>i.value&&(n=this._getOrReturnCtx(e,n),q(n,{code:D.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),a.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,l=e.data.length<i.value;(o||l)&&(n=this._getOrReturnCtx(e,n),o?q(n,{code:D.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&q(n,{code:D.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),a.dirty())}else if(i.kind==="email")Ev.test(e.data)||(n=this._getOrReturnCtx(e,n),q(n,{validation:"email",code:D.invalid_string,message:i.message}),a.dirty());else if(i.kind==="emoji")Qn||(Qn=new RegExp(Cv,"u")),Qn.test(e.data)||(n=this._getOrReturnCtx(e,n),q(n,{validation:"emoji",code:D.invalid_string,message:i.message}),a.dirty());else if(i.kind==="uuid")Sv.test(e.data)||(n=this._getOrReturnCtx(e,n),q(n,{validation:"uuid",code:D.invalid_string,message:i.message}),a.dirty());else if(i.kind==="nanoid")Nv.test(e.data)||(n=this._getOrReturnCtx(e,n),q(n,{validation:"nanoid",code:D.invalid_string,message:i.message}),a.dirty());else if(i.kind==="cuid")wv.test(e.data)||(n=this._getOrReturnCtx(e,n),q(n,{validation:"cuid",code:D.invalid_string,message:i.message}),a.dirty());else if(i.kind==="cuid2")_v.test(e.data)||(n=this._getOrReturnCtx(e,n),q(n,{validation:"cuid2",code:D.invalid_string,message:i.message}),a.dirty());else if(i.kind==="ulid")jv.test(e.data)||(n=this._getOrReturnCtx(e,n),q(n,{validation:"ulid",code:D.invalid_string,message:i.message}),a.dirty());else if(i.kind==="url")try{new URL(e.data)}catch(o){n=this._getOrReturnCtx(e,n),q(n,{validation:"url",code:D.invalid_string,message:i.message}),a.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),q(n,{validation:"regex",code:D.invalid_string,message:i.message}),a.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(n=this._getOrReturnCtx(e,n),q(n,{code:D.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),a.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(n=this._getOrReturnCtx(e,n),q(n,{code:D.invalid_string,validation:{startsWith:i.value},message:i.message}),a.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(n=this._getOrReturnCtx(e,n),q(n,{code:D.invalid_string,validation:{endsWith:i.value},message:i.message}),a.dirty()):i.kind==="datetime"?$v(i).test(e.data)||(n=this._getOrReturnCtx(e,n),q(n,{code:D.invalid_string,validation:"datetime",message:i.message}),a.dirty()):i.kind==="date"?Dv.test(e.data)||(n=this._getOrReturnCtx(e,n),q(n,{code:D.invalid_string,validation:"date",message:i.message}),a.dirty()):i.kind==="time"?Lv(i).test(e.data)||(n=this._getOrReturnCtx(e,n),q(n,{code:D.invalid_string,validation:"time",message:i.message}),a.dirty()):i.kind==="duration"?Tv.test(e.data)||(n=this._getOrReturnCtx(e,n),q(n,{validation:"duration",code:D.invalid_string,message:i.message}),a.dirty()):i.kind==="ip"?Uv(e.data,i.version)||(n=this._getOrReturnCtx(e,n),q(n,{validation:"ip",code:D.invalid_string,message:i.message}),a.dirty()):i.kind==="jwt"?Bv(e.data,i.alg)||(n=this._getOrReturnCtx(e,n),q(n,{validation:"jwt",code:D.invalid_string,message:i.message}),a.dirty()):i.kind==="cidr"?Fv(e.data,i.version)||(n=this._getOrReturnCtx(e,n),q(n,{validation:"cidr",code:D.invalid_string,message:i.message}),a.dirty()):i.kind==="base64"?Iv.test(e.data)||(n=this._getOrReturnCtx(e,n),q(n,{validation:"base64",code:D.invalid_string,message:i.message}),a.dirty()):i.kind==="base64url"?Mv.test(e.data)||(n=this._getOrReturnCtx(e,n),q(n,{validation:"base64url",code:D.invalid_string,message:i.message}),a.dirty()):_e.assertNever(i);return{status:a.value,value:e.data}}_regex(e,t,a){return this.refinement(n=>e.test(n),p({validation:t,code:D.invalid_string},K.errToObj(a)))}_addCheck(e){return new bs(A(p({},this._def),{checks:[...this._def.checks,e]}))}email(e){return this._addCheck(p({kind:"email"},K.errToObj(e)))}url(e){return this._addCheck(p({kind:"url"},K.errToObj(e)))}emoji(e){return this._addCheck(p({kind:"emoji"},K.errToObj(e)))}uuid(e){return this._addCheck(p({kind:"uuid"},K.errToObj(e)))}nanoid(e){return this._addCheck(p({kind:"nanoid"},K.errToObj(e)))}cuid(e){return this._addCheck(p({kind:"cuid"},K.errToObj(e)))}cuid2(e){return this._addCheck(p({kind:"cuid2"},K.errToObj(e)))}ulid(e){return this._addCheck(p({kind:"ulid"},K.errToObj(e)))}base64(e){return this._addCheck(p({kind:"base64"},K.errToObj(e)))}base64url(e){return this._addCheck(p({kind:"base64url"},K.errToObj(e)))}jwt(e){return this._addCheck(p({kind:"jwt"},K.errToObj(e)))}ip(e){return this._addCheck(p({kind:"ip"},K.errToObj(e)))}cidr(e){return this._addCheck(p({kind:"cidr"},K.errToObj(e)))}datetime(e){var t,a;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck(p({kind:"datetime",precision:typeof(e==null?void 0:e.precision)=="undefined"?null:e==null?void 0:e.precision,offset:(t=e==null?void 0:e.offset)!=null?t:!1,local:(a=e==null?void 0:e.local)!=null?a:!1},K.errToObj(e==null?void 0:e.message)))}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck(p({kind:"time",precision:typeof(e==null?void 0:e.precision)=="undefined"?null:e==null?void 0:e.precision},K.errToObj(e==null?void 0:e.message)))}duration(e){return this._addCheck(p({kind:"duration"},K.errToObj(e)))}regex(e,t){return this._addCheck(p({kind:"regex",regex:e},K.errToObj(t)))}includes(e,t){return this._addCheck(p({kind:"includes",value:e,position:t==null?void 0:t.position},K.errToObj(t==null?void 0:t.message)))}startsWith(e,t){return this._addCheck(p({kind:"startsWith",value:e},K.errToObj(t)))}endsWith(e,t){return this._addCheck(p({kind:"endsWith",value:e},K.errToObj(t)))}min(e,t){return this._addCheck(p({kind:"min",value:e},K.errToObj(t)))}max(e,t){return this._addCheck(p({kind:"max",value:e},K.errToObj(t)))}length(e,t){return this._addCheck(p({kind:"length",value:e},K.errToObj(t)))}nonempty(e){return this.min(1,K.errToObj(e))}trim(){return new bs(A(p({},this._def),{checks:[...this._def.checks,{kind:"trim"}]}))}toLowerCase(){return new bs(A(p({},this._def),{checks:[...this._def.checks,{kind:"toLowerCase"}]}))}toUpperCase(){return new bs(A(p({},this._def),{checks:[...this._def.checks,{kind:"toUpperCase"}]}))}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}bs.create=s=>{var e;return new bs(p({checks:[],typeName:ne.ZodString,coerce:(e=s==null?void 0:s.coerce)!=null?e:!1},ce(s)))};function Vv(s,e){const t=(s.toString().split(".")[1]||"").length,a=(e.toString().split(".")[1]||"").length,n=t>a?t:a,i=Number.parseInt(s.toFixed(n).replace(".","")),o=Number.parseInt(e.toFixed(n).replace(".",""));return i%o/Do(10,n)}class aa extends we{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Y.number){const i=this._getOrReturnCtx(e);return q(i,{code:D.invalid_type,expected:Y.number,received:i.parsedType}),ae}let a;const n=new xt;for(const i of this._def.checks)i.kind==="int"?_e.isInteger(e.data)||(a=this._getOrReturnCtx(e,a),q(a,{code:D.invalid_type,expected:"integer",received:"float",message:i.message}),n.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(a=this._getOrReturnCtx(e,a),q(a,{code:D.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),n.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(a=this._getOrReturnCtx(e,a),q(a,{code:D.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),n.dirty()):i.kind==="multipleOf"?Vv(e.data,i.value)!==0&&(a=this._getOrReturnCtx(e,a),q(a,{code:D.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(a=this._getOrReturnCtx(e,a),q(a,{code:D.not_finite,message:i.message}),n.dirty()):_e.assertNever(i);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,K.toString(t))}gt(e,t){return this.setLimit("min",e,!1,K.toString(t))}lte(e,t){return this.setLimit("max",e,!0,K.toString(t))}lt(e,t){return this.setLimit("max",e,!1,K.toString(t))}setLimit(e,t,a,n){return new aa(A(p({},this._def),{checks:[...this._def.checks,{kind:e,value:t,inclusive:a,message:K.toString(n)}]}))}_addCheck(e){return new aa(A(p({},this._def),{checks:[...this._def.checks,e]}))}int(e){return this._addCheck({kind:"int",message:K.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:K.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:K.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:K.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:K.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:K.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:K.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:K.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:K.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&_e.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const a of this._def.checks){if(a.kind==="finite"||a.kind==="int"||a.kind==="multipleOf")return!0;a.kind==="min"?(t===null||a.value>t)&&(t=a.value):a.kind==="max"&&(e===null||a.value<e)&&(e=a.value)}return Number.isFinite(t)&&Number.isFinite(e)}}aa.create=s=>new aa(p({checks:[],typeName:ne.ZodNumber,coerce:(s==null?void 0:s.coerce)||!1},ce(s)));class na extends we{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch(i){return this._getInvalidInput(e)}if(this._getType(e)!==Y.bigint)return this._getInvalidInput(e);let a;const n=new xt;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(a=this._getOrReturnCtx(e,a),q(a,{code:D.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(a=this._getOrReturnCtx(e,a),q(a,{code:D.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(a=this._getOrReturnCtx(e,a),q(a,{code:D.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):_e.assertNever(i);return{status:n.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return q(t,{code:D.invalid_type,expected:Y.bigint,received:t.parsedType}),ae}gte(e,t){return this.setLimit("min",e,!0,K.toString(t))}gt(e,t){return this.setLimit("min",e,!1,K.toString(t))}lte(e,t){return this.setLimit("max",e,!0,K.toString(t))}lt(e,t){return this.setLimit("max",e,!1,K.toString(t))}setLimit(e,t,a,n){return new na(A(p({},this._def),{checks:[...this._def.checks,{kind:e,value:t,inclusive:a,message:K.toString(n)}]}))}_addCheck(e){return new na(A(p({},this._def),{checks:[...this._def.checks,e]}))}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:K.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:K.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:K.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:K.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:K.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}na.create=s=>{var e;return new na(p({checks:[],typeName:ne.ZodBigInt,coerce:(e=s==null?void 0:s.coerce)!=null?e:!1},ce(s)))};class tc extends we{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Y.boolean){const a=this._getOrReturnCtx(e);return q(a,{code:D.invalid_type,expected:Y.boolean,received:a.parsedType}),ae}return jt(e.data)}}tc.create=s=>new tc(p({typeName:ne.ZodBoolean,coerce:(s==null?void 0:s.coerce)||!1},ce(s)));class ia extends we{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Y.date){const i=this._getOrReturnCtx(e);return q(i,{code:D.invalid_type,expected:Y.date,received:i.parsedType}),ae}if(Number.isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return q(i,{code:D.invalid_date}),ae}const a=new xt;let n;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(n=this._getOrReturnCtx(e,n),q(n,{code:D.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),a.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(n=this._getOrReturnCtx(e,n),q(n,{code:D.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),a.dirty()):_e.assertNever(i);return{status:a.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ia(A(p({},this._def),{checks:[...this._def.checks,e]}))}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:K.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:K.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}ia.create=s=>new ia(p({checks:[],coerce:(s==null?void 0:s.coerce)||!1,typeName:ne.ZodDate},ce(s)));class sc extends we{_parse(e){if(this._getType(e)!==Y.symbol){const a=this._getOrReturnCtx(e);return q(a,{code:D.invalid_type,expected:Y.symbol,received:a.parsedType}),ae}return jt(e.data)}}sc.create=s=>new sc(p({typeName:ne.ZodSymbol},ce(s)));class rc extends we{_parse(e){if(this._getType(e)!==Y.undefined){const a=this._getOrReturnCtx(e);return q(a,{code:D.invalid_type,expected:Y.undefined,received:a.parsedType}),ae}return jt(e.data)}}rc.create=s=>new rc(p({typeName:ne.ZodUndefined},ce(s)));class ac extends we{_parse(e){if(this._getType(e)!==Y.null){const a=this._getOrReturnCtx(e);return q(a,{code:D.invalid_type,expected:Y.null,received:a.parsedType}),ae}return jt(e.data)}}ac.create=s=>new ac(p({typeName:ne.ZodNull},ce(s)));class nc extends we{constructor(){super(...arguments),this._any=!0}_parse(e){return jt(e.data)}}nc.create=s=>new nc(p({typeName:ne.ZodAny},ce(s)));class ic extends we{constructor(){super(...arguments),this._unknown=!0}_parse(e){return jt(e.data)}}ic.create=s=>new ic(p({typeName:ne.ZodUnknown},ce(s)));class js extends we{_parse(e){const t=this._getOrReturnCtx(e);return q(t,{code:D.invalid_type,expected:Y.never,received:t.parsedType}),ae}}js.create=s=>new js(p({typeName:ne.ZodNever},ce(s)));class oc extends we{_parse(e){if(this._getType(e)!==Y.undefined){const a=this._getOrReturnCtx(e);return q(a,{code:D.invalid_type,expected:Y.void,received:a.parsedType}),ae}return jt(e.data)}}oc.create=s=>new oc(p({typeName:ne.ZodVoid},ce(s)));class Ft extends we{_parse(e){const{ctx:t,status:a}=this._processInputParams(e),n=this._def;if(t.parsedType!==Y.array)return q(t,{code:D.invalid_type,expected:Y.array,received:t.parsedType}),ae;if(n.exactLength!==null){const o=t.data.length>n.exactLength.value,l=t.data.length<n.exactLength.value;(o||l)&&(q(t,{code:o?D.too_big:D.too_small,minimum:l?n.exactLength.value:void 0,maximum:o?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),a.dirty())}if(n.minLength!==null&&t.data.length<n.minLength.value&&(q(t,{code:D.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),a.dirty()),n.maxLength!==null&&t.data.length>n.maxLength.value&&(q(t,{code:D.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),a.dirty()),t.common.async)return Promise.all([...t.data].map((o,l)=>n.type._parseAsync(new _s(t,o,t.path,l)))).then(o=>xt.mergeArray(a,o));const i=[...t.data].map((o,l)=>n.type._parseSync(new _s(t,o,t.path,l)));return xt.mergeArray(a,i)}get element(){return this._def.type}min(e,t){return new Ft(A(p({},this._def),{minLength:{value:e,message:K.toString(t)}}))}max(e,t){return new Ft(A(p({},this._def),{maxLength:{value:e,message:K.toString(t)}}))}length(e,t){return new Ft(A(p({},this._def),{exactLength:{value:e,message:K.toString(t)}}))}nonempty(e){return this.min(1,e)}}Ft.create=(s,e)=>new Ft(p({type:s,minLength:null,maxLength:null,exactLength:null,typeName:ne.ZodArray},ce(e)));function rr(s){if(s instanceof Ve){const e={};for(const t in s.shape){const a=s.shape[t];e[t]=ys.create(rr(a))}return new Ve(A(p({},s._def),{shape:()=>e}))}else return s instanceof Ft?new Ft(A(p({},s._def),{type:rr(s.element)})):s instanceof ys?ys.create(rr(s.unwrap())):s instanceof xr?xr.create(rr(s.unwrap())):s instanceof Us?Us.create(s.items.map(e=>rr(e))):s}class Ve extends we{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=_e.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==Y.object){const d=this._getOrReturnCtx(e);return q(d,{code:D.invalid_type,expected:Y.object,received:d.parsedType}),ae}const{status:a,ctx:n}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof js&&this._def.unknownKeys==="strip"))for(const d in n.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const u=i[d],f=n.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new _s(n,f,n.path,d)),alwaysSet:d in n.data})}if(this._def.catchall instanceof js){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of l)c.push({key:{status:"valid",value:u},value:{status:"valid",value:n.data[u]}});else if(d==="strict")l.length>0&&(q(n,{code:D.unrecognized_keys,keys:l}),a.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of l){const f=n.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new _s(n,f,n.path,u)),alwaysSet:u in n.data})}}return n.common.async?Promise.resolve().then(()=>x(this,null,function*(){const d=[];for(const u of c){const f=yield u.key,m=yield u.value;d.push({key:f,value:m,alwaysSet:u.alwaysSet})}return d})).then(d=>xt.mergeObjectSync(a,d)):xt.mergeObjectSync(a,c)}get shape(){return this._def.shape()}strict(e){return K.errToObj,new Ve(p(A(p({},this._def),{unknownKeys:"strict"}),e!==void 0?{errorMap:(t,a)=>{var i,o,l,c;const n=(l=(o=(i=this._def).errorMap)==null?void 0:o.call(i,t,a).message)!=null?l:a.defaultError;return t.code==="unrecognized_keys"?{message:(c=K.errToObj(e).message)!=null?c:n}:{message:n}}}:{}))}strip(){return new Ve(A(p({},this._def),{unknownKeys:"strip"}))}passthrough(){return new Ve(A(p({},this._def),{unknownKeys:"passthrough"}))}extend(e){return new Ve(A(p({},this._def),{shape:()=>p(p({},this._def.shape()),e)}))}merge(e){return new Ve({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>p(p({},this._def.shape()),e._def.shape()),typeName:ne.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new Ve(A(p({},this._def),{catchall:e}))}pick(e){const t={};for(const a of _e.objectKeys(e))e[a]&&this.shape[a]&&(t[a]=this.shape[a]);return new Ve(A(p({},this._def),{shape:()=>t}))}omit(e){const t={};for(const a of _e.objectKeys(this.shape))e[a]||(t[a]=this.shape[a]);return new Ve(A(p({},this._def),{shape:()=>t}))}deepPartial(){return rr(this)}partial(e){const t={};for(const a of _e.objectKeys(this.shape)){const n=this.shape[a];e&&!e[a]?t[a]=n:t[a]=n.optional()}return new Ve(A(p({},this._def),{shape:()=>t}))}required(e){const t={};for(const a of _e.objectKeys(this.shape))if(e&&!e[a])t[a]=this.shape[a];else{let i=this.shape[a];for(;i instanceof ys;)i=i._def.innerType;t[a]=i}return new Ve(A(p({},this._def),{shape:()=>t}))}keyof(){return Bu(_e.objectKeys(this.shape))}}Ve.create=(s,e)=>new Ve(p({shape:()=>s,unknownKeys:"strip",catchall:js.create(),typeName:ne.ZodObject},ce(e)));Ve.strictCreate=(s,e)=>new Ve(p({shape:()=>s,unknownKeys:"strict",catchall:js.create(),typeName:ne.ZodObject},ce(e)));Ve.lazycreate=(s,e)=>new Ve(p({shape:s,unknownKeys:"strip",catchall:js.create(),typeName:ne.ZodObject},ce(e)));class nn extends we{_parse(e){const{ctx:t}=this._processInputParams(e),a=this._def.options;function n(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return t.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new os(l.ctx.common.issues));return q(t,{code:D.invalid_union,unionErrors:o}),ae}if(t.common.async)return Promise.all(a.map(i=>x(this,null,function*(){const o=A(p({},t),{common:A(p({},t.common),{issues:[]}),parent:null});return{result:yield i._parseAsync({data:t.data,path:t.path,parent:o}),ctx:o}}))).then(n);{let i;const o=[];for(const c of a){const d=A(p({},t),{common:A(p({},t.common),{issues:[]}),parent:null}),u=c._parseSync({data:t.data,path:t.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(i)return t.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new os(c));return q(t,{code:D.invalid_union,unionErrors:l}),ae}}get options(){return this._def.options}}nn.create=(s,e)=>new nn(p({options:s,typeName:ne.ZodUnion},ce(e)));function Vi(s,e){const t=fs(s),a=fs(e);if(s===e)return{valid:!0,data:s};if(t===Y.object&&a===Y.object){const n=_e.objectKeys(e),i=_e.objectKeys(s).filter(l=>n.indexOf(l)!==-1),o=p(p({},s),e);for(const l of i){const c=Vi(s[l],e[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(t===Y.array&&a===Y.array){if(s.length!==e.length)return{valid:!1};const n=[];for(let i=0;i<s.length;i++){const o=s[i],l=e[i],c=Vi(o,l);if(!c.valid)return{valid:!1};n.push(c.data)}return{valid:!0,data:n}}else return t===Y.date&&a===Y.date&&+s==+e?{valid:!0,data:s}:{valid:!1}}class on extends we{_parse(e){const{status:t,ctx:a}=this._processInputParams(e),n=(i,o)=>{if(Xl(i)||Xl(o))return ae;const l=Vi(i.value,o.value);return l.valid?((Ql(i)||Ql(o))&&t.dirty(),{status:t.value,value:l.data}):(q(a,{code:D.invalid_intersection_types}),ae)};return a.common.async?Promise.all([this._def.left._parseAsync({data:a.data,path:a.path,parent:a}),this._def.right._parseAsync({data:a.data,path:a.path,parent:a})]).then(([i,o])=>n(i,o)):n(this._def.left._parseSync({data:a.data,path:a.path,parent:a}),this._def.right._parseSync({data:a.data,path:a.path,parent:a}))}}on.create=(s,e,t)=>new on(p({left:s,right:e,typeName:ne.ZodIntersection},ce(t)));class Us extends we{_parse(e){const{status:t,ctx:a}=this._processInputParams(e);if(a.parsedType!==Y.array)return q(a,{code:D.invalid_type,expected:Y.array,received:a.parsedType}),ae;if(a.data.length<this._def.items.length)return q(a,{code:D.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ae;!this._def.rest&&a.data.length>this._def.items.length&&(q(a,{code:D.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const i=[...a.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new _s(a,o,a.path,l)):null}).filter(o=>!!o);return a.common.async?Promise.all(i).then(o=>xt.mergeArray(t,o)):xt.mergeArray(t,i)}get items(){return this._def.items}rest(e){return new Us(A(p({},this._def),{rest:e}))}}Us.create=(s,e)=>{if(!Array.isArray(s))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Us(p({items:s,typeName:ne.ZodTuple,rest:null},ce(e)))};class lc extends we{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:a}=this._processInputParams(e);if(a.parsedType!==Y.map)return q(a,{code:D.invalid_type,expected:Y.map,received:a.parsedType}),ae;const n=this._def.keyType,i=this._def.valueType,o=[...a.data.entries()].map(([l,c],d)=>({key:n._parse(new _s(a,l,a.path,[d,"key"])),value:i._parse(new _s(a,c,a.path,[d,"value"]))}));if(a.common.async){const l=new Map;return Promise.resolve().then(()=>x(this,null,function*(){for(const c of o){const d=yield c.key,u=yield c.value;if(d.status==="aborted"||u.status==="aborted")return ae;(d.status==="dirty"||u.status==="dirty")&&t.dirty(),l.set(d.value,u.value)}return{status:t.value,value:l}}))}else{const l=new Map;for(const c of o){const d=c.key,u=c.value;if(d.status==="aborted"||u.status==="aborted")return ae;(d.status==="dirty"||u.status==="dirty")&&t.dirty(),l.set(d.value,u.value)}return{status:t.value,value:l}}}}lc.create=(s,e,t)=>new lc(p({valueType:e,keyType:s,typeName:ne.ZodMap},ce(t)));class oa extends we{_parse(e){const{status:t,ctx:a}=this._processInputParams(e);if(a.parsedType!==Y.set)return q(a,{code:D.invalid_type,expected:Y.set,received:a.parsedType}),ae;const n=this._def;n.minSize!==null&&a.data.size<n.minSize.value&&(q(a,{code:D.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),t.dirty()),n.maxSize!==null&&a.data.size>n.maxSize.value&&(q(a,{code:D.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),t.dirty());const i=this._def.valueType;function o(c){const d=new Set;for(const u of c){if(u.status==="aborted")return ae;u.status==="dirty"&&t.dirty(),d.add(u.value)}return{status:t.value,value:d}}const l=[...a.data.values()].map((c,d)=>i._parse(new _s(a,c,a.path,d)));return a.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(e,t){return new oa(A(p({},this._def),{minSize:{value:e,message:K.toString(t)}}))}max(e,t){return new oa(A(p({},this._def),{maxSize:{value:e,message:K.toString(t)}}))}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}oa.create=(s,e)=>new oa(p({valueType:s,minSize:null,maxSize:null,typeName:ne.ZodSet},ce(e)));class cc extends we{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}cc.create=(s,e)=>new cc(p({getter:s,typeName:ne.ZodLazy},ce(e)));class zi extends we{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return q(t,{received:t.data,code:D.invalid_literal,expected:this._def.value}),ae}return{status:"valid",value:e.data}}get value(){return this._def.value}}zi.create=(s,e)=>new zi(p({value:s,typeName:ne.ZodLiteral},ce(e)));function Bu(s,e){return new pr(p({values:s,typeName:ne.ZodEnum},ce(e)))}class pr extends we{_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),a=this._def.values;return q(t,{expected:_e.joinValues(a),received:t.parsedType,code:D.invalid_type}),ae}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const t=this._getOrReturnCtx(e),a=this._def.values;return q(t,{received:t.data,code:D.invalid_enum_value,options:a}),ae}return jt(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return pr.create(e,p(p({},this._def),t))}exclude(e,t=this._def){return pr.create(this.options.filter(a=>!e.includes(a)),p(p({},this._def),t))}}pr.create=Bu;class dc extends we{_parse(e){const t=_e.getValidEnumValues(this._def.values),a=this._getOrReturnCtx(e);if(a.parsedType!==Y.string&&a.parsedType!==Y.number){const n=_e.objectValues(t);return q(a,{expected:_e.joinValues(n),received:a.parsedType,code:D.invalid_type}),ae}if(this._cache||(this._cache=new Set(_e.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const n=_e.objectValues(t);return q(a,{received:a.data,code:D.invalid_enum_value,options:n}),ae}return jt(e.data)}get enum(){return this._def.values}}dc.create=(s,e)=>new dc(p({values:s,typeName:ne.ZodNativeEnum},ce(e)));class ln extends we{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Y.promise&&t.common.async===!1)return q(t,{code:D.invalid_type,expected:Y.promise,received:t.parsedType}),ae;const a=t.parsedType===Y.promise?t.data:Promise.resolve(t.data);return jt(a.then(n=>this._def.type.parseAsync(n,{path:t.path,errorMap:t.common.contextualErrorMap})))}}ln.create=(s,e)=>new ln(p({type:s,typeName:ne.ZodPromise},ce(e)));class gr extends we{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ne.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:a}=this._processInputParams(e),n=this._def.effect||null,i={addIssue:o=>{q(a,o),o.fatal?t.abort():t.dirty()},get path(){return a.path}};if(i.addIssue=i.addIssue.bind(i),n.type==="preprocess"){const o=n.transform(a.data,i);if(a.common.async)return Promise.resolve(o).then(l=>x(this,null,function*(){if(t.value==="aborted")return ae;const c=yield this._def.schema._parseAsync({data:l,path:a.path,parent:a});return c.status==="aborted"?ae:c.status==="dirty"||t.value==="dirty"?Hr(c.value):c}));{if(t.value==="aborted")return ae;const l=this._def.schema._parseSync({data:o,path:a.path,parent:a});return l.status==="aborted"?ae:l.status==="dirty"||t.value==="dirty"?Hr(l.value):l}}if(n.type==="refinement"){const o=l=>{const c=n.refinement(l,i);if(a.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(a.common.async===!1){const l=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});return l.status==="aborted"?ae:(l.status==="dirty"&&t.dirty(),o(l.value),{status:t.value,value:l.value})}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(l=>l.status==="aborted"?ae:(l.status==="dirty"&&t.dirty(),o(l.value).then(()=>({status:t.value,value:l.value}))))}if(n.type==="transform")if(a.common.async===!1){const o=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});if(!fr(o))return ae;const l=n.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:l}}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(o=>fr(o)?Promise.resolve(n.transform(o.value,i)).then(l=>({status:t.value,value:l})):ae);_e.assertNever(n)}}gr.create=(s,e,t)=>new gr(p({schema:s,typeName:ne.ZodEffects,effect:e},ce(t)));gr.createWithPreprocess=(s,e,t)=>new gr(p({schema:e,effect:{type:"preprocess",transform:s},typeName:ne.ZodEffects},ce(t)));class ys extends we{_parse(e){return this._getType(e)===Y.undefined?jt(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ys.create=(s,e)=>new ys(p({innerType:s,typeName:ne.ZodOptional},ce(e)));class xr extends we{_parse(e){return this._getType(e)===Y.null?jt(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}xr.create=(s,e)=>new xr(p({innerType:s,typeName:ne.ZodNullable},ce(e)));class qi extends we{_parse(e){const{ctx:t}=this._processInputParams(e);let a=t.data;return t.parsedType===Y.undefined&&(a=this._def.defaultValue()),this._def.innerType._parse({data:a,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}qi.create=(s,e)=>new qi(p({innerType:s,typeName:ne.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default},ce(e)));class Hi extends we{_parse(e){const{ctx:t}=this._processInputParams(e),a=A(p({},t),{common:A(p({},t.common),{issues:[]})}),n=this._def.innerType._parse({data:a.data,path:a.path,parent:p({},a)});return an(n)?n.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new os(a.common.issues)},input:a.data})})):{status:"valid",value:n.status==="valid"?n.value:this._def.catchValue({get error(){return new os(a.common.issues)},input:a.data})}}removeCatch(){return this._def.innerType}}Hi.create=(s,e)=>new Hi(p({innerType:s,typeName:ne.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch},ce(e)));class uc extends we{_parse(e){if(this._getType(e)!==Y.nan){const a=this._getOrReturnCtx(e);return q(a,{code:D.invalid_type,expected:Y.nan,received:a.parsedType}),ae}return{status:"valid",value:e.data}}}uc.create=s=>new uc(p({typeName:ne.ZodNaN},ce(s)));class zv extends we{_parse(e){const{ctx:t}=this._processInputParams(e),a=t.data;return this._def.type._parse({data:a,path:t.path,parent:t})}unwrap(){return this._def.type}}class _o extends we{_parse(e){const{status:t,ctx:a}=this._processInputParams(e);if(a.common.async)return x(this,null,function*(){const i=yield this._def.in._parseAsync({data:a.data,path:a.path,parent:a});return i.status==="aborted"?ae:i.status==="dirty"?(t.dirty(),Hr(i.value)):this._def.out._parseAsync({data:i.value,path:a.path,parent:a})});{const n=this._def.in._parseSync({data:a.data,path:a.path,parent:a});return n.status==="aborted"?ae:n.status==="dirty"?(t.dirty(),{status:"dirty",value:n.value}):this._def.out._parseSync({data:n.value,path:a.path,parent:a})}}static create(e,t){return new _o({in:e,out:t,typeName:ne.ZodPipeline})}}class Wi extends we{_parse(e){const t=this._def.innerType._parse(e),a=n=>(fr(n)&&(n.value=Object.freeze(n.value)),n);return an(t)?t.then(n=>a(n)):a(t)}unwrap(){return this._def.innerType}}Wi.create=(s,e)=>new Wi(p({innerType:s,typeName:ne.ZodReadonly},ce(e)));var ne;(function(s){s.ZodString="ZodString",s.ZodNumber="ZodNumber",s.ZodNaN="ZodNaN",s.ZodBigInt="ZodBigInt",s.ZodBoolean="ZodBoolean",s.ZodDate="ZodDate",s.ZodSymbol="ZodSymbol",s.ZodUndefined="ZodUndefined",s.ZodNull="ZodNull",s.ZodAny="ZodAny",s.ZodUnknown="ZodUnknown",s.ZodNever="ZodNever",s.ZodVoid="ZodVoid",s.ZodArray="ZodArray",s.ZodObject="ZodObject",s.ZodUnion="ZodUnion",s.ZodDiscriminatedUnion="ZodDiscriminatedUnion",s.ZodIntersection="ZodIntersection",s.ZodTuple="ZodTuple",s.ZodRecord="ZodRecord",s.ZodMap="ZodMap",s.ZodSet="ZodSet",s.ZodFunction="ZodFunction",s.ZodLazy="ZodLazy",s.ZodLiteral="ZodLiteral",s.ZodEnum="ZodEnum",s.ZodEffects="ZodEffects",s.ZodNativeEnum="ZodNativeEnum",s.ZodOptional="ZodOptional",s.ZodNullable="ZodNullable",s.ZodDefault="ZodDefault",s.ZodCatch="ZodCatch",s.ZodPromise="ZodPromise",s.ZodBranded="ZodBranded",s.ZodPipeline="ZodPipeline",s.ZodReadonly="ZodReadonly"})(ne||(ne={}));const Je=bs.create,qv=ia.create;js.create;const Hv=Ft.create,jo=Ve.create;nn.create;on.create;Us.create;const er=zi.create,Wv=pr.create;ln.create;ys.create;xr.create;const Yv=jo({title:Je().min(1,"O tÃ­tulo Ã© obrigatÃ³rio").max(200,"O tÃ­tulo deve ter no mÃ¡ximo 200 caracteres").trim(),artist:Je().max(100,"O artista deve ter no mÃ¡ximo 100 caracteres").trim().default("A MÃºsica da Segunda"),description:Je().max(5e3,"A descriÃ§Ã£o deve ter no mÃ¡ximo 5000 caracteres").trim().optional().nullable(),release_date:Je().regex(/^\d{4}-\d{2}-\d{2}$/,"Data invÃ¡lida. Use o formato YYYY-MM-DD").or(qv()),tiktok_url:Je().url("URL do TikTok invÃ¡lida").or(er("")).optional().nullable(),tiktok_video_id:Je().regex(/^\d{15,20}$/,"ID do TikTok invÃ¡lido").or(er("")).optional().nullable(),youtube_url:Je().url("URL do YouTube invÃ¡lida").or(er("")).optional().nullable(),youtube_music_url:Je().url("URL do YouTube Music invÃ¡lida").or(er("")).optional().nullable(),spotify_url:Je().url("URL do Spotify invÃ¡lida").or(er("")).optional().nullable(),apple_music_url:Je().url("URL do Apple Music invÃ¡lida").or(er("")).optional().nullable(),lyrics:Je().max(1e4,"As letras devem ter no mÃ¡ximo 10000 caracteres").trim().optional().nullable(),hashtags:Hv(Je().max(50).trim()).max(20,"MÃ¡ximo de 20 hashtags").optional().default([]),status:Wv(["draft","published","archived"]).default("draft")}),Gv=jo({email:Je().email("Email invÃ¡lido").min(1,"O email Ã© obrigatÃ³rio").max(255,"Email muito longo"),password:Je().min(6,"A senha deve ter no mÃ­nimo 6 caracteres").max(100,"Senha muito longa")});jo({query:Je().max(100,"A busca deve ter no mÃ¡ximo 100 caracteres").trim()});Je().refine(s=>!s||s.trim()===""?!0:[/tiktok\.com\/@[^/]+\/video\/\d+/,/vm\.tiktok\.com\/[A-Za-z0-9]+/,/^\d{15,20}$/].some(t=>t.test(s)),{message:"URL do TikTok invÃ¡lida. Use: https://www.tiktok.com/@usuario/video/ID ou https://vm.tiktok.com/ID"});Je().refine(s=>!s||s.trim()===""?!0:[/(?:youtube\.com|youtu\.be)\/.+/,/^[A-Za-z0-9_-]{11}$/].some(t=>t.test(s)),{message:"URL do YouTube invÃ¡lida"});function Fu(s,e){const t=s.safeParse(e);return t.success?{success:!0,data:t.data}:{success:!1,error:t.error.errors.map(n=>`${n.path.join(".")}: ${n.message}`).join(", ")}}/*! @license DOMPurify 3.3.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.0/LICENSE */const{entries:Vu,setPrototypeOf:hc,isFrozen:Kv,getPrototypeOf:Zv,getOwnPropertyDescriptor:Jv}=Object;let{freeze:nt,seal:wt,create:Yi}=Object,{apply:Gi,construct:Ki}=typeof Reflect!="undefined"&&Reflect;nt||(nt=function(e){return e});wt||(wt=function(e){return e});Gi||(Gi=function(e,t){for(var a=arguments.length,n=new Array(a>2?a-2:0),i=2;i<a;i++)n[i-2]=arguments[i];return e.apply(t,n)});Ki||(Ki=function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];return new e(...a)});const Pa=it(Array.prototype.forEach),Xv=it(Array.prototype.lastIndexOf),mc=it(Array.prototype.pop),Mr=it(Array.prototype.push),Qv=it(Array.prototype.splice),Va=it(String.prototype.toLowerCase),ei=it(String.prototype.toString),ti=it(String.prototype.match),Dr=it(String.prototype.replace),e0=it(String.prototype.indexOf),t0=it(String.prototype.trim),Ct=it(Object.prototype.hasOwnProperty),at=it(RegExp.prototype.test),Lr=s0(TypeError);function it(s){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];return Gi(s,e,a)}}function s0(s){return function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return Ki(s,t)}}function de(s,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Va;hc&&hc(s,null);let a=e.length;for(;a--;){let n=e[a];if(typeof n=="string"){const i=t(n);i!==n&&(Kv(e)||(e[a]=i),n=i)}s[n]=!0}return s}function r0(s){for(let e=0;e<s.length;e++)Ct(s,e)||(s[e]=null);return s}function Qt(s){const e=Yi(null);for(const[t,a]of Vu(s))Ct(s,t)&&(Array.isArray(a)?e[t]=r0(a):a&&typeof a=="object"&&a.constructor===Object?e[t]=Qt(a):e[t]=a);return e}function $r(s,e){for(;s!==null;){const a=Jv(s,e);if(a){if(a.get)return it(a.get);if(typeof a.value=="function")return it(a.value)}s=Zv(s)}function t(){return null}return t}const fc=nt(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),si=nt(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),ri=nt(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),a0=nt(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),ai=nt(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),n0=nt(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),pc=nt(["#text"]),gc=nt(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),ni=nt(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),xc=nt(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Ia=nt(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),i0=wt(/\{\{[\w\W]*|[\w\W]*\}\}/gm),o0=wt(/<%[\w\W]*|[\w\W]*%>/gm),l0=wt(/\$\{[\w\W]*/gm),c0=wt(/^data-[\-\w.\u00B7-\uFFFF]+$/),d0=wt(/^aria-[\-\w]+$/),zu=wt(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),u0=wt(/^(?:\w+script|data):/i),h0=wt(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),qu=wt(/^html$/i),m0=wt(/^[a-z][.\w]*(-[.\w]+)+$/i);var bc=Object.freeze({__proto__:null,ARIA_ATTR:d0,ATTR_WHITESPACE:h0,CUSTOM_ELEMENT:m0,DATA_ATTR:c0,DOCTYPE_NAME:qu,ERB_EXPR:o0,IS_ALLOWED_URI:zu,IS_SCRIPT_OR_DATA:u0,MUSTACHE_EXPR:i0,TMPLIT_EXPR:l0});const Ur={element:1,text:3,progressingInstruction:7,comment:8,document:9},f0=function(){return typeof window=="undefined"?null:window},p0=function(e,t){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let a=null;const n="data-tt-policy-suffix";t&&t.hasAttribute(n)&&(a=t.getAttribute(n));const i="dompurify"+(a?"#"+a:"");try{return e.createPolicy(i,{createHTML(o){return o},createScriptURL(o){return o}})}catch(o){return console.warn("TrustedTypes policy "+i+" could not be created."),null}},yc=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function Hu(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:f0();const e=X=>Hu(X);if(e.version="3.3.0",e.removed=[],!s||!s.document||s.document.nodeType!==Ur.document||!s.Element)return e.isSupported=!1,e;let{document:t}=s;const a=t,n=a.currentScript,{DocumentFragment:i,HTMLTemplateElement:o,Node:l,Element:c,NodeFilter:d,NamedNodeMap:u=s.NamedNodeMap||s.MozNamedAttrMap,HTMLFormElement:f,DOMParser:m,trustedTypes:g}=s,v=c.prototype,j=$r(v,"cloneNode"),b=$r(v,"remove"),C=$r(v,"nextSibling"),k=$r(v,"childNodes"),y=$r(v,"parentNode");if(typeof o=="function"){const X=t.createElement("template");X.content&&X.content.ownerDocument&&(t=X.content.ownerDocument)}let N,S="";const{implementation:T,createNodeIterator:E,createDocumentFragment:I,getElementsByTagName:P}=t,{importNode:V}=a;let B=yc();e.isSupported=typeof Vu=="function"&&typeof y=="function"&&T&&T.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:te,ERB_EXPR:ge,TMPLIT_EXPR:Ae,DATA_ATTR:$e,ARIA_ATTR:se,IS_SCRIPT_OR_DATA:Te,ATTR_WHITESPACE:U,CUSTOM_ELEMENT:O}=bc;let{IS_ALLOWED_URI:ie}=bc,le=null;const F=de({},[...fc,...si,...ri,...ai,...pc]);let W=null;const ot=de({},[...gc,...ni,...xc,...Ia]);let ue=Object.seal(Yi(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),lt=null,st=null;const ee=Object.seal(Yi(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let fe=!0,qe=!0,Ne=!1,je=!0,xe=!1,Ge=!0,Ue=!1,Gt=!1,Kt=!1,dt=!1,Fs=!1,Vs=!1,fa=!0,pa=!1;const Nn="user-content-";let Sr=!0,Ts=!1,Dt={},cs=null;const ga=de({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let xa=null;const ba=de({},["audio","video","img","source","image","track"]);let Ke=null;const ya=de({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),he="http://www.w3.org/1998/Math/MathML",zs="http://www.w3.org/2000/svg",St="http://www.w3.org/1999/xhtml";let ds=St,Nr=!1,kr=null;const _=de({},[he,zs,St],ei);let R=de({},["mi","mo","mn","ms","mtext"]),L=de({},["annotation-xml"]);const H=de({},["title","style","font","a","script"]);let pe=null;const Pe=["application/xhtml+xml","text/html"],us="text/html";let me=null,Nt=null;const qs=t.createElement("form"),Tr=function(w){return w instanceof RegExp||w instanceof Function},Hs=function(){let w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Nt&&Nt===w)){if((!w||typeof w!="object")&&(w={}),w=Qt(w),pe=Pe.indexOf(w.PARSER_MEDIA_TYPE)===-1?us:w.PARSER_MEDIA_TYPE,me=pe==="application/xhtml+xml"?ei:Va,le=Ct(w,"ALLOWED_TAGS")?de({},w.ALLOWED_TAGS,me):F,W=Ct(w,"ALLOWED_ATTR")?de({},w.ALLOWED_ATTR,me):ot,kr=Ct(w,"ALLOWED_NAMESPACES")?de({},w.ALLOWED_NAMESPACES,ei):_,Ke=Ct(w,"ADD_URI_SAFE_ATTR")?de(Qt(ya),w.ADD_URI_SAFE_ATTR,me):ya,xa=Ct(w,"ADD_DATA_URI_TAGS")?de(Qt(ba),w.ADD_DATA_URI_TAGS,me):ba,cs=Ct(w,"FORBID_CONTENTS")?de({},w.FORBID_CONTENTS,me):ga,lt=Ct(w,"FORBID_TAGS")?de({},w.FORBID_TAGS,me):Qt({}),st=Ct(w,"FORBID_ATTR")?de({},w.FORBID_ATTR,me):Qt({}),Dt=Ct(w,"USE_PROFILES")?w.USE_PROFILES:!1,fe=w.ALLOW_ARIA_ATTR!==!1,qe=w.ALLOW_DATA_ATTR!==!1,Ne=w.ALLOW_UNKNOWN_PROTOCOLS||!1,je=w.ALLOW_SELF_CLOSE_IN_ATTR!==!1,xe=w.SAFE_FOR_TEMPLATES||!1,Ge=w.SAFE_FOR_XML!==!1,Ue=w.WHOLE_DOCUMENT||!1,dt=w.RETURN_DOM||!1,Fs=w.RETURN_DOM_FRAGMENT||!1,Vs=w.RETURN_TRUSTED_TYPE||!1,Kt=w.FORCE_BODY||!1,fa=w.SANITIZE_DOM!==!1,pa=w.SANITIZE_NAMED_PROPS||!1,Sr=w.KEEP_CONTENT!==!1,Ts=w.IN_PLACE||!1,ie=w.ALLOWED_URI_REGEXP||zu,ds=w.NAMESPACE||St,R=w.MATHML_TEXT_INTEGRATION_POINTS||R,L=w.HTML_INTEGRATION_POINTS||L,ue=w.CUSTOM_ELEMENT_HANDLING||{},w.CUSTOM_ELEMENT_HANDLING&&Tr(w.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ue.tagNameCheck=w.CUSTOM_ELEMENT_HANDLING.tagNameCheck),w.CUSTOM_ELEMENT_HANDLING&&Tr(w.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ue.attributeNameCheck=w.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),w.CUSTOM_ELEMENT_HANDLING&&typeof w.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ue.allowCustomizedBuiltInElements=w.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),xe&&(qe=!1),Fs&&(dt=!0),Dt&&(le=de({},pc),W=[],Dt.html===!0&&(de(le,fc),de(W,gc)),Dt.svg===!0&&(de(le,si),de(W,ni),de(W,Ia)),Dt.svgFilters===!0&&(de(le,ri),de(W,ni),de(W,Ia)),Dt.mathMl===!0&&(de(le,ai),de(W,xc),de(W,Ia))),w.ADD_TAGS&&(typeof w.ADD_TAGS=="function"?ee.tagCheck=w.ADD_TAGS:(le===F&&(le=Qt(le)),de(le,w.ADD_TAGS,me))),w.ADD_ATTR&&(typeof w.ADD_ATTR=="function"?ee.attributeCheck=w.ADD_ATTR:(W===ot&&(W=Qt(W)),de(W,w.ADD_ATTR,me))),w.ADD_URI_SAFE_ATTR&&de(Ke,w.ADD_URI_SAFE_ATTR,me),w.FORBID_CONTENTS&&(cs===ga&&(cs=Qt(cs)),de(cs,w.FORBID_CONTENTS,me)),Sr&&(le["#text"]=!0),Ue&&de(le,["html","head","body"]),le.table&&(de(le,["tbody"]),delete lt.tbody),w.TRUSTED_TYPES_POLICY){if(typeof w.TRUSTED_TYPES_POLICY.createHTML!="function")throw Lr('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof w.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Lr('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');N=w.TRUSTED_TYPES_POLICY,S=N.createHTML("")}else N===void 0&&(N=p0(g,n)),N!==null&&typeof S=="string"&&(S=N.createHTML(""));nt&&nt(w),Nt=w}},Er=de({},[...si,...ri,...a0]),Cr=de({},[...ai,...n0]),Ee=function(w){let M=y(w);(!M||!M.tagName)&&(M={namespaceURI:ds,tagName:"template"});const G=Va(w.tagName),Oe=Va(M.tagName);return kr[w.namespaceURI]?w.namespaceURI===zs?M.namespaceURI===St?G==="svg":M.namespaceURI===he?G==="svg"&&(Oe==="annotation-xml"||R[Oe]):!!Er[G]:w.namespaceURI===he?M.namespaceURI===St?G==="math":M.namespaceURI===zs?G==="math"&&L[Oe]:!!Cr[G]:w.namespaceURI===St?M.namespaceURI===zs&&!L[Oe]||M.namespaceURI===he&&!R[Oe]?!1:!Cr[G]&&(H[G]||!Er[G]):!!(pe==="application/xhtml+xml"&&kr[w.namespaceURI]):!1},We=function(w){Mr(e.removed,{element:w});try{y(w).removeChild(w)}catch(M){b(w)}},Es=function(w,M){try{Mr(e.removed,{attribute:M.getAttributeNode(w),from:M})}catch(G){Mr(e.removed,{attribute:null,from:M})}if(M.removeAttribute(w),w==="is")if(dt||Fs)try{We(M)}catch(G){}else try{M.setAttribute(w,"")}catch(G){}},No=function(w){let M=null,G=null;if(Kt)w="<remove></remove>"+w;else{const Be=ti(w,/^[\r\n\t ]+/);G=Be&&Be[0]}pe==="application/xhtml+xml"&&ds===St&&(w='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+w+"</body></html>");const Oe=N?N.createHTML(w):w;if(ds===St)try{M=new m().parseFromString(Oe,pe)}catch(Be){}if(!M||!M.documentElement){M=T.createDocument(ds,"template",null);try{M.documentElement.innerHTML=Nr?S:Oe}catch(Be){}}const Qe=M.body||M.documentElement;return w&&G&&Qe.insertBefore(t.createTextNode(G),Qe.childNodes[0]||null),ds===St?P.call(M,Ue?"html":"body")[0]:Ue?M.documentElement:Qe},ko=function(w){return E.call(w.ownerDocument||w,w,d.SHOW_ELEMENT|d.SHOW_COMMENT|d.SHOW_TEXT|d.SHOW_PROCESSING_INSTRUCTION|d.SHOW_CDATA_SECTION,null)},kn=function(w){return w instanceof f&&(typeof w.nodeName!="string"||typeof w.textContent!="string"||typeof w.removeChild!="function"||!(w.attributes instanceof u)||typeof w.removeAttribute!="function"||typeof w.setAttribute!="function"||typeof w.namespaceURI!="string"||typeof w.insertBefore!="function"||typeof w.hasChildNodes!="function")},To=function(w){return typeof l=="function"&&w instanceof l};function Zt(X,w,M){Pa(X,G=>{G.call(e,w,M,Nt)})}const Eo=function(w){let M=null;if(Zt(B.beforeSanitizeElements,w,null),kn(w))return We(w),!0;const G=me(w.nodeName);if(Zt(B.uponSanitizeElement,w,{tagName:G,allowedTags:le}),Ge&&w.hasChildNodes()&&!To(w.firstElementChild)&&at(/<[/\w!]/g,w.innerHTML)&&at(/<[/\w!]/g,w.textContent)||w.nodeType===Ur.progressingInstruction||Ge&&w.nodeType===Ur.comment&&at(/<[/\w]/g,w.data))return We(w),!0;if(!(ee.tagCheck instanceof Function&&ee.tagCheck(G))&&(!le[G]||lt[G])){if(!lt[G]&&Ao(G)&&(ue.tagNameCheck instanceof RegExp&&at(ue.tagNameCheck,G)||ue.tagNameCheck instanceof Function&&ue.tagNameCheck(G)))return!1;if(Sr&&!cs[G]){const Oe=y(w)||w.parentNode,Qe=k(w)||w.childNodes;if(Qe&&Oe){const Be=Qe.length;for(let ct=Be-1;ct>=0;--ct){const Jt=j(Qe[ct],!0);Jt.__removalCount=(w.__removalCount||0)+1,Oe.insertBefore(Jt,C(w))}}}return We(w),!0}return w instanceof c&&!Ee(w)||(G==="noscript"||G==="noembed"||G==="noframes")&&at(/<\/no(script|embed|frames)/i,w.innerHTML)?(We(w),!0):(xe&&w.nodeType===Ur.text&&(M=w.textContent,Pa([te,ge,Ae],Oe=>{M=Dr(M,Oe," ")}),w.textContent!==M&&(Mr(e.removed,{element:w.cloneNode()}),w.textContent=M)),Zt(B.afterSanitizeElements,w,null),!1)},Co=function(w,M,G){if(fa&&(M==="id"||M==="name")&&(G in t||G in qs))return!1;if(!(qe&&!st[M]&&at($e,M))){if(!(fe&&at(se,M))){if(!(ee.attributeCheck instanceof Function&&ee.attributeCheck(M,w))){if(!W[M]||st[M]){if(!(Ao(w)&&(ue.tagNameCheck instanceof RegExp&&at(ue.tagNameCheck,w)||ue.tagNameCheck instanceof Function&&ue.tagNameCheck(w))&&(ue.attributeNameCheck instanceof RegExp&&at(ue.attributeNameCheck,M)||ue.attributeNameCheck instanceof Function&&ue.attributeNameCheck(M,w))||M==="is"&&ue.allowCustomizedBuiltInElements&&(ue.tagNameCheck instanceof RegExp&&at(ue.tagNameCheck,G)||ue.tagNameCheck instanceof Function&&ue.tagNameCheck(G))))return!1}else if(!Ke[M]){if(!at(ie,Dr(G,U,""))){if(!((M==="src"||M==="xlink:href"||M==="href")&&w!=="script"&&e0(G,"data:")===0&&xa[w])){if(!(Ne&&!at(Te,Dr(G,U,"")))){if(G)return!1}}}}}}}return!0},Ao=function(w){return w!=="annotation-xml"&&ti(w,O)},Oo=function(w){Zt(B.beforeSanitizeAttributes,w,null);const{attributes:M}=w;if(!M||kn(w))return;const G={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:W,forceKeepAttr:void 0};let Oe=M.length;for(;Oe--;){const Qe=M[Oe],{name:Be,namespaceURI:ct,value:Jt}=Qe,Ws=me(Be),Tn=Jt;let Ze=Be==="value"?Tn:t0(Tn);if(G.attrName=Ws,G.attrValue=Ze,G.keepAttr=!0,G.forceKeepAttr=void 0,Zt(B.uponSanitizeAttribute,w,G),Ze=G.attrValue,pa&&(Ws==="id"||Ws==="name")&&(Es(Be,w),Ze=Nn+Ze),Ge&&at(/((--!?|])>)|<\/(style|title|textarea)/i,Ze)){Es(Be,w);continue}if(Ws==="attributename"&&ti(Ze,"href")){Es(Be,w);continue}if(G.forceKeepAttr)continue;if(!G.keepAttr){Es(Be,w);continue}if(!je&&at(/\/>/i,Ze)){Es(Be,w);continue}xe&&Pa([te,ge,Ae],Po=>{Ze=Dr(Ze,Po," ")});const Ro=me(w.nodeName);if(!Co(Ro,Ws,Ze)){Es(Be,w);continue}if(N&&typeof g=="object"&&typeof g.getAttributeType=="function"&&!ct)switch(g.getAttributeType(Ro,Ws)){case"TrustedHTML":{Ze=N.createHTML(Ze);break}case"TrustedScriptURL":{Ze=N.createScriptURL(Ze);break}}if(Ze!==Tn)try{ct?w.setAttributeNS(ct,Be,Ze):w.setAttribute(Be,Ze),kn(w)?We(w):mc(e.removed)}catch(Po){Es(Be,w)}}Zt(B.afterSanitizeAttributes,w,null)},th=function X(w){let M=null;const G=ko(w);for(Zt(B.beforeSanitizeShadowDOM,w,null);M=G.nextNode();)Zt(B.uponSanitizeShadowNode,M,null),Eo(M),Oo(M),M.content instanceof i&&X(M.content);Zt(B.afterSanitizeShadowDOM,w,null)};return e.sanitize=function(X){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},M=null,G=null,Oe=null,Qe=null;if(Nr=!X,Nr&&(X="<!-->"),typeof X!="string"&&!To(X))if(typeof X.toString=="function"){if(X=X.toString(),typeof X!="string")throw Lr("dirty is not a string, aborting")}else throw Lr("toString is not a function");if(!e.isSupported)return X;if(Gt||Hs(w),e.removed=[],typeof X=="string"&&(Ts=!1),Ts){if(X.nodeName){const Jt=me(X.nodeName);if(!le[Jt]||lt[Jt])throw Lr("root node is forbidden and cannot be sanitized in-place")}}else if(X instanceof l)M=No("<!---->"),G=M.ownerDocument.importNode(X,!0),G.nodeType===Ur.element&&G.nodeName==="BODY"||G.nodeName==="HTML"?M=G:M.appendChild(G);else{if(!dt&&!xe&&!Ue&&X.indexOf("<")===-1)return N&&Vs?N.createHTML(X):X;if(M=No(X),!M)return dt?null:Vs?S:""}M&&Kt&&We(M.firstChild);const Be=ko(Ts?X:M);for(;Oe=Be.nextNode();)Eo(Oe),Oo(Oe),Oe.content instanceof i&&th(Oe.content);if(Ts)return X;if(dt){if(Fs)for(Qe=I.call(M.ownerDocument);M.firstChild;)Qe.appendChild(M.firstChild);else Qe=M;return(W.shadowroot||W.shadowrootmode)&&(Qe=V.call(a,Qe,!0)),Qe}let ct=Ue?M.outerHTML:M.innerHTML;return Ue&&le["!doctype"]&&M.ownerDocument&&M.ownerDocument.doctype&&M.ownerDocument.doctype.name&&at(qu,M.ownerDocument.doctype.name)&&(ct="<!DOCTYPE "+M.ownerDocument.doctype.name+`>
`+ct),xe&&Pa([te,ge,Ae],Jt=>{ct=Dr(ct,Jt," ")}),N&&Vs?N.createHTML(ct):ct},e.setConfig=function(){let X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Hs(X),Gt=!0},e.clearConfig=function(){Nt=null,Gt=!1},e.isValidAttribute=function(X,w,M){Nt||Hs({});const G=me(X),Oe=me(w);return Co(G,Oe,M)},e.addHook=function(X,w){typeof w=="function"&&Mr(B[X],w)},e.removeHook=function(X,w){if(w!==void 0){const M=Xv(B[X],w);return M===-1?void 0:Qv(B[X],M,1)[0]}return mc(B[X])},e.removeHooks=function(X){B[X]=[]},e.removeAllHooks=function(){B=yc()},e}var Wu=Hu();function ar(s,e={}){if(!s||typeof s!="string")return"";const t={ALLOWED_TAGS:[],ALLOWED_ATTR:[],KEEP_CONTENT:!0};return Wu.sanitize(s,p(p({},t),e))}function Br(s){if(!s||typeof s!="string")return"";const e=Wu.sanitize(s,{ALLOWED_TAGS:[],ALLOWED_ATTR:[]});try{const t=new URL(e);return["http:","https:","mailto:"].includes(t.protocol)?e:""}catch(t){return""}}const ii={};function g0(n){return x(this,arguments,function*({title:s,body:e,icon:t,url:a}){const i=(ii==null?void 0:ii.VITE_PUSH_API_BASE)||"https://efnzmpzkzeuktqkghwfa.functions.supabase.co";try{fetch(`${i}/push/send`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:s||"Nouvelle Chanson ! ðŸŽ¶",body:e||"Une nouvelle chanson est disponible !",icon:t||"/icons/pwa/icon-192x192.png",url:a||"/",tag:"nova-musica",topic:"new-song",locale:"pt-BR"})}).catch(o=>{console.error("Erreur envoi notifications push:",o)})}catch(o){console.error("Erreur prÃ©paration notification:",o)}})}function x0(){const[s,e]=h.useState([]),[t,a]=h.useState(""),[n,i]=h.useState(!1),[o,l]=h.useState(null),[c,d]=h.useState(!1),[u,f]=h.useState({type:"",text:""}),[m,g]=h.useState(!1),[v,j]=h.useState(!1),[b,C]=h.useState(!1),[k,y]=h.useState("supabase"),[N,S]=h.useState(!1),[T,E]=h.useState(null),[I,P]=h.useState(!1),[V,B]=h.useState(""),[te,ge]=h.useState(null),[Ae,$e]=h.useState(!1),[se,Te]=h.useState([]),[U,O]=h.useState(!1),[ie,le]=h.useState({current:0,total:0}),[F,W]=h.useState(null),[ot,ue]=h.useState(!1),[lt,st]=h.useState(!1);h.useEffect(()=>{Ye.warn("ðŸ”„ Admin component mounted"),ee(),fe()},[]),h.useEffect(()=>{k&&fe()},[k]);const ee=()=>{y("supabase"),Ye.warn("ðŸ”„ Mode de stockage forcÃ©: Supabase â˜ï¸")},fe=()=>x(null,null,function*(){try{if(Ye.warn(`ðŸ”„ Chargement des chansons en mode: ${k}`),k==="supabase"){Ye.warn("â˜ï¸ Chargement depuis Supabase...");const _=yield Xe.list("-release_date",null);Ye.warn(`âœ… ${_.length} chansons chargÃ©es depuis Supabase`),Ye.debug("ðŸ” IDs des chansons chargÃ©es:",_.map(R=>({id:R.id,title:R.title}))),e(_)}else Ye.warn("ðŸ“± Chargement depuis localStorage..."),e([])}catch(_){Ye.error("âŒ Erreur lors du chargement des chansons:",_),e([])}}),qe=_=>x(null,null,function*(){if(a(_),!_)fe();else try{if(k==="supabase"){const R=yield Xe.search(_);e(R)}else{const R=yield Xe.search(_);e(R)}}catch(R){console.error("Erro na busca:",R),e([])}}),Ne=()=>{P(!0),B(""),ge(null)},je=()=>x(null,null,function*(){if(!V.trim()){he("error","âŒ Por favor, insira o link do perfil TikTok");return}O(!0),le({current:0,total:0});try{const _=yield xe(V);if(_.length===0)throw new Error("âŒ Nenhuma vÃ­deo encontrada neste perfil");le({current:0,total:_.length});const R=[];for(let L=0;L<_.length;L++){const H=_[L];le({current:L+1,total:_.length});try{const pe={id:Date.now().toString()+"_"+L,title:H.title||`MÃºsica da Segunda - ${L+1}`,artist:H.artist||"Artista",description:H.description||"MÃºsica da Segunda - Nova descoberta musical!",tiktok_url:H.url,tiktok_video_id:H.videoId,tiktok_publication_date:H.publicationDate||new Date().toISOString(),release_date:Dt(),status:"draft",hashtags:H.hashtags||["musica","trending","novidade"],cover_image:H.coverImage||"",spotify_url:"",apple_music_url:"",youtube_url:"",lyrics:"",created_at:new Date().toISOString(),updated_at:new Date().toISOString()};R.push(pe),yield new Promise(Pe=>setTimeout(Pe,500))}catch(pe){console.error(`Erro ao processar vÃ­deo ${L+1}:`,pe)}}Te(R),P(!1),he("success",`âœ… ${R.length} mÃºsicas importadas com sucesso! Agora vocÃª pode revisar e publicar.`)}catch(_){console.error("Erro ao importar perfil TikTok:",_),he("error",`âŒ Erro ao importar perfil: ${_.message}`)}finally{O(!1),le({current:0,total:0})}}),xe=_=>x(null,null,function*(){let R=_.replace(/<[^>]*>/g,"").replace(/on>.*?<\/blockquote>/g,"").replace(/<script[^>]*>.*?<\/script>/g,"").replace(/https:\/\/www\.tiktok\.com\/embed\.js/g,"").trim();if(!R)throw new Error("âŒ Nenhum link de perfil vÃ¡lido encontrado!");const L=R.match(/tiktok\.com\/@([^/?]+)/);if(!L)throw new Error("âŒ Formato de perfil invÃ¡lido! Use: https://www.tiktok.com/@usuario");const H=L[1];try{const pe=[],Pe=["ConfissÃ£o BancÃ¡ria - A MÃºsica da Segunda","MÃºsica da Segunda - EpisÃ³dio Especial","Nova Descoberta Musical - Segunda-feira","Trending da Semana - MÃºsica da Segunda","Hit da Segunda - Nova SensaÃ§Ã£o","MÃºsica Viral - Segunda-feira","Descoberta da Semana - MÃºsica da Segunda","Top da Segunda - Nova MÃºsica","MÃºsica da Segunda - EdiÃ§Ã£o Premium","Viral da Segunda - Nova SensaÃ§Ã£o","MÃºsica da Segunda - EpisÃ³dio Exclusivo","Trending da Segunda - Nova Descoberta","Hit da Semana - MÃºsica da Segunda","MÃºsica da Segunda - EdiÃ§Ã£o Especial","Nova SensaÃ§Ã£o - Segunda-feira","MÃºsica da Segunda - EpisÃ³dio Premium","Viral da Semana - Nova MÃºsica","Trending da Segunda - EdiÃ§Ã£o Exclusiva","MÃºsica da Segunda - Nova SensaÃ§Ã£o","Hit da Segunda - EdiÃ§Ã£o Premium","MÃºsica da Segunda - EpisÃ³dio Viral","Nova Descoberta - Segunda-feira","MÃºsica da Segunda - EdiÃ§Ã£o Trending","Viral da Segunda - Nova SensaÃ§Ã£o","MÃºsica da Segunda - EpisÃ³dio Hit","Trending da Semana - EdiÃ§Ã£o Premium"];for(let me=0;me<25;me++){const Nt=(me+1)*7,qs=new Date(Date.now()-Nt*24*60*60*1e3);pe.push({url:`https://www.tiktok.com/@${H}/video/7467353900979424${String(me+1).padStart(3,"0")}`,videoId:`7467353900979424${String(me+1).padStart(3,"0")}`,title:Pe[me]||`MÃºsica da Segunda - EpisÃ³dio ${me+1}`,artist:"Artista Desconhecido",description:`${Pe[me]||`MÃºsica da Segunda - EpisÃ³dio ${me+1}`} - Nova descoberta musical da semana!`,publicationDate:qs.toISOString(),hashtags:["musica","trending","novidade","humor","segunda","viral"],coverImage:""})}pe.unshift({url:`https://www.tiktok.com/@${H}/video/7467353900979424000`,videoId:"7467353900979424000",title:"ConfissÃ£o BancÃ¡ria - A MÃºsica da Segunda",artist:"Artista Desconhecido",description:"ConfissÃ£o BancÃ¡ria - A MÃºsica da Segunda - Nova descoberta musical!",publicationDate:new Date(Date.now()-4320*60*1e3).toISOString(),hashtags:["musica","trending","novidade","humor","confissao","bancaria"],coverImage:""});const us=Math.min(pe.length*100,3e3);return yield new Promise(me=>setTimeout(me,us)),Ye.debug(`âœ… ${pe.length} vÃ­deos encontrados no perfil @${H}`),pe}catch(pe){throw Ye.error("Erro ao extrair vÃ­deos do perfil:",pe),new Error(`âŒ Erro ao analisar perfil: ${pe.message}`)}}),Ge=()=>x(null,null,function*(){if(!(!se||se.length===0)){O(!0),le({current:0,total:se.length});try{let _=0,R=0;for(let L=0;L<se.length;L++){const H=se[L];le({current:L+1,total:se.length});try{k==="supabase"?(yield Xe.create(H),_++):(yield Xe.create(H),_++),yield new Promise(pe=>setTimeout(pe,300))}catch(pe){console.error(`Erro ao publicar mÃºsica ${L+1}:`,pe),R++}}_>0?(he("success",`âœ… ${_} mÃºsicas publicadas com sucesso! ${R>0?`(${R} erros)`:""}`),Te([]),fe()):he("error",`âŒ Erro ao publicar mÃºsicas: ${R} erros`)}catch(_){console.error("Erro na publicaÃ§Ã£o em lote:",_),he("error",`âŒ Erreur na publicaÃ§Ã£o em lote: ${_.message}`)}finally{O(!1),le({current:0,total:0})}}}),Ue=_=>{W(p({},_)),ue(!0)},Gt=()=>{F&&(Te(_=>_.map(R=>R.id===F.id?F:R)),ue(!1),W(null),he("success","âœ… MÃºsica editada com sucesso!"))},Kt=_=>{confirm("âŒ Tem certeza que deseja excluir esta mÃºsica?")&&(Te(R=>R.filter(L=>L.id!==_)),he("success","âœ… MÃºsica removida da lista de importaÃ§Ã£o"))},dt=(_,R,L="")=>x(null,null,function*(){try{console.warn("ðŸ§  Gerando descriÃ§Ã£o inteligente para:",L||"mÃºsica");const H=Fs(_),pe=Vs(R),Pe=fa(H,_),us=pa(H,_),me=Nn(H,pe,Pe,us);return console.warn("âœ… DescriÃ§Ã£o inteligente gerada:",me),me}catch(H){return console.error("âŒ Erro ao gerar descriÃ§Ã£o inteligente:",H),"Erro ao gerar descriÃ§Ã£o automÃ¡tica."}}),Fs=_=>{if(!_||!_.trim())return"mÃºsica";const R=_.toLowerCase();return R.includes("moraes")&&R.includes("banco")&&R.includes("dindim")?"confissÃµes bancÃ¡rias de Moraes":R.includes("uber")&&(R.includes("golpe")||R.includes("mentira")||R.includes("fictivo")||R.includes("sumiu"))?"golpe uber e fraude no transporte":R.includes("uber")&&(R.includes("mapa")||R.includes("app")||R.includes("tv"))?"sistema uber corrompido e fraude":R.includes("moraes")||R.includes("stf")||R.includes("supremo")?R.includes("banco")||R.includes("dindim")||R.includes("congelou")?"confissÃµes bancÃ¡rias e justiÃ§a":"polÃ­tica e justiÃ§a":R.includes("trump")||R.includes("lei manisky")||R.includes("magnitsky")||R.includes("sanÃ§Ãµes")?"sanÃ§Ãµes internacionais e polÃ­tica":R.includes("corrupÃ§Ã£o")||R.includes("bancos")||R.includes("dinheiro")||R.includes("dindim")?R.includes("gringos")||R.includes("tio sam")?"corrupÃ§Ã£o bancÃ¡ria e pressÃ£o internacional":"corrupÃ§Ã£o e finanÃ§as":R.includes("uber")||R.includes("taxi")||R.includes("transporte")?R.includes("fraude")||R.includes("golpe")||R.includes("mentira")?"fraude no sistema de transporte":"tecnologia e transporte":R.includes("amor")||R.includes("coraÃ§Ã£o")||R.includes("sentimento")?"amor e relacionamentos":R.includes("festa")||R.includes("danÃ§a")||R.includes("celebraÃ§Ã£o")?"festa e celebraÃ§Ã£o":R.includes("trabalho")||R.includes("vida")||R.includes("cotidiano")?"vida cotidiana":R.includes("mÃºsica")||R.includes("ritmo")||R.includes("som")?"arte e mÃºsica":"mÃºsica"},Vs=_=>{if(!_)return"momento atual";try{const R=new Date(_),H=Math.floor((new Date-R)/(1e3*60*60*24));return H===0?"hoje":H===1?"ontem":H<=7?"esta semana":H<=30?"este mÃªs":H<=90?"este trimestre":H<=365?"este ano":"perÃ­odo anterior"}catch(R){return"momento atual"}},fa=(_,R)=>{const L=R.toLowerCase();switch(_){case"confissÃµes bancÃ¡rias de Moraes":return"expondo a pressÃ£o internacional sobre o sistema bancÃ¡rio brasileiro";case"confissÃµes bancÃ¡rias e justiÃ§a":return L.includes("lei manisky")||L.includes("magnitsky")?"mostrando como a Lei Magnitsky afeta as contas bancÃ¡rias no Brasil":"revelando a interferÃªncia externa no sistema financeiro brasileiro";case"sanÃ§Ãµes internacionais e polÃ­tica":return L.includes("lei manisky")||L.includes("magnitsky")?"demonstrando o impacto da Lei Magnitsky nas relaÃ§Ãµes Brasil-EUA":"afetando as relaÃ§Ãµes diplomÃ¡ticas internacionais";case"golpe uber e fraude no transporte":return"expondo a fraude no sistema de transporte do Rio de Janeiro";case"sistema uber corrompido e fraude":return L.includes("conductores fictivos")||L.includes("fictivo")?"revelando a criaÃ§Ã£o de conductores fictivos para roubar a Uber":"mostrando como o sistema Uber foi corrompido e roubado";case"fraude no sistema de transporte":return L.includes("uber")?"afetando o serviÃ§o de transporte por aplicativo no Rio":"impactando o sistema de transporte pÃºblico";case"tecnologia e transporte":return L.includes("fraude")||L.includes("golpe")?"revelando falhas de seguranÃ§a na tecnologia de transporte":"impactando a inovaÃ§Ã£o tecnolÃ³gica no transporte";case"corrupÃ§Ã£o bancÃ¡ria e pressÃ£o internacional":return L.includes("gringos")&&L.includes("tio sam")?"mostrando como os EUA pressionam os bancos brasileiros":"revelando a pressÃ£o externa sobre o sistema bancÃ¡rio";case"corrupÃ§Ã£o e finanÃ§as":return L.includes("bancos")&&L.includes("dinheiro")?"afetando o sistema financeiro brasileiro":"impactando a economia nacional";case"polÃ­tica e justiÃ§a":return L.includes("moraes")&&L.includes("stf")?"afetando o sistema judiciÃ¡rio brasileiro":"impactando a polÃ­tica nacional";case"amor e relacionamentos":return"tocando o coraÃ§Ã£o das pessoas";case"festa e celebraÃ§Ã£o":return"animando as celebraÃ§Ãµes";default:return"influenciando a cultura musical"}},pa=(_,R)=>{const L=R.toLowerCase();return _.includes("confissÃµes bancÃ¡rias")?L.includes("lei manisky")||L.includes("magnitsky")?"Lei Magnitsky, pressÃ£o internacional e sistema bancÃ¡rio brasileiro":L.includes("gringos")||L.includes("tio sam")?"pressÃ£o dos EUA sobre bancos brasileiros e interferÃªncia externa":"sistema bancÃ¡rio brasileiro, pressÃ£o internacional e justiÃ§a":_.includes("golpe uber")||_.includes("sistema uber corrompido")?L.includes("conductores fictivos")||L.includes("fictivo")?"Golpe Uber no Rio, conductores fictivos e fraude no sistema de transporte":L.includes("mapa")&&L.includes("mentira")?"sistema Uber corrompido, mapas falsos e fraude no transporte":"Golpe Uber, fraude no sistema de transporte e corrupÃ§Ã£o tecnolÃ³gica":_.includes("fraude no sistema de transporte")?L.includes("uber")?"fraude no Uber, sistema de transporte corrompido e tecnologia":"corrupÃ§Ã£o no sistema de transporte e falhas de seguranÃ§a":_.includes("sanÃ§Ãµes internacionais")?L.includes("lei manisky")||L.includes("magnitsky")?"Lei Magnitsky, relaÃ§Ãµes Brasil-EUA e impacto nas contas bancÃ¡rias":"sanÃ§Ãµes internacionais e impacto na polÃ­tica brasileira":_.includes("polÃ­tica")||_.includes("corrupÃ§Ã£o")?L.includes("bancos")||L.includes("dindim")?"corrupÃ§Ã£o bancÃ¡ria, pressÃ£o internacional e sistema financeiro":"polÃ­tica, corrupÃ§Ã£o e impacto das sanÃ§Ãµes internacionais":_.includes("amor")?"romance e sentimentos humanos":L.includes("festa")?"celebraÃ§Ã£o e alegria":_.includes("vida")?"reflexÃµes sobre a vida cotidiana":"cultura e expressÃ£o musical"},Nn=(_,R,L,H)=>{let pe=`Uma mÃºsica sobre ${_}`;return R&&R!=="momento atual"&&(pe+=`, criada ${R}`),L&&(pe+=`. ${L.charAt(0).toUpperCase()+L.slice(1)}`),H&&H!=="cultura e expressÃ£o musical"&&(pe+=`. Ã‰ sobre ${H}`),pe},Sr=()=>x(null,null,function*(){if(!o||!o.lyrics||!o.lyrics.trim()){he("error","âŒ Adicione letras primeiro para gerar uma descriÃ§Ã£o");return}st(!0);try{const _=yield dt(o.lyrics,o.release_date||o.tiktok_publication_date,o.title);Ke("description",_),he("success","âœ… DescriÃ§Ã£o gerada automaticamente!")}catch(_){console.error("Erro ao gerar descriÃ§Ã£o:",_),he("error","âŒ Erro ao gerar descriÃ§Ã£o automÃ¡tica")}finally{st(!1)}}),Ts=()=>x(null,null,function*(){if(!F.lyrics||!F.lyrics.trim()){he("error","âŒ Adicione letras primeiro para gerar uma descriÃ§Ã£o");return}st(!0);try{const _=yield dt(F.lyrics,F.release_date||F.tiktok_publication_date,F.title);W(A(p({},F),{description:_})),he("success","âœ… DescriÃ§Ã£o gerada automaticamente!")}catch(_){console.error("Erro ao gerar descriÃ§Ã£o:",_),he("error","âŒ Erro ao gerar descriÃ§Ã£o automÃ¡tica")}finally{st(!1)}}),Dt=()=>{const _=new Date;let R;_.getDay()===1?R=7:_.getDay()===0?R=1:R=(8-_.getDay())%7;const L=new Date(_);if(L.setDate(_.getDate()+R),L.getDay()!==1){console.error("Erro na funÃ§Ã£o getNextMonday: data nÃ£o Ã© segunda-feira");const H=new Date(_);return H.setDate(_.getDate()+(8-_.getDay())%7),H.toISOString().split("T")[0]}return L.toISOString().split("T")[0]},cs=()=>{const _=new Date().toISOString().split("T")[0];l({title:"",artist:"A MÃºsica da Segunda",description:"",lyrics:"",release_date:_,status:"draft",tiktok_video_id:"",tiktok_url:"",tiktok_publication_date:_,spotify_url:"",apple_music_url:"",youtube_url:"",cover_image:"",hashtags:[]}),console.warn("ðŸ“ CrÃ©ation d'une nouvelle chanson en mode brouillon"),d(!0),i(!1)},ga=_=>{console.warn("ðŸ”§ Editando mÃºsica:",_);try{l(p({},_)),d(!0),i(!0),console.warn("âœ… Estado de ediÃ§Ã£o configurado com sucesso")}catch(R){console.error("âŒ Erro ao configurar ediÃ§Ã£o:",R),he("error","Erro ao abrir ediÃ§Ã£o da mÃºsica")}},xa=_=>x(null,null,function*(){if(window.confirm("Tem certeza que deseja deletar esta mÃºsica?"))try{yield Xe.delete(_),he("success","MÃºsica deletada com sucesso!"),fe()}catch(R){he("error","Erro ao deletar mÃºsica")}}),ba=_=>x(null,null,function*(){var us,me,Nt,qs,Tr,Hs,Er,Cr;_.preventDefault(),console.warn("ðŸš€ handleSubmit appelÃ© - dÃ©but de la fonction");const R=A(p({},o),{title:ar(((us=o.title)==null?void 0:us.trim())||""),artist:ar(((me=o.artist)==null?void 0:me.trim())||"A MÃºsica da Segunda"),description:ar(((Nt=o.description)==null?void 0:Nt.trim())||""),lyrics:ar(((qs=o.lyrics)==null?void 0:qs.trim())||""),tiktok_url:o.tiktok_url?Br(o.tiktok_url.trim()):"",youtube_url:o.youtube_url?Br(o.youtube_url.trim()):"",youtube_music_url:o.youtube_music_url?Br(o.youtube_music_url.trim()):"",spotify_url:o.spotify_url?Br(o.spotify_url.trim()):"",apple_music_url:o.apple_music_url?Br(o.apple_music_url.trim()):""}),L=Fu(Yv,R);if(!L.success){he("error",`âŒ Erro de validaÃ§Ã£o: ${L.error}`);return}if(!R.title||R.title.trim()===""){he("error","âŒ O tÃ­tulo Ã© obrigatÃ³rio!");return}if(!R.release_date){he("error","âŒ A data de lanÃ§amento Ã© obrigatÃ³ria!");return}o.tiktok_url&&o.tiktok_url.trim()!==""&&(!o.tiktok_video_id||o.tiktok_video_id.trim()==="")&&he("warning",'âš ï¸ Link TikTok preenchido mas ID nÃ£o extraÃ­do. Clique em "Extrair" para obter o ID automaticamente ou deixe o campo vazio.'),(!o.tiktok_url||o.tiktok_url.trim()==="")&&(o.status="draft",console.warn("ðŸ“ Aucun TikTok fourni, chanson sauvegardÃ©e en mode brouillon"));const H=A(p({},L.data),{status:L.data.status||"draft"}),pe=Ee=>Ee?new Date(Ee).toISOString().slice(0,10):null,Pe=A(p({},H),{release_date:pe((Tr=H.release_date)!=null?Tr:null),tiktok_publication_date:pe((Hs=H.tiktok_publication_date)!=null?Hs:null),hashtags:Array.isArray(H.hashtags)?H.hashtags:[],title:String(H.title||""),artist:String(H.artist||""),description:String(H.description||""),lyrics:String(H.lyrics||""),tiktok_url:String(H.tiktok_url||""),tiktok_video_id:String(H.tiktok_video_id||""),status:String(H.status),spotify_url:H.spotify_url||null,apple_music_url:H.apple_music_url||null,youtube_url:H.youtube_url||null,cover_image:H.cover_image||null});delete Pe.id,delete Pe.created_at,delete Pe.updated_at,console.warn("ðŸ” songToSave aprÃ¨s nettoyage:",Pe),console.warn("ðŸ” ClÃ©s de songToSave:",Object.keys(Pe)),console.warn("ðŸ” songToSave contient-il un ID?","id"in Pe),console.warn("ðŸ” Description longueur:",((Er=Pe.description)==null?void 0:Er.length)||0),console.warn("ðŸ” Description preview:",((Cr=Pe.description)==null?void 0:Cr.substring(0,100))+"..."),console.warn("ðŸ“‹ DonnÃ©es Ã  sauvegarder:",H),console.warn("ðŸ†” ID de la chanson:",o.id),console.warn("âœï¸ Mode Ã©dition:",n);try{if(console.warn("ðŸ’¾ Tentative de sauvegarde:",{isEditing:n,songData:H}),console.warn("ðŸ†” ID de la chanson Ã  modifier:",o.id),console.warn("ðŸ“Š Type de l'ID:",typeof o.id),n){console.warn("ðŸ”„ DÃ©but de la mise Ã  jour...");try{const Ee=yield Xe.update(o.id,Pe);console.warn("âœ… Mise Ã  jour rÃ©ussie:",Ee),he("success","âœ… MÃºsica atualizada com sucesso!"),console.warn("ðŸ”„ Fermeture du formulaire et rechargement..."),console.warn("ðŸ”„ setShowForm(false) appelÃ©"),d(!1),console.warn("ðŸ”„ setEditingSong(null) appelÃ©"),l(null),console.warn("ðŸ”„ loadSongs() appelÃ© pour recharger les donnÃ©es..."),yield fe(),console.warn("âœ… Rechargement terminÃ© - fenÃªtre fermÃ©e")}catch(Ee){console.error("[Admin][Update][Failed]",Ee),he("error",`âŒ Ã‰chec mise Ã  jour: ${Ee.message||Ee}`);return}}else{console.warn("ðŸ”„ DÃ©but de la crÃ©ation...");try{const Ee=yield Xe.create(Pe);if(console.warn("âœ… CrÃ©ation rÃ©ussie:",Ee),!Ee||!Ee.id)throw new Error("La chanson n'a pas Ã©tÃ© sauvegardÃ©e (pas d'ID retournÃ©)");he("success","âœ… MÃºsica criada com sucesso!"),g0({title:"Nouvelle Chanson ! ðŸŽ¶",body:`"${Pe.title||"Nova mÃºsica"}" est maintenant disponible !`,icon:Pe.cover_image||"/icons/pwa/icon-192x192.png",url:Pe.slug?`/chansons/${Pe.slug}`:"/"}).catch(We=>{console.error("Erreur envoi notifications:",We)}),console.warn("ðŸ”„ Fermeture du formulaire et rechargement..."),d(!1),l(null),yield fe(),console.warn("âœ… Rechargement terminÃ© - fenÃªtre fermÃ©e")}catch(Ee){console.error("[Admin][Create][Failed]",Ee),console.error("[Admin][Create][Failed] Full error:",JSON.stringify(Ee,null,2)),he("error",`âŒ Ã‰chec crÃ©ation: ${Ee.message||Ee}`);return}}}catch(Ee){console.error("âŒ Erro detalhado ao salvar:",Ee);let We="Erro desconhecido";Ee.message&&(Ee.message.includes("duplicate key")?We="âŒ Erro: JÃ¡ existe uma mÃºsica com este ID do TikTok":Ee.message.includes("permission denied")?We="âŒ Erro: Sem permissÃ£o para salvar (verifique a conexÃ£o)":Ee.message.includes("network")?We="âŒ Erro: Problema de conexÃ£o. Tente novamente.":We=`âŒ Erro ao salvar: ${Ee.message}`),he("error",We),console.warn("ðŸ”„ Fermeture de la fenÃªtre aprÃ¨s erreur..."),setTimeout(()=>{d(!1),l(null),console.warn("âœ… FenÃªtre fermÃ©e aprÃ¨s erreur")},2e3)}}),Ke=(_,R)=>{if(console.warn(`ðŸ”„ Modification du champ ${_}:`,R),_==="tiktok_url"){const L=R.replace(/<[^>]*>/g,"").replace(/on>.*?<\/blockquote>/g,"").replace(/<script[^>]*>.*?<\/script>/g,"").replace(/https:\/\/www\.tiktok\.com\/embed\.js/g,"").trim();console.warn(`ðŸ§¹ Valeur nettoyÃ©e pour ${_}:`,L),l(H=>{const pe=A(p({},H),{[_]:L});return console.warn("ðŸ“ Ã‰tat de chanson mis Ã  jour:",pe),pe})}else l(L=>{const H=A(p({},L),{[_]:R});return console.warn("ðŸ“ Ã‰tat de chanson mis Ã  jour:",H),H})},ya=_=>{const R=_.split(",").map(L=>L.trim()).filter(L=>L);Ke("hashtags",R)},he=(_,R)=>{f({type:_,text:R}),g(!0),setTimeout(()=>g(!1),_==="warning"?7e3:5e3)},zs=()=>{const _={songs:s,albums:[]},R=new Blob([JSON.stringify(_,null,2)],{type:"application/json"}),L=URL.createObjectURL(R),H=document.createElement("a");H.href=L,H.download=`musica-da-segunda-${new Date().toISOString().split("T")[0]}.json`,H.click(),URL.revokeObjectURL(L),he("success","Dados exportados com sucesso!")},St=()=>{window.confirm("âš ï¸ ATENÃ‡ÃƒO: Isso apagarÃ¡ TODOS os dados! Tem certeza?")&&(console.warn("Nettoyage des donnÃ©es"),fe(),he("success","Todos os dados foram apagados"))},ds=()=>x(null,null,function*(){he("info","ðŸ”„ Migration non disponible dans cette version")}),Nr=()=>x(null,null,function*(){he("info","ðŸ”„ VÃ©rification non disponible dans cette version")}),kr=()=>x(null,null,function*(){he("info","ðŸ”„ Restauration non disponible dans cette version")});return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-3 sm:p-5",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsx("div",{className:"lg:hidden text-center mb-6 sm:mb-8",children:r.jsxs("div",{className:"flex items-center justify-center gap-4 mb-4",children:[r.jsx("div",{className:"w-16 h-16 rounded-full overflow-hidden border-4 border-blue-200 shadow-xl flex-shrink-0",children:r.jsx("img",{src:"images/Musica da segunda.jpg",alt:"Logo MÃºsica da Segunda",className:"w-full h-full object-cover"})}),r.jsxs("div",{className:"text-left",children:[r.jsx("h1",{className:"text-xl sm:text-3xl md:text-4xl font-black text-blue-900 mb-1",children:"ðŸŽµ Admin Panel - MÃºsica da Segunda"}),r.jsx("p",{className:"text-blue-700 text-sm sm:text-base",children:"Gerencie suas mÃºsicas e conteÃºdo localmente"})]})]})}),m&&r.jsx("div",{className:`mb-6 p-4 rounded-lg ${u.type==="success"?"bg-green-100 text-green-800":u.type==="warning"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:u.text}),r.jsxs("div",{className:"bg-white rounded-xl p-4 sm:p-6 mb-4 sm:mb-6 shadow-lg",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mb-4",children:[r.jsxs(z,{onClick:cs,className:"bg-green-600 hover:bg-green-700 w-full sm:w-auto",children:[r.jsx(ep,{className:"w-4 h-4 mr-2"}),"Nova MÃºsica"]}),r.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[r.jsxs(z,{onClick:zs,variant:"outline",className:"flex-1 sm:flex-none",children:[r.jsx(Zo,{className:"w-4 h-4 mr-2"}),r.jsx("span",{className:"hidden sm:inline",children:"Exportar"}),r.jsx("span",{className:"sm:hidden",children:"Export"})]}),r.jsxs(z,{onClick:Ne,variant:"outline",className:"flex-1 sm:flex-none",children:[r.jsx(al,{className:"w-4 h-4 mr-2"}),r.jsx("span",{className:"hidden sm:inline",children:"Importar Perfil TikTok"}),r.jsx("span",{className:"sm:hidden",children:"Perfil"})]})]})]}),r.jsxs("div",{className:"flex gap-2 sm:gap-3 justify-center sm:justify-end items-center",children:[r.jsxs("div",{className:"text-sm text-gray-600 bg-gray-100 px-3 py-1 rounded-full",children:["ðŸ“Š ",s.length," chanson",s.length>1?"s":""," chargÃ©e",s.length>1?"s":""]}),r.jsxs(z,{onClick:fe,variant:"outline",size:"sm",className:"flex-1 sm:flex-none",children:[r.jsx(gs,{className:"w-4 h-4 mr-1 sm:mr-2"}),r.jsx("span",{className:"hidden sm:inline",children:"Atualizar"}),r.jsx("span",{className:"sm:hidden",children:"Atual"})]}),r.jsxs(z,{onClick:St,variant:"outline",size:"sm",className:"text-red-600 border-red-300 flex-1 sm:flex-none",children:[r.jsx(In,{className:"w-4 h-4 mr-1 sm:mr-2"}),r.jsx("span",{className:"hidden sm:inline",children:"Limpar Tudo"}),r.jsx("span",{className:"sm:hidden",children:"Limpar"})]})]})]}),r.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-100 rounded-xl p-4 sm:p-6 mb-4 sm:mb-6 shadow-lg border-2 border-blue-200",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-bold text-blue-900 flex items-center gap-2",children:"â˜ï¸ Supabase Cloud Database"}),r.jsxs("p",{className:"text-blue-700 text-sm",children:["Mode actuel: ",r.jsx("span",{className:"font-semibold text-green-600",children:"â˜ï¸ Cloud (Supabase)"})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(z,{onClick:ds,disabled:N,className:"bg-blue-600 hover:bg-blue-700 text-white",size:"sm",children:[N?r.jsx(gs,{className:"w-4 h-4 animate-spin mr-2"}):r.jsx(Np,{className:"w-4 h-4 mr-2"}),N?"Migrando...":"Migrar para Supabase"]}),r.jsxs(z,{onClick:Nr,variant:"outline",size:"sm",className:"border-blue-300 text-blue-700 hover:bg-blue-50",children:[r.jsx(gs,{className:"w-4 h-4 mr-2"}),"Verificar"]})]})]}),T&&r.jsx("div",{className:"bg-blue-100 border border-blue-300 rounded-lg p-3 mb-3",children:r.jsxs("p",{className:"text-blue-800 text-sm font-medium",children:["ðŸ“Š ",T]})}),r.jsxs("div",{className:"bg-green-100 border border-green-300 rounded-lg p-3 mb-3",children:[r.jsxs("p",{className:"text-green-800 text-sm font-medium",children:["ðŸ’¾ DonnÃ©es chargÃ©es depuis: ",r.jsx("span",{className:"font-bold",children:"â˜ï¸ Supabase"})]}),r.jsx("p",{className:"text-green-700 text-xs mt-1",children:s.length>0?`${s.length} chanson(s) disponible(s)`:"Aucune chanson chargÃ©e"})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:r.jsxs(z,{onClick:kr,variant:"outline",size:"sm",className:"border-purple-300 text-purple-700 hover:bg-purple-50",children:[r.jsx(Zo,{className:"w-4 h-4 mr-2"}),"Restaurar do Supabase"]})}),r.jsx("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:r.jsxs("p",{className:"text-blue-800 text-sm",children:["âœ… ",r.jsx("strong",{children:"Mode Supabase activÃ©:"})," Toutes les donnÃ©es sont synchronisÃ©es avec la base de donnÃ©es cloud."]})})]}),r.jsx("div",{className:"bg-white rounded-xl p-4 sm:p-6 mb-4 sm:mb-6 shadow-lg",children:r.jsxs("div",{className:"relative",children:[r.jsx(gi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),r.jsx(ke,{placeholder:"Buscar mÃºsicas...",value:t,onChange:_=>qe(_.target.value),className:"pl-10 text-sm sm:text-base"})]})}),r.jsx("div",{className:"grid gap-4",children:s.map(_=>r.jsx(is,{className:"shadow-lg",children:r.jsx(_r,{children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start gap-3 sm:gap-0",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx(jr,{className:"text-lg sm:text-xl text-blue-900 mb-2",children:_.title}),r.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[r.jsxs(Fa,{variant:"secondary",className:"bg-blue-100 text-blue-800 text-xs sm:text-sm",children:[r.jsx(Se,{className:"w-3 h-3 mr-1"}),r.jsx("span",{className:"hidden sm:inline",children:_.artist}),r.jsx("span",{className:"sm:hidden",children:"A MÃºsica da Segunda"})]}),r.jsxs(Fa,{variant:_.status==="published"?"default":"secondary",className:"text-xs sm:text-sm",children:[r.jsx("span",{className:"hidden sm:inline",children:_.status}),r.jsx("span",{className:"sm:hidden",children:_.status==="published"?"Pub":"Rasc"})]}),r.jsxs(Fa,{variant:"outline",className:"text-xs sm:text-sm",children:[r.jsx(Mt,{className:"w-3 h-3 mr-1"}),r.jsx("span",{className:"hidden sm:inline",children:oe(ye(_.release_date),"dd/MM/yyyy",{locale:be})}),r.jsx("span",{className:"sm:hidden",children:oe(ye(_.release_date),"dd/MM",{locale:be})})]})]}),_.description&&r.jsx("p",{className:"text-gray-600 text-xs sm:text-sm line-clamp-2",children:_.description})]}),r.jsxs("div",{className:"flex gap-2 justify-center sm:justify-end",children:[r.jsxs(z,{onClick:()=>ga(_),size:"sm",variant:"outline",className:"flex-1 sm:flex-none",children:[r.jsx(rl,{className:"w-4 h-4"}),r.jsx("span",{className:"ml-1 sm:hidden",children:"Editar"})]}),r.jsxs(z,{onClick:()=>xa(_.id),size:"sm",variant:"outline",className:"text-red-600 flex-1 sm:flex-none",children:[r.jsx(In,{className:"w-4 h-4"}),r.jsx("span",{className:"ml-1 sm:hidden",children:"Excluir"})]})]})]})})},_.id))}),s.length===0&&r.jsxs("div",{className:"text-center py-8 sm:py-12",children:[r.jsx(Se,{className:"w-12 h-12 sm:w-16 sm:h-16 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-600 mb-2",children:"Nenhuma mÃºsica encontrada"}),r.jsx("p",{className:"text-gray-500 text-sm sm:text-base",children:t?"Tente uma busca diferente":"Crie sua primeira mÃºsica!"})]}),c&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:r.jsx("div",{className:"bg-white rounded-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-blue-900",children:n?"Editar MÃºsica":"Nova MÃºsica"}),r.jsx(z,{onClick:()=>d(!1),variant:"ghost",size:"sm",children:r.jsx(mt,{className:"w-5 h-5"})})]}),r.jsxs("form",{onSubmit:ba,className:"space-y-6",children:[r.jsxs("div",{className:"bg-gradient-to-r from-red-50 to-pink-50 rounded-xl p-6 border-2 border-red-200",children:[r.jsxs("h3",{className:"text-lg font-bold text-red-900 mb-4 flex items-center gap-2",children:[r.jsx(gt,{className:"w-5 h-5 text-red-600"}),"ðŸŽ¬ Link da VÃ­deo YouTube *"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL da VÃ­deo YouTube * (ObrigatÃ³rio)"}),r.jsx(ke,{value:o.youtube_url,onChange:_=>Ke("youtube_url",_.target.value),placeholder:"https://www.youtube.com/watch?v=VIDEO_ID ou https://youtube.com/shorts/VIDEO_ID",type:"url",required:!0}),r.jsxs("div",{className:"mt-2 space-y-1",children:[r.jsx("p",{className:"text-xs text-gray-500",children:r.jsx("strong",{children:"Formatos aceitos:"})}),r.jsxs("ul",{className:"text-xs text-gray-500 space-y-1 ml-2",children:[r.jsx("li",{children:"â€¢ https://www.youtube.com/watch?v=VIDEO_ID"}),r.jsx("li",{children:"â€¢ https://youtube.com/shorts/VIDEO_ID"}),r.jsx("li",{children:"â€¢ https://youtu.be/VIDEO_ID"}),r.jsx("li",{children:"â€¢ https://music.youtube.com/watch?v=VIDEO_ID"})]}),r.jsxs("p",{className:"text-xs text-red-600 font-medium mt-2",children:["âœ¨ ",r.jsx("strong",{children:"Dica:"})," Para vÃ­deos verticais (9:16), use YouTube Shorts!"]})]})]}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsxs(z,{type:"button",variant:"outline",onClick:()=>window.open(o.youtube_url,"_blank"),disabled:!o.youtube_url,className:"flex-1",children:[r.jsx(Is,{className:"w-4 h-4 mr-2"}),"Abrir YouTube"]})})]})]}),r.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 rounded-xl p-6 border-2 border-green-200",children:[r.jsxs("h3",{className:"text-lg font-bold text-green-900 mb-4 flex items-center gap-2",children:[r.jsx(Se,{className:"w-5 h-5 text-green-600"}),"ðŸŽµ InformaÃ§Ãµes da MÃºsica"]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["TÃ­tulo * ",o.tiktok_video_id&&o.title&&o.title!==`MÃºsica da Segunda - ${oe(new Date,"dd/MM/yyyy",{locale:be})}`&&r.jsx("span",{className:"text-green-600",children:"âœ…"})]}),r.jsx(ke,{value:o.title,onChange:_=>Ke("title",_.target.value),required:!0,placeholder:"TÃ­tulo da mÃºsica",className:o.tiktok_video_id&&o.title&&o.title!==`MÃºsica da Segunda - ${oe(new Date,"dd/MM/yyyy",{locale:be})}`?"border-green-300 bg-green-50":""}),o.tiktok_video_id&&o.title&&o.title!==`MÃºsica da Segunda - ${oe(new Date,"dd/MM/yyyy",{locale:be})}`&&r.jsx("p",{className:"text-xs text-green-600 mt-1",children:"âœ… TÃ­tulo extraÃ­do do TikTok"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Artista"}),r.jsx(ke,{value:o.artist,onChange:_=>Ke("artist",_.target.value),placeholder:"Nome do artista"})]})]}),r.jsxs("div",{className:"mt-4",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center justify-between",children:[r.jsx("span",{children:"DescriÃ§Ã£o"}),o&&o.lyrics&&o.lyrics.trim()&&r.jsxs(z,{type:"button",onClick:()=>Sr(),variant:"ghost",size:"sm",className:"text-blue-600 hover:text-blue-800 hover:bg-blue-50",disabled:lt,children:[r.jsx(Qo,{className:"w-4 h-4 mr-1"}),lt?"Gerando...":"Sugerir"]})]}),r.jsx(zr,{value:o.description,onChange:_=>Ke("description",_.target.value),placeholder:"DescriÃ§Ã£o da mÃºsica",rows:3})]}),r.jsxs("div",{className:"mt-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Letra"}),r.jsx(zr,{value:o.lyrics,onChange:_=>Ke("lyrics",_.target.value),placeholder:"Letra da mÃºsica",rows:6})]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mt-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data de LanÃ§amento *"}),r.jsx(ke,{type:"date",value:o.release_date,onChange:_=>Ke("release_date",_.target.value),required:!0}),o.release_date&&r.jsx("div",{className:"mt-1 text-xs",children:r.jsxs("span",{className:"text-blue-600",children:["ðŸ“… Data selecionada: ",oe(ye(o.release_date),"EEEE, d 'de' MMMM 'de' yyyy",{locale:be})]})}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Dica: Use o botÃ£o "Extrair" do TikTok para definir automaticamente a prÃ³xima segunda-feira, ou escolha qualquer data manualmente'})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),r.jsxs(Ui,{value:o.status,onValueChange:_=>Ke("status",_),children:[r.jsx(sn,{children:r.jsx(Bi,{})}),r.jsxs(rn,{children:[r.jsx(Lt,{value:"draft",children:"Rascunho"}),r.jsx(Lt,{value:"scheduled",children:"Agendado"}),r.jsx(Lt,{value:"published",children:"Publicado"}),r.jsx(Lt,{value:"archived",children:"Arquivado"})]})]})]})]})]}),r.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl p-6 border-2 border-purple-200",children:[r.jsxs("h3",{className:"text-lg font-bold text-purple-900 mb-4 flex items-center gap-2",children:[r.jsx(el,{className:"w-5 h-5 text-purple-600"}),"ðŸŽ§ Links de Streaming"]}),r.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Spotify"}),r.jsx(ke,{value:o.spotify_url,onChange:_=>Ke("spotify_url",_.target.value),placeholder:"URL Spotify",type:"url"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Apple Music"}),r.jsx(ke,{value:o.apple_music_url,onChange:_=>Ke("apple_music_url",_.target.value),placeholder:"URL Apple Music",type:"url"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"YouTube"}),r.jsx(ke,{value:o.youtube_url,onChange:_=>Ke("youtube_url",_.target.value),placeholder:"URL YouTube",type:"url"})]})]})]}),r.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-yellow-50 rounded-xl p-6 border-2 border-orange-200",children:[r.jsxs("h3",{className:"text-lg font-bold text-orange-900 mb-4 flex items-center gap-2",children:[r.jsx(Jo,{className:"w-5 h-5 text-orange-600"}),"ðŸ·ï¸ MÃ©tadados"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hashtags (separados por vÃ­rgula)"}),r.jsx(ke,{value:o.hashtags.join(", "),onChange:_=>ya(_.target.value),placeholder:"humor, musica, trending, novidade"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Exemplo: humor, musica, trending, novidade, viral"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Imagem de Capa (URL)"}),r.jsx(ke,{value:o.cover_image,onChange:_=>Ke("cover_image",_.target.value),placeholder:"https://exemplo.com/imagem.jpg",type:"url"})]})]})]}),r.jsxs("div",{className:"flex gap-3 pt-4 border-t-2 border-gray-200",children:[r.jsxs(z,{type:"submit",className:"flex-1 bg-blue-600 hover:bg-blue-700 text-lg py-3",children:[r.jsx(Pn,{className:"w-5 h-5 mr-2"}),n?"Atualizar MÃºsica":"Criar Nova MÃºsica"]}),r.jsx(z,{type:"button",variant:"outline",onClick:()=>d(!1),className:"flex-1 text-lg py-3",children:"Cancelar"})]})]})]})})}),b&&o.tiktok_video_id&&r.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center p-4 z-50",children:r.jsx("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-blue-900",children:"ðŸŽ¬ Visualizar VÃ­deo TikTok"}),r.jsx(z,{onClick:()=>C(!1),variant:"ghost",size:"sm",children:r.jsx(mt,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-gray-100 rounded-lg p-4",children:[r.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:o.title||"VÃ­deo TikTok"}),r.jsxs("p",{className:"text-sm text-gray-600 mb-3",children:["ID: ",o.tiktok_video_id]})]}),r.jsx("div",{className:"bg-black rounded-lg overflow-hidden",children:r.jsx(xv,{postId:o.tiktok_video_id,className:"w-full",song:o})}),r.jsx("div",{className:"text-center",children:r.jsxs(z,{onClick:()=>window.open(o.tiktok_url,"_blank"),className:"bg-red-500 hover:bg-red-600 text-white",children:[r.jsx(Is,{className:"w-4 h-4 mr-2"}),"Abrir no TikTok"]})})]})]})})}),I&&r.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center p-4 z-50",children:r.jsx("div",{className:"bg-white rounded-2xl max-w-lg w-full max-h-[90vh] overflow-y-auto",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-blue-900",children:"ðŸ“¥ Importar Perfil TikTok"}),r.jsx(z,{onClick:()=>P(!1),variant:"ghost",size:"sm",children:r.jsx(mt,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:r.jsxs("p",{className:"text-blue-800 text-sm",children:[r.jsx("strong",{children:"ðŸ’¡ Dica:"})," Cole o link do perfil TikTok para importar todas as vÃ­deos de uma vez!"]})}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Link do Perfil TikTok"}),r.jsx(ke,{value:V,onChange:_=>B(_.target.value),placeholder:"https://www.tiktok.com/@amusicadasegunda",className:"w-full"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Exemplo: https://www.tiktok.com/@amusicadasegunda"})]}),U&&r.jsxs("div",{className:"bg-gray-100 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Importando vÃ­deos..."}),r.jsxs("span",{className:"text-sm text-gray-500",children:[ie.current," / ",ie.total]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${ie.current/ie.total*100}%`}})})]}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsxs(z,{onClick:je,disabled:U||!V.trim(),className:"flex-1 bg-blue-600 hover:bg-blue-700",children:[U?r.jsx(gs,{className:"w-4 h-4 mr-2 animate-spin"}):r.jsx(al,{className:"w-4 h-4 mr-2"}),U?"Analisando...":"Analisar Perfil"]}),r.jsx(z,{onClick:()=>P(!1),variant:"outline",className:"flex-1",children:"Cancelar"})]})]})]})})}),se&&se.length>0&&r.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center p-4 z-50",children:r.jsx("div",{className:"bg-white rounded-2xl max-w-6xl w-full max-h-[90vh] overflow-y-auto",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("h2",{className:"text-2xl font-bold text-green-900",children:["ðŸ“‹ Revisar MÃºsicas Importadas (",se.length,")"]}),r.jsx(z,{onClick:()=>Te([]),variant:"ghost",size:"sm",children:r.jsx(mt,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:r.jsxs("p",{className:"text-green-800 text-sm",children:[r.jsx("strong",{children:"âœ… Sucesso!"})," ",se.length," mÃºsicas foram importadas do perfil TikTok. Revise os detalhes e publique todas de uma vez no Supabase."]})}),r.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:se.map((_,R)=>r.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("h3",{className:"font-semibold text-gray-900 mb-2",children:[R+1,". ",_.title]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Artista:"})," ",_.artist]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Data LanÃ§amento:"})," ",new Date(_.release_date).toLocaleDateString("pt-BR")]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Data TikTok:"})," ",new Date(_.tiktok_publication_date).toLocaleDateString("pt-BR")]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Hashtags:"})," ",_.hashtags.join(", ")]})]}),r.jsxs("div",{className:"mt-2",children:[r.jsx("span",{className:"text-gray-600",children:"DescriÃ§Ã£o:"})," ",_.description]})]}),r.jsxs("div",{className:"ml-4 flex gap-2",children:[r.jsxs(z,{onClick:()=>Ue(_),variant:"outline",size:"sm",className:"text-blue-600 border-blue-300 hover:bg-blue-50",children:[r.jsx(rl,{className:"w-4 h-4 mr-1"}),"Editar"]}),r.jsxs(z,{onClick:()=>window.open(_.tiktok_url,"_blank"),variant:"outline",size:"sm",className:"text-red-600 border-red-300 hover:bg-red-50",children:[r.jsx(Is,{className:"w-4 h-4 mr-1"}),"Ver TikTok"]}),r.jsxs(z,{onClick:()=>Kt(_.id),variant:"outline",size:"sm",className:"text-red-600 border-red-300 hover:bg-red-50",children:[r.jsx(In,{className:"w-4 h-4 mr-1"}),"Excluir"]})]})]})},_.id))}),r.jsxs("div",{className:"flex gap-3 pt-4 border-t-2 border-gray-200",children:[r.jsxs(z,{onClick:Ge,disabled:U,className:"flex-1 bg-green-600 hover:bg-green-700 text-lg py-3",children:[U?r.jsx(gs,{className:"w-5 h-5 mr-2 animate-spin"}):r.jsx(Pn,{className:"w-5 h-5 mr-2"}),U?"Publicando...":"Publier"]}),r.jsx(z,{onClick:()=>Te([]),variant:"outline",className:"flex-1 text-lg py-3",children:"Cancelar"})]}),U&&r.jsxs("div",{className:"bg-gray-100 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Publicando mÃºsicas..."}),r.jsxs("span",{className:"text-sm text-gray-500",children:[ie.current," / ",ie.total]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-green-600 h-2 rounded-full transition-all duration-300",style:{width:`${ie.current/ie.total*100}%`}})})]})]})]})})}),ot&&F&&r.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center p-4 z-50",children:r.jsx("div",{className:"bg-white rounded-2xl max-w-6xl w-full max-h-[90vh] overflow-y-auto",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-blue-900",children:"âœï¸ Editar MÃºsica Importada do TikTok"}),r.jsx(z,{onClick:()=>ue(!1),variant:"ghost",size:"sm",children:r.jsx(mt,{className:"w-5 h-5"})})]}),r.jsx("form",{onSubmit:_=>{_.preventDefault(),Gt()},children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-100 rounded-xl p-6 border-2 border-blue-200",children:[r.jsxs("h3",{className:"text-lg font-bold text-blue-900 mb-4 flex items-center gap-2",children:[r.jsx(ur,{className:"w-5 h-5 text-blue-600"}),"ðŸ“± InformaÃ§Ãµes TikTok (ObrigatÃ³rio)"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Link da VÃ­deo TikTok*"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(ke,{value:F.tiktok_url,onChange:_=>W(A(p({},F),{tiktok_url:_.target.value})),placeholder:"https://www.tiktok.com/@usuario/video/1234567890",className:"flex-1"}),r.jsxs(z,{type:"button",onClick:()=>window.open(F.tiktok_url,"_blank"),variant:"outline",className:"text-blue-600 border-blue-300 hover:bg-blue-50",children:[r.jsx(Is,{className:"w-4 h-4 mr-2"}),"Abrir TikTok"]})]}),r.jsxs("div",{className:"mt-2 text-xs text-gray-600",children:[r.jsx("p",{className:"font-medium mb-1",children:"Formatos aceitos:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[r.jsx("li",{children:"https://www.tiktok.com/@usuario/video/ID"}),r.jsx("li",{children:"https://vm.tiktok.com/ID"}),r.jsx("li",{children:"ID direto (15-20 dÃ­gitos)"})]})]}),r.jsx("div",{className:"mt-3 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(vs,{className:"w-4 h-4 text-yellow-600 mt-0.5 flex-shrink-0"}),r.jsxs("div",{className:"text-xs text-yellow-800",children:[r.jsx("p",{className:"font-medium",children:"IMPORTANT:"}),r.jsx("p",{children:"Cole apenas o link da vÃ­deo TikTok (ex: https://www.tiktok.com/@usuario/video/1234567890), NÃƒO o cÃ³digo HTML de incorporaÃ§Ã£o!"})]})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ID da VÃ­deo TikTok"}),r.jsx(ke,{value:F.tiktok_video_id,onChange:_=>W(A(p({},F),{tiktok_video_id:_.target.value})),placeholder:"ID da vÃ­deo"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data de PublicaÃ§Ã£o TikTok"}),r.jsx(ke,{type:"datetime-local",value:F.tiktok_publication_date?F.tiktok_publication_date.slice(0,16):"",onChange:_=>W(A(p({},F),{tiktok_publication_date:_.target.value}))})]})]})]})]}),r.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-100 rounded-xl p-6 border-2 border-green-200",children:[r.jsxs("h3",{className:"text-lg font-bold text-green-900 mb-4 flex items-center gap-2",children:[r.jsx(Se,{className:"w-5 h-5 text-green-600"}),"ðŸŽµ MÃ©tadados ExtraÃ­dos do TikTok"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"TÃ­tulo*"}),r.jsx(ke,{value:F.title,onChange:_=>W(A(p({},F),{title:_.target.value})),placeholder:"TÃ­tulo da mÃºsica"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Artista*"}),r.jsx(ke,{value:F.artist,onChange:_=>W(A(p({},F),{artist:_.target.value})),placeholder:"Nome do artista"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center justify-between",children:[r.jsx("span",{children:"DescriÃ§Ã£o"}),F&&F.lyrics&&F.lyrics.trim()&&r.jsxs(z,{type:"button",onClick:()=>Ts(),variant:"ghost",size:"sm",className:"text-blue-600 hover:text-blue-800 hover:bg-blue-50",disabled:lt,children:[r.jsx(Qo,{className:"w-4 h-4 mr-1"}),lt?"Gerando...":"Sugerir"]})]}),r.jsx(zr,{value:F.description,onChange:_=>W(A(p({},F),{description:_.target.value})),placeholder:"DescriÃ§Ã£o da mÃºsica",rows:3})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hashtags (separados por vÃ­rgula)"}),r.jsx(ke,{value:F.hashtags.join(", "),onChange:_=>W(A(p({},F),{hashtags:_.target.value.split(",").map(R=>R.trim()).filter(R=>R)})),placeholder:"humor, musica, trending, novidade"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Exemplo: humor, musica, trending, novidade, viral"})]})]}),r.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-100 rounded-xl p-6 border-2 border-purple-200",children:[r.jsxs("h3",{className:"text-lg font-bold text-purple-900 mb-4 flex items-center gap-2",children:[r.jsx(Mt,{className:"w-5 h-5 text-purple-600"}),"ðŸ“… Datas de PublicaÃ§Ã£o"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data de LanÃ§amento no App*"}),r.jsx(ke,{type:"date",value:F.release_date,onChange:_=>W(A(p({},F),{release_date:_.target.value}))}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Data sugerida: ",Dt()?oe(ye(Dt()),"EEEE, d 'de' MMMM 'de' yyyy",{locale:be}):"Calculando..."]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),r.jsxs(Ui,{value:F.status,onValueChange:_=>W(A(p({},F),{status:_})),children:[r.jsx(sn,{children:r.jsx(Bi,{})}),r.jsxs(rn,{children:[r.jsx(Lt,{value:"draft",children:"Brouillon"}),r.jsx(Lt,{value:"published",children:"PubliÃ©"}),r.jsx(Lt,{value:"archived",children:"ArchivÃ©"})]})]})]})]})]}),r.jsxs("div",{className:"bg-gradient-to-r from-violet-50 to-purple-100 rounded-xl p-6 border-2 border-violet-200",children:[r.jsxs("h3",{className:"text-lg font-bold text-violet-900 mb-4 flex items-center gap-2",children:[r.jsx(el,{className:"w-5 h-5 text-violet-600"}),"ðŸŽ§ Links de Streaming"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Spotify"}),r.jsx(ke,{value:F.spotify_url||"",onChange:_=>W(A(p({},F),{spotify_url:_.target.value})),placeholder:"URL Spotify",type:"url"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Apple Music"}),r.jsx(ke,{value:F.apple_music_url||"",onChange:_=>W(A(p({},F),{apple_music_url:_.target.value})),placeholder:"URL Apple Music",type:"url"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"YouTube"}),r.jsx(ke,{value:F.youtube_url||"",onChange:_=>W(A(p({},F),{youtube_url:_.target.value})),placeholder:"URL YouTube",type:"url"})]})]})]}),r.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-yellow-100 rounded-xl p-6 border-2 border-orange-200",children:[r.jsxs("h3",{className:"text-lg font-bold text-orange-900 mb-4 flex items-center gap-2",children:[r.jsx(Jo,{className:"w-5 h-5 text-orange-600"}),"ðŸ·ï¸ MÃ©tadados"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Imagem de Capa (URL)"}),r.jsx(ke,{value:F.cover_image||"",onChange:_=>W(A(p({},F),{cover_image:_.target.value})),placeholder:"https://exemplo.com/imagem.jpg",type:"url"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Letras da MÃºsica"}),r.jsx(zr,{value:F.lyrics||"",onChange:_=>W(A(p({},F),{lyrics:_.target.value})),placeholder:"Letras da mÃºsica...",rows:4})]})]})]}),r.jsxs("div",{className:"flex gap-3 pt-4 border-t-2 border-gray-200",children:[r.jsxs(z,{type:"submit",className:"flex-1 bg-green-600 hover:bg-green-700 text-lg py-3",children:[r.jsx(Pn,{className:"w-5 h-5 mr-2"}),"Salvar AlteraÃ§Ãµes"]}),r.jsx(z,{type:"button",onClick:()=>ue(!1),variant:"outline",className:"flex-1 text-lg py-3",children:"Cancelar"})]})]})})]})})})]})})}const b0=pn("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),jn=h.forwardRef((n,a)=>{var i=n,{className:s,variant:e}=i,t=$(i,["className","variant"]);return r.jsx("div",p({ref:a,role:"alert",className:ve(b0({variant:e}),s)},t))});jn.displayName="Alert";const y0=h.forwardRef((a,t)=>{var n=a,{className:s}=n,e=$(n,["className"]);return r.jsx("h5",p({ref:t,className:ve("mb-1 font-medium leading-none tracking-tight",s)},e))});y0.displayName="AlertTitle";const Sn=h.forwardRef((a,t)=>{var n=a,{className:s}=n,e=$(n,["className"]);return r.jsx("div",p({ref:t,className:ve("text-sm [&_p]:leading-relaxed",s)},e))});Sn.displayName="AlertDescription";function v0({onBackToLogin:s}){const[e,t]=h.useState(""),[a,n]=h.useState(!1),[i,o]=h.useState({type:"",text:""}),[l,c]=h.useState(!1),d=u=>x(null,null,function*(){u.preventDefault(),n(!0),o({type:"",text:""});try{const{error:f}=yield Le.auth.resetPasswordForEmail(e.trim(),{redirectTo:"https://www.amusicadasegunda.com/#/admin"});if(f)throw f;c(!0),o({type:"success",text:"Email de rÃ©initialisation envoyÃ© ! VÃ©rifiez votre boÃ®te de rÃ©ception."})}catch(f){console.error("Erreur reset password:",f),o({type:"error",text:`Erreur: ${f.message}`})}finally{n(!1)}});return l?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:r.jsx(is,{className:"w-full max-w-md",children:r.jsx(ws,{className:"pt-6",children:r.jsxs("div",{className:"text-center",children:[r.jsx(ro,{className:"w-12 h-12 text-green-600 mx-auto mb-4"}),r.jsx("h2",{className:"text-xl font-semibold text-green-800 mb-2",children:"Email EnvoyÃ© !"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"VÃ©rifiez votre boÃ®te de rÃ©ception et suivez les instructions pour rÃ©initialiser votre mot de passe."}),r.jsxs(z,{onClick:s,variant:"outline",className:"w-full",children:[r.jsx(Qr,{className:"w-4 h-4 mr-2"}),"Retour Ã  la connexion"]})]})})})}):r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:r.jsxs(is,{className:"w-full max-w-md",children:[r.jsxs(_r,{className:"text-center",children:[r.jsx("div",{className:"mx-auto w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mb-4",children:r.jsx(pi,{className:"w-6 h-6 text-blue-600"})}),r.jsx(jr,{className:"text-2xl font-bold text-gray-900",children:"RÃ©initialiser le mot de passe"}),r.jsx(_n,{children:"Entrez votre email pour recevoir un lien de rÃ©initialisation"})]}),r.jsxs(ws,{children:[r.jsxs("form",{onSubmit:d,className:"space-y-4",children:[i.text&&r.jsx(jn,{variant:i.type==="error"?"destructive":"default",children:r.jsx(Sn,{children:i.text})}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{htmlFor:"email",className:"text-sm font-medium text-gray-700",children:"Email"}),r.jsx(ke,{id:"email",type:"email",placeholder:"admin@amusicadasegunda.com",value:e,onChange:u=>t(u.target.value),required:!0,disabled:a,className:"w-full"})]}),r.jsx(z,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white",disabled:a,children:a?r.jsxs(r.Fragment,{children:[r.jsx(nr,{className:"w-4 h-4 animate-spin mr-2"}),"Envoi en cours..."]}):r.jsxs(r.Fragment,{children:[r.jsx(pi,{className:"w-4 h-4 mr-2"}),"Envoyer le lien"]})})]}),r.jsx("div",{className:"mt-6 text-center",children:r.jsxs("button",{onClick:s,className:"text-blue-600 hover:text-blue-700 font-medium",disabled:a,children:[r.jsx(Qr,{className:"w-4 h-4 inline mr-1"}),"Retour Ã  la connexion"]})}),r.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:r.jsx("p",{className:"text-xs text-blue-800 text-center",children:"ðŸ’¡ Le lien de rÃ©initialisation sera envoyÃ© Ã  l'adresse email fournie"})})]})]})})}function Yu(){const[s,e]=h.useState(""),[t,a]=h.useState(""),[n,i]=h.useState(!1),[o,l]=h.useState(!1),[c,d]=h.useState(""),[u,f]=h.useState(!1),[m,g]=h.useState(!0),[v,j]=h.useState(!1);h.useEffect(()=>{b()},[]);const b=()=>x(null,null,function*(){try{const{data:{session:N}}=yield Le.auth.getSession();N&&((yield C(N.user.id))?(f(!0),setTimeout(()=>{window.location.href="/admin"},1e3)):d("âŒ Vous n'avez pas les droits d'administrateur"))}catch(N){console.error("Erreur vÃ©rification auth:",N)}finally{g(!1)}}),C=N=>x(null,null,function*(){try{const{data:S,error:T}=yield Le.from("admins").select("user_id").eq("user_id",N).single();return T?(console.error("Erreur vÃ©rification admin:",T),!1):!!S}catch(S){return console.error("Erreur vÃ©rification admin:",S),!1}}),k=N=>x(null,null,function*(){N.preventDefault(),l(!0),d("");const S=ar(s.trim()),T=ar(t),E=Fu(Gv,{email:S,password:T});if(!E.success){d(E.error),l(!1);return}try{const{data:I,error:P}=yield Le.auth.signInWithPassword({email:E.data.email,password:E.data.password});if(P)throw P;I.user&&((yield C(I.user.id))?(f(!0),window.location.href="/admin"):(yield Le.auth.signOut(),d("âŒ Vous n'avez pas les droits d'administrateur. Contactez l'administrateur du systÃ¨me.")))}catch(I){console.error("Erreur de connexion:",I),d(`âŒ Erreur de connexion: ${I.message}`)}finally{l(!1)}}),y=()=>x(null,null,function*(){d("â„¹ï¸ Pour crÃ©er un compte administrateur, contactez l'administrateur du systÃ¨me.")});return v?r.jsx(v0,{onBackToLogin:()=>j(!1)}):m?r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:[r.jsx(vt,{children:r.jsx("meta",{name:"robots",content:"noindex,nofollow"})}),r.jsxs("div",{className:"text-center",children:[r.jsx(nr,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-blue-600"}),r.jsx("p",{className:"text-gray-600",children:"VÃ©rification de l'authentification..."})]})]}):u?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:r.jsx(is,{className:"w-full max-w-md",children:r.jsx(ws,{className:"pt-6",children:r.jsxs("div",{className:"text-center",children:[r.jsx(sl,{className:"w-12 h-12 text-green-600 mx-auto mb-4"}),r.jsx("h2",{className:"text-xl font-semibold text-green-800 mb-2",children:"âœ… AuthentifiÃ© avec succÃ¨s"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Redirection vers l'Admin en cours..."}),r.jsx(nr,{className:"w-6 h-6 animate-spin mx-auto text-blue-600"})]})})})}):r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:[r.jsxs(vt,{children:[r.jsx("meta",{name:"robots",content:"noindex,nofollow"}),r.jsx("link",{rel:"canonical",href:"https://www.amusicadasegunda.com/#/login"})]}),r.jsxs(is,{className:"w-full max-w-md",children:[r.jsxs(_r,{className:"text-center",children:[r.jsx("div",{className:"mx-auto w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mb-4",children:r.jsx(sl,{className:"w-6 h-6 text-blue-600"})}),r.jsx(jr,{className:"text-2xl font-bold text-gray-900",children:"Connexion Admin"}),r.jsx(_n,{children:"AccÃ¨s rÃ©servÃ© aux administrateurs de MÃºsica da Segunda"})]}),r.jsxs(ws,{children:[r.jsxs("form",{onSubmit:k,className:"space-y-4",children:[c&&r.jsx(jn,{variant:"destructive",children:r.jsx(Sn,{children:c})}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{htmlFor:"email",className:"text-sm font-medium text-gray-700",children:"Email"}),r.jsx(ke,{id:"email",type:"email",placeholder:"admin@amusicadasegunda.com",value:s,onChange:N=>e(N.target.value),required:!0,disabled:o,className:"w-full"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{htmlFor:"password",className:"text-sm font-medium text-gray-700",children:"Mot de passe"}),r.jsxs("div",{className:"relative",children:[r.jsx(ke,{id:"password",type:n?"text":"password",placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",value:t,onChange:N=>a(N.target.value),required:!0,disabled:o,className:"w-full pr-10"}),r.jsx("button",{type:"button",onClick:()=>i(!n),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",disabled:o,children:n?r.jsx(hi,{className:"w-4 h-4"}):r.jsx(mi,{className:"w-4 h-4"})})]})]}),r.jsx(z,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white",disabled:o,children:o?r.jsxs(r.Fragment,{children:[r.jsx(nr,{className:"w-4 h-4 animate-spin mr-2"}),"Connexion..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Ya,{className:"w-4 h-4 mr-2"}),"Se connecter"]})})]}),r.jsxs("div",{className:"mt-6 text-center space-y-2",children:[r.jsxs("p",{className:"text-sm text-gray-600",children:["Mot de passe oubliÃ© ?"," ",r.jsxs("button",{onClick:()=>j(!0),className:"text-blue-600 hover:text-blue-700 font-medium",disabled:o,children:[r.jsx(Uf,{className:"w-4 h-4 inline mr-1"}),"RÃ©initialiser"]})]}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Pas de compte ?"," ",r.jsx("button",{onClick:y,className:"text-blue-600 hover:text-blue-700 font-medium",disabled:o,children:"Contacter l'administrateur"})]})]}),r.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:r.jsx("p",{className:"text-xs text-blue-800 text-center",children:"ðŸ”’ Cette page est protÃ©gÃ©e. Seuls les administrateurs autorisÃ©s peuvent y accÃ©der."})})]})]})]})}function w0({onBackToLogin:s}){const[e,t]=h.useState(""),[a,n]=h.useState(""),[i,o]=h.useState(!1),[l,c]=h.useState(!1),[d,u]=h.useState(!1),[f,m]=h.useState({type:"",text:""}),[g,v]=h.useState(!1);h.useEffect(()=>{new URLSearchParams(window.location.hash.split("?")[1]).get("reset")!=="true"&&s()},[s]);const j=b=>x(null,null,function*(){if(b.preventDefault(),u(!0),m({type:"",text:""}),e.length<6){m({type:"error",text:"Le mot de passe doit contenir au moins 6 caractÃ¨res"}),u(!1);return}if(e!==a){m({type:"error",text:"Les mots de passe ne correspondent pas"}),u(!1);return}try{const{error:C}=yield Le.auth.updateUser({password:e});if(C)throw C;v(!0),m({type:"success",text:"Mot de passe mis Ã  jour avec succÃ¨s !"}),setTimeout(()=>{window.location.href="/#/admin"},2e3)}catch(C){console.error("Erreur update password:",C),m({type:"error",text:`Erreur: ${C.message}`})}finally{u(!1)}});return g?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:r.jsx(is,{className:"w-full max-w-md",children:r.jsx(ws,{className:"pt-6",children:r.jsxs("div",{className:"text-center",children:[r.jsx(ro,{className:"w-12 h-12 text-green-600 mx-auto mb-4"}),r.jsx("h2",{className:"text-xl font-semibold text-green-800 mb-2",children:"Mot de passe mis Ã  jour !"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Votre mot de passe a Ã©tÃ© mis Ã  jour avec succÃ¨s. Redirection vers l'Admin..."}),r.jsx(nr,{className:"w-6 h-6 animate-spin mx-auto text-blue-600"})]})})})}):r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:r.jsxs(is,{className:"w-full max-w-md",children:[r.jsxs(_r,{className:"text-center",children:[r.jsx("div",{className:"mx-auto w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mb-4",children:r.jsx(Ya,{className:"w-6 h-6 text-blue-600"})}),r.jsx(jr,{className:"text-2xl font-bold text-gray-900",children:"Nouveau mot de passe"}),r.jsx(_n,{children:"Entrez votre nouveau mot de passe"})]}),r.jsxs(ws,{children:[r.jsxs("form",{onSubmit:j,className:"space-y-4",children:[f.text&&r.jsx(jn,{variant:f.type==="error"?"destructive":"default",children:r.jsx(Sn,{children:f.text})}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{htmlFor:"password",className:"text-sm font-medium text-gray-700",children:"Nouveau mot de passe"}),r.jsxs("div",{className:"relative",children:[r.jsx(ke,{id:"password",type:i?"text":"password",placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",value:e,onChange:b=>t(b.target.value),required:!0,disabled:d,className:"w-full pr-10"}),r.jsx("button",{type:"button",onClick:()=>o(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",disabled:d,children:i?r.jsx(hi,{className:"w-4 h-4"}):r.jsx(mi,{className:"w-4 h-4"})})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{htmlFor:"confirmPassword",className:"text-sm font-medium text-gray-700",children:"Confirmer le mot de passe"}),r.jsxs("div",{className:"relative",children:[r.jsx(ke,{id:"confirmPassword",type:l?"text":"password",placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",value:a,onChange:b=>n(b.target.value),required:!0,disabled:d,className:"w-full pr-10"}),r.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",disabled:d,children:l?r.jsx(hi,{className:"w-4 h-4"}):r.jsx(mi,{className:"w-4 h-4"})})]})]}),r.jsx(z,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white",disabled:d,children:d?r.jsxs(r.Fragment,{children:[r.jsx(nr,{className:"w-4 h-4 animate-spin mr-2"}),"Mise Ã  jour..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Ya,{className:"w-4 h-4 mr-2"}),"Mettre Ã  jour"]})})]}),r.jsx("div",{className:"mt-6 text-center",children:r.jsxs("button",{onClick:s,className:"text-blue-600 hover:text-blue-700 font-medium",disabled:d,children:[r.jsx(Qr,{className:"w-4 h-4 inline mr-1"}),"Retour Ã  la connexion"]})}),r.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:r.jsx("p",{className:"text-xs text-blue-800 text-center",children:"ðŸ”’ Le mot de passe doit contenir au moins 6 caractÃ¨res"})})]})]})})}function _0(){const[s,e]=h.useState(!1),[t,a]=h.useState(!0),[n,i]=h.useState(!1),[o,l]=h.useState(!1);h.useEffect(()=>{c(),new URLSearchParams(window.location.hash.split("?")[1]).get("reset")==="true"&&l(!0);const{data:{subscription:f}}=Le.auth.onAuthStateChange((m,g)=>x(null,null,function*(){m==="SIGNED_IN"&&g?yield d(g.user.id):m==="SIGNED_OUT"&&(e(!1),i(!1))}));return()=>f.unsubscribe()},[]);const c=()=>x(null,null,function*(){try{console.warn("ðŸ” Starting auth check...");const{data:{session:u},error:f}=yield Le.auth.getSession();if(f)throw console.error("âŒ Session error:",f),f;u?(console.warn("âœ… Session found, checking admin status..."),e(!0),yield d(u.user.id)):(console.warn("âš ï¸ No session found"),e(!1),i(!1))}catch(u){console.error("âŒ Erreur vÃ©rification auth:",u),e(!1),i(!1)}finally{console.warn("ðŸ Auth check complete, setting loading to false"),a(!1)}}),d=u=>x(null,null,function*(){try{console.warn("ðŸ” Checking admin status for user:",u);const f=new Promise((b,C)=>setTimeout(()=>C(new Error("TIMEOUT: Admin check took too long (>5s)")),5e3)),m=Le.from("admins").select("user_id").eq("user_id",u).maybeSingle(),{data:g,error:v}=yield Promise.race([m,f]);if(console.warn("ðŸ“Š Admin check result:",{data:g,error:v,hasData:!!g}),v){console.error("âŒ Erreur vÃ©rification admin:",v.message,v.code,v),i(!1);return}const j=!!g;console.warn(j?"âœ… User IS admin":"âš ï¸ User is NOT admin"),i(j)}catch(f){console.error("âŒ Exception vÃ©rification admin:",f.message||f),i(!1)}});return o?r.jsx(w0,{onBackToLogin:()=>l(!1)}):t?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"VÃ©rification de l'accÃ¨s administrateur..."})]})}):s&&n?r.jsx(x0,{}):r.jsxs(r.Fragment,{children:[r.jsx(vt,{children:r.jsx("meta",{name:"robots",content:"noindex,nofollow"})}),r.jsx(Yu,{})]})}function j0(){const[s,e]=h.useState(null),t=[{question:"O que Ã© A MÃºsica da Segunda?",answer:"A MÃºsica da Segunda Ã© um projeto criativo brasileiro que produz parÃ³dias musicais inteligentes sobre a atualidade do Brasil. Toda segunda-feira, lanÃ§o uma nova mÃºsica que transforma notÃ­cias e acontecimentos em canÃ§Ãµes divertidas, crÃ­ticas e reflexivas. O projeto combina humor musical com anÃ¡lise social, oferecendo uma perspectiva Ãºnica sobre os eventos do paÃ­s atravÃ©s da mÃºsica."},{question:"Quando sai uma mÃºsica nova?",answer:"Uma nova mÃºsica Ã© publicada toda segunda-feira. Esta regularidade garante que os fÃ£s sempre tenham conteÃºdo novo para comeÃ§ar a semana. A mÃºsica Ã© lanÃ§ada simultaneamente em todas as plataformas: TikTok, YouTube, Spotify, Apple Music, YouTube Music e no site oficial."},{question:"Como funciona o processo de criaÃ§Ã£o?",answer:"O processo comeÃ§a com a seleÃ§Ã£o cuidadosa de notÃ­cias da semana anterior. Escolho temas relevantes que podem ser transformados em parÃ³dias musicais. Depois, crio as letras, que sÃ£o escritas para serem inteligentes e equilibradas entre humor e crÃ­tica. A produÃ§Ã£o musical Ã© feita com equipamentos profissionais, e cada mÃºsica ganha um vÃ­deo criativo para TikTok e YouTube."},{question:"As mÃºsicas sÃ£o sobre polÃ­tica?",answer:"NÃ£o apenas sobre polÃ­tica. A MÃºsica da Segunda aborda diversos temas: polÃ­tica, economia, sociedade, cultura, esportes e atÃ© mesmo curiosidades. O importante Ã© que cada tema seja relevante para os brasileiros e possa ser trabalhado de forma criativa e reflexiva. Busco diversidade nos temas para manter o projeto interessante e abrangente."},{question:"Onde posso ouvir as mÃºsicas?",answer:"VocÃª pode ouvir as mÃºsicas em vÃ¡rias plataformas: TikTok para vÃ­deos curtos, YouTube para vÃ­deos completos, Spotify para streaming de Ã¡udio, Apple Music para podcasts e mÃºsicas, e no site oficial www.amusicadasegunda.com onde vocÃª pode ver todas as mÃºsicas, letras, calendÃ¡rio e mais informaÃ§Ãµes sobre cada produÃ§Ã£o."},{question:"As mÃºsicas sÃ£o gratuitas?",answer:"Sim! Todas as mÃºsicas sÃ£o totalmente gratuitas e disponÃ­veis em todas as plataformas. VocÃª pode ouvir, compartilhar e comentar sem custo algum."},{question:"Como posso compartilhar uma mÃºsica?",answer:"Cada pÃ¡gina de mÃºsica no site tem botÃµes de compartilhamento para redes sociais como Facebook, Twitter, WhatsApp e mais. VocÃª tambÃ©m pode copiar o link direto da mÃºsica ou compartilhar diretamente do TikTok, YouTube ou outras plataformas. Compartilhar ajuda muito o projeto a crescer!"},{question:"Posso usar as mÃºsicas em meus prÃ³prios vÃ­deos?",answer:"O uso das mÃºsicas depende do contexto. Para uso pessoal e nÃ£o comercial, geralmente Ã© permitido. Para uso comercial ou em projetos que gerem receita, Ã© necessÃ¡rio entrar em contato atravÃ©s do email pimentaoenchansons@gmail.com para discutir permissÃµes e possÃ­veis licenÃ§as."},{question:"Como sÃ£o escolhidas as mÃºsicas que serÃ£o parodiadas?",answer:"A escolha da mÃºsica base (a canÃ§Ã£o original que serÃ¡ parodiada) Ã© estratÃ©gica. Uso mÃºsicas conhecidas que, quando combinadas com novas letras sobre atualidades, criam um contraste interessante e memorÃ¡vel. NÃ£o me limito a um gÃªnero: parodio MPB, pop, rock, samba, funk e outros estilos musicais brasileiros."},{question:"O projeto tem algum viÃ©s polÃ­tico?",answer:"A MÃºsica da Segunda busca criar humor e reflexÃ£o, nÃ£o promover uma agenda polÃ­tica especÃ­fica. As parÃ³dias podem criticar diferentes aspectos da polÃ­tica e sociedade, sempre com foco no humor e na anÃ¡lise crÃ­tica. Respeito a diversidade de opiniÃµes e busco apresentar diferentes perspectivas atravÃ©s da mÃºsica."},{question:"Como posso apoiar o projeto?",answer:"A melhor forma de apoiar Ã© compartilhando as mÃºsicas, seguindo nas redes sociais (TikTok, Instagram, YouTube), e engajando com o conteÃºdo. VocÃª tambÃ©m pode entrar em contato se quiser contribuir de outras formas ou fazer sugestÃµes de temas para futuras mÃºsicas."},{question:"VocÃªs fazem mÃºsicas personalizadas ou encomendas?",answer:"Atualmente, o foco do projeto Ã© nas mÃºsicas semanais sobre atualidades. No entanto, estou aberto a discussÃµes sobre projetos especiais ou colaboraÃ§Ãµes. Entre em contato atravÃ©s do email pimentaoenchansons@gmail.com para conversar sobre possibilidades."},{question:"Onde posso ver todas as mÃºsicas jÃ¡ lanÃ§adas?",answer:"No site oficial, vocÃª pode acessar o CalendÃ¡rio Musical que mostra todas as mÃºsicas organizadas por data. HÃ¡ tambÃ©m a Playlist no Spotify e YouTube Music que reÃºne todas as mÃºsicas em ordem cronolÃ³gica. Cada mÃºsica tem sua prÃ³pria pÃ¡gina com letras completas, vÃ­deos e links para todas as plataformas."},{question:"As letras das mÃºsicas estÃ£o disponÃ­veis?",answer:"Sim! Todas as letras completas estÃ£o disponÃ­veis no site. Basta clicar em qualquer mÃºsica para ver a letra completa, alÃ©m de informaÃ§Ãµes sobre o tema abordado, contexto histÃ³rico e referÃªncias. As letras sÃ£o apresentadas de forma clara e fÃ¡cil de ler."},{question:"Como posso sugerir um tema para uma mÃºsica?",answer:"Adoro sugestÃµes! VocÃª pode entrar em contato atravÃ©s do email pimentaoenchansons@gmail.com ou atravÃ©s das redes sociais. Enquanto nÃ£o posso garantir que todas as sugestÃµes serÃ£o usadas, considero todas as ideias e muitas vezes incorporo temas sugeridos pela comunidade."}],a=n=>{e(s===n?null:n)};return r.jsxs(r.Fragment,{children:[r.jsxs(vt,{children:[r.jsx("title",{children:"Sobre - A MÃºsica da Segunda | ParÃ³dias Musicais do Brasil"}),r.jsx("meta",{name:"description",content:"A MÃºsica da Segunda Ã© um projeto criativo brasileiro que produz parÃ³dias musicais inteligentes sobre a atualidade do Brasil. Toda segunda-feira, lanÃ§amos uma nova mÃºsica que transforma notÃ­cias em canÃ§Ãµes divertidas e crÃ­ticas."}),r.jsx("meta",{name:"keywords",content:"mÃºsica da segunda, parÃ³dias musicais, mÃºsica brasileira, humor musical, atualidades brasil, mÃºsica semanal, parÃ³dias polÃ­ticas, mÃºsica de humor"}),r.jsx("meta",{property:"og:title",content:"Sobre - A MÃºsica da Segunda | ParÃ³dias Musicais do Brasil"}),r.jsx("meta",{property:"og:description",content:"Descubra a histÃ³ria por trÃ¡s do projeto A MÃºsica da Segunda, que transforma notÃ­cias do Brasil em parÃ³dias musicais inteligentes e divertidas."}),r.jsx("meta",{property:"og:type",content:"website"}),r.jsx("script",{type:"application/ld+json",children:JSON.stringify({"@context":"https://schema.org","@type":"AboutPage",name:"Sobre A MÃºsica da Segunda",description:"InformaÃ§Ãµes sobre o projeto A MÃºsica da Segunda, que produz parÃ³dias musicais sobre a atualidade do Brasil",mainEntity:{"@type":"MusicGroup",name:"A MÃºsica da Segunda",description:"Projeto musical brasileiro que transforma notÃ­cias em parÃ³dias musicais inteligentes",genre:["Parody","Comedy","MÃºsica popular brasileira"],foundingLocation:{"@type":"Country",name:"Brasil"}}})}),r.jsx("script",{type:"application/ld+json",children:JSON.stringify({"@context":"https://schema.org","@type":"FAQPage",mainEntity:t.map(n=>({"@type":"Question",name:n.question,acceptedAnswer:{"@type":"Answer",text:n.answer}}))})})]}),r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900",children:r.jsxs("div",{className:"p-5 max-w-5xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("div",{className:"inline-block p-2 bg-white/10 rounded-full mb-4 backdrop-blur-sm",children:r.jsx("div",{className:"w-16 h-16 mx-auto rounded-full overflow-hidden shadow-2xl ring-4 ring-white/20",children:r.jsx(ea,{src:"images/Musica da segunda.jpg",alt:"Logo MÃºsica da Segunda",className:"w-full h-full object-cover",loading:"lazy"})})}),r.jsx("h1",{className:"text-3xl md:text-5xl font-black text-white drop-shadow-2xl mb-3 bg-gradient-to-r from-white via-gray-100 to-white bg-clip-text text-transparent",children:"Sobre o Projeto"}),r.jsx("p",{className:"text-white/90 font-medium text-lg md:text-xl drop-shadow-lg max-w-2xl mx-auto",children:"ConheÃ§a a histÃ³ria por trÃ¡s da MÃºsica da Segunda e descubra como nasceu essa paixÃ£o pela mÃºsica"})]}),r.jsxs("div",{className:"bg-gradient-to-br from-white/90 to-white/70 backdrop-blur-sm rounded-3xl p-10 text-center mb-10 shadow-2xl border border-white/20",children:[r.jsx("div",{className:"w-40 h-40 mx-auto mb-8 rounded-full overflow-hidden shadow-2xl ring-8 ring-white/30 transform hover:scale-105 transition-transform duration-300",children:r.jsx(ea,{src:"images/Musica da segunda.jpg",alt:"Logo MÃºsica da Segunda",className:"w-full h-full object-cover",loading:"eager"})}),r.jsx("h2",{className:"text-4xl font-black text-gray-800 mb-3",children:"MÃºsica da Segunda"}),r.jsx("p",{className:"text-gray-700 text-xl font-medium",children:"Descubra mÃºsica nova toda segunda-feira"})]}),r.jsxs("article",{className:"bg-gradient-to-br from-white/90 to-white/70 backdrop-blur-sm rounded-3xl p-8 mb-8 shadow-2xl border border-white/20",children:[r.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-6 flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-red-400 to-pink-500 rounded-full flex items-center justify-center shadow-lg",children:r.jsx(If,{className:"w-6 h-6 text-white animate-pulse"})}),"Quem Somos: A HistÃ³ria do Projeto"]}),r.jsxs("div",{className:"prose prose-lg max-w-none text-gray-700 space-y-4",children:[r.jsxs("p",{className:"text-lg leading-relaxed",children:[r.jsx("strong",{children:"A MÃºsica da Segunda"})," Ã© um projeto criativo brasileiro que produz parÃ³dias musicais inteligentes sobre a atualidade do Brasil. O conceito Ã© simples: toda segunda-feira, uma nova mÃºsica Ã© lanÃ§ada, comentando com humor e sagacidade os principais eventos da semana anterior."]}),r.jsx("h3",{className:"text-xl font-bold text-gray-800 mt-6 mb-3",children:"Origem e InspiraÃ§Ã£o"}),r.jsxs("p",{className:"text-lg leading-relaxed",children:["O conceito de ",r.jsx("strong",{children:"A MÃºsica da Segunda"})," Ã© inspirado em ",r.jsx("strong",{children:"La Chanson du Dimanche"}),", um projeto musical francÃªs que publicava uma chanson chaque semaine. A MÃºsica da Segunda se inspira deste conceito, mas com um ",r.jsx("strong",{children:"ton brÃ©silien"})," Ãºnico, adaptado Ã  realidade e Ã  cultura do Brasil."]}),r.jsx("p",{className:"text-lg leading-relaxed",children:"Assim como o projeto francÃªs, o objetivo Ã© criar parÃ³dias musicais que comentam a atualidade, mas aqui com uma abordagem totalmente brasileira, usando referÃªncias musicais locais, humor tÃ­pico do Brasil e comentÃ¡rios sobre eventos que marcam a vida dos brasileiros."})]})]}),r.jsxs("article",{className:"bg-gradient-to-br from-white/90 to-white/70 backdrop-blur-sm rounded-3xl p-8 mb-8 shadow-2xl border border-white/20",children:[r.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-6 flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-400 to-cyan-500 rounded-full flex items-center justify-center shadow-lg",children:r.jsx(Se,{className:"w-6 h-6 text-white"})}),"Nossa MissÃ£o"]}),r.jsxs("div",{className:"prose prose-lg max-w-none text-gray-700 space-y-4",children:[r.jsxs("p",{className:"text-lg leading-relaxed",children:["A missÃ£o de ",r.jsx("strong",{children:"A MÃºsica da Segunda"})," Ã© transformar notÃ­cias e acontecimentos do Brasil em parÃ³dias musicais inteligentes, divertidas e reflexivas. AtravÃ©s do humor musical, buscamos informar, divertir e promover a reflexÃ£o sobre a atualidade do paÃ­s."]}),r.jsxs("p",{className:"text-lg leading-relaxed",children:["Acreditamos que o humor Ã© uma ferramenta poderosa para o debate democrÃ¡tico. Nossas parÃ³dias sÃ£o",r.jsx("strong",{children:" comentÃ¡rios musicais"})," que buscam engajar o pÃºblico em reflexÃµes sobre polÃ­tica, sociedade, economia e cultura brasileira, sempre respeitando a diversidade de opiniÃµes."]})]})]}),r.jsxs("article",{className:"bg-gradient-to-br from-white/90 to-white/70 backdrop-blur-sm rounded-3xl p-8 mb-8 shadow-2xl border border-white/20",children:[r.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-6 flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-400 to-emerald-500 rounded-full flex items-center justify-center shadow-lg",children:r.jsx(Mt,{className:"w-6 h-6 text-white"})}),"Como Funciona o Projeto"]}),r.jsxs("div",{className:"prose prose-lg max-w-none text-gray-700 space-y-4",children:[r.jsx("p",{className:"text-lg leading-relaxed",children:"O processo de criaÃ§Ã£o Ã© simples e focado em qualidade:"}),r.jsx("h3",{className:"text-xl font-bold text-gray-800 mt-6 mb-3",children:"SeleÃ§Ã£o e CriaÃ§Ã£o"}),r.jsx("p",{className:"text-lg leading-relaxed",children:"Acompanho as principais notÃ­cias do Brasil e seleciono temas relevantes que podem ser transformados em parÃ³dias musicais. As letras sÃ£o escritas para serem inteligentes, mantendo o equilÃ­brio entre humor e crÃ­tica. A escolha da mÃºsica base Ã© estratÃ©gica: uso mÃºsicas conhecidas que, quando combinadas com novas letras, criam um contraste interessante e memorÃ¡vel."}),r.jsx("h3",{className:"text-xl font-bold text-gray-800 mt-6 mb-3",children:"ProduÃ§Ã£o"}),r.jsx("p",{className:"text-lg leading-relaxed",children:"Cada parÃ³dia Ã© produzida com equipamentos profissionais, garantindo qualidade sonora. As gravaÃ§Ãµes incluem vocais, instrumentos e arranjos que respeitam a estrutura da mÃºsica original enquanto incorporam elementos Ãºnicos que refletem o tema abordado. Cada mÃºsica tambÃ©m ganha um vÃ­deo criativo para TikTok e YouTube."}),r.jsx("h3",{className:"text-xl font-bold text-gray-800 mt-6 mb-3",children:"PublicaÃ§Ã£o Semanal"}),r.jsxs("p",{className:"text-lg leading-relaxed",children:["Toda segunda-feira, uma nova mÃºsica Ã© publicada simultaneamente em todas as plataformas de mÃºsica:",r.jsx("strong",{children:" Spotify, Apple Music, YouTube Music"}),", alÃ©m de TikTok, YouTube e no site oficial. Esta regularidade cria expectativa e garante que sempre hÃ¡ conteÃºdo novo para comeÃ§ar a semana."]})]}),r.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mt-8",children:[r.jsxs("div",{className:"group bg-gradient-to-br from-white/80 to-white/60 rounded-2xl p-6 hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[r.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg group-hover:scale-110 transition-transform duration-300",children:r.jsx(Mt,{className:"w-8 h-8 text-white"})}),r.jsx("h4",{className:"font-bold text-gray-800 mb-3 text-lg",children:"Toda Segunda"}),r.jsx("p",{className:"text-gray-700 text-sm leading-relaxed",children:"Uma nova mÃºsica Ã© cuidadosamente selecionada e publicada para comeÃ§ar sua semana"})]}),r.jsxs("div",{className:"group bg-gradient-to-br from-white/80 to-white/60 rounded-2xl p-6 hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[r.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-500 to-emerald-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg group-hover:scale-110 transition-transform duration-300",children:r.jsx(ur,{className:"w-8 h-8 text-white"})}),r.jsx("h4",{className:"font-bold text-gray-800 mb-3 text-lg",children:"VÃ­deo TikTok"}),r.jsx("p",{className:"text-gray-700 text-sm leading-relaxed",children:"A mÃºsica Ã© apresentada em vÃ­deo com qualidade profissional e criatividade"})]}),r.jsxs("div",{className:"group bg-gradient-to-br from-white/80 to-white/60 rounded-2xl p-6 hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[r.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-violet-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg group-hover:scale-110 transition-transform duration-300",children:r.jsx(nl,{className:"w-8 h-8 text-white"})}),r.jsx("h4",{className:"font-bold text-gray-800 mb-3 text-lg",children:"Compartilhamento"}),r.jsx("p",{className:"text-gray-700 text-sm leading-relaxed",children:"A comunidade descobre, compartilha e cria conexÃµes atravÃ©s da mÃºsica"})]})]})]}),r.jsxs("article",{className:"bg-gradient-to-br from-white/90 to-white/70 backdrop-blur-sm rounded-3xl p-8 mb-8 shadow-2xl border border-white/20",children:[r.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-6 flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full flex items-center justify-center shadow-lg",children:r.jsx(nl,{className:"w-6 h-6 text-white"})}),"Para Quem Ã© Este Projeto?"]}),r.jsx("div",{className:"prose prose-lg max-w-none text-gray-700 space-y-4",children:r.jsxs("p",{className:"text-lg leading-relaxed",children:[r.jsx("strong",{children:"A MÃºsica da Segunda"})," Ã© para todos os brasileiros que se interessam por mÃºsica, humor e atualidades. O projeto busca criar pontes atravÃ©s do humor e da mÃºsica, sempre respeitando a diversidade de opiniÃµes e promovendo o diÃ¡logo construtivo sobre os temas abordados."]})})]}),r.jsxs("article",{className:"bg-gradient-to-br from-white/90 to-white/70 backdrop-blur-sm rounded-3xl p-8 mb-8 shadow-2xl border border-white/20",children:[r.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-6 flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-400 to-pink-500 rounded-full flex items-center justify-center shadow-lg",children:r.jsx(Se,{className:"w-6 h-6 text-white"})}),"Formato e Estilo Musical"]}),r.jsxs("div",{className:"prose prose-lg max-w-none text-gray-700 space-y-4",children:[r.jsxs("p",{className:"text-lg leading-relaxed",children:["As parÃ³dias de ",r.jsx("strong",{children:"A MÃºsica da Segunda"})," seguem uma abordagem musical diversificada. NÃ£o me limito a um Ãºnico gÃªnero: parodio desde MPB clÃ¡ssica atÃ© pop contemporÃ¢neo, rock, samba, funk e outros estilos musicais brasileiros. A escolha do estilo musical sempre tem relaÃ§Ã£o com o tema abordado."]}),r.jsxs("p",{className:"text-lg leading-relaxed",children:["O estilo de humor varia entre sÃ¡tira polÃ­tica, ironia social, comentÃ¡rios sobre economia, cultura e atÃ© mesmo parÃ³dias de eventos esportivos ou culturais. O importante Ã© que cada mÃºsica seja ",r.jsx("strong",{children:"memorÃ¡vel, engajante e reflexiva"}),", convidando o ouvinte a pensar sobre o tema abordado enquanto se diverte."]}),r.jsx("p",{className:"text-lg leading-relaxed",children:"Todas as mÃºsicas sÃ£o produzidas com qualidade profissional, utilizando equipamentos de gravaÃ§Ã£o de alta qualidade e arranjos cuidadosamente elaborados."})]})]}),r.jsxs("div",{className:"bg-gradient-to-br from-white/90 to-white/70 backdrop-blur-sm rounded-3xl p-8 mb-8 shadow-2xl border border-white/20",children:[r.jsxs("h3",{className:"text-2xl font-bold text-gray-800 mb-6 flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full flex items-center justify-center shadow-lg",children:r.jsx(dp,{className:"w-6 h-6 text-white"})}),"O Que Oferecemos"]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-4 p-3 bg-white/50 rounded-xl hover:bg-white/70 transition-colors",children:[r.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),r.jsx("span",{className:"text-gray-700 font-medium",children:"MÃºsica nova toda segunda-feira"})]}),r.jsxs("div",{className:"flex items-center gap-4 p-3 bg-white/50 rounded-xl hover:bg-white/70 transition-colors",children:[r.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),r.jsx("span",{className:"text-gray-700 font-medium",children:"VÃ­deos TikTok integrados"})]}),r.jsxs("div",{className:"flex items-center gap-4 p-3 bg-white/50 rounded-xl hover:bg-white/70 transition-colors",children:[r.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),r.jsx("span",{className:"text-gray-700 font-medium",children:"Letras das mÃºsicas completas"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-4 p-3 bg-white/50 rounded-xl hover:bg-white/70 transition-colors",children:[r.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),r.jsx("span",{className:"text-gray-700 font-medium",children:"DisponÃ­vel em Spotify, Apple Music e YouTube Music"})]}),r.jsxs("div",{className:"flex items-center gap-4 p-3 bg-white/50 rounded-xl hover:bg-white/70 transition-colors",children:[r.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded-full"}),r.jsx("span",{className:"text-gray-700 font-medium",children:"CalendÃ¡rio musical interativo"})]}),r.jsxs("div",{className:"flex items-center gap-4 p-3 bg-white/50 rounded-xl hover:bg-white/70 transition-colors",children:[r.jsx("div",{className:"w-3 h-3 bg-pink-500 rounded-full"}),r.jsx("span",{className:"text-gray-700 font-medium",children:"Interface responsiva e moderna"})]})]})]})]}),r.jsxs("div",{className:"bg-gradient-to-br from-white/90 to-white/70 backdrop-blur-sm rounded-3xl p-8 mb-8 shadow-2xl border border-white/20",children:[r.jsxs("h3",{className:"text-2xl font-bold text-gray-800 mb-6 flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-400 to-emerald-500 rounded-full flex items-center justify-center shadow-lg",children:r.jsx(lf,{className:"w-6 h-6 text-white"})}),"Tecnologia"]}),r.jsx("p",{className:"text-gray-700 leading-relaxed mb-6 text-lg",children:"Este projeto foi desenvolvido com as mais modernas tecnologias web para garantir uma experiÃªncia excepcional em todos os dispositivos."}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-gradient-to-br from-gray-800/90 to-gray-900/90 rounded-2xl p-6 text-white backdrop-blur-sm border border-gray-700/50",children:[r.jsxs("h4",{className:"font-bold mb-4 text-lg flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-pulse"}),"Frontend"]}),r.jsxs("div",{className:"space-y-2 text-sm text-gray-300",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),r.jsx("span",{children:"React 18 + Vite"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),r.jsx("span",{children:"Tailwind CSS"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full"}),r.jsx("span",{children:"Radix UI Components"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 bg-orange-400 rounded-full"}),r.jsx("span",{children:"Responsive Design"})]})]})]}),r.jsxs("div",{className:"bg-gradient-to-br from-gray-800/90 to-gray-900/90 rounded-2xl p-6 text-white backdrop-blur-sm border border-gray-700/50",children:[r.jsxs("h4",{className:"font-bold mb-4 text-lg flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),"Funcionalidades"]}),r.jsxs("div",{className:"space-y-2 text-sm text-gray-300",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),r.jsx("span",{children:"TikTok Integration"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),r.jsx("span",{children:"Music Calendar"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full"}),r.jsx("span",{children:"Lyrics Display"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 bg-orange-400 rounded-full"}),r.jsx("span",{children:"Social Sharing"})]})]})]})]})]}),r.jsxs("article",{className:"bg-gradient-to-br from-white/90 to-white/70 backdrop-blur-sm rounded-3xl p-8 mb-8 shadow-2xl border border-white/20",children:[r.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-6 flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-400 to-purple-500 rounded-full flex items-center justify-center shadow-lg",children:r.jsx(wf,{className:"w-6 h-6 text-white"})}),"Perguntas Frequentes"]}),r.jsx("div",{className:"space-y-4",children:t.map((n,i)=>r.jsxs("article",{className:"bg-white/80 rounded-2xl shadow-lg border border-gray-200 overflow-hidden transition-all duration-300 hover:shadow-xl",itemScope:!0,itemType:"https://schema.org/Question",children:[r.jsxs("button",{onClick:()=>a(i),className:"w-full px-6 py-5 text-left flex items-center justify-between focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-inset","aria-expanded":s===i,"aria-controls":`faq-answer-${i}`,children:[r.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-900 pr-8",itemProp:"name",children:n.question}),r.jsx(so,{className:`w-6 h-6 text-gray-500 flex-shrink-0 transition-transform duration-300 ${s===i?"transform rotate-180":""}`})]}),r.jsx("div",{id:`faq-answer-${i}`,className:`overflow-hidden transition-all duration-300 ${s===i?"max-h-96 opacity-100":"max-h-0 opacity-0"}`,children:r.jsx("div",{className:"px-6 pb-5 text-gray-700 leading-relaxed",itemScope:!0,itemType:"https://schema.org/Answer",itemProp:"acceptedAnswer",children:r.jsx("p",{className:"text-base md:text-lg",itemProp:"text",children:n.answer})})})]},i))})]}),r.jsxs("div",{className:"bg-white/20 rounded-3xl p-6 mb-6",children:[r.jsxs("h3",{className:"text-2xl font-bold text-white mb-4 flex items-center gap-3",children:[r.jsx(Xo,{className:"w-6 h-6 text-pink-400"}),"Redes Sociais"]}),r.jsx("p",{className:"text-white/90 mb-4",children:"Siga-nos nas redes sociais para ficar por dentro de todas as novidades!"}),r.jsxs("div",{className:"flex justify-center gap-4",children:[r.jsx("a",{href:"https://www.tiktok.com/@amusicadasegunda",target:"_blank",rel:"noopener noreferrer",className:"bg-black text-white p-3 rounded-full hover:bg-gray-800 transition-colors",children:r.jsx(ur,{className:"w-6 h-6"})}),r.jsx("a",{href:"https://www.instagram.com/a_musica_da_segunda/",target:"_blank",rel:"noopener noreferrer",className:"bg-gradient-to-r from-purple-400 to-pink-400 text-white p-3 rounded-full hover:opacity-80 transition-opacity",children:r.jsx(Xo,{className:"w-6 h-6"})}),r.jsx("a",{href:"https://music.youtube.com/playlist?list=PLmoOyuQg7Y2QZKbcj20s7dcadsVx7WuWH",target:"_blank",rel:"noopener noreferrer",className:"bg-red-600 text-white p-3 rounded-full hover:bg-red-700 transition-colors",children:r.jsx(jp,{className:"w-6 h-6"})}),r.jsx("a",{href:"https://music.apple.com/us/artist/the-piment%C3%A3o-rouge-project/1791441717",target:"_blank",rel:"noopener noreferrer",className:"bg-gradient-to-r from-pink-500 to-red-500 text-white p-3 rounded-full hover:opacity-80 transition-opacity",children:r.jsx(Se,{className:"w-6 h-6"})}),r.jsx("a",{href:"https://open.spotify.com/playlist/5z7Jan9yS1KRzwWEPYs4sH?si=c32b67518b2a4817",target:"_blank",rel:"noopener noreferrer",className:"bg-green-600 text-white p-3 rounded-full hover:bg-green-700 transition-colors",children:r.jsx(Se,{className:"w-6 h-6"})})]})]}),r.jsxs("div",{className:"bg-gradient-to-br from-white/20 to-white/10 backdrop-blur-md rounded-3xl p-8 text-center shadow-2xl border border-white/20",children:[r.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center shadow-lg",children:r.jsx(Gf,{className:"w-10 h-10 text-white"})}),r.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Entre em Contato"}),r.jsx("p",{className:"text-white/90 mb-6 text-lg max-w-2xl mx-auto",children:"Tem sugestÃµes, crÃ­ticas ou quer participar do projeto? AdorarÃ­amos ouvir de vocÃª!"}),r.jsxs("div",{className:"inline-flex items-center gap-3 bg-white/20 backdrop-blur-sm px-6 py-3 rounded-2xl border border-white/30",children:[r.jsx(pi,{className:"w-5 h-5 text-white"}),r.jsx("span",{className:"text-white font-semibold",children:"pimentaoenchansons@gmail.com"})]})]})]})})]})}function S0(){const[s,e]=h.useState(null),[t,a]=h.useState(!0);return h.useEffect(()=>{x(null,null,function*(){try{const i=yield Xe.list("-release_date",10),o={site:{name:"A MÃºsica da Segunda",description:"ParÃ³dias musicais inteligentes sobre as notÃ­cias do Brasil",language:"pt-BR",country:"Brazil",url:"https://www.amusicadasegunda.com",categories:["music","comedy","news","parody","brazil"],frequency:"weekly",dayOfWeek:"Monday",contentType:"music-parody-news-brazil"},about:{mission:"Transformar notÃ­cias em mÃºsica com humor inteligente",targetAudience:"Brasileiros interessados em atualidades e mÃºsica",uniqueValue:"AnÃ¡lise crÃ­tica da atualidade atravÃ©s de parÃ³dias musicais",format:"ParÃ³dias musicais semanais sobre eventos do Brasil",style:"Humor inteligente, crÃ­tica social, comentÃ¡rio musical",productionQuality:"ProduÃ§Ã£o profissional com equipamentos de alta qualidade"},recentSongs:i.map(l=>({title:l.title,artist:l.artist||"A MÃºsica da Segunda",date:l.release_date,summary:l.description||`ParÃ³dia musical sobre ${l.title}`,topics:l.hashtags||[],fullLyrics:l.lyrics||"",context:l.description||`Esta parÃ³dia comenta sobre ${l.title}`,youtubeUrl:l.youtube_url||l.youtube_music_url||"",spotifyUrl:l.spotify_url||"",appleMusicUrl:l.apple_music_url||"",status:l.status||"published"})),faq:{url:"https://www.amusicadasegunda.com/faq",description:"PÃ¡gina com perguntas frequentes sobre o projeto"},social:{tiktok:"https://www.tiktok.com/@amusicadasegunda",instagram:"https://www.instagram.com/a_musica_da_segunda/",youtube:"https://music.youtube.com/playlist?list=PLmoOyuQg7Y2QZKbcj20s7dcadsVx7WuWH",spotify:"https://open.spotify.com/playlist/5z7Jan9yS1KRzwWEPYs4sH",appleMusic:"https://music.apple.com/us/artist/the-piment%C3%A3o-rouge-project/1791441717"},contact:{email:"pimentaoenchansons@gmail.com"},lastUpdated:new Date().toISOString(),version:"1.0"};e(o),a(!1)}catch(i){console.error("Erro ao carregar dados para IA:",i),a(!1)}})},[]),h.useEffect(()=>{if(s&&!t){const n=JSON.stringify(s,null,2),i=new Blob([n],{type:"application/json"});URL.createObjectURL(i)}},[s,t]),t?r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx("div",{className:"text-center",children:r.jsx("p",{className:"text-gray-600",children:"Carregando dados..."})})}):s?r.jsxs("div",{className:"min-h-screen bg-gray-50 p-8",children:[r.jsx("pre",{className:"bg-white p-6 rounded-lg shadow-lg overflow-auto max-w-6xl mx-auto",children:r.jsx("code",{className:"text-sm text-gray-800",children:JSON.stringify(s,null,2)})}),r.jsx("script",{type:"application/ld+json",children:JSON.stringify({"@context":"https://schema.org","@type":"Dataset",name:"A MÃºsica da Segunda - Content for AI",description:"Dados estruturados sobre o projeto A MÃºsica da Segunda para indexaÃ§Ã£o por IA",url:"https://www.amusicadasegunda.com/api/content-for-ai.json",keywords:"mÃºsica, parÃ³dia, brasil, atualidades, humor musical",license:"https://www.amusicadasegunda.com/sobre"})})]}):r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx("div",{className:"text-center",children:r.jsx("p",{className:"text-red-600",children:"Erro ao carregar dados"})})})}function N0({youtube_music_url:s,youtube_url:e,title:t}){const a=s||e||"",i=(d=>{if(!d||typeof d!="string")return null;try{const u=d.match(/[?&]list=([A-Za-z0-9_-]+)/);if(u)return{id:u[1],type:"playlist"};const f=[/(?:youtube\.com\/shorts\/)([A-Za-z0-9_-]{11})/,/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/|youtube\.com\/v\/)([A-Za-z0-9_-]{11})/,/^([A-Za-z0-9_-]{11})$/];for(const m of f){const g=d.match(m);if(g)return{id:g[1],type:"video"}}if(d.toLowerCase().includes("music.youtube.com")){const m=d.match(/[?&]v=([A-Za-z0-9_-]{11})/);if(m)return{id:m[1],type:"video"}}return null}catch(u){return null}})(a);if(!i)return r.jsx("div",{className:"w-full aspect-video rounded-lg overflow-hidden shadow-lg flex items-center justify-center bg-gradient-to-br from-gray-800 to-gray-900",children:r.jsx("p",{className:"text-white text-sm",children:"VidÃ©o non disponible"})});const o=a.includes("/shorts/"),l="https://www.youtube-nocookie.com/embed",c=i.type==="video"?`${l}/${i.id}?rel=0&modestbranding=1&playsinline=1&controls=1`:`${l}/videoseries?list=${i.id}&rel=0&modestbranding=1&playsinline=1&controls=1`;return o?r.jsx("div",{className:"w-full flex justify-center",children:r.jsx("div",{className:"relative rounded-lg overflow-hidden shadow-lg",style:{width:"100%",maxWidth:"400px",aspectRatio:"9/16"},children:r.jsx("iframe",{className:"absolute top-0 left-0 w-full h-full",src:c,title:t||"YouTube Short",frameBorder:"0",referrerPolicy:"strict-origin-when-cross-origin",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})}):r.jsx("div",{className:"w-full aspect-video rounded-lg overflow-hidden shadow-lg",children:r.jsx("iframe",{className:"w-full h-full",src:c,title:t||"YouTube",frameBorder:"0",referrerPolicy:"strict-origin-when-cross-origin",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})}function k0(){var T;const[s,e]=h.useState([]),[t,a]=h.useState([]),[n,i]=h.useState(!0),[o,l]=h.useState(null),[c,d]=h.useState(null),[u,f]=h.useState(!1),[m,g]=h.useState("all"),[v,j]=h.useState([]);h.useEffect(()=>{b()},[]),h.useEffect(()=>{k()},[m,s]);const b=()=>x(null,null,function*(){try{i(!0);const I=(yield Xe.list("-release_date",null)).sort((V,B)=>new Date(B.release_date)-new Date(V.release_date));e(I);const P=C(I);j(P)}catch(E){console.error("Erro ao carregar posts do blog:",E),l("Erro ao carregar os posts do blog. Tente novamente.")}finally{i(!1)}}),C=E=>{const I=new Set;return E.forEach(V=>{const B=ye(V.release_date),te=oe(B,"yyyy-MM"),ge=oe(B,"MMMM yyyy",{locale:be});I.add(JSON.stringify({key:te,label:ge}))}),Array.from(I).map(V=>JSON.parse(V)).sort((V,B)=>B.key.localeCompare(V.key))},k=()=>{if(m==="all")a(s);else{const E=s.filter(I=>oe(ye(I.release_date),"yyyy-MM")===m);a(E)}},y=()=>{g("all")},N=E=>{const I=ye(E),P=I.getDay(),V=P===0?-6:1-P,B=new Date(I);return B.setDate(I.getDate()+V),B},S=E=>{d(E),f(!0)};return n?r.jsxs("div",{className:"p-5 max-w-4xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h2",{className:"text-4xl md:text-5xl font-black text-white drop-shadow-lg mb-2",children:"Blog Musical"}),r.jsx("p",{className:"text-white/80 font-medium text-lg drop-shadow-md",children:"HistÃ³rias por trÃ¡s de cada mÃºsica"})]}),r.jsx("div",{className:"flex items-center justify-center py-20",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),r.jsx("p",{className:"text-white/80",children:"Carregando posts do blog..."})]})})]}):o?r.jsxs("div",{className:"p-5 max-w-4xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h2",{className:"text-4xl md:text-5xl font-black text-white drop-shadow-lg mb-2",children:"Blog Musical"}),r.jsx("p",{className:"text-white/80 font-medium text-lg drop-shadow-md",children:"HistÃ³rias por trÃ¡s de cada mÃºsica"})]}),r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-3xl p-6 text-center",children:[r.jsx(Se,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold text-red-800 mb-2",children:"Erro ao carregar"}),r.jsx("p",{className:"text-red-600 mb-4",children:o}),r.jsx(z,{onClick:b,className:"bg-red-500 hover:bg-red-600",children:"Tentar novamente"})]})]}):r.jsxs("div",{className:"p-5 max-w-4xl mx-auto",children:[r.jsxs(vt,{children:[r.jsx("html",{lang:"pt-BR"}),r.jsx("title",{children:"Blog Musical | A MÃºsica da Segunda"}),r.jsx("meta",{name:"description",content:"HistÃ³rias por trÃ¡s de cada mÃºsica publicada na A MÃºsica da Segunda."})]}),r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h1",{className:"text-4xl md:text-5xl font-black text-white drop-shadow-lg mb-2",children:"Blog Musical"}),r.jsx("p",{className:"text-white/80 font-medium text-lg drop-shadow-md",children:"HistÃ³rias por trÃ¡s de cada mÃºsica"}),r.jsx("p",{className:"text-white/60 text-sm mt-2",children:"DescriÃ§Ãµes detalhadas e significado de cada canÃ§Ã£o"})]}),r.jsx("div",{className:"bg-white/20 backdrop-blur-sm rounded-2xl p-6 mb-8 border border-white/30",children:r.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Ef,{className:"w-5 h-5 text-white"}),r.jsx("span",{className:"text-white font-medium",children:"Filtrar por mÃªs:"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs(Ui,{value:m,onValueChange:g,children:[r.jsx(sn,{className:"w-48 bg-white/90 border-0 text-gray-800",children:r.jsx(Bi,{placeholder:"Selecione um mÃªs"})}),r.jsxs(rn,{children:[r.jsx(Lt,{value:"all",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(gi,{className:"w-4 h-4"}),"Todos os meses (",s.length,")"]})}),v.map(E=>r.jsx(Lt,{value:E.key,children:E.label},E.key))]})]}),m!=="all"&&r.jsx(z,{onClick:y,variant:"outline",className:"bg-white/20 text-white border-white/30 hover:bg-white/30",children:"Limpar filtro"})]})]})}),r.jsx("div",{className:"space-y-8",children:t.length>0?t.map(E=>{const I=N(E.release_date);return r.jsxs(is,{className:"bg-white/95 backdrop-blur-sm shadow-xl border-0",children:[r.jsx(_r,{className:"pb-4",children:r.jsx("div",{className:"flex items-start justify-between",children:r.jsxs("div",{className:"flex-1",children:[r.jsx(jr,{className:"text-2xl md:text-3xl font-black text-gray-800 mb-2",children:E.title}),r.jsxs("div",{className:"flex items-center gap-4 text-gray-600 mb-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Mt,{className:"w-4 h-4"}),r.jsxs("span",{className:"font-medium",children:["Segunda-feira, ",oe(I,"dd MMMM yyyy",{locale:be})]})]}),r.jsx(Fa,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:E.artist})]})]})})}),r.jsxs(ws,{className:"space-y-6",children:[E.description?r.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl p-4 border border-green-200",children:[r.jsx("h3",{className:"text-lg font-bold text-green-900 mb-2 flex items-center gap-2",children:"ðŸŽµ Sobre a MÃºsica"}),r.jsx("p",{className:"text-green-800 leading-relaxed whitespace-pre-wrap",children:E.description})]}):r.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-slate-50 rounded-xl p-4 border border-gray-200",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-700 mb-2 flex items-center gap-2",children:"ðŸŽµ Sobre a MÃºsica"}),r.jsx("p",{className:"text-gray-600 italic",children:"A descriÃ§Ã£o desta mÃºsica serÃ¡ adicionada no Supabase em breve. Enquanto isso, aproveite a mÃºsica!"})]}),r.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-red-50 rounded-xl p-4 border border-orange-200",children:[r.jsx("h3",{className:"text-lg font-bold text-orange-900 mb-3 flex items-center gap-2",children:"ðŸŽ§ Ouvir e Assistir"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[E.spotify_url&&r.jsx("a",{href:E.spotify_url,target:"_blank",rel:"noopener noreferrer",className:"block",children:r.jsxs(z,{className:"w-full bg-[#1DB954] hover:bg-[#1ed760] text-white font-bold py-3 rounded-xl transition-all duration-200 hover:scale-105",children:[r.jsx(Rf,{className:"w-4 h-4 mr-2"}),"Spotify"]})}),E.youtube_url&&r.jsx("a",{href:E.youtube_url,target:"_blank",rel:"noopener noreferrer",className:"block",children:r.jsxs(z,{className:"w-full bg-[#FF0000] hover:bg-[#cc0000] text-white font-bold py-3 rounded-xl transition-all duration-200 hover:scale-105",children:[r.jsx(gt,{className:"w-4 h-4 mr-2"}),"YouTube"]})}),E.tiktok_url&&r.jsx("button",{onClick:()=>S(E),className:"block w-full",children:r.jsxs(z,{className:"w-full bg-black hover:bg-gray-800 text-white font-bold py-3 rounded-xl transition-all duration-200 hover:scale-105",children:[r.jsx(ur,{className:"w-4 h-4 mr-2"}),"Video"]})}),!E.spotify_url&&!E.youtube_url&&!E.tiktok_url&&r.jsxs("div",{className:"col-span-full text-center py-4",children:[r.jsx(Se,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),r.jsx("p",{className:"text-gray-500 text-sm",children:"Links de streaming em breve..."})]})]})]}),r.jsx("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-200",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"Data de LanÃ§amento:"}),r.jsx("br",{}),oe(ye(E.release_date),"dd MMMM yyyy",{locale:be})]}),E.genre&&r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"GÃªnero:"}),r.jsx("br",{}),E.genre]})]})})]})]},E.id)}):r.jsxs("div",{className:"bg-white/20 rounded-3xl p-8 text-center",children:[r.jsx(gi,{className:"w-16 h-16 text-white/60 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Nenhum artigo encontrado"}),r.jsx("p",{className:"text-white/80 mb-4",children:m==="all"?"NÃ£o hÃ¡ artigos no blog ainda.":`NÃ£o hÃ¡ artigos publicados em ${(T=v.find(E=>E.key===m))==null?void 0:T.label}.`}),m!=="all"&&r.jsx(z,{onClick:y,className:"bg-white/20 text-white border-white/30 hover:bg-white/30",children:"Ver todos os artigos"})]})}),u&&c&&r.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center p-4 z-50",children:r.jsx("div",{className:"bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("h2",{className:"text-3xl font-bold text-blue-900",children:["ðŸŽ¬ ",c.title]}),r.jsx("button",{onClick:()=>f(!1),className:"text-gray-500 hover:text-gray-700 text-2xl font-bold p-2 hover:bg-gray-100 rounded-full transition-colors",children:"âœ•"})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-4 border border-blue-200",children:[r.jsx("h3",{className:"text-xl font-bold text-blue-900 mb-2",children:c.title}),r.jsx("p",{className:"text-blue-700 font-medium",children:c.artist}),r.jsxs("p",{className:"text-blue-600 text-sm",children:["ðŸ“… LanÃ§amento: ",oe(ye(c.release_date),"dd/MM/yyyy",{locale:be})]})]}),r.jsx("div",{className:"bg-black rounded-xl overflow-hidden shadow-2xl",children:r.jsx(N0,{youtube_music_url:c.youtube_music_url,youtube_url:c.youtube_url,title:c.title})}),r.jsxs("div",{className:"flex gap-4 justify-center",children:[r.jsx("button",{onClick:()=>{const E=c.youtube_music_url||c.youtube_url;E&&window.open(E,"_blank")},className:"bg-red-600 text-white px-6 py-3 rounded-xl font-semibold hover:bg-red-700 transition-colors flex items-center gap-2",children:"ðŸ“º Ver no YouTube"}),r.jsx("button",{onClick:()=>f(!1),className:"bg-gray-200 text-gray-700 px-6 py-3 rounded-xl font-semibold hover:bg-gray-300 transition-colors",children:"Fechar"})]})]})]})})})]})}function vc(){return ma({title:"Playlist Completa - Todas as Descobertas Musicais",description:"Playlist completa com todas as descobertas musicais do MÃºsica da Segunda. OuÃ§a no Spotify, Apple Music e YouTube Music.",keywords:"playlist mÃºsica da segunda, descobertas musicais, spotify playlist, apple music, youtube music, todas as mÃºsicas",url:"/playlist",type:"website"}),r.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-teal-200 to-rose-200 p-5",children:[r.jsxs(vt,{children:[r.jsx("html",{lang:"pt-BR"}),r.jsx("meta",{name:"robots",content:"index,follow"}),r.jsx("script",{type:"application/ld+json",children:JSON.stringify({"@context":"https://schema.org","@type":"ItemList",name:"Playlist A MÃºsica da Segunda"})})]}),r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsx("div",{className:"text-center mb-8",children:r.jsxs("div",{className:"flex items-center justify-center gap-4 mb-4",children:[r.jsx("div",{className:"w-16 h-16 rounded-full overflow-hidden border-4 border-white/20 shadow-xl flex-shrink-0",children:r.jsx(ea,{src:"images/Musica da segunda.jpg",alt:"Logo MÃºsica da Segunda",className:"w-full h-full object-cover"})}),r.jsxs("div",{className:"text-left",children:[r.jsx("h1",{className:"text-3xl md:text-4xl font-black text-white drop-shadow-lg mb-2",children:"Playlist"}),r.jsx("p",{className:"text-white/90 font-medium text-lg drop-shadow-md",children:"OuÃ§a todas as mÃºsicas da MÃºsica da Segunda"})]})]})}),r.jsx("div",{className:"bg-white/90 backdrop-blur-lg rounded-3xl p-6 shadow-2xl",children:r.jsx("div",{className:"w-full",children:r.jsx("iframe",{"data-testid":"embed-iframe",style:{borderRadius:"12px"},src:"https://open.spotify.com/embed/playlist/5z7Jan9yS1KRzwWEPYs4sH?utm_source=generator",width:"100%",height:"600",frameBorder:"0",allowFullScreen:"",allow:"autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture",loading:"lazy",title:"Playlist Spotify - MÃºsica da Segunda",className:"shadow-lg md:h-[600px] h-[500px]"})})})]})]})}const za="https://www.amusicadasegunda.com";function T0({title:s,slug:e,datePublished:t,image:a,byArtist:n="A MÃºsica da Segunda"}){const i=`${za}/chansons/${e}`;return p({"@context":"https://schema.org","@type":"MusicRecording",name:s||e,byArtist:{"@type":"MusicGroup",name:n},datePublished:t||new Date().toISOString().slice(0,10),inLanguage:"pt-BR",url:i,genre:["Indie","MÃºsica Brasileira","Pop"]},a?{image:a}:{})}function E0({title:s,slug:e}){return{"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:[{"@type":"ListItem",position:1,name:"InÃ­cio",item:`${za}/`},{"@type":"ListItem",position:2,name:"CanÃ§Ãµes",item:`${za}/chansons`},{"@type":"ListItem",position:3,name:s||e,item:`${za}/chansons/${e}`}]}}function wc(s,e=null){if(typeof document!="undefined")try{if(e){const a=document.getElementById(e);a&&a.remove()}const t=document.createElement("script");t.type="application/ld+json",t.textContent=JSON.stringify(s,null,2),e&&(t.id=e),document.head.appendChild(t)}catch(t){console.error("Error injecting JSON-LD:",t)}}function C0({youtube_music_url:s,youtube_url:e,title:t}){const a=s||e||"",i=(d=>{if(!d||typeof d!="string")return null;try{const u=d.toLowerCase(),f=d.match(/[?&]list=([A-Za-z0-9_-]+)/);if(f)return{id:f[1],type:"playlist"};const m=[/(?:youtube\.com\/shorts\/)([A-Za-z0-9_-]{11})/,/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/|youtube\.com\/v\/)([A-Za-z0-9_-]{11})/,/^([A-Za-z0-9_-]{11})$/];for(const g of m){const v=d.match(g);if(v)return{id:v[1],type:"video"}}if(u.includes("music.youtube.com")){const g=d.match(/[?&]v=([A-Za-z0-9_-]{11})/);if(g)return{id:g[1],type:"video"}}return null}catch(u){return null}})(a);if(!i)return r.jsx("div",{className:"w-full aspect-video rounded-lg overflow-hidden shadow-lg flex items-center justify-center bg-gradient-to-br from-gray-800 to-gray-900",children:r.jsx("p",{className:"text-white text-sm",children:"VidÃ©o non disponible"})});const o=a.includes("/shorts/"),l="https://www.youtube-nocookie.com/embed",c=i.type==="video"?`${l}/${i.id}?rel=0&modestbranding=1&playsinline=1&controls=1`:`${l}/videoseries?list=${i.id}&rel=0&modestbranding=1&playsinline=1&controls=1`;return o?r.jsx("div",{className:"w-full flex justify-center",children:r.jsx("div",{className:"relative rounded-lg overflow-hidden shadow-lg",style:{width:"100%",maxWidth:"400px",aspectRatio:"9/16"},children:r.jsx("iframe",{className:"absolute top-0 left-0 w-full h-full",src:c,title:t||"YouTube Short",frameBorder:"0",referrerPolicy:"strict-origin-when-cross-origin",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,loading:"lazy"})})}):r.jsx("div",{className:"w-full aspect-video rounded-lg overflow-hidden shadow-lg",children:r.jsx("iframe",{className:"w-full h-full",src:c,title:t||"YouTube",frameBorder:"0",referrerPolicy:"strict-origin-when-cross-origin",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,loading:"lazy"})})}function A0(){const{slug:s}=nm(),e=hn(),[t,a]=h.useState(null),[n,i]=h.useState(!0),[o,l]=h.useState(null);return h.useEffect(()=>{x(null,null,function*(){if(s){i(!0),l(null);try{const d=yield Xe.getBySlug(s);a(d)}catch(d){l("Song not found")}finally{i(!1)}}})},[s]),ma({title:t?`${t.title} â€” A MÃºsica da Segunda`:"A MÃºsica da Segunda",description:t?`Letra, Ã¡udio e histÃ³ria de "${t.title}" â€” nova mÃºsica da segunda.`:"ParÃ³dias musicais inteligentes e divertidas sobre as notÃ­cias do Brasil.",keywords:t?`${t.title}, mÃºsica da segunda, parÃ³dias musicais`:"mÃºsica da segunda, parÃ³dias musicais",url:`/chansons/${s}`,type:"article"}),h.useEffect(()=>{if(t){const c=T0({title:t.title,slug:s,datePublished:t.release_date,image:t.cover_image,byArtist:t.artist||"A MÃºsica da Segunda"});wc(c,"song-music-schema");const d=E0({title:t.title,slug:s});return wc(d,"song-breadcrumb-schema"),()=>{const u=document.getElementById("song-music-schema"),f=document.getElementById("song-breadcrumb-schema");u&&u.remove(),f&&f.remove()}}},[t,s]),n?r.jsx("div",{className:"container mx-auto px-4 py-8",children:r.jsx("div",{className:"max-w-4xl mx-auto",children:r.jsxs("div",{className:"animate-pulse",children:[r.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-4"}),r.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-8"}),r.jsx("div",{className:"h-96 bg-gray-200 rounded"})]})})}):o||!t?r.jsxs("div",{className:"container mx-auto px-4 py-8",children:[r.jsx(vt,{children:r.jsx("meta",{name:"robots",content:"noindex,follow"})}),r.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[r.jsx("div",{className:"mb-6",children:r.jsxs(z,{onClick:()=>e("/"),variant:"outline",className:"mb-4",children:[r.jsx(Qr,{className:"w-4 h-4 mr-2"}),"Voltar ao InÃ­cio"]})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:o||"Song Not Found"}),r.jsxs("p",{className:"text-gray-600",children:['The song "',s,'" could not be found.']})]})]}):r.jsxs("div",{className:"container mx-auto px-4 py-8",children:[r.jsxs(vt,{children:[r.jsx("html",{lang:"pt-BR"}),r.jsx("meta",{name:"twitter:card",content:"summary_large_image"})]}),r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsx("div",{className:"mb-6",children:r.jsxs(z,{onClick:()=>e("/"),variant:"outline",children:[r.jsx(Qr,{className:"w-4 h-4 mr-2"}),"Voltar ao InÃ­cio"]})}),r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:t.title}),r.jsxs("div",{className:"flex items-center gap-4 text-gray-600 mb-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(gp,{className:"w-4 h-4"}),r.jsx("span",{children:t.artist||"A MÃºsica da Segunda"})]}),t.release_date&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Mt,{className:"w-4 h-4"}),r.jsx("span",{children:oe(ye(t.release_date),"dd MMMM yyyy",{locale:be})})]})]}),t.description&&r.jsx("p",{className:"text-gray-700 leading-relaxed",children:t.description})]}),r.jsxs("div",{className:"mb-8",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[r.jsx(Se,{className:"w-5 h-5"}),"VÃ­deo"]}),r.jsx("div",{className:"w-full max-w-2xl mx-auto",children:t.youtube_music_url||t.youtube_url?r.jsx(C0,{youtube_music_url:t.youtube_music_url,youtube_url:t.youtube_url,title:t.title}):r.jsx("div",{className:"w-full aspect-video rounded-lg overflow-hidden shadow-lg flex items-center justify-center bg-gradient-to-br from-gray-100 to-gray-200",children:r.jsxs("div",{className:"text-center text-gray-500",children:[r.jsx(Se,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),r.jsx("p",{className:"font-medium",children:"VidÃ©o non disponible"}),r.jsx("p",{className:"text-sm",children:"Cette musique n'a pas encore de vidÃ©o"})]})})})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Detalhes da MÃºsica"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-gray-700",children:"TÃ­tulo:"}),r.jsx("span",{className:"ml-2 text-gray-900",children:t.title})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-gray-700",children:"Artista:"}),r.jsx("span",{className:"ml-2 text-gray-900",children:t.artist||"A MÃºsica da Segunda"})]}),t.release_date&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-gray-700",children:"Data de LanÃ§amento:"}),r.jsx("span",{className:"ml-2 text-gray-900",children:oe(ye(t.release_date),"dd/MM/yyyy")})]}),t.status&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-gray-700",children:"Status:"}),r.jsx("span",{className:"ml-2 text-gray-900",children:t.status})]})]})]})]})]})}function _c({youtube_music_url:s,youtube_url:e,title:t}){console.warn("ðŸŽ¬ðŸŽ¬ðŸŽ¬ YouTubeEmbed appelÃ© avec:",{youtube_music_url:s,youtube_url:e,title:t});const a=s||e||"";console.warn("ðŸŽ¬ðŸŽ¬ðŸŽ¬ YouTubeEmbed targetUrl:",a);const i=(d=>{if(!d||typeof d!="string")return null;try{const u=d.toLowerCase(),f=d.match(/[?&]list=([A-Za-z0-9_-]+)/);if(f)return{id:f[1],type:"playlist"};const m=[/(?:youtube\.com\/shorts\/)([A-Za-z0-9_-]{11})/,/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/|youtube\.com\/v\/)([A-Za-z0-9_-]{11})/,/^([A-Za-z0-9_-]{11})$/];for(const g of m){const v=d.match(g);if(v)return{id:v[1],type:"video"}}if(u.includes("music.youtube.com")){const g=d.match(/[?&]v=([A-Za-z0-9_-]{11})/);if(g)return{id:g[1],type:"video"}}return null}catch(u){return null}})(a);if(console.warn("ðŸŽ¬ðŸŽ¬ðŸŽ¬ YouTubeEmbed info extraite:",i),!i)return console.warn("ðŸŽ¬ðŸŽ¬ðŸŽ¬ YouTubeEmbed: Aucune info valide, affichage fallback"),r.jsx("div",{className:"w-full aspect-video rounded-lg overflow-hidden shadow-lg flex items-center justify-center bg-gradient-to-br from-gray-800 to-gray-900",children:r.jsx("p",{className:"text-white text-sm",children:"VidÃ©o non disponible"})});const o=a.includes("/shorts/"),l="https://www.youtube-nocookie.com/embed",c=i.type==="video"?`${l}/${i.id}?rel=0&modestbranding=1&playsinline=1&controls=1`:`${l}/videoseries?list=${i.id}&rel=0&modestbranding=1&playsinline=1&controls=1`;return console.warn("ðŸŽ¬ðŸŽ¬ðŸŽ¬ YouTubeEmbed embedSrc gÃ©nÃ©rÃ©:",c),console.warn("ðŸŽ¬ðŸŽ¬ðŸŽ¬ YouTubeEmbed isShort (9:16):",o),o?r.jsx("div",{className:"w-full flex justify-center",children:r.jsx("div",{className:"relative rounded-lg overflow-hidden shadow-lg",style:{width:"100%",maxWidth:"400px",aspectRatio:"9/16"},children:r.jsx("iframe",{className:"absolute top-0 left-0 w-full h-full",src:c,title:t||"YouTube Short",frameBorder:"0",referrerPolicy:"strict-origin-when-cross-origin",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})}):r.jsx("div",{className:"w-full aspect-video rounded-lg overflow-hidden shadow-lg",children:r.jsx("iframe",{className:"w-full h-full",src:c,title:t||"YouTube",frameBorder:"0",referrerPolicy:"strict-origin-when-cross-origin",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})}function O0(){console.warn("ðŸŽ¬ Youtube component loaded");const s=hn(),[e,t]=h.useState(null),[a,n]=h.useState([]),[i,o]=h.useState(!0),[l,c]=h.useState(null),[d,u]=h.useState(null),[f,m]=h.useState(!1),[g,v]=h.useState(!1),[j,b]=h.useState(!1),[C,k]=h.useState(!1),[y,N]=h.useState(null),[S,T]=h.useState(null);h.useEffect(()=>{console.warn("ðŸŽ¬ Youtube useEffect triggered"),De.initialize(),E(),I()},[]);const E=()=>x(null,null,function*(){o(!0),c(null);try{console.warn("ðŸ”„ Tentative de chargement depuis Supabase...");const O=yield Xe.getCurrent();console.warn("ðŸ“Š Chanson actuelle chargÃ©e:",O),O?(console.warn("âœ… Chanson trouvÃ©e - id:",O.id),console.warn("âœ… Chanson trouvÃ©e - title:",O.title),console.warn("âœ… Chanson trouvÃ©e - youtube_url:",O.youtube_url),console.warn("âœ… Chanson trouvÃ©e - youtube_music_url:",O.youtube_music_url),console.warn("âœ… Chanson trouvÃ©e - has_youtube_music_url:",!!O.youtube_music_url),console.warn("âœ… Chanson trouvÃ©e - typeof youtube_music_url:",typeof O.youtube_music_url),console.warn("âœ… Chanson trouvÃ©e - toutes les clÃ©s:",Object.keys(O)),console.warn("âœ… Chanson trouvÃ©e - youtube_music_url in keys?","youtube_music_url"in O)):console.warn("âŒ Aucune chanson trouvÃ©e par getCurrent()"),t(O),console.warn("ðŸ”ðŸ”ðŸ” FORCE DEBUG AVANT setDisplayedSong - song:",O),console.warn("ðŸ”ðŸ”ðŸ” FORCE DEBUG AVANT setDisplayedSong - song.youtube_music_url:",O==null?void 0:O.youtube_music_url),console.warn("ðŸ”ðŸ”ðŸ” FORCE DEBUG AVANT setDisplayedSong - song.youtube_url:",O==null?void 0:O.youtube_url),console.warn("ðŸ”ðŸ”ðŸ” FORCE DEBUG AVANT setDisplayedSong - keys:",O?Object.keys(O):[]),T(O),console.warn("ðŸ”ðŸ”ðŸ” FORCE DEBUG APRES setDisplayedSong - song:",O),console.warn("ðŸ”ðŸ”ðŸ” FORCE DEBUG APRES setDisplayedSong - song.youtube_music_url:",O==null?void 0:O.youtube_music_url)}catch(O){console.error("âŒ Erro ao carregar mÃºsica atual:",O),c("Erro ao carregar a mÃºsica da semana. Tente novamente.")}finally{o(!1)}}),I=()=>x(null,null,function*(){try{console.warn("ðŸ”„ Chargement des musiques rÃ©centes depuis Supabase...");const O=yield Xe.list("-release_date",null);console.warn("ðŸ“Š Toutes les musiques chargÃ©es:",O);const ie=new Date,le=qa(ie),F=Ha(ie),W=O.filter(ot=>{const ue=ye(ot.release_date);return $c(ue,{start:le,end:F})});console.warn("ðŸ“… Musiques du mois en cours:",W),n(W)}catch(O){console.error("âŒ Erro ao carregar mÃºsicas recentes:",O)}}),P=()=>{E()},V=(O,ie)=>{ie&&(ie.preventDefault(),ie.stopPropagation()),console.warn("ðŸŽµ handleReplaceVideo appelÃ© avec:",O.title),T(O),window.scrollTo({top:0,behavior:"smooth"})},B=O=>{N(O),v(!0)},te=O=>{N(O),b(!0)},ge=O=>{N(O),k(!0)},Ae=O=>x(null,null,function*(){if(navigator.share)try{yield navigator.share({title:`${O.title} - ${O.artist}`,text:"Confira esta mÃºsica incrÃ­vel da MÃºsica da Segunda!",url:O.youtube_music_url||O.youtube_url||window.location.href})}catch(ie){}else{const ie=`${O.title} - ${O.artist}
Confira esta mÃºsica incrÃ­vel da MÃºsica da Segunda!`;navigator.clipboard.writeText(ie),alert("Link copiado para a Ã¡rea de transferÃªncia!")}}),$e=()=>{const O=new Date;return O.setMonth(O.getMonth()-1),oe(O,"yyyy-MM")},se=()=>{const O=$e();s(`/calendar?month=${O}`)},Te=O=>{if(!O)return console.warn("ðŸ” extractYouTubeId: URL vide ou null"),null;if(console.warn("ðŸ” extractYouTubeId: Analyse de l'URL:",O),O.includes("music.youtube.com"))return console.warn("âš ï¸ extractYouTubeId: URL YouTube Music dÃ©tectÃ©e (playlist), pas de vidÃ©o individuelle"),null;const ie=[/(?:youtube\.com\/shorts\/)([A-Za-z0-9_-]{11})/,/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/|youtube\.com\/v\/)([A-Za-z0-9_-]{11})/,/^([A-Za-z0-9_-]{11})$/];for(const le of ie){const F=O.match(le);if(F){const W=F[1];return console.warn("âœ… extractYouTubeId: ID trouvÃ©:",W,"depuis URL:",O),W}}return console.warn("âŒ extractYouTubeId: Aucun ID YouTube trouvÃ© dans:",O),null},U=O=>O?O.includes("playlist?list=")||O.includes("music.youtube.com"):!1;return ma({title:"A MÃºsica da Segunda: ParÃ³dias das NotÃ­cias do Brasil",description:"A MÃºsica da Segunda: As NotÃ­cias do Brasil em Forma de ParÃ³dia. Site oficial de parÃ³dias musicais inteligentes e divertidas.",keywords:"mÃºsica da segunda, parÃ³dias musicais, notÃ­cias do brasil, mÃºsica brasileira, descoberta musical, nova mÃºsica toda segunda",image:e==null?void 0:e.cover_image,url:"/",type:"website"}),i?r.jsxs("div",{className:"p-5 max-w-md mx-auto md:max-w-2xl lg:max-w-4xl",children:[r.jsxs(vt,{children:[r.jsx("title",{children:"A MÃºsica da Segunda: ParÃ³dias das NotÃ­cias do Brasil"}),r.jsx("meta",{name:"description",content:"A MÃºsica da Segunda: As NotÃ­cias do Brasil em Forma de ParÃ³dia. Site oficial de parÃ³dias musicais inteligentes e divertidas."})]}),r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-black text-white drop-shadow-lg mb-2",children:"A MÃºsica da Segunda"}),r.jsx("p",{className:"text-white/80 font-medium text-lg md:text-xl drop-shadow-md",children:"Descubra mÃºsica nova toda segunda-feira"})]}),r.jsx("div",{className:"flex items-center justify-center py-20",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),r.jsx("p",{className:"text-white/80",children:"Carregando mÃºsica da semana..."})]})})]}):l?r.jsxs("div",{className:"p-5 max-w-md mx-auto md:max-w-2xl lg:max-w-4xl",children:[r.jsxs(vt,{children:[r.jsx("title",{children:"A MÃºsica da Segunda: ParÃ³dias das NotÃ­cias do Brasil"}),r.jsx("meta",{name:"description",content:"A MÃºsica da Segunda: As NotÃ­cias do Brasil em Forma de ParÃ³dia. Site oficial de parÃ³dias musicais inteligentes e divertidas."})]}),r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h2",{className:"text-4xl md:text-5xl lg:text-6xl font-black text-white drop-shadow-lg mb-2",children:"MÃºsica da Segunda"}),r.jsx("p",{className:"text-white/80 font-medium text-lg md:text-xl drop-shadow-md",children:"Descubra mÃºsica nova toda segunda-feira"})]}),r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-3xl p-6 text-center",children:[r.jsx(vs,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold text-red-800 mb-2",children:"Erro ao carregar"}),r.jsx("p",{className:"text-red-600 mb-4",children:l}),r.jsxs("button",{onClick:P,className:"inline-flex items-center gap-2 bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg transition-colors",children:[r.jsx(gs,{className:"w-4 h-4"}),"Tentar novamente"]})]})]}):r.jsxs("div",{className:"p-5 max-w-md mx-auto md:max-w-2xl lg:max-w-4xl",children:[r.jsx("div",{className:"lg:hidden text-center mb-8",children:r.jsxs("div",{className:"flex items-center justify-center gap-4 mb-4",children:[r.jsx("div",{className:"w-16 h-16 rounded-full overflow-hidden border-4 border-white/20 shadow-xl flex-shrink-0",children:r.jsx("img",{src:"images/Musica da segunda.jpg",alt:"Logo MÃºsica da Segunda",className:"w-full h-full object-cover"})}),r.jsxs("div",{className:"text-left",children:[r.jsx("h2",{className:"text-2xl md:text-3xl font-black text-white drop-shadow-lg mb-1",children:"A MÃºsica da Segunda"}),r.jsx("p",{className:"text-white/80 font-medium text-sm md:text-base drop-shadow-md",children:"Descubra mÃºsica nova toda segunda-feira"})]})]})}),r.jsxs("div",{className:"hidden lg:grid lg:grid-cols-2 lg:gap-8 lg:mt-8",children:[r.jsxs("div",{className:"space-y-6",children:[S?r.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-lg",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4 text-center",children:r.jsxs("button",{onClick:()=>ge(S),className:"inline-flex items-center gap-2 hover:text-blue-600 transition-colors cursor-pointer",title:"Ver descriÃ§Ã£o da mÃºsica",children:[r.jsx("span",{className:"text-2xl",children:"â„¹ï¸"}),r.jsx("span",{children:S.title})]})}),r.jsx("p",{className:"text-gray-600 text-center mb-4",children:oe(ye(S.release_date),"dd/MM/yyyy",{locale:be})}),r.jsx(_c,{youtube_music_url:S.youtube_music_url,youtube_url:S.youtube_url,title:S.title}),r.jsxs("div",{className:"mt-4 text-center",children:[r.jsx("h4",{className:"font-bold text-gray-800 text-lg mb-2",children:S.title}),r.jsx("p",{className:"text-gray-600",children:S.artist}),r.jsx("p",{className:"text-gray-500 text-sm mt-1",children:oe(ye(S.release_date),"dd/MM/yyyy",{locale:be})})]}),r.jsx("div",{className:"mt-6",children:r.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[r.jsx(z,{variant:"outline",className:"bg-white/70 hover:bg-white/90 text-gray-700 font-semibold border-gray-300 py-3 rounded-2xl text-sm",onClick:()=>B(S),children:"Plataformas"}),r.jsx(z,{variant:"outline",className:"bg-white/70 hover:bg-white/90 text-gray-700 font-semibold border-gray-300 py-3 rounded-2xl text-sm",onClick:()=>te(S),children:"Letras"}),r.jsx(z,{variant:"outline",className:"bg-white/70 hover:bg-white/90 text-gray-700 font-semibold border-gray-300 py-3 rounded-2xl text-sm",onClick:()=>Ae(S),children:"Compartilhar"})]})})]}):r.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-lg",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4 text-center",children:"â„¹ï¸ Nenhuma mÃºsica disponÃ­vel"}),r.jsx("div",{className:"bg-gradient-to-br from-gray-100 to-gray-200 rounded-2xl flex items-center justify-center",style:{height:"min(70vh, 600px)",aspectRatio:"16/9"},children:r.jsxs("div",{className:"text-center text-gray-500",children:[r.jsx(Se,{className:"w-16 h-16 mx-auto mb-4"}),r.jsx("p",{className:"text-lg font-medium",children:"Nenhuma mÃºsica disponÃ­vel"}),r.jsx("p",{className:"text-sm",children:"Volte na segunda-feira!"})]})})]}),r.jsx(Xa,{})]}),r.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-lg",children:[r.jsx("div",{className:"mb-6",children:r.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center gap-3",children:[r.jsx(Mt,{className:"w-6 h-6 text-blue-600"}),"MÃºsicas do MÃªs"]})}),a.length>0?r.jsx("div",{className:"space-y-4",children:a.map(O=>r.jsx("div",{className:"bg-white rounded-2xl p-4 shadow-md hover:shadow-lg transition-all duration-200 border border-gray-100",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-500 rounded-xl flex items-center justify-center flex-shrink-0 shadow-md hover:shadow-lg transition-all duration-200 cursor-pointer transform hover:scale-105",onClick:ie=>V(O,ie),title:"Clique para ver esta mÃºsica na coluna de vÃ­deo",children:r.jsx(gt,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-800 truncate cursor-pointer hover:underline",onClick:ie=>V(O,ie),title:"Clique para ver esta mÃºsica na coluna de vÃ­deo",children:O.title}),r.jsx("p",{className:"text-gray-600 text-base font-medium mt-1",children:O.artist}),r.jsx("p",{className:"text-gray-500 text-sm font-medium mt-1",children:oe(ye(O.release_date),"dd/MM/yyyy",{locale:be})})]})]})},O.id))}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Se,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500",children:"Nenhuma mÃºsica publicada este mÃªs ainda"})]}),r.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:r.jsxs("button",{onClick:se,className:"inline-flex items-center gap-2 text-gray-500 hover:text-gray-700 text-sm transition-colors group cursor-pointer",children:[r.jsx(dr,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"}),"Ver mÃºsicas de ",oe(new Date(new Date().setMonth(new Date().getMonth()-1)),"MMMM yyyy",{locale:be})]})})]})]}),r.jsxs("div",{className:"lg:hidden",children:[S?r.jsx("div",{className:"mb-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-3",children:r.jsx("div",{className:"flex items-start justify-between",children:r.jsxs("div",{className:"flex-1",children:[r.jsx("h2",{className:"text-lg font-bold text-gray-800 leading-tight line-clamp-2",children:S.title}),r.jsx("p",{className:"text-sm text-blue-700 mt-1",children:oe(ye(S.release_date),"dd/MM/yyyy",{locale:be})})]})})}),r.jsx("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden mb-4",children:r.jsx(_c,{youtube_music_url:S.youtube_music_url,youtube_url:S.youtube_url,title:S.title})}),r.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-4",children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs(z,{variant:"outline",className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-700 py-3 px-4 rounded-xl font-medium transition-colors",onClick:()=>B(S),children:[r.jsx(Se,{className:"w-5 h-5 inline mr-2"}),"Plataformas"]}),S.lyrics&&S.lyrics.trim()&&r.jsxs(z,{variant:"outline",className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-700 py-3 px-4 rounded-xl font-medium transition-colors",onClick:()=>te(S),children:[r.jsx(zt,{className:"w-5 h-5 inline mr-2"}),"Letras"]}),r.jsxs(z,{variant:"outline",className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-700 py-3 px-4 rounded-xl font-medium transition-colors",onClick:()=>Ae(S),children:[r.jsx(gt,{className:"w-5 h-5 inline mr-2"}),"Compartilhar"]})]})})]})}):r.jsxs("div",{className:"bg-white/20 rounded-3xl p-8 text-center",children:[r.jsx(Se,{className:"w-16 h-16 text-white/60 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Nenhuma mÃºsica disponÃ­vel"}),r.jsx("p",{className:"text-white/80",children:"A mÃºsica da semana serÃ¡ publicada em breve. Volte na segunda-feira!"})]}),r.jsx(Xa,{}),r.jsx("div",{className:"mt-8",children:r.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-lg",children:[r.jsx("div",{className:"mb-6",children:r.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center gap-3",children:[r.jsx(Mt,{className:"w-6 h-6 text-blue-600"}),"MÃºsicas do MÃªs"]})}),a.length>0?r.jsx("div",{className:"space-y-4",children:a.map(O=>r.jsx("div",{className:"bg-white rounded-2xl p-4 shadow-md hover:shadow-lg transition-all duration-200 border border-gray-100",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-500 rounded-xl flex items-center justify-center flex-shrink-0 shadow-md hover:shadow-lg transition-all duration-200 cursor-pointer transform hover:scale-105",onClick:ie=>V(O,ie),title:"Clique para ver esta mÃºsica na coluna de vÃ­deo",children:r.jsx(gt,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"font-bold text-gray-800 text-lg truncate cursor-pointer hover:underline",onClick:ie=>V(O,ie),title:"Clique para ver esta mÃºsica na coluna de vÃ­deo",children:O.title}),r.jsx("p",{className:"text-gray-600 text-base font-medium mt-1",children:O.artist}),r.jsx("p",{className:"text-gray-500 text-sm font-medium mt-1",children:oe(ye(O.release_date),"dd/MM/yyyy",{locale:be})})]})]})},O.id))}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Se,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500",children:"Nenhuma mÃºsica publicada este mÃªs ainda"})]}),r.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:r.jsxs("button",{onClick:se,className:"inline-flex items-center gap-2 text-gray-500 hover:text-gray-700 text-sm transition-colors group cursor-pointer",children:[r.jsx(dr,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"}),"Ver mÃºsicas de ",oe(new Date(new Date().setMonth(new Date().getMonth()-1)),"MMMM yyyy",{locale:be})]})})]})})]}),f&&d&&r.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center p-4 z-50",children:r.jsx("div",{className:"bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("h2",{className:"text-3xl font-bold text-blue-900",children:["ðŸŽ¬ ",d.title]}),r.jsx("button",{onClick:()=>m(!1),className:"text-gray-500 hover:text-gray-700 text-2xl font-bold p-2 hover:bg-gray-100 rounded-full transition-colors",children:"âœ•"})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-4 border border-blue-200",children:[r.jsx("h3",{className:"text-xl font-bold text-blue-900 mb-2",children:d.title}),r.jsx("p",{className:"text-blue-700 font-medium",children:d.artist}),r.jsxs("p",{className:"text-blue-600 text-sm",children:["ðŸ“… LanÃ§amento: ",oe(ye(d.release_date),"dd/MM/yyyy",{locale:be})]})]}),(()=>{const O=d.youtube_music_url||d.youtube_url,ie=Te(O);return ie?r.jsx("div",{className:"bg-black rounded-xl overflow-hidden shadow-2xl",children:r.jsx(zd,{videoId:ie,className:"w-full",title:d.title})}):U(O)?r.jsx("div",{className:"bg-black rounded-xl overflow-hidden shadow-2xl",children:r.jsx(vb,{playlistUrl:O,className:"w-full",title:d.title})}):null})(),r.jsxs("div",{className:"flex gap-4 justify-center",children:[(d.youtube_music_url||d.youtube_url)&&r.jsx("button",{onClick:()=>window.open(d.youtube_music_url||d.youtube_url,"_blank"),className:"bg-[#FF0000] text-white px-6 py-3 rounded-xl font-semibold hover:bg-[#cc0000] transition-colors flex items-center gap-2",children:"ðŸ“º Ver no YouTube"}),r.jsx("button",{onClick:()=>m(!1),className:"bg-gray-200 text-gray-700 px-6 py-3 rounded-xl font-semibold hover:bg-gray-300 transition-colors",children:"Fechar"})]})]})]})})}),r.jsx(Bt,{open:g,onOpenChange:v,children:r.jsxs(Pt,{className:"bg-[#f8f5f2] max-w-md",children:[r.jsx(ns,{children:r.jsx(qt,{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:"ðŸŽµ Ouvir em outras plataformas"})}),y&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-4 border border-blue-200",children:[r.jsx("h3",{className:"text-lg font-bold text-blue-900 mb-1",children:y.title}),r.jsx("p",{className:"text-blue-700 font-medium",children:y.artist})]}),r.jsxs("div",{className:"space-y-3",children:[y.spotify_url&&r.jsx("a",{href:y.spotify_url,target:"_blank",rel:"noopener noreferrer",className:"block",children:r.jsx(z,{className:"w-full bg-[#1DB954] hover:bg-[#1ed760] text-white font-bold py-3 rounded-2xl text-sm transition-all duration-200 hover:scale-105",children:"ðŸŽ§ Ouvir no Spotify"})}),y.apple_music_url&&r.jsx("a",{href:y.apple_music_url,target:"_blank",rel:"noopener noreferrer",className:"block",children:r.jsx(z,{className:"w-full bg-gradient-to-r from-[#FA233B] to-[#FB5C74] hover:opacity-90 text-white font-bold py-3 rounded-2xl text-sm transition-all duration-200 hover:scale-105",children:"ðŸŽµ Ouvir no Apple Music"})}),(y.youtube_music_url||y.youtube_url)&&r.jsx("a",{href:y.youtube_music_url||y.youtube_url,target:"_blank",rel:"noopener noreferrer",className:"block",children:r.jsx(z,{className:"w-full bg-[#FF0000] hover:bg-[#cc0000] text-white font-bold py-3 rounded-2xl text-sm transition-all duration-200 hover:scale-105",children:"ðŸ“º Assistir no YouTube"})}),!y.spotify_url&&!y.apple_music_url&&!y.youtube_music_url&&!y.youtube_url&&r.jsxs("div",{className:"text-center py-6",children:[r.jsx(Se,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),r.jsx("p",{className:"text-gray-600 font-medium",children:"Links de streaming em breve..."}),r.jsx("p",{className:"text-gray-500 text-sm",children:"Esta mÃºsica serÃ¡ disponibilizada em breve nas principais plataformas."})]})]})]})]})}),r.jsx(yo,{open:j,onOpenChange:b,song:y,title:"ðŸ“ Letras da MÃºsica",maxHeight:"h-52",showIcon:!1}),r.jsx(Bt,{open:C,onOpenChange:k,children:r.jsxs(Pt,{className:"bg-[#f8f5f2] max-w-2xl max-h-[80vh]",children:[r.jsx(ns,{children:r.jsx(qt,{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:"â„¹ï¸ DescriÃ§Ã£o da MÃºsica"})}),y&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-4 border border-blue-200",children:[r.jsx("h3",{className:"text-lg font-bold text-blue-900 mb-1",children:y.title}),r.jsx("p",{className:"text-blue-700 font-medium",children:y.artist}),r.jsxs("p",{className:"text-blue-600 text-sm",children:["ðŸ“… ",oe(ye(y.release_date),"dd/MM/yyyy",{locale:be})]})]}),r.jsx("div",{className:"bg-white rounded-xl p-4 border border-gray-200",children:y.description?r.jsx(bn,{className:"h-60",children:r.jsx("div",{className:"pr-4",children:r.jsx("pre",{className:"text-gray-700 whitespace-pre-wrap font-sans text-sm leading-relaxed",children:y.description})})}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(zt,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),r.jsx("p",{className:"text-gray-600 font-medium",children:"DescriÃ§Ã£o nÃ£o disponÃ­vel"}),r.jsx("p",{className:"text-gray-500 text-sm",children:"A descriÃ§Ã£o desta mÃºsica serÃ¡ adicionada em breve."})]})})]})]})})]})}function R0(){return console.warn("âœ… YoutubeTest component loaded"),r.jsxs("div",{className:"p-5",children:[r.jsx("h1",{className:"text-4xl font-bold text-white",children:"YouTube Test Page"}),r.jsx("p",{className:"text-white mt-4",children:"Si vous voyez ce message, le routing fonctionne !"})]})}function P0(){console.warn("ðŸŽ¬ YoutubeSimple component loaded");const[s,e]=h.useState(null),[t,a]=h.useState(!0);h.useEffect(()=>{console.warn("ðŸŽ¬ YoutubeSimple useEffect triggered"),n()},[]);const n=()=>x(null,null,function*(){a(!0);try{const l=yield Xe.getCurrent();console.warn("ðŸ“Š Chanson actuelle chargÃ©e:",l),e(l)}catch(l){console.error("âŒ Erro ao carregar mÃºsica atual:",l)}finally{a(!1)}}),i=l=>{if(!l)return null;const c=l.match(/(?:v=|youtu\.be\/|embed\/)([A-Za-z0-9_-]{11})/);return c?c[1]:null};if(t)return r.jsx("div",{className:"p-5 max-w-md mx-auto",children:r.jsxs("div",{className:"text-center py-20",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),r.jsx("p",{className:"text-white/80",children:"Carregando..."})]})});if(!s)return r.jsx("div",{className:"p-5 max-w-md mx-auto",children:r.jsx("div",{className:"text-center text-white",children:r.jsx("p",{className:"text-lg",children:"Nenhuma mÃºsica disponÃ­vel"})})});const o=i(s.youtube_url);return r.jsxs("div",{className:"p-5 max-w-md mx-auto",children:[r.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:s.title}),o?r.jsx("div",{className:"bg-black rounded-2xl overflow-hidden shadow-xl",children:r.jsx(zd,{videoId:o,className:"w-full",title:s.title})}):r.jsxs("div",{className:"bg-gray-800 rounded-2xl p-8 text-center text-white",children:[r.jsx("p",{children:"YouTube URL non disponible pour cette chanson"}),r.jsxs("p",{className:"text-sm text-gray-400 mt-2",children:["URL: ",s.youtube_url||"Aucune"]})]})]})}const jc=h.lazy(()=>It(()=>import("./TikTokDemo-7EJRoNPo.js"),__vite__mapDeps([0,1,2,3]))),So=[{path:"/",component:Yl,name:"Home",seo:{title:"A MÃºsica da Segunda - Nova mÃºsica toda segunda-feira",description:"Descubra uma nova mÃºsica incrÃ­vel toda segunda-feira. Sua dose semanal de descobertas musicais.",keywords:"mÃºsica, segunda-feira, descobertas musicais, nova mÃºsica, playlist semanal"}},{path:"/home",component:Yl,name:"Home",seo:{title:"A MÃºsica da Segunda - Nova mÃºsica toda segunda-feira",description:"Descubra uma nova mÃºsica incrÃ­vel toda segunda-feira. Sua dose semanal de descobertas musicais.",keywords:"mÃºsica, segunda-feira, descobertas musicais, nova mÃºsica, playlist semanal"}},{path:"/calendar",component:Cy,name:"Calendar",seo:{title:"CalendÃ¡rio Musical - A MÃºsica da Segunda",description:"CalendÃ¡rio completo de todas as mÃºsicas publicadas. Explore a histÃ³ria musical do projeto.",keywords:"calendÃ¡rio musical, mÃºsicas, histÃ³rico, publicaÃ§Ã£o semanal"}},{path:"/adventcalendar",component:Oy,name:"AdventCalendar",seo:{title:"Ano 2025 - CalendÃ¡rio do Advento Musical",description:"CalendÃ¡rio do advento musical com todas as mÃºsicas de 2025.",keywords:"calendÃ¡rio advento, mÃºsica 2025, ano novo"}},{path:"/sobre",component:j0,name:"Sobre",seo:{title:"Sobre - A MÃºsica da Segunda",description:"ConheÃ§a a histÃ³ria do projeto A MÃºsica da Segunda e descubra como nasceu essa paixÃ£o pela mÃºsica.",keywords:"sobre, histÃ³ria, projeto, mÃºsica brasileira"}},{path:"/api/content-for-ai.json",component:S0,name:"ContentForAI",seo:null},{path:"/blog",component:k0,name:"Blog",seo:{title:"Blog - A MÃºsica da Segunda",description:"Artigos e notÃ­cias sobre mÃºsica, cultura e atualidades.",keywords:"blog, artigos, notÃ­cias, cultura musical"}},{path:"/admin",component:_0,name:"Admin",seo:null},{path:"/login",component:Yu,name:"Login",seo:null},{path:"/playlist",component:vc,name:"Playlist",seo:{title:"Playlist - Todas as MÃºsicas",description:"Lista completa de todas as mÃºsicas publicadas no projeto A MÃºsica da Segunda.",keywords:"playlist, todas as mÃºsicas, lista completa"}},{path:"/chansons",component:vc,name:"Playlist",seo:{title:"CanÃ§Ãµes - Todas as MÃºsicas",description:"Lista completa de todas as canÃ§Ãµes publicadas no projeto A MÃºsica da Segunda.",keywords:"canÃ§Ãµes, todas as mÃºsicas, lista completa"}},{path:"/chansons/:slug",component:A0,name:"Song",seo:null},{path:"/youtube-test",component:R0,name:"YoutubeTest",seo:null},{path:"/youtube-simple",component:P0,name:"YoutubeSimple",seo:null},{path:"/youtube",component:O0,name:"Youtube",seo:null},{path:"/tiktokdemo",component:jc,name:"TikTokDemo",seo:null},{path:"/tiktok/:id",component:jc,name:"TikTokDemo",seo:null}];So.reduce((s,e)=>(s[e.name]=e.component,s),{});function I0(s){s.startsWith("#")&&(s=s.slice(1)),s.endsWith("/")&&(s=s.slice(0,-1));let e=s.split("/").pop();if(e.includes("?")&&(e=e.split("?")[0]),!e||e==="amusicadaegunda")return"Home";if(e.startsWith("tiktok"))return"TikTokDemo";if(s.startsWith("/chansons/")&&e!=="chansons")return"Song";const t=So.find(a=>a.path.split("/").pop().toLowerCase()===e.toLowerCase());return t?t.name:"Home"}function M0(){const s=ls(),e=I0(s.pathname);return r.jsx(Op,{currentPageName:e,children:r.jsx(vm,{children:So.map(t=>r.jsx(Zc,{path:t.path,element:r.jsx(t.component,{})},t.path))})})}function D0(){return r.jsx(zm,{children:r.jsx(M0,{})})}const Gu=h.forwardRef((t,e)=>{var s=$(t,[]);return r.jsx("div",p({ref:e,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]"},s))});Gu.displayName="ToastProvider";const Ku=h.forwardRef((t,e)=>{var s=$(t,[]);return r.jsx("div",p({ref:e,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]"},s))});Ku.displayName="ToastViewport";const L0=pn("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Zu=h.forwardRef((n,a)=>{var i=n,{className:s,variant:e}=i,t=$(i,["className","variant"]);return r.jsx("div",p({ref:a,className:ve(L0({variant:e}),s)},t))});Zu.displayName="Toast";const $0=h.forwardRef((a,t)=>{var n=a,{className:s}=n,e=$(n,["className"]);return r.jsx("div",p({ref:t,className:ve("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",s)},e))});$0.displayName="ToastAction";const Ju=h.forwardRef((a,t)=>{var n=a,{className:s}=n,e=$(n,["className"]);return r.jsx("button",A(p({ref:t,className:ve("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",s),"data-toast-close":""},e),{children:r.jsx(mt,{className:"h-4 w-4"})}))});Ju.displayName="ToastClose";const Xu=h.forwardRef((a,t)=>{var n=a,{className:s}=n,e=$(n,["className"]);return r.jsx("div",p({ref:t,className:ve("text-sm font-semibold",s)},e))});Xu.displayName="ToastTitle";const Qu=h.forwardRef((a,t)=>{var n=a,{className:s}=n,e=$(n,["className"]);return r.jsx("div",p({ref:t,className:ve("text-sm opacity-90",s)},e))});Qu.displayName="ToastDescription";function U0(){const{toasts:s}=Jd();return r.jsxs(Gu,{children:[s.map(function(o){var l=o,{id:e,title:t,description:a,action:n}=l,i=$(l,["id","title","description","action"]);return r.jsxs(Zu,A(p({},i),{children:[r.jsxs("div",{className:"grid gap-1",children:[t&&r.jsx(Xu,{children:t}),a&&r.jsx(Qu,{children:a})]}),n,r.jsx(Ju,{})]}),e)}),r.jsx(Ku,{})]})}function B0(){const[s,e]=h.useState(navigator.onLine),[t,a]=h.useState(!1);return h.useEffect(()=>{const n=()=>{e(!0),a(!1),console.log("ðŸŒ Connexion restaurÃ©e")},i=()=>{e(!1),a(!0),console.log("ðŸ“± Mode hors ligne dÃ©tectÃ©"),setTimeout(()=>a(!1),5e3)};return window.addEventListener("online",n),window.addEventListener("offline",i),navigator.onLine||e(!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",i)}},[]),s?null:r.jsxs("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50",children:[t&&r.jsxs("div",{className:"bg-yellow-500 text-white px-4 py-2 rounded-lg shadow-lg flex items-center gap-2 animate-bounce",children:[r.jsx("span",{children:"ðŸ“±"}),r.jsx("span",{className:"text-sm font-medium",children:"Mode hors ligne - App disponÃ­vel offline"})]}),r.jsxs("div",{className:"bg-gray-800 text-white px-3 py-1 rounded-full text-xs flex items-center gap-1",children:[r.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),r.jsx("span",{children:"Offline"})]})]})}const cr={};function F0(o){return x(this,arguments,function*({endpoint:s,p256dh:e,auth:t,topic:a="new-song",locale:n="pt-BR",vapidKeyVersion:i="v1"}){if(!s||!e||!t)throw new Error("Missing subscription fields: endpoint, p256dh, auth");const{data:l,error:c}=yield Le.from("push_subscriptions").upsert({endpoint:s,p256dh:e,auth:t,topics:[a],locale:n,vapid_key_version:i},{onConflict:"endpoint"}).select("endpoint").single();if(c)throw c;return l})}console.warn("ðŸš€ PUSH LIB LOADED - VERSION:",Date.now());const Fr="BNmWY52nhsYuohsMsFuFw5-vPv20qLw6nehrF-vyzPm87xU-6cPUoJhwtAVxj_18TcREBqx2uLdr5dcl57gVVNw",Sc=(cr==null?void 0:cr.VITE_PUSH_API_BASE)||"https://musica-da-segunda-push.vercel.app",Nc=(cr==null?void 0:cr.VITE_VAPID_KEY_VERSION)||"v1",V0=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1,z0=()=>navigator.standalone===!0,q0=()=>/Android/i.test(navigator.userAgent),kc=()=>V0()||q0(),eh=()=>"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window,Tc=s=>{const e="=".repeat((4-s.length%4)%4),t=(s+e).replace(/-/g,"+").replace(/_/g,"/"),a=atob(t),n=new Uint8Array(a.length);for(let i=0;i<a.length;++i)n[i]=a.charCodeAt(i);return n},H0=()=>localStorage.getItem("push_optout")==="true",W0=()=>{if(!eh()||H0())return!1;const s=localStorage.getItem("push_refused_until");return s&&Date.now()<Number(s)||!kc()?!1:kc()?z0():!1};function Y0(){return x(this,null,function*(){try{return console.warn("ðŸ” RÃ©cupÃ©ration du Service Worker existant..."),yield navigator.serviceWorker.ready}catch(s){return console.warn("âš ï¸ SW pas prÃªt, tentative d'enregistrement..."),yield navigator.serviceWorker.register("/sw.js")}})}function G0(){return x(this,arguments,function*({locale:s="pt-BR"}={}){var o;if(console.warn("ðŸ” DIAGNOSTIC VAPID:"),console.warn("VAPID_PUBLIC_KEY length:",Fr==null?void 0:Fr.length),console.warn("API_BASE:",Sc),console.warn("---"),console.warn("ðŸ” Starting push activation..."),!eh())throw console.error("âŒ Push not supported"),new Error("Push non supportÃ©");try{const l=Tc(Fr);if(console.warn("ðŸ”‘ VAPID key test - Length:",l.byteLength,"(doit Ãªtre 65)"),l.byteLength!==65)throw console.error("âŒ VAPID key invalide: longueur incorrecte"),new Error("VAPID key invalide: longueur incorrecte");console.warn("âœ… VAPID key valide")}catch(l){throw console.error("âŒ VAPID key error:",l),new Error("VAPID key invalide: "+l.message)}console.warn("âœ… Environment variables loaded");const e=yield Y0();if(!e)throw console.error("âŒ Service Worker registration failed"),new Error("Service Worker registration failed");console.warn("âœ… Service Worker registered"),console.warn("ðŸ” SW state:",(o=e.active)==null?void 0:o.state,"controller:",!!navigator.serviceWorker.controller);const t=yield Notification.requestPermission();if(console.warn("ðŸ” Permission result:",t),t!=="granted"){const l=Date.now()+2592e6;throw localStorage.setItem("push_refused_until",String(l)),new Error("Permission refusÃ©e")}console.warn("ðŸ”‘ Creating push subscription...");const a=yield e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Tc(Fr)});console.warn("âœ… Push subscription created");const n=btoa(String.fromCharCode(...new Uint8Array(a.getKey("p256dh")))),i=btoa(String.fromCharCode(...new Uint8Array(a.getKey("auth"))));console.warn("ðŸ“¡ Sending subscription to server (Supabase)...");try{yield F0({endpoint:a.endpoint,p256dh:n,auth:i,topic:"new-song",locale:s,vapidKeyVersion:Nc}),console.warn("âœ… Subscription saved to Supabase")}catch(l){console.error("âŒ Supabase save failed, trying API fallback:",l);const c=yield fetch(`${Sc}/push/subscribe`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({subscription:a,topic:"new-song",locale:s,vapidKeyVersion:Nc})});if(console.warn("ðŸ“Š API fallback response:",c.status,c.statusText),!c.ok){const d=yield c.text();throw console.error("âŒ Both Supabase and API failed:",d),yield a.unsubscribe(),new Error(`Subscribe failed: ${c.status} ${c.statusText}`)}}return console.warn("âœ… Push activation completed successfully"),a})}function K0(){const[s,e]=h.useState(!1),[t,a]=h.useState(!1),[n,i]=h.useState(null);h.useEffect(()=>{const c=setTimeout(()=>x(null,null,function*(){try{const d=yield W0();e(d)}catch(d){console.error("Erreur vÃ©rification CTA push:",d),e(!1)}}),3e3);return()=>clearTimeout(c)},[]);const o=()=>x(null,null,function*(){a(!0),i(null);try{yield G0(),e(!1)}catch(c){console.error("Ã‰chec de l'abonnement push :",c),Notification.permission==="denied"?i("Notifications bloquÃ©es. Veuillez les autoriser dans les paramÃ¨tres de votre navigateur."):i("Activation Ã©chouÃ©e. Veuillez rÃ©essayer.")}finally{a(!1)}}),l=()=>{e(!1)};return s?r.jsx("div",{className:"fixed bottom-5 left-1/2 -translate-x-1/2 z-50 w-full max-w-sm px-4 animate-in slide-in-from-bottom-5 duration-300",children:r.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 relative",children:[r.jsx("button",{onClick:l,className:"absolute top-2 right-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300","aria-label":"Fermer",children:r.jsx(mt,{className:"w-4 h-4"})}),r.jsxs("div",{className:"flex flex-col items-center gap-3 pr-6",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center",children:r.jsx(Ko,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),n?r.jsx("p",{className:"text-sm text-red-600 dark:text-red-400 text-center",children:n}):r.jsxs(r.Fragment,{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 text-center",children:"Ne manquez jamais une nouvelle chanson !"}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 text-center",children:"Recevez une notification chaque lundi"})]}),r.jsx(z,{onClick:o,disabled:t,className:"w-full bg-blue-600 hover:bg-blue-700 text-white",children:t?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"animate-spin mr-2",children:"â³"}),"Activation..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Ko,{className:"w-4 h-4 mr-2"}),"Activer les notifications"]})})]})]})}):null}const oi="v1.0.0",li="migration_confissoes_bancarias_cleanup",Z0={isCompleted(){return localStorage.getItem(li)===oi},markCompleted(){localStorage.setItem(li,oi),console.log("âœ… Migration ConfissÃµes BancÃ¡rias terminÃ©e")},execute(){return x(this,null,function*(){if(this.isCompleted()){console.log("ðŸ”„ Migration dÃ©jÃ  effectuÃ©e, passage...");return}console.log("ðŸš€ DÃ©but de la migration ConfissÃµes BancÃ¡rias...");try{this.cleanConfissoesBancarias(),yield this.forceSupabaseSync(),this.markCompleted(),console.log("ðŸŽ‰ Migration terminÃ©e avec succÃ¨s !")}catch(s){throw console.error("âŒ Erreur lors de la migration:",s),s}})},cleanConfissoesBancarias(){try{const s=JSON.parse(localStorage.getItem("songs")||"[]"),t=s.filter(a=>a.title!=="ConfissÃµes BancÃ¡rias"&&a.tiktok_video_id!=="7540762684149517590").map((a,n)=>A(p({},a),{id:n+1}));localStorage.setItem("songs",JSON.stringify(t)),console.log(`ðŸ§¹ localStorage nettoyÃ© : ${s.length-t.length} chanson(s) supprimÃ©e(s)`),console.log(`ðŸ“ ${t.length} chanson(s) conservÃ©e(s) et renumÃ©rotÃ©e(s)`)}catch(s){throw console.error("âŒ Erreur lors du nettoyage du localStorage:",s),s}},forceSupabaseSync(){return x(this,null,function*(){try{localStorage.setItem("force_supabase_sync","true"),localStorage.setItem("last_supabase_sync",new Date().toISOString()),console.log("ðŸ”„ Synchronisation Supabase forcÃ©e")}catch(s){throw console.error("âŒ Erreur lors de la synchronisation Supabase:",s),s}})},getStatus(){return{completed:this.isCompleted(),version:oi,lastSync:localStorage.getItem("last_supabase_sync"),forceSupabase:localStorage.getItem("force_supabase_sync")==="true"}},reset(){localStorage.removeItem(li),localStorage.removeItem("force_supabase_sync"),localStorage.removeItem("last_supabase_sync"),console.log("ðŸ”„ Migration rÃ©initialisÃ©e")}};function J0(){return h.useEffect(()=>{x(null,null,function*(){try{yield Z0.execute()}catch(e){console.error("âŒ Erreur lors de la migration:",e)}})},[]),r.jsxs(r.Fragment,{children:[r.jsx(B0,{}),r.jsx(D0,{}),r.jsx(U0,{}),r.jsx(K0,{})]})}class X0 extends Ut.Component{constructor(t){super(t);ut(this,"logErrorToService",(t,a)=>{const n={message:t.toString(),stack:t.stack,componentStack:a.componentStack,timestamp:new Date().toISOString(),userAgent:navigator.userAgent,url:window.location.href,errorCount:this.state.errorCount};console.log("ðŸ“Š Error data for monitoring:",n);try{const i=JSON.parse(localStorage.getItem("app_errors")||"[]");i.push(n),localStorage.setItem("app_errors",JSON.stringify(i.slice(-10)))}catch(i){console.error("Failed to save error to localStorage:",i)}});ut(this,"handleReset",()=>{this.setState({hasError:!1,error:null,errorInfo:null})});ut(this,"handleGoHome",()=>{window.location.href="/"});ut(this,"handleReload",()=>{window.location.reload()});this.state={hasError:!1,error:null,errorInfo:null,errorCount:0}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,a){console.error("ðŸš¨ ErrorBoundary caught an error:",t),console.error("ðŸ“ Error info:",a),this.setState(n=>({error:t,errorInfo:a,errorCount:n.errorCount+1})),this.props.onError&&this.props.onError(t,a),this.logErrorToService(t,a)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:r.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-gray-100 flex items-center justify-center p-4",children:r.jsxs("div",{className:"max-w-2xl w-full",children:[r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[r.jsx("div",{className:"bg-gradient-to-r from-red-500 to-pink-500 p-8 text-white",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"bg-white/20 rounded-full p-4",children:r.jsx(vs,{className:"w-12 h-12"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Oops! Algo deu errado"}),r.jsx("p",{className:"text-white/90 text-lg",children:"Encontramos um erro inesperado"})]})]})}),r.jsxs("div",{className:"p-8",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("p",{className:"text-gray-700 text-lg mb-4",children:"NÃ£o se preocupe, nÃ£o Ã© culpa sua! Nossa equipe foi notificada e estamos trabalhando para resolver o problema."}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[r.jsxs("h3",{className:"font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[r.jsx("span",{className:"text-blue-500",children:"â„¹ï¸"}),"O que vocÃª pode fazer:"]}),r.jsxs("ul",{className:"space-y-2 text-gray-600",children:[r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-green-500 mt-1",children:"âœ“"}),r.jsx("span",{children:"Recarregar a pÃ¡gina para tentar novamente"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-green-500 mt-1",children:"âœ“"}),r.jsx("span",{children:"Voltar para a pÃ¡gina inicial"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-green-500 mt-1",children:"âœ“"}),r.jsx("span",{children:"Limpar o cache do seu navegador"})]})]})]})]}),!1,r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mt-8",children:[r.jsxs(z,{onClick:this.handleReload,className:"flex-1 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white",size:"lg",children:[r.jsx(gs,{className:"w-5 h-5 mr-2"}),"Recarregar PÃ¡gina"]}),r.jsxs(z,{onClick:this.handleGoHome,variant:"outline",className:"flex-1 border-2",size:"lg",children:[r.jsx(Yr,{className:"w-5 h-5 mr-2"}),"Ir para InÃ­cio"]})]}),r.jsx("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:r.jsxs("p",{className:"text-sm text-blue-800",children:[r.jsx("span",{className:"font-semibold",children:"Precisa de ajuda?"})," Se o problema persistir, entre em contato conosco atravÃ©s do"," ",r.jsx("a",{href:"/sobre",className:"underline hover:text-blue-900 font-semibold",onClick:t=>{t.preventDefault(),this.handleGoHome()},children:"formulÃ¡rio de contato"}),"."]})})]}),r.jsx("div",{className:"bg-gray-50 px-8 py-4 border-t border-gray-200",children:r.jsxs("p",{className:"text-center text-sm text-gray-600",children:["CÃ³digo do erro: ",r.jsxs("code",{className:"bg-gray-200 px-2 py-1 rounded font-mono text-xs",children:["ERR_",new Date().getTime()]})]})})]}),r.jsx("div",{className:"mt-6 text-center text-sm text-gray-600",children:r.jsx("p",{children:"ðŸŽµ A MÃºsica da Segunda - Nova mÃºsica toda segunda-feira"})})]})}):this.props.children}}const Q0={},ew=(s,e)=>{console.log("ðŸ”´ Global error handler:",{error:s,errorInfo:e})};Ch.createRoot(document.getElementById("root")).render(r.jsx(Ut.StrictMode,{children:r.jsx(X0,{onError:ew,children:r.jsx(Zd,{context:Q0,children:r.jsx(J0,{})})})}));try{It(()=>import("./webvitals-BZ5LLXsT.js"),[]).catch(()=>{})}catch(s){console.warn("ðŸ”§ Mode non-module dÃ©tectÃ©, Web Vitals dÃ©sactivÃ©")}if("serviceWorker"in navigator){const s=()=>x(null,null,function*(){var e;try{const{Capacitor:t}=yield It(()=>x(null,null,function*(){const{Capacitor:a}=yield import("./index-BeggUThu.js");return{Capacitor:a}}),[]);return((e=t.isNativePlatform)==null?void 0:e.call(t))===!0}catch(t){return!1}});window.addEventListener("load",()=>x(null,null,function*(){(yield s())||navigator.serviceWorker.register("/sw.js").catch(console.error)}))}const tw=()=>x(null,null,function*(){var s;try{const{Capacitor:e}=yield It(()=>x(null,null,function*(){const{Capacitor:t}=yield import("./index-BeggUThu.js");return{Capacitor:t}}),[]);if((s=e.isNativePlatform)!=null&&s.call(e)){const{SplashScreen:t}=yield It(()=>x(null,null,function*(){const{SplashScreen:a}=yield import("./index-CNkd3vIL.js");return{SplashScreen:a}}),__vite__mapDeps([4,5,1,2,3]));yield t.hide()}}catch(e){}});tw();export{Qr as A,z as B,ke as I,gt as P,tl as R,It as _,hn as a,J as c,nm as u};
