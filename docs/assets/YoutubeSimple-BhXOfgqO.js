var m=(s,c,a)=>new Promise((o,n)=>{var i=r=>{try{t(a.next(r))}catch(u){n(u)}},l=r=>{try{t(a.throw(r))}catch(u){n(u)}},t=r=>r.done?o(r.value):Promise.resolve(r.value).then(i,l);t((a=a.apply(s,c)).next())});import{r as d,j as e}from"./vendor-DL-Jb0Mh.js";import{S as x}from"./index-BDkot_6S.js";import{Y as h}from"./YouTubePlayer-BqQW3_Rd.js";import"./libs-DqMydE2S.js";import"./utils-BVxV3L_t.js";import"./ui-BA32w1ww.js";import"./supabase-BBk6P3Ci.js";function y(){console.warn("üé¨ YoutubeSimple component loaded");const[s,c]=d.useState(null),[a,o]=d.useState(!0);d.useEffect(()=>{console.warn("üé¨ YoutubeSimple useEffect triggered"),n()},[]);const n=()=>m(null,null,function*(){o(!0);try{const t=yield x.getCurrent();console.warn("üìä Chanson actuelle charg√©e:",t),c(t)}catch(t){console.error("‚ùå Erro ao carregar m√∫sica atual:",t)}finally{o(!1)}}),i=t=>{if(!t)return null;const r=t.match(/(?:v=|youtu\.be\/|embed\/)([A-Za-z0-9_-]{11})/);return r?r[1]:null};if(a)return e.jsx("div",{className:"p-5 max-w-md mx-auto",children:e.jsxs("div",{className:"text-center py-20",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),e.jsx("p",{className:"text-white/80",children:"Carregando..."})]})});if(!s)return e.jsx("div",{className:"p-5 max-w-md mx-auto",children:e.jsx("div",{className:"text-center text-white",children:e.jsx("p",{className:"text-lg",children:"Nenhuma m√∫sica dispon√≠vel"})})});const l=i(s.youtube_url);return e.jsxs("div",{className:"p-5 max-w-md mx-auto",children:[e.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:s.title}),l?e.jsx("div",{className:"bg-black rounded-2xl overflow-hidden shadow-xl",children:e.jsx(h,{videoId:l,className:"w-full",title:s.title})}):e.jsxs("div",{className:"bg-gray-800 rounded-2xl p-8 text-center text-white",children:[e.jsx("p",{children:"YouTube URL non disponible pour cette chanson"}),e.jsxs("p",{className:"text-sm text-gray-400 mt-2",children:["URL: ",s.youtube_url||"Aucune"]})]})]})}export{y as default};
