const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Calendar-Bpg6I4Mb.js","assets/vendor-DL-Jb0Mh.js","assets/libs-DqMydE2S.js","assets/utils-BVxV3L_t.js","assets/ui-BA32w1ww.js","assets/supabase-BBk6P3Ci.js","assets/AdventCalendar-B8bWYbDS.js","assets/ProtectedAdmin-BENIk7GR.js","assets/input-DIo3SayV.js","assets/badge-D2OEdtLG.js","assets/card-C15vmaIE.js","assets/Login-7-tFurQt.js","assets/ProtectedAdmin-D0tnbmQj.css","assets/Sobre-ChkEk_gR.js","assets/ContentForAI-DGsFYUO1.js","assets/Blog-p32dRr_b.js","assets/Playlist-8Qz_KuTt.js","assets/Song-CpVTdeVw.js","assets/Youtube-Bwg621tQ.js","assets/YouTubePlayer-BqQW3_Rd.js","assets/YoutubeTest-B0g8OPwo.js","assets/YoutubeSimple-BhXOfgqO.js","assets/TikTokDemo-Ziz9gA5a.js","assets/webvitals-CtsNxiQn.js","assets/webvitals-DXd_nf2u.js"])))=>i.map(i=>d[i]);
var At=Object.defineProperty,Ct=Object.defineProperties;var Et=Object.getOwnPropertyDescriptors;var ee=Object.getOwnPropertySymbols;var Ie=Object.prototype.hasOwnProperty,Oe=Object.prototype.propertyIsEnumerable;var ue=(t,a,s)=>a in t?At(t,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[a]=s,g=(t,a)=>{for(var s in a||(a={}))Ie.call(a,s)&&ue(t,s,a[s]);if(ee)for(var s of ee(a))Oe.call(a,s)&&ue(t,s,a[s]);return t},S=(t,a)=>Ct(t,Et(a));var j=(t,a)=>{var s={};for(var r in t)Ie.call(t,r)&&a.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&ee)for(var r of ee(t))a.indexOf(r)<0&&Oe.call(t,r)&&(s[r]=t[r]);return s};var W=(t,a,s)=>ue(t,typeof a!="symbol"?a+"":a,s);var h=(t,a,s)=>new Promise((r,o)=>{var n=m=>{try{l(s.next(m))}catch(u){o(u)}},c=m=>{try{l(s.throw(m))}catch(u){o(u)}},l=m=>m.done?r(m.value):Promise.resolve(m.value).then(n,c);l((s=s.apply(t,a)).next())});import{y as We,_}from"./libs-DqMydE2S.js";import{r as i,j as e,X as q,A as Me,S as De,a as kt,H as K,I as Ye,C as oe,b as Tt,P as It,c as te,d as be,e as Ot,u as Ke,f as we,L as Mt,F as Q,G as Dt,g as me,T as Pt,h as Rt,O as Ze,i as Lt,k as Qe,l as Vt,m as Xe,D as et,R as Bt,n as tt,V as zt,o as $t,p as st,q as Gt,s as Ut,t as Pe,v as at,M as G,B as Jt,w as qt,x as Ft,y as Re,z as rt,E as Ht,J as Wt}from"./vendor-DL-Jb0Mh.js";import{c as Yt}from"./supabase-BBk6P3Ci.js";import{t as Kt,c as Zt,s as Qt,e as Xt,p as $,i as es,f as D,a as V}from"./utils-BVxV3L_t.js";import"./ui-BA32w1ww.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function s(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(o){if(o.ep)return;o.ep=!0;const n=s(o);fetch(o.href,n)}})();function U(t){return"/"+t.toLowerCase().replace(/ /g,"-")}const ve=()=>{const t=navigator.userAgent||navigator.vendor||window.opera;return/iPad|iPhone|iPod/.test(t)&&!window.MSStream},ot=()=>window.navigator.standalone===!0||window.matchMedia("(display-mode: standalone)").matches,ts=()=>{const t=navigator.userAgent;return/Safari/.test(t)&&!/Chrome/.test(t)},ne=()=>{const t=ve(),a=ot(),s=localStorage.getItem("ios-tutorial-seen");return t&&!a&&!s};function ss({onShowVisualGuide:t}){const[a,s]=i.useState(!1),[r,o]=i.useState(0),[n,c]=i.useState(!1),[l,m]=i.useState(!1);i.useEffect(()=>{const b=ve(),x=ot();if(c(b),m(x),ne()){const M=setTimeout(()=>{s(!0)},2e3);return()=>clearTimeout(M)}},[]);const u=[{title:"Adicionar √† tela inicial",description:"Clique no bot√£o Compartilhar na parte inferior do seu navegador",icon:De,arrow:Me,arrowPosition:"bottom-20 right-4",highlight:"share-button"},{title:"Selecionar a op√ß√£o",description:"Depois escolha 'Na tela inicial' no menu",icon:K,arrow:kt,arrowPosition:"bottom-16 right-20",highlight:"add-to-home"},{title:"Confirmar a adi√ß√£o",description:"Pressione 'Adicionar' para instalar o aplicativo",icon:K,arrow:Me,arrowPosition:"bottom-12 right-16",highlight:"confirm-add"}],y=()=>{r<u.length-1?o(r+1):(s(!1),localStorage.setItem("ios-tutorial-seen","true"))},v=()=>{s(!1),localStorage.setItem("ios-tutorial-seen","true")},w=()=>{s(!1),localStorage.setItem("ios-tutorial-seen","true")};return!ne()||!a?null:e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50",onClick:w}),e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl max-w-sm w-full mx-4 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white p-6 text-center relative",children:[e.jsx("button",{onClick:w,className:"absolute top-4 right-4 p-2 rounded-full bg-white/20 hover:bg-white/30 transition-colors",children:e.jsx(q,{className:"w-5 h-5"})}),e.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-4",children:(()=>{const b=u[r].icon;return e.jsx(b,{className:"w-8 h-8"})})()}),e.jsx("h2",{className:"text-xl font-bold mb-2",children:u[r].title}),e.jsx("p",{className:"text-blue-100 text-sm",children:u[r].description})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"bg-gray-100 rounded-2xl p-4 mb-6 relative",children:[e.jsxs("div",{className:"bg-white rounded-xl p-3 mb-3 flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Safari"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"w-3 h-3 bg-red-400 rounded-full"}),e.jsx("div",{className:"w-3 h-3 bg-yellow-400 rounded-full"}),e.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full"})]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-3 flex items-center justify-between",children:[e.jsx("div",{className:"w-6 h-6 bg-gray-300 rounded"}),e.jsx("div",{className:"flex-1 mx-3 h-8 bg-gray-200 rounded-lg"}),e.jsx("div",{className:"w-6 h-6 bg-gray-300 rounded"})]}),e.jsx("div",{className:"bg-white rounded-xl p-3 mt-3 flex items-center justify-center",children:e.jsxs("div",{className:"flex items-center gap-2 text-blue-600",children:[e.jsx(De,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium",children:"Compartilhar"})]})}),e.jsx("div",{className:`absolute ${u[r].arrowPosition} animate-bounce`,children:(()=>{const b=u[r].arrow;return e.jsx(b,{className:"w-8 h-8 text-blue-600 drop-shadow-lg"})})()})]}),e.jsx("div",{className:"flex justify-center gap-2 mb-6",children:u.map((b,x)=>e.jsx("div",{className:`w-2 h-2 rounded-full transition-colors ${x===r?"bg-blue-500":"bg-gray-300"}`},x))}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:v,className:"flex-1 py-3 px-4 text-gray-600 border border-gray-300 rounded-xl hover:bg-gray-50 transition-colors",children:"Ignorar"}),e.jsx("button",{onClick:y,className:"flex-1 py-3 px-4 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors font-medium",children:r===u.length-1?"Finalizar":"Pr√≥ximo"})]})]})]})}),e.jsx("div",{className:"fixed bottom-20 left-4 right-4 z-40 lg:hidden",children:e.jsx("div",{className:"bg-blue-600 text-white rounded-2xl p-4 shadow-lg border border-blue-500/20",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center",children:e.jsx(K,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-sm",children:"Adicionar √† tela inicial"}),e.jsx("p",{className:"text-blue-100 text-xs",children:'Clique em Compartilhar e depois "Na tela inicial"'})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>s(!0),className:"bg-white/20 hover:bg-white/30 px-3 py-1 rounded-lg text-xs font-medium transition-colors",children:"Tutorial"}),e.jsx("button",{onClick:t,className:"bg-white/20 hover:bg-white/30 px-3 py-1 rounded-lg text-xs font-medium transition-colors",children:"Guia visual"})]})]})})})]})}const as=({message:t,type:a="info",duration:s=5e3,onClose:r})=>{const[o,n]=i.useState(!0);i.useEffect(()=>{if(s>0){const y=setTimeout(()=>{n(!1),setTimeout(()=>r==null?void 0:r(),300)},s);return()=>clearTimeout(y)}},[s,r]);const c=()=>{n(!1),setTimeout(()=>r==null?void 0:r(),300)},l={success:Tt,error:oe,warning:oe,info:Ye},m={success:"bg-green-500 border-green-600",error:"bg-red-500 border-red-600",warning:"bg-yellow-500 border-yellow-600",info:"bg-blue-500 border-blue-600"},u=l[a];return o?e.jsx("div",{className:`fixed top-4 right-4 z-50 transform transition-all duration-300 ${o?"translate-x-0 opacity-100":"translate-x-full opacity-0"}`,children:e.jsx("div",{className:`${m[a]} text-white rounded-lg shadow-lg border p-4 max-w-sm`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(u,{className:"w-5 h-5 mt-0.5 flex-shrink-0"}),e.jsx("div",{className:"flex-1",children:e.jsx("p",{className:"text-sm font-medium",children:t})}),e.jsx("button",{onClick:c,className:"text-white/80 hover:text-white transition-colors flex-shrink-0",children:e.jsx(q,{className:"w-4 h-4"})})]})})}):null};function rs({isOpen:t,onClose:a}){const[s,r]=i.useState(0),[o,n]=i.useState(!1),c=[{title:"Passo 1: Bot√£o Compartilhar",description:"Localize o bot√£o Compartilhar na parte inferior do seu navegador Safari",image:"step1",highlight:"share-button"},{title:"Passo 2: Menu Compartilhar",description:"O menu Compartilhar abre com v√°rias op√ß√µes",image:"step2",highlight:"share-menu"},{title:"Passo 3: Na tela inicial",description:"Role e selecione 'Na tela inicial'",image:"step3",highlight:"add-to-home"},{title:"Passo 4: Confirma√ß√£o",description:"Pressione 'Adicionar' para instalar o aplicativo",image:"step4",highlight:"confirm"}],l=()=>{s<c.length-1&&r(s+1)},m=()=>{s>0&&r(s-1)},u=()=>{if(n(!o),!o){const v=setInterval(()=>{r(w=>w>=c.length-1?(clearInterval(v),n(!1),w):w+1)},3e3)}},y=v=>e.jsxs("div",{className:"relative bg-gray-100 rounded-2xl p-6 mb-6",children:[e.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-lg",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4 text-xs text-gray-600",children:[e.jsx("span",{children:"9:41"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-4 h-2 bg-gray-300 rounded-full"}),e.jsx("span",{children:"100%"})]})]}),e.jsx("div",{className:"bg-gray-200 rounded-lg p-2 mb-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded"}),e.jsx("span",{className:"text-xs text-gray-600",children:"musica-da-segunda.com"})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"h-4 bg-gray-300 rounded"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-3/4"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded-full"}),e.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded-full"}),e.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded-full"}),e.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded-full"}),e.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded-full"})]})})]}),e.jsx("div",{className:"absolute bottom-4 right-4 bg-blue-500 text-white rounded-full p-3 shadow-lg",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"})})}),e.jsx("div",{className:"absolute bottom-16 right-4 animate-bounce",children:e.jsx("svg",{className:"w-8 h-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 10l7-7m0 0l7 7m-7-7v18"})})})]});return t?e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/60",onClick:a}),e.jsxs("div",{className:"relative bg-white rounded-3xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Guia de instala√ß√£o iOS"}),e.jsx("button",{onClick:a,className:"p-2 rounded-full bg-white/20 hover:bg-white/30 transition-colors",children:e.jsx(q,{className:"w-6 h-6"})})]}),e.jsx("div",{className:"flex items-center gap-4 mt-4",children:e.jsxs("button",{onClick:u,className:"flex items-center gap-2 bg-white/20 hover:bg-white/30 px-4 py-2 rounded-lg transition-colors",children:[o?e.jsx(It,{className:"w-4 h-4"}):e.jsx(te,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:o?"Pausar":"Reprodu√ß√£o autom√°tica"})]})})]}),e.jsxs("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:[y(),e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:c[s].title}),e.jsx("p",{className:"text-gray-600",children:c[s].description})]}),e.jsx("div",{className:"flex justify-center gap-2 mb-6",children:c.map((v,w)=>e.jsx("div",{className:`w-3 h-3 rounded-full transition-colors ${w===s?"bg-blue-500":"bg-gray-300"}`},w))}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("button",{onClick:m,disabled:s===0,className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${s===0?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-blue-500 text-white hover:bg-blue-600"}`,children:[e.jsx(be,{className:"w-4 h-4"}),"Anterior"]}),e.jsxs("button",{onClick:l,disabled:s===c.length-1,className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${s===c.length-1?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-blue-500 text-white hover:bg-blue-600"}`,children:["Pr√≥ximo",e.jsx(Ot,{className:"w-4 h-4"})]})]})]})]})]}):null}function os(){const[t,a]=i.useState(!1),[s,r]=i.useState(""),[o,n]=i.useState("info"),[c,l]=i.useState(!1);i.useEffect(()=>{if(ne()){const u=setTimeout(()=>{ve()&&ts()&&(r('üí° Dica: Adicione este app √† sua tela inicial para uma experi√™ncia melhor! Clique em "Tutorial" para ver o guia completo.'),n("info"),a(!0))},3e3);return()=>clearTimeout(u)}},[]);const m=()=>{a(!1)};return ne()?e.jsxs(e.Fragment,{children:[e.jsx(ss,{onShowVisualGuide:()=>l(!0)}),t&&e.jsx(as,{message:s,type:o,duration:8e3,onClose:m}),e.jsx(rs,{isOpen:c,onClose:()=>l(!1)})]}):null}function nt(c){var l=c,{src:t,alt:a,className:s="",loading:r="lazy",decoding:o="async"}=l,n=j(l,["src","alt","className","loading","decoding"]);const[m,u]=i.useState(!1),v=(x=>{if(!x||x.startsWith("http://")||x.startsWith("https://"))return null;const M=x.replace(/\.(jpg|jpeg|png)$/i,".webp");return M!==x?M:null})(t),w=t,b=()=>{u(!0)};return m?e.jsx("div",{className:`bg-gray-200 flex items-center justify-center ${s}`,role:"img","aria-label":a,children:e.jsx("span",{className:"text-gray-400 text-sm",children:"Imagem n√£o dispon√≠vel"})}):v?e.jsxs("picture",{children:[e.jsx("source",{srcSet:`${v} 1x`,type:"image/webp"}),e.jsx("img",g({src:w,alt:a,className:s,loading:r,decoding:o,onError:b},n))]}):e.jsx("img",g({src:w,alt:a,className:s,loading:r,decoding:o,onError:b},n))}function ns({children:t}){const a=Ke(),s=[{name:"In√≠cio",url:U("Home"),icon:K},{name:"Calend√°rio",url:U("Calendar"),icon:we},{name:"Playlist",url:U("Playlist"),icon:Mt},{name:"Blog",url:U("Blog"),icon:Q},{name:"Ano 2025",url:U("AdventCalendar"),icon:Dt},{name:"Sobre",url:U("Sobre"),icon:Ye}],r=o=>o.name==="In√≠cio"&&a.pathname==="/"?!0:a.pathname===o.url;return e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-teal-200 to-rose-200",children:[e.jsx("a",{href:"#main",className:"skip-link",children:"Ir para o conte√∫do"}),e.jsx("header",{className:"hidden lg:block bg-white/90 backdrop-blur-lg border-b border-white/50 shadow-lg sticky top-0 z-40",children:e.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(me,{to:"/",className:"w-12 h-12 rounded-full overflow-hidden border-2 border-white/20 shadow-lg flex-shrink-0",children:e.jsx(nt,{src:"images/Musica da segunda.jpg",alt:"Logo M√∫sica da Segunda",className:"w-full h-full object-cover",loading:"lazy"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-black text-gray-800 leading-tight",children:"A M√∫sica da Segunda"}),e.jsx("p",{className:"text-xs text-gray-600 mt-0.5",children:"Site oficial de par√≥dias musicais inteligentes e divertidas"})]})]}),e.jsx("nav",{className:"flex items-center gap-1","aria-label":"Navigation principale",children:s.map(o=>e.jsxs(me,{to:o.url,"aria-current":r(o)?"page":void 0,className:`flex items-center gap-2 px-4 py-2 rounded-xl transition-all duration-300 font-medium ${r(o)?"bg-[#32a2dc] text-white shadow-md":"text-gray-600 hover:text-gray-800 hover:bg-gray-100"}`,children:[e.jsx(o.icon,{className:"w-4 h-4","aria-hidden":"true"}),e.jsx("span",{children:o.name})]},o.name))})]})})}),e.jsx("main",{id:"main",className:"lg:pb-0 pb-28 relative z-10",children:t}),e.jsx("nav",{className:"lg:hidden fixed bottom-4 left-1/2 -translate-x-1/2 w-[calc(100%-2rem)] max-w-2xl bg-white/80 backdrop-blur-lg rounded-3xl shadow-xl border border-white/50 z-50","aria-label":"Navigation mobile",children:e.jsx("div",{className:"flex gap-1 p-1",children:s.map(o=>e.jsxs(me,{to:o.url,"aria-current":r(o)?"page":void 0,className:`flex flex-col items-center justify-center py-3 px-2 rounded-3xl transition-all duration-300 flex-1 min-w-0 ${r(o)?"bg-[#32a2dc] text-white shadow-lg transform scale-105":"text-gray-500 hover:text-gray-700 hover:bg-white/60"}`,children:[e.jsx(o.icon,{className:"w-5 h-5 mb-1 flex-shrink-0","aria-hidden":"true"}),e.jsx("span",{className:"text-xs font-bold text-center leading-tight truncate",children:o.name})]},o.name))})}),e.jsx(os,{})]})}const is="https://efnzmpzkzeuktqkghwfa.supabase.co",ls="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVmbnptcHpremV1a3Rxa2dod2ZhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTYyMzE4MzcsImV4cCI6MjA3MTgwNzgzN30.iQiDuurPIkSNjHWP6TID0dATrOCJQ71-kblcsRsHiAk",C=Yt(is,ls,{db:{schema:"public"},auth:{persistSession:!0,autoRefreshToken:!0},global:{headers:{"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"}}}),T={SONGS:"songs",ALBUMS:"albums",SETTINGS:"settings"},P=(t,a="Supabase operation")=>{throw console.error(`‚ùå ${a}:`,t),new Error(`${a}: ${t.message}`)},cs=()=>h(null,null,function*(){try{const{data:t,error:a}=yield C.from(T.SONGS).select("count").limit(1);if(a){if(a.code==="PGRST116")return console.log("‚úÖ Connexion Supabase r√©ussie (table songs non cr√©√©e)"),!0;throw a}return console.log("‚úÖ Connexion Supabase r√©ussie"),!0}catch(t){return console.error("‚ùå Erreur de connexion Supabase:",t),!1}}),ds=t=>{if(!t||typeof t!="string")return{column:"release_date",ascending:!1};let a=!0,s=t.trim();return s.startsWith("-")?(a=!1,s=s.slice(1)):s.startsWith("+")&&(a=!0,s=s.slice(1)),s||(s="release_date"),{column:s,ascending:a}},I={list(t="release_date",a=null){return h(this,null,function*(){try{const{column:s,ascending:r}=ds(t);let o=C.from(T.SONGS).select("*").order(s,{ascending:r});a&&(o=o.limit(a));const{data:n,error:c}=yield o;if(c)throw c;return n||[]}catch(s){return P(s,"Liste des chansons"),[]}})},get(t){return h(this,null,function*(){try{const{data:a,error:s}=yield C.from(T.SONGS).select("*").eq("id",t).single();if(s)throw s;return a}catch(a){return P(a,`R√©cup√©ration chanson ID ${t}`),null}})},getBySlug(t){return h(this,null,function*(){try{let{data:a,error:s}=yield C.from(T.SONGS).select("*").eq("slug",t).maybeSingle();if(!a&&!s){const{data:r,error:o}=yield C.from(T.SONGS).select("*");if(o)throw o;a=(r==null?void 0:r.find(n=>{var l;const c=(l=n.title)==null?void 0:l.toLowerCase().replace(/\s+/g,"-");return n.slug===t||c===t}))||null}if(s)throw s;return a||null}catch(a){return P(a,`R√©cup√©ration chanson slug ${t}`),null}})},getCurrent(){return h(this,null,function*(){try{console.warn("üîç getCurrent() - D√©but de la fonction"),console.warn("üîç Timestamp:",new Date().toISOString());const{data:t,error:a}=yield C.from(T.SONGS).select("*").eq("status","published").order("created_at",{ascending:!1}).limit(1).single();if(a){if(a.code==="PGRST116")return console.warn(`‚ö†Ô∏è Aucune chanson "published" trouv√©e, ce n'est pas une erreur.`),null;throw console.error("‚ùå Erreur Supabase getCurrent:",a),a}if(console.warn("üìä Chanson actuelle trouv√©e:",t||null),!t)return console.warn("‚ö†Ô∏è Aucune chanson published trouv√©e"),null;const s=t;return console.warn("üéØ Chanson s√©lectionn√©e:",s),console.warn("üîç DEBUG getCurrent - Tri appliqu√©:"),console.warn("  - Titre:",s==null?void 0:s.title),console.warn("  - created_at:",s==null?void 0:s.created_at),console.warn("  - updated_at:",s==null?void 0:s.updated_at),console.warn("  - release_date:",s==null?void 0:s.release_date),console.warn("  - Status:",s==null?void 0:s.status),s}catch(t){return console.error("‚ùå Erreur dans getCurrent:",t),P(t,"Chanson actuelle"),null}})},create(t){return h(this,null,function*(){var a,s,r,o,n,c,l,m,u,y;try{const v={title:(a=t.title)==null?void 0:a.trim(),artist:((s=t.artist)==null?void 0:s.trim())||"A M√∫sica da Segunda",description:(r=t.description)==null?void 0:r.trim(),lyrics:(o=t.lyrics)==null?void 0:o.trim(),release_date:t.release_date,status:t.status||"draft",tiktok_video_id:(n=t.tiktok_video_id)==null?void 0:n.trim(),tiktok_url:(c=t.tiktok_url)==null?void 0:c.trim(),tiktok_publication_date:t.tiktok_publication_date,spotify_url:(l=t.spotify_url)==null?void 0:l.trim(),apple_music_url:(m=t.apple_music_url)==null?void 0:m.trim(),youtube_url:(u=t.youtube_url)==null?void 0:u.trim(),cover_image:(y=t.cover_image)==null?void 0:y.trim(),hashtags:Array.isArray(t.hashtags)?t.hashtags:[]},{data:w,error:b}=yield C.from(T.SONGS).insert([v]).select().single();if(b)throw b;return console.warn("‚úÖ Chanson cr√©√©e avec succ√®s:",w),w}catch(v){throw P(v,"Cr√©ation chanson"),v}})},update(t,a){return h(this,null,function*(){try{console.warn("üîÑ supabaseSongService.update - d√©but"),console.warn("üîÑ ID re√ßu:",t,"Type:",typeof t),console.warn("üîÑ Updates re√ßus:",JSON.stringify(a,null,2));const s={};Object.keys(a).forEach(n=>{n==="id"||n==="created_at"||n==="updated_at"||a[n]!==void 0&&a[n]!==null&&(n==="hashtags"&&!Array.isArray(a[n])?s[n]=[]:s[n]=a[n])}),console.warn("üîÑ Updates nettoy√©s:",JSON.stringify(s,null,2));const{data:r,error:o}=yield C.from(T.SONGS).update(s).eq("id",t).select().single();if(console.warn("[Supabase][UPDATE] id=",t,"payload=",s),console.warn("üîÑ R√©ponse Supabase:",JSON.stringify({data:r,error:o},null,2)),o)throw console.error("[Supabase][UPDATE][ERROR]",o),console.error("‚ùå Erreur Supabase:",o.message,`
Code:`,o.code,`
Details:`,o.details,`
Hint:`,o.hint,`
Stack:`,o.stack),new Error(o.message||"Update failed");return console.warn("‚úÖ Chanson mise √† jour avec succ√®s:",r),r}catch(s){throw console.error("‚ùå Erreur dans supabaseSongService.update:",s),console.error("‚ùå D√©tails de l'erreur:",{message:s.message,code:s.code,details:s.details,hint:s.hint}),s}})},delete(t){return h(this,null,function*(){try{const{error:a}=yield C.from(T.SONGS).delete().eq("id",t);if(a)throw a;return console.warn("‚úÖ Chanson supprim√©e avec succ√®s ID:",t),!0}catch(a){throw P(a,`Suppression chanson ID ${t}`),a}})},search(t){return h(this,null,function*(){try{if(!t||t.trim()==="")return yield this.list();const a=t.trim().toLowerCase(),{data:s,error:r}=yield C.from(T.SONGS).select("*").or(`title.ilike.%${a}%,artist.ilike.%${a}%,description.ilike.%${a}%`).order("release_date",{ascending:!1});if(r)throw r;return s||[]}catch(a){return P(a,"Recherche chansons"),[]}})},getByStatus(t){return h(this,null,function*(){try{const{data:a,error:s}=yield C.from(T.SONGS).select("*").eq("status",t).order("release_date",{ascending:!1});if(s)throw s;return a||[]}catch(a){return P(a,`Chansons par statut: ${t}`),[]}})},getByMonth(t,a){return h(this,null,function*(){try{const s=`${t}-${a.toString().padStart(2,"0")}-01`,r=`${t}-${a.toString().padStart(2,"0")}-31`,{data:o,error:n}=yield C.from(T.SONGS).select("*").gte("release_date",s).lte("release_date",r).order("release_date",{ascending:!1});if(n)throw n;return o||[]}catch(s){return P(s,`Chansons par mois ${a}/${t}`),[]}})}};let se="supabase",O=!0;const us=()=>h(null,null,function*(){try{return console.warn("üîÑ Test de connexion Supabase..."),(yield cs())?(console.warn("‚úÖ Mode de stockage: Supabase ‚òÅÔ∏è (connect√©)"),O=!0,se="supabase",!0):(console.warn("‚ö†Ô∏è Connexion Supabase √©chou√©e, mais on force quand m√™me Supabase"),O=!0,se="supabase",!0)}catch(t){return console.warn("‚ö†Ô∏è Erreur d√©tection mode stockage, mais on force Supabase:",t),O=!0,se="supabase",!0}});us().then(()=>{console.warn(`üéØ Mode de stockage final: ${se==="supabase"?"Supabase ‚òÅÔ∏è":"localStorage üíæ"}`)});const Le={list:(t="-release_date",a=null)=>h(null,null,function*(){try{console.warn("‚òÅÔ∏è Chargement depuis Supabase...");const s=yield I.list(t,a);return s&&s.length>0?(console.warn("‚úÖ Chansons charg√©es depuis Supabase:",s.length),s):(console.warn("‚ö†Ô∏è Aucune chanson trouv√©e dans Supabase"),[])}catch(s){return console.error("Erro ao carregar m√∫sicas desde Supabase:",s),[]}}),get:t=>h(null,null,function*(){try{if(O)return yield I.get(t)}catch(a){return console.error("Erro ao carregar m√∫sica:",a),null}}),getCurrent:()=>h(null,null,function*(){try{if(O){const t=yield I.getCurrent();if(t)return t}return console.warn("‚ö†Ô∏è Supabase indisponible ou sans donn√©es"),null}catch(t){return console.error("Erro ao carregar m√∫sica atual:",t),null}}),create:t=>h(null,null,function*(){try{console.warn("‚òÅÔ∏è Cr√©ation via Supabase...");const a=yield I.create(t);return console.warn("‚úÖ Cr√©ation Supabase r√©ussie:",a),a}catch(a){throw console.error("‚ùå ERREUR CR√âATION SUPABASE:",a),console.error("‚ùå Message:",a.message),console.error("‚ùå Code:",a.code),console.error("‚ùå Details:",a.details),console.error("‚ùå Hint:",a.hint),a}}),update:(t,a)=>h(null,null,function*(){try{console.warn("‚òÅÔ∏è Mise √† jour via Supabase..."),console.warn("üìã Donn√©es √† mettre √† jour:",{id:t,updates:a}),console.warn("üîç Type de l'ID:",typeof t),console.warn("üîç Valeur de l'ID:",t),console.warn("üîÑ Appel de supabaseSongService.update...");const s=yield I.update(t,a);return console.warn("‚úÖ R√©sultat de la mise √† jour Supabase:",s),console.warn("‚úÖ Mise √† jour Supabase r√©ussie - pas de synchronisation localStorage n√©cessaire"),s}catch(s){throw console.error("‚ùå ERREUR SUPABASE D√âTAILL√âE:",s),console.error("‚ùå Message d'erreur:",s.message),console.error("‚ùå Code d'erreur:",s.code),console.error("‚ùå D√©tails de l'erreur:",s.details),console.error("‚ùå Hint:",s.hint),console.error("‚ùå Stack trace:",s.stack),console.error("‚ùå Erreur compl√®te:",JSON.stringify(s,null,2)),console.error("‚ùå √âCHEC DE LA MISE √Ä JOUR SUPABASE - PAS DE FALLBACK"),s}}),delete:t=>h(null,null,function*(){try{console.warn("‚òÅÔ∏è Suppression via Supabase...");const a=yield I.delete(t);return console.warn("‚úÖ Suppression Supabase r√©ussie:",a),a}catch(a){throw console.error("‚ùå ERREUR SUPPRESSION SUPABASE:",a),console.error("‚ùå Message:",a.message),console.error("‚ùå Code:",a.code),a}}),search:t=>h(null,null,function*(){try{if(O)return yield I.search(t)}catch(a){return console.error("Erro ao pesquisar m√∫sicas:",a),[]}}),getByStatus:t=>h(null,null,function*(){try{if(O)return yield I.getByStatus(t)}catch(a){return console.error("Erro ao carregar m√∫sicas por status:",a),[]}}),getByMonth:(t,a)=>h(null,null,function*(){try{if(O)return yield I.getByMonth(t,a)}catch(s){return console.error("Erro ao carregar m√∫sicas por m√™s:",s),[]}}),getBySlug:t=>h(null,null,function*(){try{if(O)return(yield I.getBySlug(t))||null}catch(a){return console.error("Erro ao carregar m√∫sica por slug:",a),null}})},ca={list:(t="-release_date",a=25)=>h(null,null,function*(){try{if(O){const r=(yield I.list(t,a)).filter(o=>new Date(o.release_date).getMonth()===11||o.status==="published");return a?r.slice(0,a):r}else{const o=localStorageService.songs.getAll().filter(n=>new Date(n.release_date).getMonth()===11||n.status==="published").sort((n,c)=>new Date(c.release_date)-new Date(n.release_date));return a?o.slice(0,a):o}}catch(s){console.error("Erro ao carregar m√∫sicas do Ano 2025:",s);const n=localStorageService.songs.getAll().filter(c=>new Date(c.release_date).getMonth()===11||c.status==="published").sort((c,l)=>new Date(l.release_date)-new Date(c.release_date));return a?n.slice(0,a):n}})},ms=typeof import.meta!="undefined"&&!0,B={debug:(...t)=>{},info:(...t)=>{},warn:(...t)=>{ms||console.warn(...t)},error:(...t)=>{console.error(...t)}};function Ve(){const[t,a]=i.useState(null);return i.useEffect(()=>{const s=()=>{const o=new Date,n=o.getDay(),c=n===0?1:(8-n)%7||7,l=new Date(o);l.setDate(o.getDate()+c),l.setHours(9,0,0,0);const m=l-o;return m>0?{d:Math.floor(m/864e5),h:Math.floor(m/36e5%24),m:Math.floor(m/1e3/60%60),s:Math.floor(m/1e3%60)}:null},r=setInterval(()=>{a(s())},1e3);return a(s()),()=>clearInterval(r)},[]),t?e.jsxs("div",{className:"bg-[#f8f5f2] rounded-3xl p-5 shadow-lg",children:[e.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[e.jsx(Pt,{className:"w-5 h-5 text-gray-500"}),e.jsx("h3",{className:"font-semibold text-gray-700",children:"Pr√≥xima m√∫sica em..."})]}),e.jsx("div",{className:"grid grid-cols-4 gap-3 text-center",children:Object.entries(t).map(([s,r])=>e.jsxs("div",{className:"bg-[#e7f1f7] rounded-xl p-3",children:[e.jsx("p",{className:"text-2xl font-bold text-[#32a2dc]",children:r}),e.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase",children:s==="d"?"dias":s==="h"?"horas":s==="m"?"min":"seg"})]},s))})]}):e.jsxs("div",{className:"bg-[#f8f5f2] rounded-3xl p-5 shadow-lg text-center",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"√â Segunda-feira!"}),e.jsx("p",{className:"text-gray-600",children:"A nova m√∫sica j√° est√° dispon√≠vel!"})]})}function k(...t){return Kt(Zt(t))}const hs=We("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),E=i.forwardRef((c,n)=>{var l=c,{className:t,variant:a,size:s,asChild:r=!1}=l,o=j(l,["className","variant","size","asChild"]);const m=r?Rt:"button";return e.jsx(m,g({className:k(hs({variant:a,size:s,className:t})),ref:n},o))});E.displayName="Button";const ye=Bt,gs=Lt,it=i.forwardRef((r,s)=>{var o=r,{className:t}=o,a=j(o,["className"]);return e.jsx(Ze,g({ref:s,className:k("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t)},a))});it.displayName=Ze.displayName;const ie=i.forwardRef((o,r)=>{var n=o,{className:t,children:a}=n,s=j(n,["className","children"]);return e.jsxs(gs,{children:[e.jsx(it,{}),e.jsxs(Qe,S(g({ref:r,className:k("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t)},s),{children:[a,e.jsxs(Vt,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(q,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]}))]})});ie.displayName=Qe.displayName;const le=s=>{var r=s,{className:t}=r,a=j(r,["className"]);return e.jsx("div",g({className:k("flex flex-col space-y-1.5 text-center sm:text-left",t)},a))};le.displayName="DialogHeader";const ce=i.forwardRef((r,s)=>{var o=r,{className:t}=o,a=j(o,["className"]);return e.jsx(Xe,g({ref:s,className:k("text-lg font-semibold leading-none tracking-tight",t)},a))});ce.displayName=Xe.displayName;const xs=i.forwardRef((r,s)=>{var o=r,{className:t}=o,a=j(o,["className"]);return e.jsx(et,g({ref:s,className:k("text-sm text-muted-foreground",t)},a))});xs.displayName=et.displayName;const Se=i.forwardRef((o,r)=>{var n=o,{className:t,children:a}=n,s=j(n,["className","children"]);return e.jsxs(tt,S(g({ref:r,className:k("relative overflow-hidden",t)},s),{children:[e.jsx(zt,{className:"h-full w-full rounded-[inherit]",children:a}),e.jsx(lt,{}),e.jsx($t,{})]}))});Se.displayName=tt.displayName;const lt=i.forwardRef((o,r)=>{var n=o,{className:t,orientation:a="vertical"}=n,s=j(n,["className","orientation"]);return e.jsx(st,S(g({ref:r,orientation:a,className:k("flex touch-none select-none transition-colors",a==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",a==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t)},s),{children:e.jsx(Gt,{className:"relative flex-1 rounded-full bg-border"})}))});lt.displayName=st.displayName;function ps({open:t,onOpenChange:a,song:s,title:r="Letras da M√∫sica",maxHeight:o="h-56",showIcon:n=!0}){return s?e.jsx(ye,{open:t,onOpenChange:a,children:e.jsxs(ie,{className:"bg-[#f8f5f2] max-w-md max-h-[70vh]",children:[e.jsx(le,{children:e.jsxs(ce,{className:"text-lg font-bold text-gray-800 flex items-center gap-2",children:[n&&e.jsx(Q,{className:"w-5 h-5 text-blue-500"}),r]})}),e.jsx("div",{className:"mt-4",children:s.lyrics?e.jsx(Se,{className:o,children:e.jsx("div",{className:"pr-4",children:e.jsx("pre",{className:"text-gray-700 whitespace-pre-wrap font-sans text-sm leading-relaxed",children:s.lyrics})})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Q,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-600 font-medium",children:"Letras n√£o dispon√≠veis"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"As letras desta m√∫sica ser√£o adicionadas em breve."})]})})]})}):null}const A={SONGS:"musica-da-segunda-songs",ALBUMS:"musica-da-segunda-albums",SETTINGS:"musica-da-segunda-settings"},he=[{id:1,slug:"croissant",title:"O Croissant",artist:"A M√∫sica da Segunda",description:'A m√∫sica "O Croissant" brinca com o cho',release_date:"2025-02-03",status:"published",genre:"Indie",tiktok_video_id:"sample_tiktok_1"},{id:2,slug:"confissoes-bancarias",title:"Confiss√µes Banc√°rias",artist:"A M√∫sica da Segunda",description:"Confiss√µes sobre a vida banc√°ria e financeira",release_date:"2025-08-25",status:"published",genre:"Indie",tiktok_video_id:"sample_tiktok_2"},{id:3,slug:"festas-juninas",title:"Festas Juninas",artist:"A M√∫sica da Segunda",description:"Celebrando as tradicionais festas juninas brasileiras",release_date:"2025-06-30",status:"published",genre:"M√∫sica Brasileira",tiktok_video_id:"sample_tiktok_3"},{id:4,slug:"cafe-no-brasil",title:"Caf√© no Brasil",artist:"A M√∫sica da Segunda",description:"Uma ode ao caf√© brasileiro e sua cultura",release_date:"2025-07-14",status:"published",genre:"M√∫sica Brasileira",tiktok_video_id:"sample_tiktok_4"}],ct={initialize(){try{const t=this.songs.getAll();t.length===0?(localStorage.setItem(A.SONGS,JSON.stringify(he)),console.warn("üîÑ localStorage initialis√© avec donn√©es de fallback:",he.length,"chansons")):console.warn("üîÑ localStorage d√©j√† initialis√© avec:",t.length,"chansons")}catch(t){console.error("‚ùå Erreur initialisation localStorage:",t),localStorage.setItem(A.SONGS,JSON.stringify(he))}},forceReset(){localStorage.setItem(A.SONGS,JSON.stringify([])),console.warn("üîÑ localStorage r√©initialis√© - donn√©es Supabase uniquement")},cleanConfissoesBancarias(){try{const t=this.songs.getAll(),a=t.filter(s=>s.title!=="Confiss√µes Banc√°rias"&&s.tiktok_video_id!=="7540762684149517590");if(a.length!==t.length){const s=a.map((r,o)=>S(g({},r),{id:o+1}));return localStorage.setItem(A.SONGS,JSON.stringify(s)),console.warn(`üßπ "Confiss√µes Banc√°rias" supprim√©e du localStorage. ${t.length-a.length} chanson(s) nettoy√©e(s)`),!0}return console.warn("‚úÖ localStorage d√©j√† propre, aucune action n√©cessaire"),!1}catch(t){return console.error("‚ùå Erreur lors du nettoyage:",t),!1}},songs:{getAll(){try{const t=localStorage.getItem(A.SONGS);return t?JSON.parse(t):[]}catch(t){return console.error("Erro ao carregar m√∫sicas:",t),[]}},getById(t){return this.getAll().find(s=>s.id===t)||null},getCurrent(){const a=this.getAll().filter(s=>s.status==="published");return a.length===0?null:(a.sort((s,r)=>new Date(r.release_date)-new Date(s.release_date)),a[0])},create(t){try{const a=this.getAll(),s=S(g({},t),{id:Date.now(),created_at:new Date().toISOString(),updated_at:new Date().toISOString()});return a.push(s),localStorage.setItem(A.SONGS,JSON.stringify(a)),s}catch(a){throw console.error("Erro ao criar m√∫sica:",a),a}},update(t,a){try{const s=this.getAll(),r=s.findIndex(o=>o.id===t);if(r===-1)throw new Error("M√∫sica n√£o encontrada");return s[r]=S(g(g({},s[r]),a),{updated_at:new Date().toISOString()}),localStorage.setItem(A.SONGS,JSON.stringify(s)),s[r]}catch(s){throw console.error("Erro ao atualizar m√∫sica:",s),s}},delete(t){try{const s=this.getAll().filter(r=>r.id!==t);return localStorage.setItem(A.SONGS,JSON.stringify(s)),!0}catch(a){throw console.error("Erro ao deletar m√∫sica:",a),a}},search(t){const a=this.getAll();if(!t)return a;const s=t.toLowerCase();return a.filter(r=>{var o;return r.title.toLowerCase().includes(s)||r.artist.toLowerCase().includes(s)||((o=r.description)==null?void 0:o.toLowerCase().includes(s))})}},albums:{getAll(){try{const t=localStorage.getItem(A.ALBUMS);return t?JSON.parse(t):[]}catch(t){return console.error("Erro ao carregar √°lbuns:",t),[]}},create(t){try{const a=this.getAll(),s=S(g({},t),{id:Date.now(),created_at:new Date().toISOString()});return a.push(s),localStorage.setItem(A.ALBUMS,JSON.stringify(a)),s}catch(a){throw console.error("Erro ao criar √°lbum:",a),a}}},clearAll(){localStorage.removeItem(A.SONGS),localStorage.removeItem(A.ALBUMS),localStorage.removeItem(A.SETTINGS)},exportData(){return{songs:this.songs.getAll(),albums:this.albums.getAll(),exportDate:new Date().toISOString()}},importData(t){try{return t.songs&&localStorage.setItem(A.SONGS,JSON.stringify(t.songs)),t.albums&&localStorage.setItem(A.ALBUMS,JSON.stringify(t.albums)),!0}catch(a){throw console.error("Erro ao importar dados:",a),a}}};ct.initialize();function fs({title:t,description:a,keywords:s,image:r,url:o,type:n="website"}){const c="M√∫sica da Segunda",l="https://www.amusicadasegunda.com",m=`${l}/icons/icon-512x512.png`,u=t?`${t} | ${c}`:c,y=a||"Descubra uma nova m√∫sica incr√≠vel toda segunda-feira. Sua dose semanal de descobertas musicais.",v=s||"m√∫sica, segunda-feira, descobertas musicais, nova m√∫sica, playlist semanal, m√∫sica brasileira, indie music",w=r||m,b=o?`${l}${o}`:l;i.useEffect(()=>{if(typeof document!="undefined")try{document.title=u;const x=(z,p,H)=>{let f=document.querySelector(`meta[${z}="${p}"]`);f||(f=document.createElement("meta"),f.setAttribute(z,p),document.head.appendChild(f)),f.setAttribute("content",H)},M=z=>{let p=document.querySelector('link[rel="canonical"]');p||(p=document.createElement("link"),p.setAttribute("rel","canonical"),document.head.appendChild(p)),p.setAttribute("href",z)};x("name","description",y),x("name","keywords",v),x("property","og:title",u),x("property","og:description",y),x("property","og:url",b),x("property","og:image",w),x("property","og:type",n),x("property","og:site_name",c),x("property","og:locale","pt_BR"),x("name","twitter:card","summary_large_image"),x("name","twitter:site","@amusicadasegunda"),x("name","twitter:title",u),x("name","twitter:description",y),x("name","twitter:image",w),M(b);const de={"@context":"https://schema.org","@type":n==="article"?"Article":"WebPage",headline:u,description:y,image:w,url:b,publisher:{"@type":"Organization",name:c,url:l,logo:{"@type":"ImageObject",url:m,width:512,height:512},sameAs:["https://www.tiktok.com/@amusicadasegunda","https://open.spotify.com/user/amusicadasegunda"]},mainEntityOfPage:{"@type":"WebPage","@id":b}},F="dynamic-page-jsonld";let L=document.getElementById(F);L||(L=document.createElement("script"),L.type="application/ld+json",L.id=F,document.head.appendChild(L)),L.textContent=JSON.stringify(de)}catch(x){console.error("Erro ao atualizar SEO:",x)}},[u,y,v,w,b,n,m])}const bs=20,ws=1e6,R={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"};let ge=0;function ys(){return ge=(ge+1)%Number.MAX_VALUE,ge.toString()}const xe=new Map,Be=t=>{if(xe.has(t))return;const a=setTimeout(()=>{xe.delete(t),Z({type:R.REMOVE_TOAST,toastId:t})},ws);xe.set(t,a)},vs=(t,a)=>{switch(a.type){case R.ADD_TOAST:return S(g({},t),{toasts:[a.toast,...t.toasts].slice(0,bs)});case R.UPDATE_TOAST:return S(g({},t),{toasts:t.toasts.map(s=>s.id===a.toast.id?g(g({},s),a.toast):s)});case R.DISMISS_TOAST:{const{toastId:s}=a;return s?Be(s):t.toasts.forEach(r=>{Be(r.id)}),S(g({},t),{toasts:t.toasts.map(r=>r.id===s||s===void 0?S(g({},r),{open:!1}):r)})}case R.REMOVE_TOAST:return a.toastId===void 0?S(g({},t),{toasts:[]}):S(g({},t),{toasts:t.toasts.filter(s=>s.id!==a.toastId)})}},ae=[];let re={toasts:[]};function Z(t){re=vs(re,t),ae.forEach(a=>{a(re)})}function Ss(a){var t=j(a,[]);const s=ys(),r=n=>Z({type:R.UPDATE_TOAST,toast:S(g({},n),{id:s})}),o=()=>Z({type:R.DISMISS_TOAST,toastId:s});return Z({type:R.ADD_TOAST,toast:S(g({},t),{id:s,open:!0,onOpenChange:n=>{n||o()}})}),{id:s,dismiss:o,update:r}}function dt(){const[t,a]=i.useState(re);return i.useEffect(()=>(ae.push(a),()=>{const s=ae.indexOf(a);s>-1&&ae.splice(s,1)}),[t]),S(g({},t),{toast:Ss,dismiss:s=>Z({type:R.DISMISS_TOAST,toastId:s})})}function ze({youtube_music_url:t,youtube_url:a,title:s}){const r=t||a||"",n=(u=>{if(!u||typeof u!="string")return null;try{const y=u.toLowerCase(),v=u.match(/[?&]list=([A-Za-z0-9_-]+)/);if(v)return{id:v[1],type:"playlist"};const w=[/(?:youtube\.com\/shorts\/)([A-Za-z0-9_-]{11})/,/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/|youtube\.com\/v\/)([A-Za-z0-9_-]{11})/,/^([A-Za-z0-9_-]{11})$/];for(const b of w){const x=u.match(b);if(x)return{id:x[1],type:"video"}}if(y.includes("music.youtube.com")){const b=u.match(/[?&]v=([A-Za-z0-9_-]{11})/);if(b)return{id:b[1],type:"video"}}return null}catch(y){return null}})(r);if(!n)return e.jsx("div",{className:"w-full aspect-video rounded-lg overflow-hidden shadow-lg flex items-center justify-center bg-gradient-to-br from-gray-800 to-gray-900",children:e.jsx("p",{className:"text-white text-sm",children:"Vid√©o non disponible"})});const c=r.includes("/shorts/"),l="https://www.youtube-nocookie.com/embed",m=n.type==="video"?`${l}/${n.id}?rel=0&modestbranding=1&playsinline=1&controls=1`:`${l}/videoseries?list=${n.id}&rel=0&modestbranding=1&playsinline=1&controls=1`;return c?e.jsx("div",{className:"relative rounded-lg overflow-hidden shadow-2xl",style:{width:"100%",aspectRatio:"9/16",minHeight:"min(500px, 70vh)",maxHeight:"70vh"},children:e.jsx("iframe",{className:"absolute top-0 left-0 w-full h-full",src:m,title:s||"YouTube Short",frameBorder:"0",referrerPolicy:"strict-origin-when-cross-origin",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,loading:"lazy"})}):e.jsx("div",{className:"w-full aspect-video rounded-lg overflow-hidden shadow-lg",children:e.jsx("iframe",{className:"w-full h-full",src:m,title:s||"YouTube",frameBorder:"0",referrerPolicy:"strict-origin-when-cross-origin",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,loading:"lazy"})})}function $e(){const t=Ut(),{toast:a}=dt(),[s,r]=i.useState(null),[o,n]=i.useState([]),[c,l]=i.useState(!0),[m,u]=i.useState(null),[y,v]=i.useState(null),[w,b]=i.useState(!1),[x,M]=i.useState(!1),[de,F]=i.useState(!1),[L,z]=i.useState(!1),[p,H]=i.useState(null),[f,Ne]=i.useState(null);i.useEffect(()=>{ct.initialize(),_e(),bt()},[]);const _e=()=>h(null,null,function*(){l(!0),u(null);try{B.debug("üîÑ Tentative de chargement depuis Supabase..."),console.warn("üîÑ loadCurrentSong appel√© √†:",new Date().toISOString());const d=yield Le.getCurrent();B.debug("üìä Chanson actuelle charg√©e:",d),d?(console.warn("üéµ Chanson charg√©e:",{title:d.title,created_at:d.created_at,updated_at:d.updated_at,release_date:d.release_date,id:d.id}),d.title==="Rio continua lindo (s√≥ que n√£o)"&&(console.error("‚ö†Ô∏è PROBL√àME: Ancienne chanson charg√©e (Rio) au lieu de William!"),console.error("‚ö†Ô∏è V√©rifier les dates dans Supabase et le tri"))):console.warn("‚ö†Ô∏è Aucune chanson charg√©e"),r(d),Ne(d)}catch(d){B.error("‚ùå Erro ao carregar m√∫sica atual:",d),u("Erro ao carregar a m√∫sica da semana. Tente novamente.")}finally{l(!1)}}),bt=()=>h(null,null,function*(){try{B.debug("üîÑ Chargement des musiques r√©centes depuis Supabase...");const d=yield Le.list("-release_date",null);B.debug("üìä Toutes les musiques charg√©es:",d);const N=new Date,St=Qt(N),jt=Xt(N),Te=d.filter(Nt=>{const _t=$(Nt.release_date);return es(_t,{start:St,end:jt})});B.debug("üìÖ Musiques du mois en cours:",Te),n(Te)}catch(d){B.error("‚ùå Erro ao carregar m√∫sicas recentes:",d)}}),wt=()=>{_e()},X=(d,N)=>{N&&(N.preventDefault(),N.stopPropagation()),B.debug("üéµ handleReplaceVideo appel√© avec:",d.title),Ne(d),window.scrollTo({top:0,behavior:"smooth"})},Ae=d=>{H(d),M(!0)},Ce=d=>{H(d),F(!0)},yt=d=>{H(d),z(!0)},Ee=d=>h(null,null,function*(){if(navigator.share)try{yield navigator.share({title:`${d.title} - ${d.artist}`,text:"Confira esta m√∫sica incr√≠vel da M√∫sica da Segunda!",url:d.youtube_music_url||d.youtube_url||window.location.href})}catch(N){}else{const N=`${d.title} - ${d.artist}
Confira esta m√∫sica incr√≠vel da M√∫sica da Segunda!`;navigator.clipboard.writeText(N),a({title:"‚úÖ Copiado!",description:"Link copiado para a √°rea de transfer√™ncia",duration:3e3})}}),vt=()=>{const d=new Date;return d.setMonth(d.getMonth()-1),D(d,"yyyy-MM")},ke=()=>{const d=vt();t(`/calendar?month=${d}`)};return fs({title:"A M√∫sica da Segunda: Par√≥dias das Not√≠cias do Brasil",description:"A M√∫sica da Segunda: As Not√≠cias do Brasil em Forma de Par√≥dia. Site oficial de par√≥dias musicais inteligentes e divertidas.",keywords:"m√∫sica da segunda, par√≥dias musicais, not√≠cias do brasil, m√∫sica brasileira, descoberta musical, nova m√∫sica toda segunda",image:s==null?void 0:s.cover_image,url:"/",type:"website"}),c?e.jsxs("div",{className:"p-5 max-w-md mx-auto md:max-w-2xl lg:max-w-4xl",children:[e.jsxs(Pe,{children:[e.jsx("title",{children:"A M√∫sica da Segunda: Par√≥dias das Not√≠cias do Brasil"}),e.jsx("meta",{name:"description",content:"A M√∫sica da Segunda: As Not√≠cias do Brasil em Forma de Par√≥dia. Site oficial de par√≥dias musicais inteligentes e divertidas."})]}),e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-black text-white drop-shadow-lg mb-2",children:"A M√∫sica da Segunda"}),e.jsx("p",{className:"text-white/80 font-medium text-lg md:text-xl drop-shadow-md",children:"Descubra m√∫sica nova toda segunda-feira"})]}),e.jsx("div",{className:"flex items-center justify-center py-20",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),e.jsx("p",{className:"text-white/80",children:"Carregando m√∫sica da semana..."})]})})]}):m?e.jsxs("div",{className:"p-5 max-w-md mx-auto md:max-w-2xl lg:max-w-4xl",children:[e.jsxs(Pe,{children:[e.jsx("title",{children:"A M√∫sica da Segunda: Par√≥dias das Not√≠cias do Brasil"}),e.jsx("meta",{name:"description",content:"A M√∫sica da Segunda: As Not√≠cias do Brasil em Forma de Par√≥dia. Site oficial de par√≥dias musicais inteligentes e divertidas."})]}),e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-4xl md:text-5xl lg:text-6xl font-black text-white drop-shadow-lg mb-2",children:"M√∫sica da Segunda"}),e.jsx("p",{className:"text-white/80 font-medium text-lg md:text-xl drop-shadow-md",children:"Descubra m√∫sica nova toda segunda-feira"})]}),e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-3xl p-6 text-center",children:[e.jsx(oe,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-red-800 mb-2",children:"Erro ao carregar"}),e.jsx("p",{className:"text-red-600 mb-4",children:m}),e.jsxs("button",{onClick:wt,className:"inline-flex items-center gap-2 bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg transition-colors",children:[e.jsx(at,{className:"w-4 h-4"}),"Tentar novamente"]})]})]}):e.jsxs("div",{className:"p-5 max-w-md mx-auto md:max-w-2xl lg:max-w-4xl",children:[e.jsx("div",{className:"lg:hidden text-center mb-8",children:e.jsxs("div",{className:"flex items-center justify-center gap-4 mb-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-full overflow-hidden border-4 border-white/20 shadow-xl flex-shrink-0",children:e.jsx(nt,{src:"images/Musica da segunda.jpg",alt:"Logo M√∫sica da Segunda",className:"w-full h-full object-cover",loading:"lazy"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("h1",{className:"text-2xl md:text-3xl font-black text-white drop-shadow-lg mb-1",children:"A M√∫sica da Segunda"}),e.jsx("p",{className:"text-white/80 font-medium text-sm md:text-base drop-shadow-md",children:"Descubra m√∫sica nova toda segunda-feira"})]})]})}),e.jsxs("div",{className:"hidden lg:block text-center mb-8",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-black text-white drop-shadow-lg mb-2",children:"A M√∫sica da Segunda"}),e.jsx("p",{className:"text-white/80 font-medium text-lg md:text-xl drop-shadow-md",children:"Descubra m√∫sica nova toda segunda-feira"})]}),e.jsxs("div",{className:"hidden lg:grid lg:grid-cols-2 lg:gap-8 lg:mt-8",children:[e.jsxs("div",{className:"space-y-6",children:[f?e.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-lg",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4 text-center",children:e.jsxs("button",{onClick:()=>yt(f),className:"inline-flex items-center gap-2 hover:text-blue-600 transition-colors cursor-pointer",title:"Ver descri√ß√£o da m√∫sica",children:[e.jsx("span",{className:"text-2xl",children:"‚ÑπÔ∏è"}),e.jsx("span",{children:f.title})]})}),e.jsx("p",{className:"text-gray-600 text-center mb-4",children:D($(f.release_date),"dd/MM/yyyy",{locale:V})}),e.jsx(ze,{youtube_music_url:f.youtube_music_url,youtube_url:f.youtube_url,title:f.title}),e.jsxs("div",{className:"mt-4 text-center",children:[e.jsx("h4",{className:"font-bold text-gray-800 text-lg mb-2",children:f.title}),e.jsx("p",{className:"text-gray-600",children:f.artist}),e.jsx("p",{className:"text-gray-500 text-sm mt-1",children:D($(f.release_date),"dd/MM/yyyy",{locale:V})})]}),e.jsx("div",{className:"mt-6",children:e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsx(E,{variant:"outline",className:"bg-white/70 hover:bg-white/90 text-gray-700 font-semibold border-gray-300 py-3 rounded-2xl text-sm",onClick:()=>Ae(f),children:"Plataformas"}),e.jsx(E,{variant:"outline",className:"bg-white/70 hover:bg-white/90 text-gray-700 font-semibold border-gray-300 py-3 rounded-2xl text-sm",onClick:()=>Ce(f),children:"Letras"}),e.jsx(E,{variant:"outline",className:"bg-white/70 hover:bg-white/90 text-gray-700 font-semibold border-gray-300 py-3 rounded-2xl text-sm",onClick:()=>Ee(f),children:"Compartilhar"})]})})]}):e.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-lg",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4 text-center",children:"‚ÑπÔ∏è Nenhuma m√∫sica dispon√≠vel"}),e.jsx("div",{className:"bg-gradient-to-br from-gray-100 to-gray-200 rounded-2xl flex items-center justify-center",style:{height:"min(70vh, 600px)",aspectRatio:"16/9"},children:e.jsxs("div",{className:"text-center text-gray-500",children:[e.jsx(G,{className:"w-16 h-16 mx-auto mb-4"}),e.jsx("p",{className:"text-lg font-medium",children:"Nenhuma m√∫sica dispon√≠vel"}),e.jsx("p",{className:"text-sm",children:"Volte na segunda-feira!"})]})})]}),e.jsx(Ve,{})]}),e.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-lg",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center gap-3",children:[e.jsx(we,{className:"w-6 h-6 text-blue-600"}),"M√∫sicas do M√™s"]})}),o.length>0?e.jsx("div",{className:"space-y-4",children:o.map(d=>e.jsx("div",{className:"bg-white rounded-2xl p-4 shadow-md hover:shadow-lg transition-all duration-200 border border-gray-100",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-500 rounded-xl flex items-center justify-center flex-shrink-0 shadow-md hover:shadow-lg transition-all duration-200 cursor-pointer transform hover:scale-105",onClick:N=>X(d,N),title:"Clique para ver esta m√∫sica na coluna de v√≠deo",children:e.jsx(te,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800 truncate cursor-pointer hover:underline",onClick:N=>X(d,N),title:"Clique para ver esta m√∫sica na coluna de v√≠deo",children:d.title}),e.jsx("p",{className:"text-gray-600 text-base font-medium mt-1",children:d.artist}),e.jsx("p",{className:"text-gray-500 text-sm font-medium mt-1",children:D($(d.release_date),"dd/MM/yyyy",{locale:V})})]})]})},d.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(G,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"Nenhuma m√∫sica publicada este m√™s ainda"})]}),e.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:e.jsxs("button",{onClick:ke,className:"inline-flex items-center gap-2 text-gray-500 hover:text-gray-700 text-sm transition-colors group cursor-pointer",children:[e.jsx(be,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"}),"Ver m√∫sicas de ",D(new Date(new Date().setMonth(new Date().getMonth()-1)),"MMMM yyyy",{locale:V})]})})]})]}),e.jsxs("div",{className:"lg:hidden",children:[f?e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-3",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-800 leading-tight line-clamp-2",children:f.title}),e.jsx("p",{className:"text-sm text-blue-700 mt-1",children:D($(f.release_date),"dd/MM/yyyy",{locale:V})})]})})}),e.jsx("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden mb-4",children:e.jsx(ze,{youtube_music_url:f.youtube_music_url,youtube_url:f.youtube_url,title:f.title})}),e.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs(E,{variant:"outline",className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-700 py-3 px-4 rounded-xl font-medium transition-colors",onClick:()=>Ae(f),children:[e.jsx(G,{className:"w-5 h-5 inline mr-2"}),"Plataformas"]}),f.lyrics&&f.lyrics.trim()&&e.jsxs(E,{variant:"outline",className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-700 py-3 px-4 rounded-xl font-medium transition-colors",onClick:()=>Ce(f),children:[e.jsx(Q,{className:"w-5 h-5 inline mr-2"}),"Letras"]}),e.jsxs(E,{variant:"outline",className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-700 py-3 px-4 rounded-xl font-medium transition-colors",onClick:()=>Ee(f),children:[e.jsx(te,{className:"w-5 h-5 inline mr-2"}),"Compartilhar"]})]})})]})}):e.jsxs("div",{className:"bg-white/20 rounded-3xl p-8 text-center",children:[e.jsx(G,{className:"w-16 h-16 text-white/60 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Nenhuma m√∫sica dispon√≠vel"}),e.jsx("p",{className:"text-white/80",children:"A m√∫sica da semana ser√° publicada em breve. Volte na segunda-feira!"})]}),e.jsx(Ve,{}),e.jsx("div",{className:"mt-8",children:e.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-lg",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center gap-3",children:[e.jsx(we,{className:"w-6 h-6 text-blue-600"}),"M√∫sicas do M√™s"]})}),o.length>0?e.jsx("div",{className:"space-y-4",children:o.map(d=>e.jsx("div",{className:"bg-white rounded-2xl p-4 shadow-md hover:shadow-lg transition-all duration-200 border border-gray-100",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-500 rounded-xl flex items-center justify-center flex-shrink-0 shadow-md hover:shadow-lg transition-all duration-200 cursor-pointer transform hover:scale-105",onClick:N=>X(d,N),title:"Clique para ver esta m√∫sica na coluna de v√≠deo",children:e.jsx(te,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-bold text-gray-800 text-lg truncate cursor-pointer hover:underline",onClick:N=>X(d,N),title:"Clique para ver esta m√∫sica na coluna de v√≠deo",children:d.title}),e.jsx("p",{className:"text-gray-600 text-base font-medium mt-1",children:d.artist}),e.jsx("p",{className:"text-gray-500 text-sm font-medium mt-1",children:D($(d.release_date),"dd/MM/yyyy",{locale:V})})]})]})},d.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(G,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"Nenhuma m√∫sica publicada este m√™s ainda"})]}),e.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:e.jsxs("button",{onClick:ke,className:"inline-flex items-center gap-2 text-gray-500 hover:text-gray-700 text-sm transition-colors group cursor-pointer",children:[e.jsx(be,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"}),"Ver m√∫sicas de ",D(new Date(new Date().setMonth(new Date().getMonth()-1)),"MMMM yyyy",{locale:V})]})})]})})]}),e.jsx(ye,{open:x,onOpenChange:M,children:e.jsxs(ie,{className:"bg-[#f8f5f2] max-w-md",children:[e.jsx(le,{children:e.jsx(ce,{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:"üéµ Ouvir em outras plataformas"})}),p&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-4 border border-blue-200",children:[e.jsx("h3",{className:"text-lg font-bold text-blue-900 mb-1",children:p.title}),e.jsx("p",{className:"text-blue-700 font-medium",children:p.artist})]}),e.jsxs("div",{className:"space-y-3",children:[p.spotify_url&&e.jsx("a",{href:p.spotify_url,target:"_blank",rel:"noopener noreferrer",className:"block",children:e.jsx(E,{className:"w-full bg-[#1DB954] hover:bg-[#1ed760] text-white font-bold py-3 rounded-2xl text-sm transition-all duration-200 hover:scale-105",children:"üéß Ouvir no Spotify"})}),p.apple_music_url&&e.jsx("a",{href:p.apple_music_url,target:"_blank",rel:"noopener noreferrer",className:"block",children:e.jsx(E,{className:"w-full bg-gradient-to-r from-[#FA233B] to-[#FB5C74] hover:opacity-90 text-white font-bold py-3 rounded-2xl text-sm transition-all duration-200 hover:scale-105",children:"üéµ Ouvir no Apple Music"})}),(p.youtube_music_url||p.youtube_url)&&e.jsx("a",{href:p.youtube_music_url||p.youtube_url,target:"_blank",rel:"noopener noreferrer",className:"block",children:e.jsx(E,{className:"w-full bg-[#FF0000] hover:bg-[#cc0000] text-white font-bold py-3 rounded-2xl text-sm transition-all duration-200 hover:scale-105",children:"üì∫ Assistir no YouTube"})}),!p.spotify_url&&!p.apple_music_url&&!p.youtube_music_url&&!p.youtube_url&&e.jsxs("div",{className:"text-center py-6",children:[e.jsx(G,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-600 font-medium",children:"Links de streaming em breve..."}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Esta m√∫sica ser√° disponibilizada em breve nas principais plataformas."})]})]})]})]})}),e.jsx(ps,{open:de,onOpenChange:F,song:p,title:"üìù Letras da M√∫sica",maxHeight:"h-52",showIcon:!1}),e.jsx(ye,{open:L,onOpenChange:z,children:e.jsxs(ie,{className:"bg-[#f8f5f2] max-w-2xl max-h-[80vh]",children:[e.jsx(le,{children:e.jsx(ce,{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:"‚ÑπÔ∏è Descri√ß√£o da M√∫sica"})}),p&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-4 border border-blue-200",children:[e.jsx("h3",{className:"text-lg font-bold text-blue-900 mb-1",children:p.title}),e.jsx("p",{className:"text-blue-700 font-medium",children:p.artist}),e.jsxs("p",{className:"text-blue-600 text-sm",children:["üìÖ ",D($(p.release_date),"dd/MM/yyyy",{locale:V})]})]}),e.jsx("div",{className:"bg-white rounded-xl p-4 border border-gray-200",children:p.description?e.jsx(Se,{className:"h-60",children:e.jsx("div",{className:"pr-4",children:e.jsx("pre",{className:"text-gray-700 whitespace-pre-wrap font-sans text-sm leading-relaxed",children:p.description})})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Q,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-600 font-medium",children:"Descri√ß√£o n√£o dispon√≠vel"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"A descri√ß√£o desta m√∫sica ser√° adicionada em breve."})]})})]})]})})]})}const js=i.lazy(()=>_(()=>import("./Calendar-Bpg6I4Mb.js"),__vite__mapDeps([0,1,2,3,4,5]))),Ns=i.lazy(()=>_(()=>import("./AdventCalendar-B8bWYbDS.js"),__vite__mapDeps([6,1,2,3,4,5]))),_s=i.lazy(()=>_(()=>import("./ProtectedAdmin-BENIk7GR.js"),__vite__mapDeps([7,1,2,3,4,8,9,10,11,5,12]))),As=i.lazy(()=>_(()=>import("./Sobre-ChkEk_gR.js"),__vite__mapDeps([13,1,2,3,4,5]))),Cs=i.lazy(()=>_(()=>import("./ContentForAI-DGsFYUO1.js"),__vite__mapDeps([14,1,2,3,4,5]))),Es=i.lazy(()=>_(()=>import("./Blog-p32dRr_b.js"),__vite__mapDeps([15,1,2,3,4,10,9,5]))),ks=i.lazy(()=>_(()=>import("./Login-7-tFurQt.js").then(t=>t.e),__vite__mapDeps([11,1,2,3,4,8,10]))),Ge=i.lazy(()=>_(()=>import("./Playlist-8Qz_KuTt.js"),__vite__mapDeps([16,1,2,3,4,5]))),Ts=i.lazy(()=>_(()=>import("./Song-CpVTdeVw.js"),__vite__mapDeps([17,1,2,3,4,5]))),Is=i.lazy(()=>_(()=>import("./Youtube-Bwg621tQ.js"),__vite__mapDeps([18,1,2,3,4,19,5]))),Os=i.lazy(()=>_(()=>import("./YoutubeTest-B0g8OPwo.js"),__vite__mapDeps([20,1,2,3,4]))),Ms=i.lazy(()=>_(()=>import("./YoutubeSimple-BhXOfgqO.js"),__vite__mapDeps([21,1,2,3,4,19,5]))),Ue=i.lazy(()=>_(()=>import("./TikTokDemo-Ziz9gA5a.js"),__vite__mapDeps([22,1,2,3,4,8,5]))),je=[{path:"/",component:$e,name:"Home",seo:{title:"A M√∫sica da Segunda - Nova m√∫sica toda segunda-feira",description:"Descubra uma nova m√∫sica incr√≠vel toda segunda-feira. Sua dose semanal de descobertas musicais.",keywords:"m√∫sica, segunda-feira, descobertas musicais, nova m√∫sica, playlist semanal"}},{path:"/home",component:$e,name:"Home",seo:{title:"A M√∫sica da Segunda - Nova m√∫sica toda segunda-feira",description:"Descubra uma nova m√∫sica incr√≠vel toda segunda-feira. Sua dose semanal de descobertas musicais.",keywords:"m√∫sica, segunda-feira, descobertas musicais, nova m√∫sica, playlist semanal"}},{path:"/calendar",component:js,name:"Calendar",seo:{title:"Calend√°rio Musical - A M√∫sica da Segunda",description:"Calend√°rio completo de todas as m√∫sicas publicadas. Explore a hist√≥ria musical do projeto.",keywords:"calend√°rio musical, m√∫sicas, hist√≥rico, publica√ß√£o semanal"}},{path:"/adventcalendar",component:Ns,name:"AdventCalendar",seo:{title:"Ano 2025 - Calend√°rio do Advento Musical",description:"Calend√°rio do advento musical com todas as m√∫sicas de 2025.",keywords:"calend√°rio advento, m√∫sica 2025, ano novo"}},{path:"/sobre",component:As,name:"Sobre",seo:{title:"Sobre - A M√∫sica da Segunda",description:"Conhe√ßa a hist√≥ria do projeto A M√∫sica da Segunda e descubra como nasceu essa paix√£o pela m√∫sica.",keywords:"sobre, hist√≥ria, projeto, m√∫sica brasileira"}},{path:"/api/content-for-ai.json",component:Cs,name:"ContentForAI",seo:null},{path:"/blog",component:Es,name:"Blog",seo:{title:"Blog - A M√∫sica da Segunda",description:"Artigos e not√≠cias sobre m√∫sica, cultura e atualidades.",keywords:"blog, artigos, not√≠cias, cultura musical"}},{path:"/admin",component:_s,name:"Admin",seo:null},{path:"/login",component:ks,name:"Login",seo:null},{path:"/playlist",component:Ge,name:"Playlist",seo:{title:"Playlist - Todas as M√∫sicas",description:"Lista completa de todas as m√∫sicas publicadas no projeto A M√∫sica da Segunda.",keywords:"playlist, todas as m√∫sicas, lista completa"}},{path:"/chansons",component:Ge,name:"Playlist",seo:{title:"Can√ß√µes - Todas as M√∫sicas",description:"Lista completa de todas as can√ß√µes publicadas no projeto A M√∫sica da Segunda.",keywords:"can√ß√µes, todas as m√∫sicas, lista completa"}},{path:"/chansons/:slug",component:Ts,name:"Song",seo:null},{path:"/youtube-test",component:Os,name:"YoutubeTest",seo:null},{path:"/youtube-simple",component:Ms,name:"YoutubeSimple",seo:null},{path:"/youtube",component:Is,name:"Youtube",seo:null},{path:"/tiktokdemo",component:Ue,name:"TikTokDemo",seo:null},{path:"/tiktok/:id",component:Ue,name:"TikTokDemo",seo:null}];je.reduce((t,a)=>(t[a.name]=a.component,t),{});function Ds(t){t.startsWith("#")&&(t=t.slice(1)),t.endsWith("/")&&(t=t.slice(0,-1));let a=t.split("/").pop();if(a.includes("?")&&(a=a.split("?")[0]),!a||a==="amusicadaegunda")return"Home";if(a.startsWith("tiktok"))return"TikTokDemo";if(t.startsWith("/chansons/")&&a!=="chansons")return"Song";const s=je.find(r=>r.path.split("/").pop().toLowerCase()===a.toLowerCase());return s?s.name:"Home"}function Ps(){return e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 animate-pulse",children:"Chargement..."})]})})}function Rs(){const t=Ke(),a=Ds(t.pathname);return e.jsx(ns,{currentPageName:a,children:e.jsx(i.Suspense,{fallback:e.jsx(Ps,{}),children:e.jsx(qt,{children:je.map(s=>e.jsx(Ft,{path:s.path,element:e.jsx(s.component,{})},s.path))})})})}function Ls(){return e.jsx(Jt,{children:e.jsx(Rs,{})})}const ut=i.forwardRef((s,a)=>{var t=j(s,[]);return e.jsx("div",g({ref:a,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]"},t))});ut.displayName="ToastProvider";const mt=i.forwardRef((s,a)=>{var t=j(s,[]);return e.jsx("div",g({ref:a,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]"},t))});mt.displayName="ToastViewport";const Vs=We("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),ht=i.forwardRef((o,r)=>{var n=o,{className:t,variant:a}=n,s=j(n,["className","variant"]);return e.jsx("div",g({ref:r,className:k(Vs({variant:a}),t)},s))});ht.displayName="Toast";const Bs=i.forwardRef((r,s)=>{var o=r,{className:t}=o,a=j(o,["className"]);return e.jsx("div",g({ref:s,className:k("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t)},a))});Bs.displayName="ToastAction";const gt=i.forwardRef((r,s)=>{var o=r,{className:t}=o,a=j(o,["className"]);return e.jsx("button",S(g({ref:s,className:k("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"data-toast-close":""},a),{children:e.jsx(q,{className:"h-4 w-4"})}))});gt.displayName="ToastClose";const xt=i.forwardRef((r,s)=>{var o=r,{className:t}=o,a=j(o,["className"]);return e.jsx("div",g({ref:s,className:k("text-sm font-semibold",t)},a))});xt.displayName="ToastTitle";const pt=i.forwardRef((r,s)=>{var o=r,{className:t}=o,a=j(o,["className"]);return e.jsx("div",g({ref:s,className:k("text-sm opacity-90",t)},a))});pt.displayName="ToastDescription";function zs(){const{toasts:t}=dt();return e.jsxs(ut,{children:[t.map(function(c){var l=c,{id:a,title:s,description:r,action:o}=l,n=j(l,["id","title","description","action"]);return e.jsxs(ht,S(g({},n),{children:[e.jsxs("div",{className:"grid gap-1",children:[s&&e.jsx(xt,{children:s}),r&&e.jsx(pt,{children:r})]}),o,e.jsx(gt,{})]}),a)}),e.jsx(mt,{})]})}function $s(){const[t,a]=i.useState(navigator.onLine),[s,r]=i.useState(!1);return i.useEffect(()=>{const o=()=>{a(!0),r(!1),console.log("üåê Connexion restaur√©e")},n=()=>{a(!1),r(!0),console.log("üì± Mode hors ligne d√©tect√©"),setTimeout(()=>r(!1),5e3)};return window.addEventListener("online",o),window.addEventListener("offline",n),navigator.onLine||a(!1),()=>{window.removeEventListener("online",o),window.removeEventListener("offline",n)}},[]),t?null:e.jsxs("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50",children:[s&&e.jsxs("div",{className:"bg-yellow-500 text-white px-4 py-2 rounded-lg shadow-lg flex items-center gap-2 animate-bounce",children:[e.jsx("span",{children:"üì±"}),e.jsx("span",{className:"text-sm font-medium",children:"Mode hors ligne - App dispon√≠vel offline"})]}),e.jsxs("div",{className:"bg-gray-800 text-white px-3 py-1 rounded-full text-xs flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),e.jsx("span",{children:"Offline"})]})]})}const J={};function Gs(c){return h(this,arguments,function*({endpoint:t,p256dh:a,auth:s,topic:r="new-song",locale:o="pt-BR",vapidKeyVersion:n="v1"}){if(!t||!a||!s)throw new Error("Missing subscription fields: endpoint, p256dh, auth");const{data:l,error:m}=yield C.from("push_subscriptions").upsert({endpoint:t,p256dh:a,auth:s,topics:[r],locale:o,vapid_key_version:n},{onConflict:"endpoint"}).select("endpoint").single();if(m)throw m;return l})}console.warn("üöÄ PUSH LIB LOADED - VERSION:",Date.now());const Y="BASujCEc1P4RwjUo-SKAxVdIL8yJ4R978lHaQBIZf4oxqs24oPHdeS7iB7So9RWVmlMHgKzZvbie6Ai8yov1Few",Je=(J==null?void 0:J.VITE_PUSH_API_BASE)||"https://efnzmpzkzeuktqkghwfa.functions.supabase.co",qe=(J==null?void 0:J.VITE_VAPID_KEY_VERSION)||"v1",Us=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1,Js=()=>navigator.standalone===!0,qs=()=>/Android/i.test(navigator.userAgent),Fe=()=>Us()||qs(),ft=()=>"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window,He=t=>{const a="=".repeat((4-t.length%4)%4),s=(t+a).replace(/-/g,"+").replace(/_/g,"/"),r=atob(s),o=new Uint8Array(r.length);for(let n=0;n<r.length;++n)o[n]=r.charCodeAt(n);return o},Fs=()=>localStorage.getItem("push_optout")==="true",Hs=()=>{if(!ft()||Fs())return!1;const t=localStorage.getItem("push_refused_until");return t&&Date.now()<Number(t)||!Fe()?!1:Fe()?Js():!1};function Ws(){return h(this,null,function*(){try{return console.warn("üîç R√©cup√©ration du Service Worker existant..."),yield navigator.serviceWorker.ready}catch(t){return console.warn("‚ö†Ô∏è SW pas pr√™t, tentative d'enregistrement..."),yield navigator.serviceWorker.register("/sw.js")}})}function Ys(){return h(this,arguments,function*({locale:t="pt-BR"}={}){var c;if(console.warn("üîç DIAGNOSTIC VAPID:"),console.warn("VAPID_PUBLIC_KEY length:",Y==null?void 0:Y.length),console.warn("API_BASE:",Je),console.warn("---"),console.warn("üîç Starting push activation..."),!ft())throw console.error("‚ùå Push not supported"),new Error("Push non support√©");try{const l=He(Y);if(console.warn("üîë VAPID key test - Length:",l.byteLength,"(doit √™tre 65)"),l.byteLength!==65)throw console.error("‚ùå VAPID key invalide: longueur incorrecte"),new Error("VAPID key invalide: longueur incorrecte");console.warn("‚úÖ VAPID key valide")}catch(l){throw console.error("‚ùå VAPID key error:",l),new Error("VAPID key invalide: "+l.message)}console.warn("‚úÖ Environment variables loaded");const a=yield Ws();if(!a)throw console.error("‚ùå Service Worker registration failed"),new Error("Service Worker registration failed");console.warn("‚úÖ Service Worker registered"),console.warn("üîç SW state:",(c=a.active)==null?void 0:c.state,"controller:",!!navigator.serviceWorker.controller);const s=yield Notification.requestPermission();if(console.warn("üîê Permission result:",s),s!=="granted"){const l=Date.now()+2592e6;throw localStorage.setItem("push_refused_until",String(l)),new Error("Permission refus√©e")}console.warn("üîë Creating push subscription...");const r=yield a.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:He(Y)});console.warn("‚úÖ Push subscription created");const o=btoa(String.fromCharCode(...new Uint8Array(r.getKey("p256dh")))),n=btoa(String.fromCharCode(...new Uint8Array(r.getKey("auth"))));console.warn("üì° Sending subscription to server (Supabase)...");try{yield Gs({endpoint:r.endpoint,p256dh:o,auth:n,topic:"new-song",locale:t,vapidKeyVersion:qe}),console.warn("‚úÖ Subscription saved to Supabase")}catch(l){console.error("‚ùå Supabase save failed, trying API fallback:",l);const m={endpoint:r.endpoint,keys:{p256dh:btoa(String.fromCharCode(...new Uint8Array(r.getKey("p256dh")))),auth:btoa(String.fromCharCode(...new Uint8Array(r.getKey("auth"))))}},u=yield fetch(`${Je}/push/subscribe`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({subscription:m,topic:"new-song",locale:t,vapidKeyVersion:qe})});if(console.warn("üìä API fallback response:",u.status,u.statusText),!u.ok){const y=yield u.text();throw console.error("‚ùå Both Supabase and API failed:",y),yield r.unsubscribe(),new Error(`Subscribe failed: ${u.status} ${u.statusText}`)}}return console.warn("‚úÖ Push activation completed successfully"),r})}function Ks(){const[t,a]=i.useState(!1),[s,r]=i.useState(!1),[o,n]=i.useState(null);i.useEffect(()=>{const m=setTimeout(()=>h(null,null,function*(){try{const u=yield Hs();a(u)}catch(u){console.error("Erreur v√©rification CTA push:",u),a(!1)}}),3e3);return()=>clearTimeout(m)},[]);const c=()=>h(null,null,function*(){r(!0),n(null);try{yield Ys(),a(!1)}catch(m){console.error("√âchec de l'abonnement push :",m),Notification.permission==="denied"?n("Notifications bloqu√©es. Veuillez les autoriser dans les param√®tres de votre navigateur."):n("Activation √©chou√©e. Veuillez r√©essayer.")}finally{r(!1)}}),l=()=>{a(!1)};return t?e.jsx("div",{className:"fixed bottom-5 left-1/2 -translate-x-1/2 z-50 w-full max-w-sm px-4 animate-in slide-in-from-bottom-5 duration-300",children:e.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 relative",children:[e.jsx("button",{onClick:l,className:"absolute top-2 right-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300","aria-label":"Fermer",children:e.jsx(q,{className:"w-4 h-4"})}),e.jsxs("div",{className:"flex flex-col items-center gap-3 pr-6",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center",children:e.jsx(Re,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),o?e.jsx("p",{className:"text-sm text-red-600 dark:text-red-400 text-center",children:o}):e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 text-center",children:"Ne manquez jamais une nouvelle chanson !"}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 text-center",children:"Recevez une notification chaque lundi"})]}),e.jsx(E,{onClick:c,disabled:s,className:"w-full bg-blue-600 hover:bg-blue-700 text-white",children:s?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"animate-spin mr-2",children:"‚è≥"}),"Activation..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Re,{className:"w-4 h-4 mr-2"}),"Activer les notifications"]})})]})]})}):null}const pe="v1.0.0",fe="migration_confissoes_bancarias_cleanup",Zs={isCompleted(){return localStorage.getItem(fe)===pe},markCompleted(){localStorage.setItem(fe,pe),console.log("‚úÖ Migration Confiss√µes Banc√°rias termin√©e")},execute(){return h(this,null,function*(){if(this.isCompleted()){console.log("üîÑ Migration d√©j√† effectu√©e, passage...");return}console.log("üöÄ D√©but de la migration Confiss√µes Banc√°rias...");try{this.cleanConfissoesBancarias(),yield this.forceSupabaseSync(),this.markCompleted(),console.log("üéâ Migration termin√©e avec succ√®s !")}catch(t){throw console.error("‚ùå Erreur lors de la migration:",t),t}})},cleanConfissoesBancarias(){try{const t=JSON.parse(localStorage.getItem("songs")||"[]"),s=t.filter(r=>r.title!=="Confiss√µes Banc√°rias"&&r.tiktok_video_id!=="7540762684149517590").map((r,o)=>S(g({},r),{id:o+1}));localStorage.setItem("songs",JSON.stringify(s)),console.log(`üßπ localStorage nettoy√© : ${t.length-s.length} chanson(s) supprim√©e(s)`),console.log(`üìù ${s.length} chanson(s) conserv√©e(s) et renum√©rot√©e(s)`)}catch(t){throw console.error("‚ùå Erreur lors du nettoyage du localStorage:",t),t}},forceSupabaseSync(){return h(this,null,function*(){try{localStorage.setItem("force_supabase_sync","true"),localStorage.setItem("last_supabase_sync",new Date().toISOString()),console.log("üîÑ Synchronisation Supabase forc√©e")}catch(t){throw console.error("‚ùå Erreur lors de la synchronisation Supabase:",t),t}})},getStatus(){return{completed:this.isCompleted(),version:pe,lastSync:localStorage.getItem("last_supabase_sync"),forceSupabase:localStorage.getItem("force_supabase_sync")==="true"}},reset(){localStorage.removeItem(fe),localStorage.removeItem("force_supabase_sync"),localStorage.removeItem("last_supabase_sync"),console.log("üîÑ Migration r√©initialis√©e")}};function Qs(){return i.useEffect(()=>{h(null,null,function*(){try{yield Zs.execute()}catch(a){console.error("‚ùå Erreur lors de la migration:",a)}})},[]),e.jsxs(e.Fragment,{children:[e.jsx($s,{}),e.jsx(Ls,{}),e.jsx(zs,{}),e.jsx(Ks,{})]})}class Xs extends rt.Component{constructor(s){super(s);W(this,"logErrorToService",(s,r)=>{const o={message:s.toString(),stack:s.stack,componentStack:r.componentStack,timestamp:new Date().toISOString(),userAgent:navigator.userAgent,url:window.location.href,errorCount:this.state.errorCount};console.log("üìä Error data for monitoring:",o);try{const n=JSON.parse(localStorage.getItem("app_errors")||"[]");n.push(o),localStorage.setItem("app_errors",JSON.stringify(n.slice(-10)))}catch(n){console.error("Failed to save error to localStorage:",n)}});W(this,"handleReset",()=>{this.setState({hasError:!1,error:null,errorInfo:null})});W(this,"handleGoHome",()=>{window.location.href="/"});W(this,"handleReload",()=>{window.location.reload()});this.state={hasError:!1,error:null,errorInfo:null,errorCount:0}}static getDerivedStateFromError(s){return{hasError:!0}}componentDidCatch(s,r){console.error("üö® ErrorBoundary caught an error:",s),console.error("üìç Error info:",r),this.setState(o=>({error:s,errorInfo:r,errorCount:o.errorCount+1})),this.props.onError&&this.props.onError(s,r),this.logErrorToService(s,r)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:e.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-gray-100 flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-2xl w-full",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-red-500 to-pink-500 p-8 text-white",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"bg-white/20 rounded-full p-4",children:e.jsx(oe,{className:"w-12 h-12"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Oops! Algo deu errado"}),e.jsx("p",{className:"text-white/90 text-lg",children:"Encontramos um erro inesperado"})]})]})}),e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("p",{className:"text-gray-700 text-lg mb-4",children:"N√£o se preocupe, n√£o √© culpa sua! Nossa equipe foi notificada e estamos trabalhando para resolver o problema."}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[e.jsx("span",{className:"text-blue-500",children:"‚ÑπÔ∏è"}),"O que voc√™ pode fazer:"]}),e.jsxs("ul",{className:"space-y-2 text-gray-600",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-500 mt-1",children:"‚úì"}),e.jsx("span",{children:"Recarregar a p√°gina para tentar novamente"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-500 mt-1",children:"‚úì"}),e.jsx("span",{children:"Voltar para a p√°gina inicial"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-500 mt-1",children:"‚úì"}),e.jsx("span",{children:"Limpar o cache do seu navegador"})]})]})]})]}),!1,e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mt-8",children:[e.jsxs(E,{onClick:this.handleReload,className:"flex-1 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white",size:"lg",children:[e.jsx(at,{className:"w-5 h-5 mr-2"}),"Recarregar P√°gina"]}),e.jsxs(E,{onClick:this.handleGoHome,variant:"outline",className:"flex-1 border-2",size:"lg",children:[e.jsx(K,{className:"w-5 h-5 mr-2"}),"Ir para In√≠cio"]})]}),e.jsx("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("span",{className:"font-semibold",children:"Precisa de ajuda?"})," Se o problema persistir, entre em contato conosco atrav√©s do"," ",e.jsx("a",{href:"/sobre",className:"underline hover:text-blue-900 font-semibold",onClick:s=>{s.preventDefault(),this.handleGoHome()},children:"formul√°rio de contato"}),"."]})})]}),e.jsx("div",{className:"bg-gray-50 px-8 py-4 border-t border-gray-200",children:e.jsxs("p",{className:"text-center text-sm text-gray-600",children:["C√≥digo do erro: ",e.jsxs("code",{className:"bg-gray-200 px-2 py-1 rounded font-mono text-xs",children:["ERR_",new Date().getTime()]})]})})]}),e.jsx("div",{className:"mt-6 text-center text-sm text-gray-600",children:e.jsx("p",{children:"üéµ A M√∫sica da Segunda - Nova m√∫sica toda segunda-feira"})})]})}):this.props.children}}const ea={},ta=(t,a)=>{console.log("üî¥ Global error handler:",{error:t,errorInfo:a})};Ht.createRoot(document.getElementById("root")).render(e.jsx(rt.StrictMode,{children:e.jsx(Xs,{onError:ta,children:e.jsx(Wt,{context:ea,children:e.jsx(Qs,{})})})}));try{_(()=>import("./webvitals-CtsNxiQn.js"),__vite__mapDeps([23,24])).catch(()=>{})}catch(t){console.warn("üîß Mode non-module d√©tect√©, Web Vitals d√©sactiv√©")}if("serviceWorker"in navigator){const t=()=>h(null,null,function*(){var a;try{const{Capacitor:s}=yield _(()=>h(null,null,function*(){const{Capacitor:r}=yield import("./libs-DqMydE2S.js").then(o=>o.G);return{Capacitor:r}}),__vite__mapDeps([2,3,1,4]));return((a=s.isNativePlatform)==null?void 0:a.call(s))===!0}catch(s){return!1}});window.addEventListener("load",()=>h(null,null,function*(){(yield t())||navigator.serviceWorker.register("/sw.js").catch(console.error)}))}const sa=()=>h(null,null,function*(){var t;try{const{Capacitor:a}=yield _(()=>h(null,null,function*(){const{Capacitor:s}=yield import("./libs-DqMydE2S.js").then(r=>r.G);return{Capacitor:s}}),__vite__mapDeps([2,3,1,4]));if((t=a.isNativePlatform)!=null&&t.call(a)){const{SplashScreen:s}=yield _(()=>h(null,null,function*(){const{SplashScreen:r}=yield import("./libs-DqMydE2S.js").then(o=>o.H);return{SplashScreen:r}}),__vite__mapDeps([2,3,1,4]));yield s.hide()}}catch(a){}});sa();export{ca as A,E as B,Ve as C,ye as D,ps as L,nt as O,Le as S,ie as a,le as b,ce as c,xs as d,k as e,ct as f,Se as g,B as l,C as s,fs as u};
