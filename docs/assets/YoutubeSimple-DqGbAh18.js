import{r,j as e}from"./vendor-react-CM84WoKi.js";import{S as d}from"./index-D5-uAvgC.js";import{Y as m}from"./YouTubePlayer-C2QEHoWg.js";import"./vendor-ui-8p2QWU2G.js";import"./vendor-supabase-ci4wIQv9.js";import"./vendor-date-HUzpq8ep.js";function j(){console.warn("üé¨ YoutubeSimple component loaded");const[s,l]=r.useState(null),[c,a]=r.useState(!0);r.useEffect(()=>{console.warn("üé¨ YoutubeSimple useEffect triggered"),i()},[]);const i=async()=>{a(!0);try{const t=await d.getCurrent();console.warn("üìä Chanson actuelle charg√©e:",t),l(t)}catch(t){console.error("‚ùå Erro ao carregar m√∫sica atual:",t)}finally{a(!1)}},u=t=>{if(!t)return null;const o=t.match(/(?:v=|youtu\.be\/|embed\/)([A-Za-z0-9_-]{11})/);return o?o[1]:null};if(c)return e.jsx("div",{className:"p-5 max-w-md mx-auto",children:e.jsxs("div",{className:"text-center py-20",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),e.jsx("p",{className:"text-white/80",children:"Carregando..."})]})});if(!s)return e.jsx("div",{className:"p-5 max-w-md mx-auto",children:e.jsx("div",{className:"text-center text-white",children:e.jsx("p",{className:"text-lg",children:"Nenhuma m√∫sica dispon√≠vel"})})});const n=u(s.youtube_url);return e.jsxs("div",{className:"p-5 max-w-md mx-auto",children:[e.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:s.title}),n?e.jsx("div",{className:"bg-black rounded-2xl overflow-hidden shadow-xl",children:e.jsx(m,{videoId:n,className:"w-full",title:s.title})}):e.jsxs("div",{className:"bg-gray-800 rounded-2xl p-8 text-center text-white",children:[e.jsx("p",{children:"YouTube URL non disponible pour cette chanson"}),e.jsxs("p",{className:"text-sm text-gray-400 mt-2",children:["URL: ",s.youtube_url||"Aucune"]})]})]})}export{j as default};
