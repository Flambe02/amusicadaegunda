import{r as e,j as t}from"./vendor-BIbFW3qO.js";import{S as s}from"./index-DetkHvaz.js";import{Y as r}from"./YouTubePlayer-DnUNJIY5.js";import"./libs-DY7TBn7z.js";import"./utils-DuUtq9wc.js";import"./ui-CttiZxwU.js";import"./supabase-sfbdw4k8.js";function a(){const[a,l]=e.useState(null),[n,i]=e.useState(!0);e.useEffect(()=>{o()},[]);const o=()=>{return e=function*(){i(!0);try{const e=yield s.getCurrent();l(e)}catch(e){}finally{i(!1)}},new Promise((t,s)=>{var r=t=>{try{l(e.next(t))}catch(r){s(r)}},a=t=>{try{l(e.throw(t))}catch(r){s(r)}},l=e=>e.done?t(e.value):Promise.resolve(e.value).then(r,a);l((e=e.apply(null,null)).next())});var e};if(n)return t.jsx("div",{className:"p-5 max-w-md mx-auto",children:t.jsxs("div",{className:"text-center py-20",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),t.jsx("p",{className:"text-white/80",children:"Carregando..."})]})});if(!a)return t.jsx("div",{className:"p-5 max-w-md mx-auto",children:t.jsx("div",{className:"text-center text-white",children:t.jsx("p",{className:"text-lg",children:"Nenhuma música disponível"})})});const c=(e=>{if(!e)return null;const t=e.match(/(?:v=|youtu\.be\/|embed\/)([A-Za-z0-9_-]{11})/);return t?t[1]:null})(a.youtube_url);return t.jsxs("div",{className:"p-5 max-w-md mx-auto",children:[t.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:a.title}),c?t.jsx("div",{className:"bg-black rounded-2xl overflow-hidden shadow-xl",children:t.jsx(r,{videoId:c,className:"w-full",title:a.title})}):t.jsxs("div",{className:"bg-gray-800 rounded-2xl p-8 text-center text-white",children:[t.jsx("p",{children:"YouTube URL non disponible pour cette chanson"}),t.jsxs("p",{className:"text-sm text-gray-400 mt-2",children:["URL: ",a.youtube_url||"Aucune"]})]})]})}export{a as default};
