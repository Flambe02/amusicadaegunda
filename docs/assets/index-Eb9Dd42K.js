const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Calendar-Cy6QRIZX.js","assets/vendor-react-NAV4UYoK.js","assets/vendor-ui-BUbFcrva.js","assets/vendor-date-BfA9-vu0.js","assets/vendor-supabase-CMR6_zzL.js","assets/RodaDaSegunda-CpPbsqiK.js","assets/ProtectedAdmin-7APzzxvu.js","assets/input-DFg0291R.js","assets/badge-ChvhxbEm.js","assets/card-BGJ-ugef.js","assets/Login-Db_roDt8.js","assets/ProtectedAdmin-D0tnbmQj.css","assets/Sobre-BMldP_36.js","assets/ContentForAI-Cc9b5j6w.js","assets/Blog-DKVO5Dlz.js","assets/Playlist-CCFia2Ig.js","assets/seo-jsonld-caGWd7Ka.js","assets/Song-osXs26YX.js","assets/Youtube-DJr4vnrD.js","assets/YouTubePlayer-rmQquWju.js","assets/YoutubeTest-CiPhVSY1.js","assets/YoutubeSimple-6JWpxXq1.js","assets/TikTokDemo-BdzECBfk.js","assets/Search-DDfQt0M1.js","assets/webvitals-B44qvw7I.js"])))=>i.map(i=>d[i]);
var cs=Object.defineProperty,ds=Object.defineProperties;var us=Object.getOwnPropertyDescriptors;var Se=Object.getOwnPropertySymbols;var ht=Object.prototype.hasOwnProperty,xt=Object.prototype.propertyIsEnumerable;var Be=(t,r,s)=>r in t?cs(t,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[r]=s,v=(t,r)=>{for(var s in r||(r={}))ht.call(r,s)&&Be(t,s,r[s]);if(Se)for(var s of Se(r))xt.call(r,s)&&Be(t,s,r[s]);return t},L=(t,r)=>ds(t,us(r));var M=(t,r)=>{var s={};for(var a in t)ht.call(t,a)&&r.indexOf(a)<0&&(s[a]=t[a]);if(t!=null&&Se)for(var a of Se(t))r.indexOf(a)<0&&xt.call(t,a)&&(s[a]=t[a]);return s};var ue=(t,r,s)=>Be(t,typeof r!="symbol"?r+"":r,s);var w=(t,r,s)=>new Promise((a,o)=>{var n=l=>{try{u(s.next(l))}catch(m){o(m)}},i=l=>{try{u(s.throw(l))}catch(m){o(m)}},u=l=>l.done?a(l.value):Promise.resolve(l.value).then(n,i);u((s=s.apply(t,r)).next())});import{X as le,A as pt,S as Fe,j as ms,H as ne,k as We,C as De,m as hs,P as xs,n as Ze,p as xe,q as Oe,t as ps,r as gs,D as Z,u as Et,F as ae,G as Tt,M as fs,L as It,v as Ue,w as bs,T as ws,x as vs,y as At,O as Ct,z as ys,B as Dt,E as Qe,J as js,K as Ot,R as Ns,N as Mt,V as Ss,Q as _s,U as Pt,W as ks,Y as oe,Z as Es,$ as Ke,a0 as Rt,a1 as B,a2 as gt}from"./vendor-ui-BUbFcrva.js";import{r as c,j as e,L as pe,i as Xe,k as Ts,H as ft,B as Is,m as As,n as me,N as ke,p as Cs,c as Lt,q as Ds,t as Os}from"./vendor-react-NAV4UYoK.js";import{c as Ms}from"./vendor-supabase-CMR6_zzL.js";import{s as Ee,e as Te,p as W,i as Ie,a as _e,f as J,b as X}from"./vendor-date-BfA9-vu0.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function s(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(o){if(o.ep)return;o.ep=!0;const n=s(o);fetch(o.href,n)}})();function q(t){return"/"+t.toLowerCase().replace(/ /g,"-")}const et=()=>{const t=navigator.userAgent||navigator.vendor||window.opera;return/iPad|iPhone|iPod/.test(t)&&!window.MSStream},Ut=()=>window.navigator.standalone===!0||window.matchMedia("(display-mode: standalone)").matches,Ps=()=>{const t=navigator.userAgent;return/Safari/.test(t)&&!/Chrome/.test(t)},Me=()=>{const t=et(),r=Ut(),s=localStorage.getItem("ios-tutorial-seen");return t&&!r&&!s};function Rs({onShowVisualGuide:t}){const[r,s]=c.useState(!1),[a,o]=c.useState(0),[n,i]=c.useState(!1),[u,l]=c.useState(!1);c.useEffect(()=>{const f=et(),j=Ut();if(i(f),l(j),Me()){const _=setTimeout(()=>{s(!0)},2e3);return()=>clearTimeout(_)}},[]);const m=[{title:"Adicionar √† tela inicial",description:"Clique no bot√£o Compartilhar na parte inferior do seu navegador",icon:Fe,arrow:pt,arrowPosition:"bottom-20 right-4",highlight:"share-button"},{title:"Selecionar a op√ß√£o",description:"Depois escolha 'Na tela inicial' no menu",icon:ne,arrow:ms,arrowPosition:"bottom-16 right-20",highlight:"add-to-home"},{title:"Confirmar a adi√ß√£o",description:"Pressione 'Adicionar' para instalar o aplicativo",icon:ne,arrow:pt,arrowPosition:"bottom-12 right-16",highlight:"confirm-add"}],d=()=>{a<m.length-1?o(a+1):(s(!1),localStorage.setItem("ios-tutorial-seen","true"))},p=()=>{s(!1),localStorage.setItem("ios-tutorial-seen","true")},S=()=>{s(!1),localStorage.setItem("ios-tutorial-seen","true")};return!Me()||!r?null:e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50",onClick:S}),e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl max-w-sm w-full mx-4 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white p-6 text-center relative",children:[e.jsx("button",{onClick:S,className:"absolute top-4 right-4 p-2 rounded-full bg-white/20 hover:bg-white/30 transition-colors",children:e.jsx(le,{className:"w-5 h-5"})}),e.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-4",children:(()=>{const f=m[a].icon;return e.jsx(f,{className:"w-8 h-8"})})()}),e.jsx("h2",{className:"text-xl font-bold mb-2",children:m[a].title}),e.jsx("p",{className:"text-blue-100 text-sm",children:m[a].description})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"bg-gray-100 rounded-2xl p-4 mb-6 relative",children:[e.jsxs("div",{className:"bg-white rounded-xl p-3 mb-3 flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Safari"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"w-3 h-3 bg-red-400 rounded-full"}),e.jsx("div",{className:"w-3 h-3 bg-yellow-400 rounded-full"}),e.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full"})]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-3 flex items-center justify-between",children:[e.jsx("div",{className:"w-6 h-6 bg-gray-300 rounded"}),e.jsx("div",{className:"flex-1 mx-3 h-8 bg-gray-200 rounded-lg"}),e.jsx("div",{className:"w-6 h-6 bg-gray-300 rounded"})]}),e.jsx("div",{className:"bg-white rounded-xl p-3 mt-3 flex items-center justify-center",children:e.jsxs("div",{className:"flex items-center gap-2 text-blue-600",children:[e.jsx(Fe,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium",children:"Compartilhar"})]})}),e.jsx("div",{className:`absolute ${m[a].arrowPosition} animate-bounce`,children:(()=>{const f=m[a].arrow;return e.jsx(f,{className:"w-8 h-8 text-blue-600 drop-shadow-lg"})})()})]}),e.jsx("div",{className:"flex justify-center gap-2 mb-6",children:m.map((f,j)=>e.jsx("div",{className:`w-2 h-2 rounded-full transition-colors ${j===a?"bg-blue-500":"bg-gray-300"}`},j))}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:p,className:"flex-1 py-3 px-4 text-gray-600 border border-gray-300 rounded-xl hover:bg-gray-50 transition-colors",children:"Ignorar"}),e.jsx("button",{onClick:d,className:"flex-1 py-3 px-4 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors font-medium",children:a===m.length-1?"Finalizar":"Pr√≥ximo"})]})]})]})}),e.jsx("div",{className:"fixed bottom-20 left-4 right-4 z-40 lg:hidden",children:e.jsx("div",{className:"bg-blue-600 text-white rounded-2xl p-4 shadow-lg border border-blue-500/20",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center",children:e.jsx(ne,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-sm",children:"Adicionar √† tela inicial"}),e.jsx("p",{className:"text-blue-100 text-xs",children:'Clique em Compartilhar e depois "Na tela inicial"'})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>s(!0),className:"bg-white/20 hover:bg-white/30 px-3 py-1 rounded-lg text-xs font-medium transition-colors",children:"Tutorial"}),e.jsx("button",{onClick:t,className:"bg-white/20 hover:bg-white/30 px-3 py-1 rounded-lg text-xs font-medium transition-colors",children:"Guia visual"})]})]})})})]})}const Ls=({message:t,type:r="info",duration:s=5e3,onClose:a})=>{const[o,n]=c.useState(!0);c.useEffect(()=>{if(s>0){const d=setTimeout(()=>{n(!1),setTimeout(()=>a==null?void 0:a(),300)},s);return()=>clearTimeout(d)}},[s,a]);const i=()=>{n(!1),setTimeout(()=>a==null?void 0:a(),300)},u={success:hs,error:De,warning:De,info:We},l={success:"bg-green-500 border-green-600",error:"bg-red-500 border-red-600",warning:"bg-yellow-500 border-yellow-600",info:"bg-blue-500 border-blue-600"},m=u[r];return o?e.jsx("div",{className:`fixed top-4 right-4 z-50 transform transition-all duration-300 ${o?"translate-x-0 opacity-100":"translate-x-full opacity-0"}`,children:e.jsx("div",{className:`${l[r]} text-white rounded-lg shadow-lg border p-4 max-w-sm`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(m,{className:"w-5 h-5 mt-0.5 flex-shrink-0"}),e.jsx("div",{className:"flex-1",children:e.jsx("p",{className:"text-sm font-medium",children:t})}),e.jsx("button",{onClick:i,className:"text-white/80 hover:text-white transition-colors flex-shrink-0",children:e.jsx(le,{className:"w-4 h-4"})})]})})}):null};function Us({isOpen:t,onClose:r}){const[s,a]=c.useState(0),[o,n]=c.useState(!1),i=[{title:"Passo 1: Bot√£o Compartilhar",description:"Localize o bot√£o Compartilhar na parte inferior do seu navegador Safari",image:"step1",highlight:"share-button"},{title:"Passo 2: Menu Compartilhar",description:"O menu Compartilhar abre com v√°rias op√ß√µes",image:"step2",highlight:"share-menu"},{title:"Passo 3: Na tela inicial",description:"Role e selecione 'Na tela inicial'",image:"step3",highlight:"add-to-home"},{title:"Passo 4: Confirma√ß√£o",description:"Pressione 'Adicionar' para instalar o aplicativo",image:"step4",highlight:"confirm"}],u=()=>{s<i.length-1&&a(s+1)},l=()=>{s>0&&a(s-1)},m=()=>{if(n(!o),!o){const p=setInterval(()=>{a(S=>S>=i.length-1?(clearInterval(p),n(!1),S):S+1)},3e3)}},d=p=>e.jsxs("div",{className:"relative bg-gray-100 rounded-2xl p-6 mb-6",children:[e.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-lg",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4 text-xs text-gray-600",children:[e.jsx("span",{children:"9:41"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-4 h-2 bg-gray-300 rounded-full"}),e.jsx("span",{children:"100%"})]})]}),e.jsx("div",{className:"bg-gray-200 rounded-lg p-2 mb-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded"}),e.jsx("span",{className:"text-xs text-gray-600",children:"musica-da-segunda.com"})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"h-4 bg-gray-300 rounded"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-3/4"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded-full"}),e.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded-full"}),e.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded-full"}),e.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded-full"}),e.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded-full"})]})})]}),e.jsx("div",{className:"absolute bottom-4 right-4 bg-blue-500 text-white rounded-full p-3 shadow-lg",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"})})}),e.jsx("div",{className:"absolute bottom-16 right-4 animate-bounce",children:e.jsx("svg",{className:"w-8 h-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 10l7-7m0 0l7 7m-7-7v18"})})})]});return t?e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/60",onClick:r}),e.jsxs("div",{className:"relative bg-white rounded-3xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Guia de instala√ß√£o iOS"}),e.jsx("button",{onClick:r,className:"p-2 rounded-full bg-white/20 hover:bg-white/30 transition-colors",children:e.jsx(le,{className:"w-6 h-6"})})]}),e.jsx("div",{className:"flex items-center gap-4 mt-4",children:e.jsxs("button",{onClick:m,className:"flex items-center gap-2 bg-white/20 hover:bg-white/30 px-4 py-2 rounded-lg transition-colors",children:[o?e.jsx(xs,{className:"w-4 h-4"}):e.jsx(Ze,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:o?"Pausar":"Reprodu√ß√£o autom√°tica"})]})})]}),e.jsxs("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:[d(),e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:i[s].title}),e.jsx("p",{className:"text-gray-600",children:i[s].description})]}),e.jsx("div",{className:"flex justify-center gap-2 mb-6",children:i.map((p,S)=>e.jsx("div",{className:`w-3 h-3 rounded-full transition-colors ${S===s?"bg-blue-500":"bg-gray-300"}`},S))}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("button",{onClick:l,disabled:s===0,className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${s===0?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-blue-500 text-white hover:bg-blue-600"}`,children:[e.jsx(xe,{className:"w-4 h-4"}),"Anterior"]}),e.jsxs("button",{onClick:u,disabled:s===i.length-1,className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${s===i.length-1?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-blue-500 text-white hover:bg-blue-600"}`,children:["Pr√≥ximo",e.jsx(Oe,{className:"w-4 h-4"})]})]})]})]})]}):null}function zs(){const[t,r]=c.useState(!1),[s,a]=c.useState(""),[o,n]=c.useState("info"),[i,u]=c.useState(!1);c.useEffect(()=>{if(Me()){const m=setTimeout(()=>{et()&&Ps()&&(a('üí° Dica: Adicione este app √† sua tela inicial para uma experi√™ncia melhor! Clique em "Tutorial" para ver o guia completo.'),n("info"),r(!0))},3e3);return()=>clearTimeout(m)}},[]);const l=()=>{r(!1)};return Me()?e.jsxs(e.Fragment,{children:[e.jsx(Rs,{onShowVisualGuide:()=>u(!0)}),t&&e.jsx(Ls,{message:s,type:o,duration:8e3,onClose:l}),e.jsx(Us,{isOpen:i,onClose:()=>u(!1)})]}):null}function V(...t){return ps(gs(t))}const fe=s=>{var a=s,{shouldScaleBackground:t=!0}=a,r=M(a,["shouldScaleBackground"]);return e.jsx(Z.Root,v({shouldScaleBackground:t},r))};fe.displayName="Drawer";const Bs=Z.Portal,zt=c.forwardRef((a,s)=>{var o=a,{className:t}=o,r=M(o,["className"]);return e.jsx(Z.Overlay,v({ref:s,className:V("fixed inset-0 z-[200] bg-black/60 backdrop-blur-sm",t)},r))});zt.displayName=Z.Overlay.displayName;const be=c.forwardRef((o,a)=>{var n=o,{className:t,children:r}=n,s=M(n,["className","children"]);const i=c.useId(),u=s["aria-describedby"];return e.jsxs(Bs,{children:[e.jsx(zt,{}),e.jsxs(Z.Content,L(v({ref:a,className:V("fixed inset-x-0 bottom-0 z-[200] mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",t)},s),{"aria-describedby":u!=null?u:i,children:[u===void 0?e.jsx(Z.Description,{id:i,className:"sr-only",children:"Drawer content"}):null,e.jsx("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),r]}))]})});be.displayName="DrawerContent";const we=s=>{var a=s,{className:t}=a,r=M(a,["className"]);return e.jsx("div",v({className:V("grid gap-1.5 p-4 text-center sm:text-left",t)},r))};we.displayName="DrawerHeader";const ve=c.forwardRef((a,s)=>{var o=a,{className:t}=o,r=M(o,["className"]);return e.jsx(Z.Title,v({ref:s,className:V("text-lg font-semibold leading-none tracking-tight",t)},r))});ve.displayName=Z.Title.displayName;const tt=c.forwardRef((a,s)=>{var o=a,{className:t}=o,r=M(o,["className"]);return e.jsx(Z.Description,v({ref:s,className:V("text-sm text-muted-foreground",t)},r))});tt.displayName=Z.Description.displayName;function Vs({open:t,onOpenChange:r}){const s=[{name:"Pesquisar",url:q("Search"),icon:Et,description:"Encontre uma m√∫sica"},{name:"Blog Musical",url:q("Blog"),icon:ae,description:"Artigos e not√≠cias sobre m√∫sica"},{name:"A Roda de Segunda",url:q("Roda"),icon:Tt,description:"Gire a roda e descubra uma m√∫sica!"},{name:"Sobre / Nossa Miss√£o",url:q("Sobre"),icon:We,description:"Descubra nossa hist√≥ria"},{name:"Contato",url:"mailto:contact@amusicadasegunda.com",icon:fs,description:"Envie-nos uma mensagem",isExternal:!0}];return e.jsx(fe,{open:t,onOpenChange:r,shouldScaleBackground:!1,children:e.jsxs(be,{className:"bg-black/95 backdrop-blur-xl border-t border-white/20 max-h-[85vh]",children:[e.jsx("div",{className:"mx-auto mt-4 h-1.5 w-16 rounded-full bg-white/30"}),e.jsxs(we,{className:"px-6 pt-4 pb-2",children:[e.jsx(ve,{className:"text-xl font-bold text-white flex items-center gap-3",children:e.jsx("span",{children:"Menu"})}),e.jsx(tt,{className:"sr-only",children:"Menu principal de navigation mobile."})]}),e.jsx("div",{className:"px-6 pb-6 flex-1 overflow-y-auto",children:e.jsx("div",{className:"space-y-2",children:s.map(a=>{const o=a.icon;return a.isExternal?e.jsxs("a",{href:a.url,className:"flex items-center gap-4 p-4 rounded-2xl bg-white/5 hover:bg-white/10 border border-white/10 transition-all duration-300 active:scale-95 touch-manipulation group",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-white/10 group-hover:bg-white/20 flex items-center justify-center transition-colors",children:e.jsx(o,{className:"w-6 h-6 text-white drop-shadow-sm"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-white font-semibold text-base mb-1 drop-shadow-sm",children:a.name}),e.jsx("p",{className:"text-white/70 text-sm drop-shadow-sm",children:a.description})]})]},a.name):e.jsxs(pe,{to:a.url,onClick:()=>r(!1),className:"flex items-center gap-4 p-4 rounded-2xl bg-white/5 hover:bg-white/10 border border-white/10 transition-all duration-200 active:scale-95 touch-manipulation group",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-white/10 group-hover:bg-white/20 flex items-center justify-center transition-colors",children:e.jsx(o,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-white font-semibold text-base mb-1",children:a.name}),e.jsx("p",{className:"text-white/60 text-sm",children:a.description})]})]},a.name)})})})]})})}function $s(){const t=Xe(),[r,s]=c.useState(!1),a=[{name:"Home",url:q("Home"),icon:ne,isLink:!0},{name:"Playlist",url:q("Playlist"),icon:It,isLink:!0},{name:"Agenda",url:q("Calendar"),icon:Ue,isLink:!0},{name:"Menu",url:"#",icon:bs,isLink:!1,onClick:()=>s(!0)}],o=i=>i.name==="Home"&&t.pathname==="/"?!0:i.name==="Menu"?!1:t.pathname===i.url,n=i=>{i.preventDefault(),s(!0)};return e.jsxs(e.Fragment,{children:[e.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-[100] bg-black/90 backdrop-blur-md border-t border-white/20 shadow-2xl","aria-label":"Navigation principale",children:e.jsx("div",{className:"flex items-center justify-around px-2 py-3 safe-area-inset-bottom",children:a.map(i=>{const u=o(i);return i.isLink?e.jsxs(pe,{to:i.url,"aria-current":u?"page":void 0,className:`
                    flex flex-col items-center justify-center
                    min-w-[64px] min-h-[64px] px-4 py-3
                    rounded-2xl transition-all duration-300
                    touch-manipulation
                    ${u?"bg-cyan-500/30 text-white scale-105":"text-white/60 hover:text-white hover:bg-white/10 active:scale-95"}
                  `,children:[e.jsx(i.icon,{className:`w-6 h-6 mb-1 flex-shrink-0 transition-colors ${u?"text-white scale-110":"text-white/60"}`,"aria-hidden":"true"}),e.jsx("span",{className:`text-[10px] font-medium text-center leading-tight ${u?"text-white font-semibold":"text-white/60"}`,children:i.name})]},i.name):e.jsxs("button",{onClick:n,className:`
                    flex flex-col items-center justify-center
                    min-w-[64px] min-h-[64px] px-4 py-3
                    rounded-2xl transition-all duration-300
                    touch-manipulation
                    text-white/60 hover:text-white hover:bg-white/10 active:scale-95
                  `,"aria-label":"Ouvrir le menu",children:[e.jsx(i.icon,{className:"w-6 h-6 mb-1 flex-shrink-0 text-white/60 transition-colors","aria-hidden":"true"}),e.jsx("span",{className:"text-[10px] font-medium text-center leading-tight text-white/60",children:i.name})]},i.name)})})}),e.jsx(Vs,{open:r,onOpenChange:s})]})}function Bt({title:t,description:r,keywords:s,image:a,url:o,type:n="website",robots:i="index, follow",enabled:u=!0}){const l="A M√∫sica da Segunda",m="https://www.amusicadasegunda.com",d=`${m}/icons/icon-512x512.png`,p=t?t.includes("|")?t:`${t} | ${l}`:l,S=r||"Descubra uma nova m√∫sica incr√≠vel toda segunda-feira. Sua dose semanal de descobertas musicais.",f=s||"m√∫sica, segunda-feira, descobertas musicais, nova m√∫sica, playlist semanal, m√∫sica brasileira, indie music",j=a||d,_=o?`${m}${o}`:m;c.useEffect(()=>{if(!(typeof document=="undefined"||!u))try{document.title=p;const x=(P,C,R)=>{let y=document.querySelector(`meta[${P}="${C}"]`);y||(y=document.createElement("meta"),y.setAttribute(P,C),document.head.appendChild(y)),y.setAttribute("content",R)},b=P=>{let C=document.querySelector('link[rel="canonical"]');C||(C=document.createElement("link"),C.setAttribute("rel","canonical"),document.head.appendChild(C)),C.setAttribute("href",P)};x("name","description",S),x("name","keywords",f),x("name","robots",i),x("property","og:title",p),x("property","og:description",S),x("property","og:url",_),x("property","og:image",j),x("property","og:type",n),x("property","og:site_name",l),x("property","og:locale","pt_BR"),x("name","twitter:card","summary_large_image"),x("name","twitter:site","@amusicadasegunda"),x("name","twitter:title",p),x("name","twitter:description",S),x("name","twitter:image",j),b(_);const E={"@context":"https://schema.org","@type":n==="article"?"Article":"WebPage",headline:p,description:S,image:j,url:_,publisher:{"@type":"Organization",name:l,url:m,logo:{"@type":"ImageObject",url:d,width:512,height:512},sameAs:["https://www.tiktok.com/@amusicadasegunda","https://open.spotify.com/user/amusicadasegunda"]},mainEntityOfPage:{"@type":"WebPage","@id":_}};n==="article"&&(E.author={"@type":"Person",name:"Piment√£o rouge",url:m});const T="dynamic-page-jsonld";let I=document.getElementById(T);I||(I=document.createElement("script"),I.type="application/ld+json",I.id=T,document.head.appendChild(I)),I.textContent=JSON.stringify(E)}catch(x){console.error("Erro ao atualizar SEO:",x)}},[p,S,f,j,_,n,i,d])}const qs="https://efnzmpzkzeuktqkghwfa.supabase.co",Ys="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVmbnptcHpremV1a3Rxa2dod2ZhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTYyMzE4MzcsImV4cCI6MjA3MTgwNzgzN30.iQiDuurPIkSNjHWP6TID0dATrOCJQ71-kblcsRsHiAk",D=Ms(qs,Ys,{db:{schema:"public"},auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storage:typeof window!="undefined"?window.localStorage:void 0,storageKey:"supabase.auth.token"},global:{headers:{"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"}}}),U={SONGS:"songs",ALBUMS:"albums",SETTINGS:"settings"},Q=(t,r="Supabase operation")=>{throw console.error(`‚ùå ${r}:`,t),new Error(`${r}: ${t.message}`)},Gs=()=>w(null,null,function*(){try{const{data:t,error:r}=yield D.from(U.SONGS).select("count").limit(1);if(r){if(r.code==="PGRST116")return console.log("‚úÖ Connexion Supabase r√©ussie (table songs non cr√©√©e)"),!0;throw r}return console.log("‚úÖ Connexion Supabase r√©ussie"),!0}catch(t){return console.error("‚ùå Erreur de connexion Supabase:",t),!1}}),Hs=typeof import.meta!="undefined"&&!0,g={debug:(...t)=>{},info:(...t)=>{},warn:(...t)=>{Hs||console.warn(...t)},error:(...t)=>{console.error(...t)}},Fs=t=>{if(!t||typeof t!="string")return{column:"release_date",ascending:!1};let r=!0,s=t.trim();return s.startsWith("-")?(r=!1,s=s.slice(1)):s.startsWith("+")&&(r=!0,s=s.slice(1)),s||(s="release_date"),{column:s,ascending:r}},Ks=t=>!t||typeof t!="string"?"":t.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim();let bt=!0;const F={list(t="release_date",r=null){return w(this,null,function*(){try{const{column:s,ascending:a}=Fs(t);let o=D.from(U.SONGS).select("*").order(s,{ascending:a});r&&(o=o.limit(r));const{data:n,error:i}=yield o;if(i)throw i;return n||[]}catch(s){return Q(s,"Liste des chansons"),[]}})},get(t){return w(this,null,function*(){try{const{data:r,error:s}=yield D.from(U.SONGS).select("*").eq("id",t).single();if(s)throw s;return r}catch(r){return Q(r,`R√©cup√©ration chanson ID ${t}`),null}})},getBySlug(t){return w(this,null,function*(){try{if(!t||typeof t!="string")return null;if(bt){const{data:o,error:n}=yield D.from(U.SONGS).select("*").eq("status","published").eq("slug",t).maybeSingle();if(n)if(n.code==="42703"||/column .*slug.* does not exist/i.test(n.message||""))bt=!1,g.warn("Colonne slug absente dans Supabase, fallback title->slug active");else throw n;else if(o)return o}const{data:r,error:s}=yield D.from(U.SONGS).select("*").eq("status","published");if(s)throw s;return(r==null?void 0:r.find(o=>Ks(o.title)===t))||null}catch(r){return Q(r,`Recuperation chanson slug ${t}`),null}})},getCurrent(){return w(this,null,function*(){try{g.warn("üîç getCurrent() - D√©but de la fonction"),g.warn("üîç Timestamp:",new Date().toISOString());const{data:t,error:r}=yield D.from(U.SONGS).select("*").eq("status","published").order("created_at",{ascending:!1}).limit(1).single();if(r){if(r.code==="PGRST116")return g.warn(`‚ö†Ô∏è Aucune chanson "published" trouv√©e, ce n'est pas une erreur.`),null;throw g.error("‚ùå Erreur Supabase getCurrent:",r),r}if(g.warn("üìä Chanson actuelle trouv√©e:",t||null),!t)return g.warn("‚ö†Ô∏è Aucune chanson published trouv√©e"),null;const s=t;return g.warn("üéØ Chanson s√©lectionn√©e:",s),g.warn("üîç DEBUG getCurrent - Tri appliqu√©:"),g.warn("  - Titre:",s==null?void 0:s.title),g.warn("  - created_at:",s==null?void 0:s.created_at),g.warn("  - updated_at:",s==null?void 0:s.updated_at),g.warn("  - release_date:",s==null?void 0:s.release_date),g.warn("  - Status:",s==null?void 0:s.status),s}catch(t){return g.error("‚ùå Erreur dans getCurrent:",t),Q(t,"Chanson actuelle"),null}})},extractYouTubeId(t){if(!t||typeof t!="string")return null;const r=t.trim();if(!r)return null;const s=[/[?&]v=([A-Za-z0-9_-]{11})/,/youtu\.be\/([A-Za-z0-9_-]{11})/,/youtube\.com\/embed\/([A-Za-z0-9_-]{11})/,/youtube\.com\/v\/([A-Za-z0-9_-]{11})/,/youtube\.com\/shorts\/([A-Za-z0-9_-]{11})/,/^([A-Za-z0-9_-]{11})$/];for(const a of s){const o=r.match(a);if(o&&o[1])return o[1]}return null},normalizeYouTubeUrl(t){if(!t||typeof t!="string")return null;const r=t.trim();if(!r)return null;const s=r.match(/youtube\.com\/shorts\/([A-Za-z0-9_-]{11})/);if(s)return`https://youtube.com/shorts/${s[1]}`;const a=r.match(/(music\.youtube\.com\/playlist\?list=[A-Za-z0-9_-]+)/);if(a)return`https://${a[1]}`;const o=r.match(/music\.youtube\.com\/watch\?v=([A-Za-z0-9_-]{11})/);if(o)return`https://music.youtube.com/watch?v=${o[1]}`;const n=r.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/)([A-Za-z0-9_-]{11})/);if(n)return`https://youtube.com/watch?v=${n[1]}`;try{const i=new URL(r),u=new URLSearchParams;return i.searchParams.has("v")&&u.set("v",i.searchParams.get("v")),i.searchParams.has("list")&&u.set("list",i.searchParams.get("list")),`${i.origin}${i.pathname}${u.toString()?"?"+u.toString():""}`}catch(i){return r}},getByYouTubeUrl(t){return w(this,null,function*(){try{if(!t||!t.trim())return null;const r=t.trim(),s=this.normalizeYouTubeUrl(r),a=this.extractYouTubeId(r);g.warn("üîç Recherche YouTube URL:",{originalUrl:r,normalizedUrl:s,videoId:a});let{data:o,error:n}=yield D.from(U.SONGS).select("*").eq("youtube_url",r).maybeSingle();if(n&&n.code!=="PGRST116"&&g.error("‚ùå Erreur recherche par youtube_url (original):",n),!o&&s&&s!==r){const{data:i,error:u}=yield D.from(U.SONGS).select("*").eq("youtube_url",s).maybeSingle();u&&u.code!=="PGRST116"?g.error("‚ùå Erreur recherche par youtube_url (normalis√©e):",u):i&&(o=i)}if(!o&&a){const{data:i,error:u}=yield D.from(U.SONGS).select("*").not("youtube_url","is",null);if(!u&&i&&i.length>0){const l=i.find(m=>m.youtube_url?this.extractYouTubeId(m.youtube_url)===a:!1);l&&(g.warn("‚úÖ Chanson trouv√©e par ID vid√©o:",l.title),o=l)}}if(!o){const{data:i,error:u}=yield D.from(U.SONGS).select("*").ilike("youtube_url",`%${a||r.split("/").pop()}%`);if(!u&&i&&i.length>0){const l=i.find(m=>m.youtube_url?this.extractYouTubeId(m.youtube_url)===a:!1);l&&(g.warn("‚úÖ Chanson trouv√©e par recherche partielle:",l.title),o=l)}}return o||null}catch(r){return g.error("‚ùå Exception recherche par youtube_url:",r),null}})},getByTikTokId(t){return w(this,null,function*(){try{if(!t||!t.trim())return null;const{data:r,error:s}=yield D.from(U.SONGS).select("*").eq("tiktok_video_id",t.trim()).maybeSingle();return s?(g.error("‚ùå Erreur recherche par tiktok_video_id:",s),null):r}catch(r){return g.error("‚ùå Exception recherche par tiktok_video_id:",r),null}})},create(t){return w(this,null,function*(){var r,s,a,o,n,i,u,l,m,d,p,S,f,j,_,x;try{let b=null;const{data:{session:E}}=yield D.auth.getSession();if(!E){const y=new Error("‚ùå Vous devez √™tre connect√© pour cr√©er une chanson");throw y.code="NOT_AUTHENTICATED",y}const{data:T,error:I}=yield D.from("admins").select("user_id").eq("user_id",E.user.id).maybeSingle();if(I){g.error("‚ùå Erreur v√©rification admin avant insertion:",I);const y=new Error("‚ùå Erreur lors de la v√©rification des droits admin");throw y.code="ADMIN_CHECK_FAILED",y.originalError=I,y}if(!T){const y=new Error("‚ùå Vous n'avez pas les droits administrateur pour cr√©er une chanson");throw y.code="NOT_ADMIN",y}if(g.warn("‚úÖ V√©rification admin OK, v√©rification des doublons..."),t.youtube_url&&t.youtube_url.trim()){b=this.normalizeYouTubeUrl(t.youtube_url.trim());let y=yield this.getByYouTubeUrl(t.youtube_url.trim());if(!y&&b&&b!==t.youtube_url.trim()){const{data:A,error:G}=yield D.from(U.SONGS).select("*").eq("youtube_url",b).maybeSingle();G&&G.code!=="PGRST116"?g.warn("‚ö†Ô∏è Erreur lors de la recherche de doublon (normalis√©e):",G):A&&(y=A)}if(!y){const A=this.extractYouTubeId(t.youtube_url.trim());if(A){const{data:G,error:K}=yield D.from(U.SONGS).select("*").not("youtube_url","is",null);K?g.warn("‚ö†Ô∏è Erreur lors de la recherche de toutes les chansons:",K):G&&(y=G.find(O=>O.youtube_url?this.extractYouTubeId(O.youtube_url)===A:!1))}}if(y){const A=new Error(`Une chanson avec cette URL YouTube existe d√©j√† : "${y.title}" (ID: ${y.id})`);throw A.code="DUPLICATE_YOUTUBE_URL",A.existingSong=y,A}}if(t.tiktok_video_id&&t.tiktok_video_id.trim()){const y=yield this.getByTikTokId(t.tiktok_video_id.trim());if(y){const A=new Error(`Une chanson avec cet ID TikTok existe d√©j√† : "${y.title}" (ID: ${y.id})`);throw A.code="DUPLICATE_TIKTOK_ID",A.existingSong=y,A}}const P={title:(r=t.title)==null?void 0:r.trim(),artist:((s=t.artist)==null?void 0:s.trim())||"A M√∫sica da Segunda",description:(a=t.description)==null?void 0:a.trim(),lyrics:(o=t.lyrics)==null?void 0:o.trim(),release_date:t.release_date,status:t.status||"draft",tiktok_video_id:(n=t.tiktok_video_id)==null?void 0:n.trim(),tiktok_url:(i=t.tiktok_url)==null?void 0:i.trim(),tiktok_publication_date:t.tiktok_publication_date,spotify_url:(u=t.spotify_url)==null?void 0:u.trim(),apple_music_url:(l=t.apple_music_url)==null?void 0:l.trim(),youtube_url:(m=t.youtube_url)==null?void 0:m.trim(),cover_image:(d=t.cover_image)==null?void 0:d.trim(),hashtags:Array.isArray(t.hashtags)?t.hashtags:[]};g.warn("‚úÖ V√©rification des doublons OK, insertion de la chanson...");const{data:C,error:R}=yield D.from(U.SONGS).insert([P]).select().single();if(R){if(R.code==="42501"||(p=R.message)!=null&&p.includes("permission denied")||(S=R.message)!=null&&S.includes("new row violates row-level security")||(f=R.message)!=null&&f.includes("row-level security")){g.error("‚ùå ERREUR PERMISSION RLS:",R),g.error("‚ùå Code:",R.code),g.error("‚ùå Message:",R.message),g.error("‚ùå D√©tails:",R.details),g.error("‚ùå Hint:",R.hint),g.error("‚ùå User ID:",E.user.id),g.error("‚ùå Admin check result:",T);const y=new Error(`‚ùå Erreur de permission RLS : La policy RLS bloque l'insertion. V√©rifiez que la policy "Allow admins full access" ou "songs_admin_full_access" a bien une clause WITH CHECK qui v√©rifie la table admins. Ex√©cutez le script supabase/scripts/fix_songs_rls_complete.sql dans Supabase SQL Editor.`);throw y.code="PERMISSION_DENIED",y.originalError=R,y}if(R.code==="23505"||(j=R.message)!=null&&j.includes("duplicate key")){g.warn("‚ö†Ô∏è Erreur duplicate key d√©tect√©e, recherche de la chanson existante...");const y=((x=(_=R.message)==null?void 0:_.match(/Key \(([^)]+)\)/))==null?void 0:x[1])||"unknown";g.warn("‚ö†Ô∏è Champ en conflit:",y);let A=null,G="DUPLICATE_KEY";if((y.includes("youtube")||P.youtube_url)&&(A=yield this.getByYouTubeUrl(P.youtube_url||""),A&&(G="DUPLICATE_YOUTUBE_URL")),!A&&(y.includes("tiktok")||P.tiktok_video_id)&&(A=yield this.getByTikTokId(P.tiktok_video_id||""),A&&(G="DUPLICATE_TIKTOK_ID")),A){const O=G==="DUPLICATE_YOUTUBE_URL"?"URL YouTube":"ID TikTok",se=new Error(`Une chanson avec cette ${O} existe d√©j√† : "${A.title}" (ID: ${A.id})`);throw se.code=G,se.existingSong=A,se}const K=new Error("Une contrainte d'unicit√© emp√™che la cr√©ation de cette chanson. V√©rifiez que l'URL YouTube ou l'ID TikTok n'existe pas d√©j√†.");throw K.code="DUPLICATE_KEY",K.originalError=R,K.conflictField=y,K}throw R}return g.warn("‚úÖ Chanson cr√©√©e avec succ√®s:",C),C}catch(b){throw b.code!=="DUPLICATE_TIKTOK_ID"&&b.code!=="DUPLICATE_YOUTUBE_URL"&&Q(b,"Cr√©ation chanson"),b}})},update(t,r){return w(this,null,function*(){var s,a,o,n,i,u,l,m,d,p,S;try{g.warn("üîÑ supabaseSongService.update - d√©but"),g.warn("üîÑ ID re√ßu:",t,"Type:",typeof t),g.warn("üîÑ Updates re√ßus:",JSON.stringify(r,null,2));const f={};Object.keys(r).forEach(b=>{var E;b==="id"||b==="created_at"||b==="updated_at"||r[b]!==void 0&&(b==="hashtags"?f[b]=Array.isArray(r[b])?r[b]:[]:b==="tiktok_video_id"||b==="tiktok_url"?f[b]=((E=r[b])==null?void 0:E.trim())||null:f[b]=r[b])}),g.warn("üîÑ Updates nettoy√©s:",JSON.stringify(f,null,2));const j=yield this.get(t);if(!j)throw new Error(`Chanson avec l'ID ${t} introuvable`);if(f.tiktok_video_id!==void 0){const b=((s=f.tiktok_video_id)==null?void 0:s.trim())||null,E=((a=j.tiktok_video_id)==null?void 0:a.trim())||null;if(b&&b!==E){const T=yield this.getByTikTokId(b),I=T?Number(T.id):null,P=Number(t);if(T&&I!==P){const C=new Error(`Une chanson avec cet ID TikTok existe d√©j√† : "${T.title}" (ID: ${T.id})`);throw C.code="DUPLICATE_TIKTOK_ID",C.existingSong=T,C}}}if(f.youtube_url!==void 0){const b=((o=f.youtube_url)==null?void 0:o.trim())||null,E=((n=j.youtube_url)==null?void 0:n.trim())||null;if(b&&b!==E){const T=yield this.getByYouTubeUrl(b),I=T?Number(T.id):null,P=Number(t);if(T&&I!==P){const C=new Error(`Une chanson avec cette URL YouTube existe d√©j√† : "${T.title}" (ID: ${T.id})`);throw C.code="DUPLICATE_YOUTUBE_URL",C.existingSong=T,C}}}const{data:_,error:x}=yield D.from(U.SONGS).update(f).eq("id",t).select().single();if(g.warn("[Supabase][UPDATE] id=",t,"payload=",f),g.warn("üîÑ R√©ponse Supabase:",JSON.stringify({data:_,error:x},null,2)),x){if(g.error("[Supabase][UPDATE][ERROR]",x),g.error("‚ùå Erreur Supabase:",x.message,`
Code:`,x.code,`
Details:`,x.details,`
Hint:`,x.hint,`
Stack:`,x.stack),x.code==="42501"||(i=x.message)!=null&&i.includes("permission denied")||(u=x.message)!=null&&u.includes("row-level security")){const b=new Error("‚ùå Erreur de permission : Vous n'avez pas les droits de mise √† jour sur la table songs. V√©rifiez que vous √™tes bien connect√© en tant qu'admin et que les RLS policies sont correctement configur√©es.");throw b.code="PERMISSION_DENIED",b.originalError=x,b}if(x.code==="23505"||(l=x.message)!=null&&l.includes("duplicate key")){g.warn("‚ö†Ô∏è Erreur duplicate key d√©tect√©e lors de la mise √† jour");const b=((d=(m=x.message)==null?void 0:m.match(/Key \(([^)]+)\)/))==null?void 0:d[1])||"unknown";g.warn("‚ö†Ô∏è Champ en conflit:",b);let E=null,T="DUPLICATE_KEY";if((b.includes("tiktok")||f.tiktok_video_id)&&(E=yield this.getByTikTokId(f.tiktok_video_id||""),E&&E.id!==t&&(T="DUPLICATE_TIKTOK_ID")),!E&&(b.includes("youtube")||f.youtube_url)&&(E=yield this.getByYouTubeUrl(f.youtube_url||""),E&&E.id!==t&&(T="DUPLICATE_YOUTUBE_URL")),E){const P=T==="DUPLICATE_YOUTUBE_URL"?"URL YouTube":"ID TikTok",C=new Error(`Une chanson avec cette ${P} existe d√©j√† : "${E.title}" (ID: ${E.id})`);throw C.code=T,C.existingSong=E,C}const I=new Error("Une contrainte d'unicit√© emp√™che la mise √† jour de cette chanson. V√©rifiez que l'URL YouTube ou l'ID TikTok n'existe pas d√©j√† dans une autre chanson.");throw I.code="DUPLICATE_KEY",I.originalError=x,I.conflictField=b,I}throw new Error(x.message||"Update failed")}return g.warn("‚úÖ Chanson mise √† jour avec succ√®s:",_),_}catch(f){if(g.error("‚ùå Erreur dans supabaseSongService.update:",f),g.error("‚ùå D√©tails de l'erreur:",{message:f.message,code:f.code,details:f.details,hint:f.hint}),f.code==="42501"||(p=f.message)!=null&&p.includes("permission denied")||(S=f.message)!=null&&S.includes("row-level security")){const j=new Error("‚ùå Erreur de permission : Vous n'avez pas les droits de mise √† jour sur la table songs. V√©rifiez que vous √™tes bien connect√© en tant qu'admin et que les RLS policies sont correctement configur√©es.");throw j.code="PERMISSION_DENIED",j.originalError=f,j}throw f}})},delete(t){return w(this,null,function*(){try{const{error:r}=yield D.from(U.SONGS).delete().eq("id",t);if(r)throw r;return g.warn("‚úÖ Chanson supprim√©e avec succ√®s ID:",t),!0}catch(r){throw Q(r,`Suppression chanson ID ${t}`),r}})},search(t){return w(this,null,function*(){try{if(!t||t.trim()==="")return yield this.list();const r=t.trim().toLowerCase(),{data:s,error:a}=yield D.from(U.SONGS).select("*").or(`title.ilike.%${r}%,artist.ilike.%${r}%,description.ilike.%${r}%`).order("release_date",{ascending:!1});if(a)throw a;return s||[]}catch(r){return Q(r,"Recherche chansons"),[]}})},getByStatus(t){return w(this,null,function*(){try{const{data:r,error:s}=yield D.from(U.SONGS).select("*").eq("status",t).order("release_date",{ascending:!1});if(s)throw s;return r||[]}catch(r){return Q(r,`Chansons par statut: ${t}`),[]}})},getByMonth(t,r){return w(this,null,function*(){try{const s=`${t}-${r.toString().padStart(2,"0")}-01`,a=`${t}-${r.toString().padStart(2,"0")}-31`,{data:o,error:n}=yield D.from(U.SONGS).select("*").gte("release_date",s).lte("release_date",a).order("release_date",{ascending:!1});if(n)throw n;return o||[]}catch(s){return Q(s,`Chansons par mois ${r}/${t}`),[]}})}},z=(...t)=>{};let Ve="supabase",ee=!0;const Js=()=>w(null,null,function*(){try{return z("üîÑ Test de connexion Supabase..."),(yield Gs())?(z("‚úÖ Mode de stockage: Supabase ‚òÅÔ∏è (connect√©)"),ee=!0,Ve="supabase",!0):(z("‚ö†Ô∏è Connexion Supabase √©chou√©e, mais on force quand m√™me Supabase"),ee=!0,Ve="supabase",!0)}catch(t){return ee=!0,Ve="supabase",!0}});Js().then(()=>{});const Ws={list:(t="-release_date",r=null)=>w(null,null,function*(){try{z("‚òÅÔ∏è Chargement depuis Supabase...");const s=yield F.list(t,r);return s&&s.length>0?(z("‚úÖ Chansons charg√©es depuis Supabase:",s.length),s):(z("‚ö†Ô∏è Aucune chanson trouv√©e dans Supabase"),[])}catch(s){return console.error("Erro ao carregar m√∫sicas desde Supabase:",s),[]}}),get:t=>w(null,null,function*(){try{if(ee)return yield F.get(t)}catch(r){return console.error("Erro ao carregar m√∫sica:",r),null}}),getCurrent:()=>w(null,null,function*(){try{if(ee){const t=yield F.getCurrent();if(t)return t}return z("‚ö†Ô∏è Supabase indisponible ou sans donn√©es"),null}catch(t){return console.error("Erro ao carregar m√∫sica atual:",t),null}}),getByYouTubeUrl:t=>w(null,null,function*(){try{return yield F.getByYouTubeUrl(t)}catch(r){return console.error("‚ùå Erreur recherche par youtube_url:",r),null}}),getByTikTokId:t=>w(null,null,function*(){try{return yield F.getByTikTokId(t)}catch(r){return console.error("‚ùå Erreur recherche par tiktok_video_id:",r),null}}),create:t=>w(null,null,function*(){try{z("‚òÅÔ∏è Cr√©ation via Supabase...");const r=yield F.create(t);return z("‚úÖ Cr√©ation Supabase r√©ussie:",r),r}catch(r){throw console.error("‚ùå ERREUR CR√âATION SUPABASE:",r),console.error("‚ùå Message:",r.message),console.error("‚ùå Code:",r.code),console.error("‚ùå Details:",r.details),console.error("‚ùå Hint:",r.hint),r.existingSong&&console.error("‚ùå Chanson existante:",r.existingSong),r}}),update:(t,r)=>w(null,null,function*(){try{z("‚òÅÔ∏è Mise √† jour via Supabase..."),z("üìã Donn√©es √† mettre √† jour:",{id:t,updates:r}),z("üîç Type de l'ID:",typeof t),z("üîç Valeur de l'ID:",t),z("üîÑ Appel de supabaseSongService.update...");const s=yield F.update(t,r);return z("‚úÖ R√©sultat de la mise √† jour Supabase:",s),z("‚úÖ Mise √† jour Supabase r√©ussie - pas de synchronisation localStorage n√©cessaire"),s}catch(s){throw console.error("‚ùå ERREUR SUPABASE D√âTAILL√âE:",s),console.error("‚ùå Message d'erreur:",s.message),console.error("‚ùå Code d'erreur:",s.code),console.error("‚ùå D√©tails de l'erreur:",s.details),console.error("‚ùå Hint:",s.hint),console.error("‚ùå Stack trace:",s.stack),console.error("‚ùå Erreur compl√®te:",JSON.stringify(s,null,2)),console.error("‚ùå √âCHEC DE LA MISE √Ä JOUR SUPABASE - PAS DE FALLBACK"),s}}),delete:t=>w(null,null,function*(){try{z("‚òÅÔ∏è Suppression via Supabase...");const r=yield F.delete(t);return z("‚úÖ Suppression Supabase r√©ussie:",r),r}catch(r){throw console.error("‚ùå ERREUR SUPPRESSION SUPABASE:",r),console.error("‚ùå Message:",r.message),console.error("‚ùå Code:",r.code),r}}),search:t=>w(null,null,function*(){try{if(ee)return yield F.search(t)}catch(r){return console.error("Erro ao pesquisar m√∫sicas:",r),[]}}),getByStatus:t=>w(null,null,function*(){try{if(ee)return yield F.getByStatus(t)}catch(r){return console.error("Erro ao carregar m√∫sicas por status:",r),[]}}),getByMonth:(t,r)=>w(null,null,function*(){try{if(ee)return yield F.getByMonth(t,r)}catch(s){return console.error("Erro ao carregar m√∫sicas por m√™s:",s),[]}}),getBySlug:t=>w(null,null,function*(){try{if(ee)return(yield F.getBySlug(t))||null}catch(r){return console.error("Erro ao carregar m√∫sica por slug:",r),null}})};function Zs(){const[t,r]=c.useState(null);return c.useEffect(()=>{const s=()=>{const o=new Date,n=o.getDay(),i=n===0?1:(8-n)%7||7,u=new Date(o);u.setDate(o.getDate()+i),u.setHours(9,0,0,0);const l=u-o;return l>0?{d:Math.floor(l/864e5),h:Math.floor(l/36e5%24),m:Math.floor(l/1e3/60%60),s:Math.floor(l/1e3%60)}:null},a=setInterval(()=>{r(s())},1e3);return r(s()),()=>clearInterval(a)},[]),t?e.jsxs("div",{className:"bg-[#f8f5f2] rounded-3xl p-5 shadow-lg",children:[e.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[e.jsx(ws,{className:"w-5 h-5 text-gray-500"}),e.jsx("h3",{className:"font-semibold text-gray-700",children:"Pr√≥xima m√∫sica em..."})]}),e.jsx("div",{className:"grid grid-cols-4 gap-3 text-center",children:Object.entries(t).map(([s,a])=>e.jsxs("div",{className:"bg-[#e7f1f7] rounded-xl p-3",children:[e.jsx("p",{className:"text-2xl font-bold text-[#32a2dc]",children:a}),e.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase",children:s==="d"?"dias":s==="h"?"horas":s==="m"?"min":"seg"})]},s))})]}):e.jsxs("div",{className:"bg-[#f8f5f2] rounded-3xl p-5 shadow-lg text-center",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"√â Segunda-feira!"}),e.jsx("p",{className:"text-gray-600",children:"A nova m√∫sica j√° est√° dispon√≠vel!"})]})}const Qs=At("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Y=c.forwardRef((i,n)=>{var u=i,{className:t,variant:r,size:s,asChild:a=!1}=u,o=M(u,["className","variant","size","asChild"]);const l=a?vs:"button";return e.jsx(l,v({className:V(Qs({variant:r,size:s,className:t})),ref:n},o))});Y.displayName="Button";const Je=Ns,Xs=ys,Vt=c.forwardRef((a,s)=>{var o=a,{className:t}=o,r=M(o,["className"]);return e.jsx(Ct,v({ref:s,className:V("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t)},r))});Vt.displayName=Ct.displayName;const Pe=c.forwardRef((o,a)=>{var n=o,{className:t,children:r}=n,s=M(n,["className","children"]);const i=c.useId(),u=s["aria-describedby"];return e.jsxs(Xs,{children:[e.jsx(Vt,{}),e.jsxs(Dt,L(v({ref:a,className:V("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t)},s),{"aria-describedby":u!=null?u:i,children:[u===void 0?e.jsx(Qe,{id:i,className:"sr-only",children:"Dialog content"}):null,r,e.jsxs(js,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(le,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]}))]})});Pe.displayName=Dt.displayName;const Re=s=>{var a=s,{className:t}=a,r=M(a,["className"]);return e.jsx("div",v({className:V("flex flex-col space-y-1.5 text-center sm:text-left",t)},r))};Re.displayName="DialogHeader";const Le=c.forwardRef((a,s)=>{var o=a,{className:t}=o,r=M(o,["className"]);return e.jsx(Ot,v({ref:s,className:V("text-lg font-semibold leading-none tracking-tight",t)},r))});Le.displayName=Ot.displayName;const er=c.forwardRef((a,s)=>{var o=a,{className:t}=o,r=M(o,["className"]);return e.jsx(Qe,v({ref:s,className:V("text-sm text-muted-foreground",t)},r))});er.displayName=Qe.displayName;const ye=c.forwardRef((o,a)=>{var n=o,{className:t,children:r}=n,s=M(n,["className","children"]);return e.jsxs(Mt,L(v({ref:a,className:V("relative overflow-hidden",t)},s),{children:[e.jsx(Ss,{className:"h-full w-full rounded-[inherit]",children:r}),e.jsx($t,{}),e.jsx(_s,{})]}))});ye.displayName=Mt.displayName;const $t=c.forwardRef((o,a)=>{var n=o,{className:t,orientation:r="vertical"}=n,s=M(n,["className","orientation"]);return e.jsx(Pt,L(v({ref:a,orientation:r,className:V("flex touch-none select-none transition-colors",r==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",r==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t)},s),{children:e.jsx(ks,{className:"relative flex-1 rounded-full bg-border"})}))});$t.displayName=Pt.displayName;function tr({open:t,onOpenChange:r,song:s,title:a="Letras da M√∫sica",maxHeight:o="h-56",showIcon:n=!0}){return s?e.jsx(Je,{open:t,onOpenChange:r,children:e.jsxs(Pe,{className:"bg-[#f8f5f2] max-w-md max-h-[70vh]",children:[e.jsx(Re,{children:e.jsxs(Le,{className:"text-lg font-bold text-gray-800 flex items-center gap-2",children:[n&&e.jsx(ae,{className:"w-5 h-5 text-blue-500"}),a]})}),e.jsx("div",{className:"mt-4",children:s.lyrics?e.jsx(ye,{className:o,children:e.jsx("div",{className:"pr-4",children:e.jsx("pre",{className:"text-gray-700 whitespace-pre-wrap font-sans text-sm leading-relaxed",children:s.lyrics})})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(ae,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-600 font-medium",children:"Letras n√£o dispon√≠veis"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"As letras desta m√∫sica ser√£o adicionadas em breve."})]})})]})}):null}function sr({open:t,onOpenChange:r,lyrics:s,songTitle:a}){return e.jsx(fe,{open:t,onOpenChange:r,shouldScaleBackground:!1,children:e.jsxs(be,{className:"bg-black/95 backdrop-blur-xl border-t border-white/20 max-h-[85vh]",children:[e.jsx("div",{className:"mx-auto mt-4 h-1.5 w-16 rounded-full bg-white/30"}),e.jsxs(we,{className:"px-6 pt-4 pb-2",children:[e.jsxs(ve,{className:"text-xl font-bold text-white flex items-center gap-3",children:[e.jsx(ae,{className:"w-6 h-6 text-white"}),"Letras"]}),a&&e.jsx(tt,{className:"text-white/80 text-sm mt-2 drop-shadow-sm",children:a})]}),e.jsx("div",{className:"px-6 pb-6 flex-1 overflow-hidden",children:s&&s.trim()?e.jsx(ye,{className:"h-[calc(85vh-120px)]",children:e.jsx("div",{className:"pr-4",children:e.jsx("pre",{className:"text-white/95 whitespace-pre-wrap font-sans text-base leading-relaxed drop-shadow-sm",children:s})})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ae,{className:"w-16 h-16 text-white/40 mx-auto mb-4"}),e.jsx("p",{className:"text-white/90 font-medium text-lg mb-2 drop-shadow-sm",children:"Letras n√£o dispon√≠veis"}),e.jsx("p",{className:"text-white/70 text-sm drop-shadow-sm",children:"As letras desta m√∫sica ser√£o adicionadas em breve."})]})})]})})}function rr({open:t,onOpenChange:r,song:s}){if(!s)return null;const a=[{name:"Spotify",url:s.spotify_url,icon:"üéß",color:"bg-[#1DB954] hover:bg-[#1ed760]",available:!!s.spotify_url},{name:"Apple Music",url:s.apple_music_url,icon:"üéµ",color:"bg-gradient-to-r from-[#FA233B] to-[#FB5C74] hover:opacity-90",available:!!s.apple_music_url},{name:"YouTube Music",url:s.youtube_music_url||s.youtube_url,icon:"üì∫",color:"bg-[#FF0000] hover:bg-[#cc0000]",available:!!(s.youtube_music_url||s.youtube_url)}].filter(o=>o.available);return e.jsx(fe,{open:t,onOpenChange:r,shouldScaleBackground:!1,children:e.jsxs(be,{className:"bg-black/95 backdrop-blur-xl border-t border-white/20 max-h-[85vh]",children:[e.jsx("div",{className:"mx-auto mt-4 h-1.5 w-16 rounded-full bg-white/30"}),e.jsxs(we,{className:"px-6 pt-4 pb-2",children:[e.jsxs(ve,{className:"text-xl font-bold text-white flex items-center gap-3",children:[e.jsx(oe,{className:"w-6 h-6 text-white"}),"Ouvir"]}),s.title&&e.jsx("p",{className:"text-white/80 text-sm mt-2 drop-shadow-sm",children:s.title})]}),e.jsx("div",{className:"px-6 pb-6 flex-1 overflow-y-auto",children:a.length>0?e.jsx("div",{className:"space-y-3",children:a.map(o=>e.jsx("a",{href:o.url,target:"_blank",rel:"noopener noreferrer",className:"block",children:e.jsxs(Y,{size:"lg",className:`w-full ${o.color} text-white font-bold py-4 px-6 rounded-full shadow-xl transition-all duration-300 hover:scale-105 active:scale-95 flex items-center justify-center gap-3 touch-manipulation`,children:[e.jsx("span",{className:"text-2xl",children:o.icon}),e.jsxs("span",{children:["Abrir no ",o.name]}),e.jsx(Es,{className:"w-5 h-5"})]})},o.name))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(oe,{className:"w-16 h-16 text-white/40 mx-auto mb-4"}),e.jsx("p",{className:"text-white/90 font-medium text-lg mb-2 drop-shadow-sm",children:"Nenhuma plataforma dispon√≠vel"}),e.jsx("p",{className:"text-white/70 text-sm drop-shadow-sm",children:"Os links de streaming ser√£o adicionados em breve."})]})})]})})}function ar({open:t,onOpenChange:r,songs:s,onSelectSong:a}){const[o,n]=c.useState(new Date),i=c.useMemo(()=>{if(!s||s.length===0)return[];const p=Ee(o),S=Te(o);return s.filter(f=>{const j=W(f.release_date);return Ie(j,{start:p,end:S})})},[s,o]),u=()=>{n(p=>_e(p,-1))},l=()=>{n(p=>_e(p,1))},m=c.useMemo(()=>{if(!s||s.length===0)return!1;const p=_e(o,-1),S=Ee(p),f=Te(p);return s.some(j=>{const _=W(j.release_date);return Ie(_,{start:S,end:f})})},[s,o]),d=c.useMemo(()=>{if(!s||s.length===0)return!1;const p=_e(o,1),S=Ee(p),f=Te(p);return s.some(j=>{const _=W(j.release_date);return Ie(_,{start:S,end:f})})},[s,o]);return e.jsx(fe,{open:t,onOpenChange:r,shouldScaleBackground:!1,children:e.jsxs(be,{className:"bg-black/95 backdrop-blur-xl border-t border-white/20 max-h-[85vh]",children:[e.jsx("div",{className:"mx-auto mt-4 h-1.5 w-16 rounded-full bg-white/30"}),e.jsxs(we,{className:"px-6 pt-4 pb-2",children:[e.jsxs(ve,{className:"text-xl font-bold text-white flex items-center gap-3",children:[e.jsx(Ke,{className:"w-6 h-6 text-white"}),"Hist√≥rico"]}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsx(Y,{variant:"ghost",size:"icon",onClick:u,disabled:!m,className:"h-8 w-8 text-white/70 hover:text-white hover:bg-white/10 disabled:opacity-30 disabled:cursor-not-allowed",children:e.jsx(xe,{className:"w-4 h-4"})}),e.jsx("p",{className:"text-white/90 text-sm font-medium drop-shadow-sm",children:J(o,"MMMM yyyy",{locale:X})}),e.jsx(Y,{variant:"ghost",size:"icon",onClick:l,disabled:!d,className:"h-8 w-8 text-white/70 hover:text-white hover:bg-white/10 disabled:opacity-30 disabled:cursor-not-allowed",children:e.jsx(Oe,{className:"w-4 h-4"})})]})]}),e.jsx("div",{className:"px-6 pb-6 flex-1 overflow-hidden",children:i&&i.length>0?e.jsx(ye,{className:"h-[calc(85vh-180px)]",children:e.jsx("div",{className:"space-y-2 pr-4",children:i.map(p=>e.jsxs("button",{onClick:()=>{a&&a(p),r(!1)},className:"w-full flex items-center gap-4 p-4 rounded-2xl bg-white/5 hover:bg-white/10 border border-white/10 transition-all duration-300 active:scale-95 touch-manipulation group text-left",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-white/10 group-hover:bg-white/20 flex items-center justify-center transition-colors flex-shrink-0",children:e.jsx(Ze,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-white font-semibold text-base mb-1 truncate drop-shadow-sm",children:p.title}),e.jsx("p",{className:"text-white/70 text-sm truncate drop-shadow-sm",children:p.artist||"A M√∫sica da Segunda"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(Ue,{className:"w-3 h-3 text-white/60"}),e.jsx("p",{className:"text-white/60 text-xs drop-shadow-sm",children:J(W(p.release_date),"dd/MM/yyyy",{locale:X})})]})]})]},p.id))})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ke,{className:"w-16 h-16 text-white/40 mx-auto mb-4"}),e.jsx("p",{className:"text-white/90 font-medium text-lg mb-2 drop-shadow-sm",children:"Nenhuma m√∫sica dispon√≠vel"}),e.jsxs("p",{className:"text-white/70 text-sm drop-shadow-sm",children:["Nenhuma m√∫sica foi publicada em ",J(o,"MMMM yyyy",{locale:X}),"."]})]})})]})})}const $={SONGS:"musica-da-segunda-songs",ALBUMS:"musica-da-segunda-albums",SETTINGS:"musica-da-segunda-settings"},$e=[{id:1,slug:"croissant",title:"O Croissant",artist:"A M√∫sica da Segunda",description:'A m√∫sica "O Croissant" brinca com o cho',release_date:"2025-02-03",status:"published",genre:"Indie",tiktok_video_id:"sample_tiktok_1"},{id:2,slug:"confissoes-bancarias",title:"Confiss√µes Banc√°rias",artist:"A M√∫sica da Segunda",description:"Confiss√µes sobre a vida banc√°ria e financeira",release_date:"2025-08-25",status:"published",genre:"Indie",tiktok_video_id:"sample_tiktok_2"},{id:3,slug:"festas-juninas",title:"Festas Juninas",artist:"A M√∫sica da Segunda",description:"Celebrando as tradicionais festas juninas brasileiras",release_date:"2025-06-30",status:"published",genre:"M√∫sica Brasileira",tiktok_video_id:"sample_tiktok_3"},{id:4,slug:"cafe-no-brasil",title:"Caf√© no Brasil",artist:"A M√∫sica da Segunda",description:"Uma ode ao caf√© brasileiro e sua cultura",release_date:"2025-07-14",status:"published",genre:"M√∫sica Brasileira",tiktok_video_id:"sample_tiktok_4"}],qt={initialize(){try{const t=this.songs.getAll();t.length===0?(localStorage.setItem($.SONGS,JSON.stringify($e)),console.warn("üîÑ localStorage initialis√© avec donn√©es de fallback:",$e.length,"chansons")):console.warn("üîÑ localStorage d√©j√† initialis√© avec:",t.length,"chansons")}catch(t){console.error("‚ùå Erreur initialisation localStorage:",t),localStorage.setItem($.SONGS,JSON.stringify($e))}},forceReset(){localStorage.setItem($.SONGS,JSON.stringify([])),console.warn("üîÑ localStorage r√©initialis√© - donn√©es Supabase uniquement")},cleanConfissoesBancarias(){try{const t=this.songs.getAll(),r=t.filter(s=>s.title!=="Confiss√µes Banc√°rias"&&s.tiktok_video_id!=="7540762684149517590");if(r.length!==t.length){const s=r.map((a,o)=>L(v({},a),{id:o+1}));return localStorage.setItem($.SONGS,JSON.stringify(s)),console.warn(`üßπ "Confiss√µes Banc√°rias" supprim√©e du localStorage. ${t.length-r.length} chanson(s) nettoy√©e(s)`),!0}return console.warn("‚úÖ localStorage d√©j√† propre, aucune action n√©cessaire"),!1}catch(t){return console.error("‚ùå Erreur lors du nettoyage:",t),!1}},songs:{getAll(){try{const t=localStorage.getItem($.SONGS);return t?JSON.parse(t):[]}catch(t){return console.error("Erro ao carregar m√∫sicas:",t),[]}},getById(t){return this.getAll().find(s=>s.id===t)||null},getCurrent(){const r=this.getAll().filter(s=>s.status==="published");return r.length===0?null:(r.sort((s,a)=>new Date(a.release_date)-new Date(s.release_date)),r[0])},create(t){try{const r=this.getAll(),s=L(v({},t),{id:Date.now(),created_at:new Date().toISOString(),updated_at:new Date().toISOString()});return r.push(s),localStorage.setItem($.SONGS,JSON.stringify(r)),s}catch(r){throw console.error("Erro ao criar m√∫sica:",r),r}},update(t,r){try{const s=this.getAll(),a=s.findIndex(o=>o.id===t);if(a===-1)throw new Error("M√∫sica n√£o encontrada");return s[a]=L(v(v({},s[a]),r),{updated_at:new Date().toISOString()}),localStorage.setItem($.SONGS,JSON.stringify(s)),s[a]}catch(s){throw console.error("Erro ao atualizar m√∫sica:",s),s}},delete(t){try{const s=this.getAll().filter(a=>a.id!==t);return localStorage.setItem($.SONGS,JSON.stringify(s)),!0}catch(r){throw console.error("Erro ao deletar m√∫sica:",r),r}},search(t){const r=this.getAll();if(!t)return r;const s=t.toLowerCase();return r.filter(a=>{var o;return a.title.toLowerCase().includes(s)||a.artist.toLowerCase().includes(s)||((o=a.description)==null?void 0:o.toLowerCase().includes(s))})}},albums:{getAll(){try{const t=localStorage.getItem($.ALBUMS);return t?JSON.parse(t):[]}catch(t){return console.error("Erro ao carregar √°lbuns:",t),[]}},create(t){try{const r=this.getAll(),s=L(v({},t),{id:Date.now(),created_at:new Date().toISOString()});return r.push(s),localStorage.setItem($.ALBUMS,JSON.stringify(r)),s}catch(r){throw console.error("Erro ao criar √°lbum:",r),r}}},clearAll(){localStorage.removeItem($.SONGS),localStorage.removeItem($.ALBUMS),localStorage.removeItem($.SETTINGS)},exportData(){return{songs:this.songs.getAll(),albums:this.albums.getAll(),exportDate:new Date().toISOString()}},importData(t){try{return t.songs&&localStorage.setItem($.SONGS,JSON.stringify(t.songs)),t.albums&&localStorage.setItem($.ALBUMS,JSON.stringify(t.albums)),!0}catch(r){throw console.error("Erro ao importar dados:",r),r}}};qt.initialize();const or=20,nr=1e6,te={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"};let qe=0;function ir(){return qe=(qe+1)%Number.MAX_VALUE,qe.toString()}const Ye=new Map,wt=t=>{if(Ye.has(t))return;const r=setTimeout(()=>{Ye.delete(t),ge({type:te.REMOVE_TOAST,toastId:t})},nr);Ye.set(t,r)},lr=(t,r)=>{switch(r.type){case te.ADD_TOAST:return L(v({},t),{toasts:[r.toast,...t.toasts].slice(0,or)});case te.UPDATE_TOAST:return L(v({},t),{toasts:t.toasts.map(s=>s.id===r.toast.id?v(v({},s),r.toast):s)});case te.DISMISS_TOAST:{const{toastId:s}=r;return s?wt(s):t.toasts.forEach(a=>{wt(a.id)}),L(v({},t),{toasts:t.toasts.map(a=>a.id===s||s===void 0?L(v({},a),{open:!1}):a)})}case te.REMOVE_TOAST:return r.toastId===void 0?L(v({},t),{toasts:[]}):L(v({},t),{toasts:t.toasts.filter(s=>s.id!==r.toastId)})}},Ae=[];let Ce={toasts:[]};function ge(t){Ce=lr(Ce,t),Ae.forEach(r=>{r(Ce)})}function cr(r){var t=M(r,[]);const s=ir(),a=n=>ge({type:te.UPDATE_TOAST,toast:L(v({},n),{id:s})}),o=()=>ge({type:te.DISMISS_TOAST,toastId:s});return ge({type:te.ADD_TOAST,toast:L(v({},t),{id:s,open:!0,onOpenChange:n=>{n||o()}})}),{id:s,dismiss:o,update:a}}function Yt(){const[t,r]=c.useState(Ce);return c.useEffect(()=>(Ae.push(r),()=>{const s=Ae.indexOf(r);s>-1&&Ae.splice(s,1)}),[t]),L(v({},t),{toast:cr,dismiss:s=>ge({type:te.DISMISS_TOAST,toastId:s})})}function vt({youtube_music_url:t,youtube_url:r,title:s}){const[a,o]=c.useState(!1),n=()=>o(!0),i=x=>{(x.key==="Enter"||x.key===" ")&&(x.preventDefault(),n())},u=t&&t.trim()?t.trim():null,l=r&&r.trim()?r.trim():null,m=x=>{if(!x||typeof x!="string")return null;try{const b=x.toLowerCase(),E=x.match(/[?&]list=([A-Za-z0-9_-]+)/);if(E)return{id:E[1],type:"playlist"};const T=[/(?:youtube\.com\/shorts\/)([A-Za-z0-9_-]{11})/,/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/|youtube\.com\/v\/)([A-Za-z0-9_-]{11})/,/^([A-Za-z0-9_-]{11})$/];for(const I of T){const P=x.match(I);if(P)return{id:P[1],type:"video"}}if(b.includes("music.youtube.com")){const I=x.match(/[?&]v=([A-Za-z0-9_-]{11})/);if(I)return{id:I[1],type:"video"}}return null}catch(b){return null}};let d=u?m(u):null,p=u||"";if(!d&&l&&(d=m(l),p=l||""),c.useEffect(()=>{o(!1)},[t,r]),!d)return e.jsx("div",{className:"w-full aspect-video rounded-lg overflow-hidden shadow-lg flex items-center justify-center bg-gradient-to-br from-gray-800 to-gray-900",children:e.jsx("p",{className:"text-white text-sm",children:"Vid√©o non disponible"})});const S=p.includes("/shorts/"),f="https://www.youtube-nocookie.com/embed",j=d.type==="video"?`${f}/${d.id}?rel=0&modestbranding=1&playsinline=1&controls=1&autoplay=1`:`${f}/videoseries?list=${d.id}&rel=0&modestbranding=1&playsinline=1&controls=1&autoplay=1`,_=d.type==="video"?`https://img.youtube.com/vi/${d.id}/hqdefault.jpg`:null;return a?S?e.jsx("div",{className:"relative rounded-lg overflow-hidden shadow-2xl",style:{width:"100%",aspectRatio:"9/16",minHeight:"min(500px, 70vh)",maxHeight:"70vh"},children:e.jsx("iframe",{className:"absolute top-0 left-0 w-full h-full",src:j,title:s||"YouTube Short",frameBorder:"0",referrerPolicy:"strict-origin-when-cross-origin",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}):e.jsx("div",{className:"w-full aspect-video rounded-lg overflow-hidden shadow-lg",children:e.jsx("iframe",{className:"w-full h-full",src:j,title:s||"YouTube",frameBorder:"0",referrerPolicy:"strict-origin-when-cross-origin",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}):S?e.jsxs("div",{className:"relative rounded-lg overflow-hidden shadow-2xl cursor-pointer group",style:{width:"100%",aspectRatio:"9/16",minHeight:"min(500px, 70vh)",maxHeight:"70vh"},onClick:n,onKeyDown:i,role:"button",tabIndex:0,"aria-label":`Reproduzir ${s||"v√≠deo"}`,children:[_&&e.jsx("img",{src:_,alt:s||"YouTube Short",className:"absolute inset-0 w-full h-full object-cover",loading:"eager",fetchPriority:"high"}),e.jsx("div",{className:"absolute inset-0 bg-black/20 group-hover:bg-black/30 transition-colors flex items-center justify-center",children:e.jsx("div",{className:"w-16 h-16 bg-red-600 rounded-full flex items-center justify-center shadow-xl group-hover:scale-110 transition-transform",children:e.jsx("svg",{viewBox:"0 0 24 24",className:"w-8 h-8 text-white ml-1",fill:"currentColor",children:e.jsx("path",{d:"M8 5v14l11-7z"})})})})]}):e.jsxs("div",{className:"w-full aspect-video rounded-lg overflow-hidden shadow-lg cursor-pointer group relative",onClick:n,onKeyDown:i,role:"button",tabIndex:0,"aria-label":`Reproduzir ${s||"v√≠deo"}`,children:[_?e.jsx("img",{src:_,alt:s||"YouTube",className:"w-full h-full object-cover",loading:"eager",fetchPriority:"high"}):e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-800 to-gray-900"}),e.jsx("div",{className:"absolute inset-0 bg-black/20 group-hover:bg-black/30 transition-colors flex items-center justify-center",children:e.jsx("div",{className:"w-16 h-16 bg-red-600 rounded-full flex items-center justify-center shadow-xl group-hover:scale-110 transition-transform",children:e.jsx("svg",{viewBox:"0 0 24 24",className:"w-8 h-8 text-white ml-1",fill:"currentColor",children:e.jsx("path",{d:"M8 5v14l11-7z"})})})})]})}function dr(){const t=Ts(),{toast:r}=Yt(),[s,a]=c.useState(null),[o,n]=c.useState([]),[i,u]=c.useState([]),[l,m]=c.useState(!0),[d,p]=c.useState(null),[S,f]=c.useState(null),[j,_]=c.useState(!1),[x,b]=c.useState(!1),[E,T]=c.useState(!1),[I,P]=c.useState(!1),[C,R]=c.useState(!1),[y,A]=c.useState(!1),[G,K]=c.useState(!1),[O,se]=c.useState(null),[N,st]=c.useState(null),[rt,je]=c.useState(!1);c.useEffect(()=>{qt.initialize(),at()},[]);const Xt=h=>!Array.isArray(h)||h.length===0?null:h.reduce((k,H)=>{if(!k)return H;const re=k!=null&&k.created_at?new Date(k.created_at).getTime():0;return(H!=null&&H.created_at?new Date(H.created_at).getTime():0)>re?H:k},null),at=()=>w(null,null,function*(){m(!0),p(null);try{const h=yield Ws.list("-release_date",null),k=(Array.isArray(h)?h:[]).filter(de=>(de==null?void 0:de.status)==="published");u(k);const H=Xt(k);a(H),st(H),je(!1);const re=new Date,mt=Ee(re),ns=Te(re),is=k.filter(de=>{const ls=W(de.release_date);return Ie(ls,{start:mt,end:ns})});n(is),H||p("Erro ao carregar a musica da semana. Tente novamente.")}catch(h){g.error("Erro ao carregar musicas:",h),p("Erro ao carregar a musica da semana. Tente novamente.")}finally{m(!1)}}),es=()=>{at()},ce=(h,k)=>{k&&(k.preventDefault(),k.stopPropagation()),g.debug("üéµ handleReplaceVideo appel√© avec:",h.title),st(h),je(!1),window.scrollTo({top:0,behavior:"smooth"})},Ne=()=>!N||i.length===0?-1:i.findIndex(h=>h.id===N.id),ot=()=>{const h=Ne();if(h>=0&&h<i.length-1){const k=i[h+1];ce(k,null)}},nt=()=>{const h=Ne();if(h>0){const k=i[h-1];ce(k,null)}},it=()=>{const h=Ne();return h>=0&&h<i.length-1},lt=()=>Ne()>0,ts=h=>{se(h),b(!0)},ct=h=>{se(h),window.innerWidth<1024?P(!0):T(!0)},ss=h=>{se(h),K(!0)},dt=h=>w(null,null,function*(){if(navigator.share)try{yield navigator.share({title:`${h.title} - ${h.artist}`,text:"Confira esta m√∫sica incr√≠vel da M√∫sica da Segunda!",url:h.youtube_music_url||h.youtube_url||window.location.href})}catch(k){}else{const k=`${h.title} - ${h.artist}
Confira esta m√∫sica incr√≠vel da M√∫sica da Segunda!`;navigator.clipboard.writeText(k),r({title:"‚úÖ Copiado!",description:"Link copiado para a √°rea de transfer√™ncia",duration:3e3})}}),rs=()=>{const h=new Date;return h.setMonth(h.getMonth()-1),J(h,"yyyy-MM")},as=()=>{const h=rs();t(`/calendar?month=${h}`)},os=h=>{if(!h||typeof h!="string")return null;const k=[/(?:youtube\.com\/shorts\/)([A-Za-z0-9_-]{11})/,/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/|youtube\.com\/v\/)([A-Za-z0-9_-]{11})/,/^([A-Za-z0-9_-]{11})$/,/music\.youtube\.com\/watch\?v=([A-Za-z0-9_-]{11})/];for(const H of k){const re=h.match(H);if(re&&re[1])return re[1]}return null},ut=h=>{if(!h)return null;const k=os(h.youtube_music_url||h.youtube_url);return k?`https://img.youtube.com/vi/${k}/maxresdefault.jpg`:null};return Bt({title:"A M√∫sica da Segunda | Par√≥dias Musicais e Humor Inteligente",description:"A M√∫sica da Segunda - Nova m√∫sica toda segunda-feira! Par√≥dias musicais inteligentes sobre as not√≠cias do Brasil. Descubra humor e m√∫sica para sua semana.",keywords:"m√∫sica da segunda, par√≥dias musicais, not√≠cias do brasil, m√∫sica brasileira, descoberta musical, nova m√∫sica toda segunda, par√≥dias inteligentes",image:(s==null?void 0:s.cover_image)||"https://www.amusicadasegunda.com/icons/icon-512x512.png",url:"/",type:"website",robots:"index, follow, max-video-preview:0"}),l?e.jsxs("div",{className:"p-5 max-w-md mx-auto md:max-w-2xl lg:max-w-4xl",children:[e.jsxs(ft,{children:[e.jsx("title",{children:"A M√∫sica da Segunda: Par√≥dias das Not√≠cias do Brasil"}),e.jsx("meta",{name:"description",content:"A M√∫sica da Segunda: As Not√≠cias do Brasil em Forma de Par√≥dia. Site oficial de par√≥dias musicais inteligentes e divertidas."})]}),e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"text-4xl md:text-5xl lg:text-6xl font-black text-white drop-shadow-lg mb-2",children:"A M√∫sica da Segunda"}),e.jsx("p",{className:"text-white/80 font-medium text-lg md:text-xl drop-shadow-md",children:"Descubra m√∫sica nova toda segunda-feira"})]}),e.jsx("div",{className:"flex items-center justify-center py-20",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),e.jsx("p",{className:"text-white/80",children:"Carregando m√∫sica da semana..."})]})})]}):d?e.jsxs("div",{className:"p-5 max-w-md mx-auto md:max-w-2xl lg:max-w-4xl",children:[e.jsxs(ft,{children:[e.jsx("title",{children:"A M√∫sica da Segunda: Par√≥dias das Not√≠cias do Brasil"}),e.jsx("meta",{name:"description",content:"A M√∫sica da Segunda: As Not√≠cias do Brasil em Forma de Par√≥dia. Site oficial de par√≥dias musicais inteligentes e divertidas."})]}),e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-4xl md:text-5xl lg:text-6xl font-black text-white drop-shadow-lg mb-2",children:"M√∫sica da Segunda"}),e.jsx("p",{className:"text-white/80 font-medium text-lg md:text-xl drop-shadow-md",children:"Descubra m√∫sica nova toda segunda-feira"})]}),e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-3xl p-6 text-center",children:[e.jsx(De,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-red-800 mb-2",children:"Erro ao carregar"}),e.jsx("p",{className:"text-red-600 mb-4",children:d}),e.jsxs("button",{onClick:es,className:"inline-flex items-center gap-2 bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg transition-colors",children:[e.jsx(Rt,{className:"w-4 h-4"}),"Tentar novamente"]})]})]}):e.jsxs("div",{className:"p-5 max-w-md mx-auto md:max-w-2xl lg:max-w-4xl",children:[e.jsx("div",{className:"lg:hidden text-center mb-8",children:e.jsxs("div",{className:"flex items-center justify-center gap-4 mb-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-full overflow-hidden border-4 border-white/20 shadow-xl flex-shrink-0",children:e.jsx("img",{src:"/images/Musica da segunda.webp",alt:"Logo A M√∫sica da Segunda - Par√≥dias Musicais do Brasil",className:"w-full h-full object-cover",loading:"eager",fetchPriority:"high",width:"64",height:"64"})}),e.jsxs("div",{className:"text-left flex-1",children:[e.jsx("h1",{className:"text-2xl md:text-3xl font-black text-white drop-shadow-lg mb-1",children:"A M√∫sica da Segunda"}),e.jsx("p",{className:"text-white/80 font-medium text-sm md:text-base drop-shadow-md",children:"Descubra m√∫sica nova toda segunda-feira"})]}),e.jsx("button",{onClick:()=>A(!0),className:"w-12 h-12 bg-white/20 backdrop-blur-xl hover:bg-white/30 rounded-full flex items-center justify-center shadow-xl border border-white/20 transition-all duration-300 hover:scale-110 active:scale-95 touch-manipulation flex-shrink-0","aria-label":"Historique",title:"Historique",children:e.jsx(Ke,{className:"w-5 h-5 text-white drop-shadow-lg"})})]})}),e.jsxs("div",{className:"hidden lg:block text-center mb-8",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-black text-white drop-shadow-lg mb-2",children:"A M√∫sica da Segunda"}),e.jsx("p",{className:"text-white/80 font-medium text-lg md:text-xl drop-shadow-md",children:"Descubra m√∫sica nova toda segunda-feira"})]}),e.jsxs("div",{className:"hidden lg:grid lg:grid-cols-2 lg:gap-8 lg:mt-8",children:[e.jsxs("div",{className:"space-y-6 relative",children:[N?e.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-lg relative",children:[it()&&e.jsx("button",{onClick:ot,className:"absolute left-2 top-1/2 -translate-y-1/2 z-20 p-2 rounded-full bg-black/20 backdrop-blur-sm text-white/80 hover:bg-black/40 transition-all duration-300 hover:scale-110 active:scale-90","aria-label":"M√∫sica anterior",title:"M√∫sica anterior",children:e.jsx(xe,{className:"w-6 h-6"})}),lt()&&e.jsx("button",{onClick:nt,className:"absolute right-2 top-1/2 -translate-y-1/2 z-20 p-2 rounded-full bg-black/20 backdrop-blur-sm text-white/80 hover:bg-black/40 transition-all duration-300 hover:scale-110 active:scale-90","aria-label":"Pr√≥xima m√∫sica",title:"Pr√≥xima m√∫sica",children:e.jsx(Oe,{className:"w-6 h-6"})}),e.jsx("p",{className:"text-xs font-medium uppercase tracking-widest text-gray-500 mb-2 text-center",children:N.release_date&&J(W(N.release_date),"dd MMMM yyyy",{locale:X}).toUpperCase()}),e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4 text-center",children:e.jsxs("button",{onClick:()=>ss(N),className:"inline-flex items-center gap-2 hover:text-blue-600 transition-colors cursor-pointer",title:"Ver descri√ß√£o da m√∫sica",children:[e.jsx("span",{className:"text-2xl",children:"‚ÑπÔ∏è"}),e.jsx("span",{children:N.title})]})}),e.jsx(vt,{youtube_music_url:N.youtube_music_url,youtube_url:N.youtube_url,title:N.title}),e.jsxs("div",{className:"mt-4 text-center",children:[e.jsx("h4",{className:"font-bold text-gray-800 text-lg mb-2",children:N.title}),e.jsx("p",{className:"text-gray-600",children:N.artist}),e.jsx("p",{className:"text-gray-500 text-sm mt-1",children:J(W(N.release_date),"dd/MM/yyyy",{locale:X})})]}),e.jsx("div",{className:"mt-6",children:e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsx(Y,{variant:"outline",className:"bg-white/70 hover:bg-white/90 text-gray-700 font-semibold border-gray-300 py-3 rounded-2xl text-sm",onClick:()=>ts(N),children:"Plataformas"}),e.jsx(Y,{variant:"outline",className:"bg-white/70 hover:bg-white/90 text-gray-700 font-semibold border-gray-300 py-3 rounded-2xl text-sm",onClick:()=>ct(N),children:"Letras"}),e.jsx(Y,{variant:"outline",className:"bg-white/70 hover:bg-white/90 text-gray-700 font-semibold border-gray-300 py-3 rounded-2xl text-sm",onClick:()=>dt(N),children:"Compartilhar"})]})})]}):e.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-lg",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4 text-center",children:"‚ÑπÔ∏è Nenhuma m√∫sica dispon√≠vel"}),e.jsx("div",{className:"bg-gradient-to-br from-gray-100 to-gray-200 rounded-2xl flex items-center justify-center",style:{height:"min(70vh, 600px)",aspectRatio:"16/9"},children:e.jsxs("div",{className:"text-center text-gray-500",children:[e.jsx(oe,{className:"w-16 h-16 mx-auto mb-4"}),e.jsx("p",{className:"text-lg font-medium",children:"Nenhuma m√∫sica dispon√≠vel"}),e.jsx("p",{className:"text-sm",children:"Volte na segunda-feira!"})]})})]}),e.jsx(Zs,{})]}),e.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-lg",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center gap-3",children:[e.jsx(Ue,{className:"w-6 h-6 text-blue-600"}),"M√∫sicas do M√™s"]})}),o.length>0?e.jsx("div",{className:"space-y-4",children:o.map(h=>e.jsx("div",{className:"bg-white rounded-2xl p-4 shadow-md hover:shadow-lg transition-all duration-200 border border-gray-100",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-500 rounded-xl flex items-center justify-center flex-shrink-0 shadow-md hover:shadow-lg transition-all duration-200 cursor-pointer transform hover:scale-105",onClick:k=>ce(h,k),title:"Clique para ver esta m√∫sica na coluna de v√≠deo",children:e.jsx(Ze,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800 truncate cursor-pointer hover:underline",onClick:k=>ce(h,k),title:"Clique para ver esta m√∫sica na coluna de v√≠deo",children:h.title}),e.jsx("p",{className:"text-gray-600 text-base font-medium mt-1",children:h.artist}),e.jsx("p",{className:"text-gray-500 text-sm font-medium mt-1",children:J(W(h.release_date),"dd/MM/yyyy",{locale:X})})]})]})},h.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(oe,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"Nenhuma m√∫sica publicada este m√™s ainda"})]}),e.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:e.jsxs("button",{onClick:as,className:"inline-flex items-center gap-2 text-gray-500 hover:text-gray-700 text-sm transition-colors group cursor-pointer",children:[e.jsx(xe,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"}),"Ver m√∫sicas de ",J(new Date(new Date().setMonth(new Date().getMonth()-1)),"MMMM yyyy",{locale:X})]})})]})]}),e.jsx("div",{className:"lg:hidden fixed inset-0 flex flex-col overflow-hidden",children:N?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"relative flex-1 overflow-hidden",children:[ut(N)&&e.jsxs("div",{className:"absolute inset-0 z-0",children:[!rt&&e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-900 via-gray-800 to-black"}),e.jsx("img",{src:ut(N),alt:N.title,className:`absolute inset-0 w-full h-full object-cover blur-3xl scale-110 transition-opacity duration-500 ${rt?"opacity-100":"opacity-0"}`,onLoad:()=>je(!0),onError:()=>je(!0)}),e.jsx("div",{className:"absolute inset-0 bg-black/50"})]}),it()&&e.jsx("button",{onClick:ot,className:"absolute left-2 top-1/2 -translate-y-1/2 z-20 p-2 rounded-full bg-black/20 backdrop-blur-sm text-white/80 hover:bg-black/40 transition-all duration-300 hover:scale-110 active:scale-90 touch-manipulation","aria-label":"M√∫sica anterior",title:"M√∫sica anterior",children:e.jsx(xe,{className:"w-6 h-6"})}),lt()&&e.jsx("button",{onClick:nt,className:"absolute right-2 top-1/2 -translate-y-1/2 z-20 p-2 rounded-full bg-black/20 backdrop-blur-sm text-white/80 hover:bg-black/40 transition-all duration-300 hover:scale-110 active:scale-90 touch-manipulation","aria-label":"Pr√≥xima m√∫sica",title:"Pr√≥xima m√∫sica",children:e.jsx(Oe,{className:"w-6 h-6"})}),e.jsx("div",{className:"relative z-10 h-full flex items-center justify-center px-4",children:e.jsx("div",{className:"w-full max-w-md",children:e.jsx("div",{className:"bg-black/20 backdrop-blur-xl rounded-3xl shadow-2xl overflow-hidden border border-white/10",children:e.jsx(vt,{youtube_music_url:N.youtube_music_url,youtube_url:N.youtube_url,title:N.title})})})}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-48 bg-gradient-to-t from-black/90 to-transparent z-10 pointer-events-none"}),e.jsxs("div",{className:"absolute bottom-4 left-4 z-20 text-white",children:[e.jsx("p",{className:"text-xs font-medium uppercase tracking-widest text-white/80 mb-1 drop-shadow-lg",children:N.release_date&&J(W(N.release_date),"dd MMMM yyyy",{locale:X}).toUpperCase()}),e.jsx("h2",{className:"text-xl font-bold text-white drop-shadow-lg",children:N.title})]}),e.jsxs("div",{className:"absolute right-2 bottom-20 flex flex-col gap-3 z-20",children:[e.jsx("button",{onClick:()=>R(!0),className:"w-14 h-14 bg-green-500/90 hover:bg-green-600 backdrop-blur-xl rounded-full flex items-center justify-center shadow-xl border border-green-400/30 transition-all duration-300 hover:scale-110 active:scale-95 touch-manipulation","aria-label":"Ouvir em outras plataformas",title:"Ouvir em outras plataformas",children:e.jsx(oe,{className:"w-6 h-6 text-white drop-shadow-lg"})}),N.lyrics&&N.lyrics.trim()&&e.jsx("button",{onClick:()=>ct(N),className:"w-14 h-14 bg-white/20 backdrop-blur-xl hover:bg-white/30 rounded-full flex items-center justify-center shadow-xl border border-white/20 transition-all duration-300 hover:scale-110 active:scale-95 touch-manipulation","aria-label":"Ver letras",title:"Ver letras",children:e.jsx(ae,{className:"w-6 h-6 text-white drop-shadow-lg"})}),e.jsx("button",{onClick:()=>dt(N),className:"w-14 h-14 bg-white/20 backdrop-blur-xl hover:bg-white/30 rounded-full flex items-center justify-center shadow-xl border border-white/20 transition-all duration-300 hover:scale-110 active:scale-95 touch-manipulation","aria-label":"Compartilhar",title:"Compartilhar",children:e.jsx(Fe,{className:"w-6 h-6 text-white drop-shadow-lg"})})]})]}),e.jsx("div",{className:"relative z-30 pb-4 px-4 flex justify-center",children:e.jsxs(Y,{size:"lg",onClick:()=>R(!0),className:"w-full max-w-md bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-bold py-4 px-6 rounded-full shadow-xl transition-all duration-300 hover:scale-105 active:scale-95 flex items-center justify-center gap-2 touch-manipulation",children:[e.jsx("span",{className:"text-2xl",children:"üéß"}),e.jsx("span",{children:"Ouvir"})]})}),e.jsx(sr,{open:I,onOpenChange:P,lyrics:N==null?void 0:N.lyrics,songTitle:N==null?void 0:N.title}),e.jsx(rr,{open:C,onOpenChange:R,song:N}),e.jsx(ar,{open:y,onOpenChange:A,songs:i,onSelectSong:h=>ce(h,null)})]}):e.jsx("div",{className:"relative z-10 h-full flex items-center justify-center px-4",children:e.jsxs("div",{className:"bg-black/40 backdrop-blur-xl rounded-3xl p-8 text-center border border-white/20 shadow-2xl",children:[e.jsx(oe,{className:"w-16 h-16 text-white/80 mx-auto mb-4 drop-shadow-lg"}),e.jsx("h3",{className:"text-xl font-semibold text-white mb-2 drop-shadow-lg",children:"Nenhuma m√∫sica dispon√≠vel"}),e.jsx("p",{className:"text-white/90 drop-shadow-md",children:"A m√∫sica da semana ser√° publicada em breve. Volte na segunda-feira!"})]})})}),e.jsx(Je,{open:x,onOpenChange:b,children:e.jsxs(Pe,{className:"bg-[#f8f5f2] max-w-md",children:[e.jsx(Re,{children:e.jsx(Le,{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:"üéµ Ouvir em outras plataformas"})}),O&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-4 border border-blue-200",children:[e.jsx("h3",{className:"text-lg font-bold text-blue-900 mb-1",children:O.title}),e.jsx("p",{className:"text-blue-700 font-medium",children:O.artist})]}),e.jsxs("div",{className:"space-y-3",children:[O.spotify_url&&e.jsx("a",{href:O.spotify_url,target:"_blank",rel:"noopener noreferrer",className:"block",children:e.jsx(Y,{className:"w-full bg-[#1DB954] hover:bg-[#1ed760] text-white font-bold py-3 rounded-2xl text-sm transition-all duration-200 hover:scale-105",children:"üéß Ouvir no Spotify"})}),O.apple_music_url&&e.jsx("a",{href:O.apple_music_url,target:"_blank",rel:"noopener noreferrer",className:"block",children:e.jsx(Y,{className:"w-full bg-gradient-to-r from-[#FA233B] to-[#FB5C74] hover:opacity-90 text-white font-bold py-3 rounded-2xl text-sm transition-all duration-200 hover:scale-105",children:"üéµ Ouvir no Apple Music"})}),O.youtube_url&&e.jsx("a",{href:O.youtube_url,target:"_blank",rel:"noopener noreferrer",className:"block",children:e.jsx(Y,{className:"w-full bg-[#FF0000] hover:bg-[#cc0000] text-white font-bold py-3 rounded-2xl text-sm transition-all duration-200 hover:scale-105",children:"üì∫ Ouvir no YouTube"})}),!O.spotify_url&&!O.apple_music_url&&!O.youtube_url&&e.jsxs("div",{className:"text-center py-6",children:[e.jsx(oe,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-600 font-medium",children:"Links de streaming em breve..."}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Esta m√∫sica ser√° disponibilizada em breve nas principais plataformas."})]})]})]})]})}),e.jsx(tr,{open:E,onOpenChange:T,song:O,title:"üìù Letras da M√∫sica",maxHeight:"h-52",showIcon:!1}),e.jsx(Je,{open:G,onOpenChange:K,children:e.jsxs(Pe,{className:"bg-[#f8f5f2] max-w-2xl max-h-[80vh]",children:[e.jsx(Re,{children:e.jsx(Le,{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:"‚ÑπÔ∏è Descri√ß√£o da M√∫sica"})}),O&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-4 border border-blue-200",children:[e.jsx("h3",{className:"text-lg font-bold text-blue-900 mb-1",children:O.title}),e.jsx("p",{className:"text-blue-700 font-medium",children:O.artist}),e.jsxs("p",{className:"text-blue-600 text-sm",children:["üìÖ ",J(W(O.release_date),"dd/MM/yyyy",{locale:X})]})]}),e.jsx("div",{className:"bg-white rounded-xl p-4 border border-gray-200",children:O.description?e.jsx(ye,{className:"h-60",children:e.jsx("div",{className:"pr-4",children:e.jsx("pre",{className:"text-gray-700 whitespace-pre-wrap font-sans text-sm leading-relaxed",children:O.description})})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(ae,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-600 font-medium",children:"Descri√ß√£o n√£o dispon√≠vel"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"A descri√ß√£o desta m√∫sica ser√° adicionada em breve."})]})})]})]})})]})}const ur=c.lazy(()=>B(()=>import("./Calendar-Cy6QRIZX.js"),__vite__mapDeps([0,1,2,3,4]))),mr=c.lazy(()=>B(()=>import("./RodaDaSegunda-CpPbsqiK.js"),__vite__mapDeps([5,1,2,4,3]))),hr=c.lazy(()=>B(()=>import("./ProtectedAdmin-7APzzxvu.js"),__vite__mapDeps([6,1,2,7,8,9,10,3,4,11]))),xr=c.lazy(()=>B(()=>import("./Sobre-BMldP_36.js"),__vite__mapDeps([12,1,2,4,3]))),pr=c.lazy(()=>B(()=>import("./ContentForAI-Cc9b5j6w.js"),__vite__mapDeps([13,1,2,4,3]))),gr=c.lazy(()=>B(()=>import("./Blog-DKVO5Dlz.js"),__vite__mapDeps([14,1,2,9,8,3,4]))),fr=c.lazy(()=>B(()=>import("./Login-Db_roDt8.js").then(t=>t.e),__vite__mapDeps([10,1,2,7,9]))),yt=c.lazy(()=>B(()=>import("./Playlist-CCFia2Ig.js"),__vite__mapDeps([15,1,2,16,4,3]))),br=c.lazy(()=>B(()=>import("./Song-osXs26YX.js"),__vite__mapDeps([17,1,2,16,3,4]))),wr=c.lazy(()=>B(()=>import("./Youtube-DJr4vnrD.js"),__vite__mapDeps([18,1,2,19,3,4]))),vr=c.lazy(()=>B(()=>import("./YoutubeTest-CiPhVSY1.js"),__vite__mapDeps([20,1,2]))),yr=c.lazy(()=>B(()=>import("./YoutubeSimple-6JWpxXq1.js"),__vite__mapDeps([21,1,2,19,4,3]))),jt=c.lazy(()=>B(()=>import("./TikTokDemo-BdzECBfk.js"),__vite__mapDeps([22,1,2,7,4,3]))),jr=c.lazy(()=>B(()=>import("./Search-DDfQt0M1.js"),__vite__mapDeps([23,1,2,4,3]))),ze=[{path:"/",component:dr,name:"Home",seo:null},{path:"/calendar",component:ur,name:"Calendar",seo:{title:"Calend√°rio Musical - A M√∫sica da Segunda",description:"Calend√°rio completo de todas as m√∫sicas publicadas. Explore a hist√≥ria musical do projeto.",keywords:"calend√°rio musical, m√∫sicas, hist√≥rico, publica√ß√£o semanal"}},{path:"/roda",component:mr,name:"Roda",seo:{title:"A Roda de Segunda - Descubra uma M√∫sica",description:"Gire a roda e descubra qual m√∫sica da M√∫sica da Segunda ouvir hoje!",keywords:"roda da sorte, m√∫sica aleat√≥ria, sorteio musical, m√∫sica da segunda"}},{path:"/sobre",component:xr,name:"Sobre",seo:{title:"Sobre - A M√∫sica da Segunda",description:"Conhe√ßa a hist√≥ria do projeto A M√∫sica da Segunda e descubra como nasceu essa paix√£o pela m√∫sica.",keywords:"sobre, hist√≥ria, projeto, m√∫sica brasileira"}},{path:"/api/content-for-ai.json",component:pr,name:"ContentForAI",seo:null},{path:"/blog",component:gr,name:"Blog",seo:{title:"Blog - A M√∫sica da Segunda",description:"Artigos e not√≠cias sobre m√∫sica, cultura e atualidades.",keywords:"blog, artigos, not√≠cias, cultura musical"}},{path:"/admin",component:hr,name:"Admin",seo:null},{path:"/login",component:fr,name:"Login",seo:null},{path:"/playlist",component:yt,name:"Playlist",seo:{title:"Playlist - Todas as M√∫sicas",description:"Lista completa de todas as m√∫sicas publicadas no projeto A M√∫sica da Segunda.",keywords:"playlist, todas as m√∫sicas, lista completa"}},{path:"/musica",component:yt,name:"Playlist",seo:{title:"Can√ß√µes - Todas as M√∫sicas",description:"Lista completa de todas as can√ß√µes publicadas no projeto A M√∫sica da Segunda.",keywords:"can√ß√µes, todas as m√∫sicas, lista completa"}},{path:"/musica/:slug",component:br,name:"Song",seo:null},{path:"/youtube-test",component:vr,name:"YoutubeTest",seo:null},{path:"/youtube-simple",component:yr,name:"YoutubeSimple",seo:null},{path:"/youtube",component:wr,name:"Youtube",seo:null},{path:"/tiktokdemo",component:jt,name:"TikTokDemo",seo:null},{path:"/tiktok/:id",component:jt,name:"TikTokDemo",seo:null},{path:"/search",component:jr,name:"Search",seo:null}];ze.reduce((t,r)=>(t[r.name]=r.component,t),{});function Gt(t){t.startsWith("#")&&(t=t.slice(1)),t.endsWith("/")&&(t=t.slice(0,-1));let r=t.split("/").pop();if(r.includes("?")&&(r=r.split("?")[0]),!r||r==="amusicadasegunda")return"Home";if(r.startsWith("tiktok"))return"TikTokDemo";if(t.startsWith("/musica/")&&r!=="musica")return"Song";const s=ze.find(a=>a.path.split("/").pop().toLowerCase()===r.toLowerCase());return s?s.name:"Home"}function Nr(t){const r=ze.find(s=>s.name===t);return r?r.seo:null}function Sr({children:t}){const r=Xe(),s=Gt(r.pathname),a=Nr(s);Bt(L(v({},a),{enabled:!!a}));const o=[{name:"In√≠cio",url:q("Home"),icon:ne},{name:"Calend√°rio",url:q("Calendar"),icon:Ue},{name:"Playlist",url:q("Playlist"),icon:It},{name:"Blog",url:q("Blog"),icon:ae},{name:"A Roda",url:q("Roda"),icon:Tt},{name:"Sobre",url:q("Sobre"),icon:We},{name:"Pesquisar",url:q("Search"),icon:Et}],n=i=>i.name==="In√≠cio"&&r.pathname==="/"?!0:r.pathname===i.url;return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"lg:hidden flex flex-col h-[100dvh] overflow-hidden bg-black text-white",children:[e.jsx("a",{href:"#main-mobile",className:"skip-link",children:"Ir para o conte√∫do"}),e.jsx("header",{className:"flex-shrink-0 bg-black/90 backdrop-blur-lg border-b border-white/10 z-40",children:e.jsx("div",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(pe,{to:"/",className:"w-10 h-10 rounded-full overflow-hidden border-2 border-white/20 flex-shrink-0 bg-white",children:e.jsx("img",{src:"/images/2026 logo.png",alt:"Logo A M√∫sica da Segunda - Par√≥dias Musicais do Brasil",className:"w-full h-full object-cover",loading:"eager"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-lg font-black text-white leading-tight truncate drop-shadow-sm",children:"A M√∫sica da Segunda"}),e.jsx("p",{className:"text-xs text-gray-300 mt-0.5 truncate drop-shadow-sm",children:"Nova m√∫sica toda segunda-feira"})]})]})})}),e.jsx("main",{id:"main-mobile",className:"flex-1 overflow-hidden relative",children:e.jsx("div",{className:"h-full overflow-y-auto overscroll-behavior-contain pb-20",children:t})}),e.jsx($s,{})]}),e.jsxs("div",{className:"hidden lg:block min-h-screen bg-gradient-to-b from-teal-200 to-rose-200",children:[e.jsx("a",{href:"#main-desktop",className:"skip-link",children:"Ir para o conte√∫do"}),e.jsx("header",{className:"bg-white/90 backdrop-blur-lg border-b border-white/50 shadow-lg sticky top-0 z-40",children:e.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(pe,{to:"/",className:"w-12 h-12 rounded-full overflow-hidden border-2 border-white/20 shadow-lg flex-shrink-0 bg-white",children:e.jsx("img",{src:"/images/2026 logo.png",alt:"Logo A M√∫sica da Segunda - Par√≥dias Musicais do Brasil",className:"w-full h-full object-cover",loading:"eager"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-black text-gray-800 leading-tight",children:"A M√∫sica da Segunda"}),e.jsx("p",{className:"text-xs text-gray-600 mt-0.5",children:"Site oficial de par√≥dias musicais inteligentes e divertidas"})]})]}),e.jsx("nav",{className:"flex items-center gap-1","aria-label":"Navigation principale",children:o.map(i=>e.jsxs(pe,{to:i.url,"aria-current":n(i)?"page":void 0,className:`flex items-center gap-2 px-4 py-2 rounded-xl transition-all duration-300 font-medium ${n(i)?"bg-[#32a2dc] text-white shadow-md":"text-gray-600 hover:text-gray-800 hover:bg-gray-100"}`,children:[e.jsx(i.icon,{className:"w-4 h-4","aria-hidden":"true"}),e.jsx("span",{children:i.name})]},i.name))})]})})}),e.jsx("main",{id:"main-desktop",className:"relative z-10",children:t}),e.jsx("footer",{className:"border-t border-white/60 bg-white/80 backdrop-blur-sm",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-2",children:e.jsx("p",{className:"text-[11px] md:text-xs text-gray-500 text-center",children:"(c) 2026 A M√∫sica da Segunda. Uma produ√ß√£o The Piment√£o Rouge Project."})})})]}),e.jsx(zs,{})]})}function _r(){return e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 animate-pulse",children:"Chargement..."})]})})}function kr(){const{slug:t}=Cs(),r=t?`/musica/${t}`:"/musica";return e.jsx(ke,{to:r,replace:!0})}function Er(){const t=Xe(),r=Gt(t.pathname);return c.useEffect(()=>{typeof window.gtag=="function"&&window.gtag("event","page_view",{page_path:t.pathname+t.search,page_title:document.title})},[t]),e.jsx(Sr,{currentPageName:r,children:e.jsx(c.Suspense,{fallback:e.jsx(_r,{}),children:e.jsxs(As,{children:[e.jsx(me,{path:"/chansons",element:e.jsx(ke,{to:"/musica",replace:!0})}),e.jsx(me,{path:"/chansons/:slug",element:e.jsx(kr,{})}),e.jsx(me,{path:"/home",element:e.jsx(ke,{to:"/",replace:!0})}),e.jsx(me,{path:"/playlist",element:e.jsx(ke,{to:"/musica",replace:!0})}),ze.map(s=>e.jsx(me,{path:s.path,element:e.jsx(s.component,{})},s.path))]})})})}function Tr(){return e.jsx(Is,{children:e.jsx(Er,{})})}const Ht=c.forwardRef((s,r)=>{var t=M(s,[]);return e.jsx("div",v({ref:r,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]"},t))});Ht.displayName="ToastProvider";const Ft=c.forwardRef((s,r)=>{var t=M(s,[]);return e.jsx("div",v({ref:r,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]"},t))});Ft.displayName="ToastViewport";const Ir=At("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Kt=c.forwardRef((o,a)=>{var n=o,{className:t,variant:r}=n,s=M(n,["className","variant"]);return e.jsx("div",v({ref:a,className:V(Ir({variant:r}),t)},s))});Kt.displayName="Toast";const Ar=c.forwardRef((a,s)=>{var o=a,{className:t}=o,r=M(o,["className"]);return e.jsx("div",v({ref:s,className:V("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t)},r))});Ar.displayName="ToastAction";const Jt=c.forwardRef((a,s)=>{var o=a,{className:t}=o,r=M(o,["className"]);return e.jsx("button",L(v({ref:s,className:V("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"data-toast-close":""},r),{children:e.jsx(le,{className:"h-4 w-4"})}))});Jt.displayName="ToastClose";const Wt=c.forwardRef((a,s)=>{var o=a,{className:t}=o,r=M(o,["className"]);return e.jsx("div",v({ref:s,className:V("text-sm font-semibold",t)},r))});Wt.displayName="ToastTitle";const Zt=c.forwardRef((a,s)=>{var o=a,{className:t}=o,r=M(o,["className"]);return e.jsx("div",v({ref:s,className:V("text-sm opacity-90",t)},r))});Zt.displayName="ToastDescription";function Cr(){const{toasts:t}=Yt();return e.jsxs(Ht,{children:[t.map(function(i){var u=i,{id:r,title:s,description:a,action:o}=u,n=M(u,["id","title","description","action"]);return e.jsxs(Kt,L(v({},n),{children:[e.jsxs("div",{className:"grid gap-1",children:[s&&e.jsx(Wt,{children:s}),a&&e.jsx(Zt,{children:a})]}),o,e.jsx(Jt,{})]}),r)}),e.jsx(Ft,{})]})}function Dr(){const[t,r]=c.useState(navigator.onLine),[s,a]=c.useState(!1);return c.useEffect(()=>{const o=()=>{r(!0),a(!1),console.log("üåê Connexion restaur√©e")},n=()=>{r(!1),a(!0),console.log("üì± Mode hors ligne d√©tect√©"),setTimeout(()=>a(!1),5e3)};return window.addEventListener("online",o),window.addEventListener("offline",n),navigator.onLine||r(!1),()=>{window.removeEventListener("online",o),window.removeEventListener("offline",n)}},[]),t?null:e.jsxs("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50",children:[s&&e.jsxs("div",{className:"bg-yellow-500 text-white px-4 py-2 rounded-lg shadow-lg flex items-center gap-2 animate-bounce",children:[e.jsx("span",{children:"üì±"}),e.jsx("span",{className:"text-sm font-medium",children:"Mode hors ligne - App dispon√≠vel offline"})]}),e.jsxs("div",{className:"bg-gray-800 text-white px-3 py-1 rounded-full text-xs flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),e.jsx("span",{children:"Offline"})]})]})}const ie={};function Or(i){return w(this,arguments,function*({endpoint:t,p256dh:r,auth:s,topic:a="new-song",locale:o="pt-BR",vapidKeyVersion:n="v1"}){var d,p,S,f;if(!t||!r||!s)throw new Error("Missing subscription fields: endpoint, p256dh, auth");console.warn("üì° upsertPushSubscription - D√©but"),console.warn("üì° Endpoint:",(t==null?void 0:t.substring(0,50))+"..."),console.warn("üì° Topic:",a,"Locale:",o,"VAPID version:",n);const u={endpoint:t,p256dh:r,auth:s,topics:[a],locale:o,vapid_key_version:n,last_seen_at:new Date().toISOString()};console.warn("üì° Payload (sans cl√©s):",{endpoint:t,topics:u.topics,locale:o,vapid_key_version:u.vapid_key_version});let{data:l,error:m}=yield D.from("push_subscriptions").upsert(u,{onConflict:"endpoint"}).select("endpoint, id, created_at").maybeSingle();if(m){if(console.error("‚ùå Erreur upsertPushSubscription:",m),console.error("‚ùå Code:",m.code),console.error("‚ùå Message:",m.message),console.error("‚ùå Details:",m.details),console.error("‚ùå Hint:",m.hint),(d=m.message)!=null&&d.includes("no unique or exclusion constraint matching the ON CONFLICT specification")||(p=m.message)!=null&&p.includes("ON CONFLICT")){console.error("‚ùå Contrainte UNIQUE manquante sur endpoint - tentative de fallback INSERT/UPDATE");try{const{data:j}=yield D.from("push_subscriptions").select("endpoint, id").eq("endpoint",t).maybeSingle();if(j){const{data:_,error:x}=yield D.from("push_subscriptions").update({p256dh:r,auth:s,topics:[a],locale:o,vapid_key_version:n,last_seen_at:new Date().toISOString()}).eq("endpoint",t).select("endpoint, id, created_at").maybeSingle();if(x)throw x;return console.warn("‚úÖ Subscription mise √† jour via fallback UPDATE"),_||{endpoint:t,success:!0}}else{const{data:_,error:x}=yield D.from("push_subscriptions").insert(u).select("endpoint, id, created_at").maybeSingle();if(x)throw x;return console.warn("‚úÖ Subscription cr√©√©e via fallback INSERT"),_||{endpoint:t,success:!0}}}catch(j){console.error("‚ùå Fallback INSERT/UPDATE a √©chou√©:",j);const _=new Error("Erreur de contrainte : La contrainte UNIQUE sur endpoint est manquante dans la base de donn√©es. Ex√©cutez la migration 20250110000000_fix_push_subscriptions_unique_constraint.sql");throw _.code="CONSTRAINT_ERROR",_.originalError=m,_.fallbackError=j,_}}if(m.code==="42501"||(S=m.message)!=null&&S.includes("permission denied")||(f=m.message)!=null&&f.includes("row-level security")){const j=new Error("Erreur de permission RLS : Les politiques de s√©curit√© ne permettent pas l'insertion. V√©rifiez que les RLS policies sont correctement configur√©es sur la table push_subscriptions.");throw j.code="RLS_ERROR",j.originalError=m,j}throw m}return l?(console.warn("‚úÖ Subscription sauvegard√©e avec succ√®s:",l),l):(console.warn("‚ö†Ô∏è upsertPushSubscription: Aucune donn√©e retourn√©e (mais pas d'erreur)"),{endpoint:t,success:!0})})}console.warn("üöÄ PUSH LIB LOADED - VERSION:",Date.now());const he="BASujCEc1P4RwjUo-SKAxVdIL8yJ4R978lHaQBIZf4oxqs24oPHdeS7iB7So9RWVmlMHgKzZvbie6Ai8yov1Few",Nt=(ie==null?void 0:ie.VITE_PUSH_API_BASE)||"https://efnzmpzkzeuktqkghwfa.functions.supabase.co",St=(ie==null?void 0:ie.VITE_VAPID_KEY_VERSION)||"v1",Mr=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1,Pr=()=>navigator.standalone===!0,Rr=()=>/Android/i.test(navigator.userAgent),_t=()=>Mr()||Rr(),Qt=()=>"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window,kt=t=>{const r="=".repeat((4-t.length%4)%4),s=(t+r).replace(/-/g,"+").replace(/_/g,"/"),a=atob(s),o=new Uint8Array(a.length);for(let n=0;n<a.length;++n)o[n]=a.charCodeAt(n);return o},Lr=()=>localStorage.getItem("push_optout")==="true",Ur=()=>{if(!Qt()||Lr())return!1;const t=localStorage.getItem("push_refused_until");return t&&Date.now()<Number(t)||!_t()?!1:_t()?Pr():!1};function zr(){return w(this,null,function*(){try{return console.warn("üîç R√©cup√©ration du Service Worker existant..."),yield navigator.serviceWorker.ready}catch(t){return console.warn("‚ö†Ô∏è SW pas pr√™t, tentative d'enregistrement..."),yield navigator.serviceWorker.register("/sw.js")}})}function Br(){return w(this,arguments,function*({locale:t="pt-BR"}={}){var i,u;if(console.warn("üîç DIAGNOSTIC VAPID:"),console.warn("VAPID_PUBLIC_KEY length:",he==null?void 0:he.length),console.warn("API_BASE:",Nt),console.warn("---"),console.warn("üîç Starting push activation..."),!Qt())throw console.error("‚ùå Push not supported"),new Error("Push non support√©");try{const l=kt(he);if(console.warn("üîë VAPID key test - Length:",l.byteLength,"(doit √™tre 65)"),l.byteLength!==65)throw console.error("‚ùå VAPID key invalide: longueur incorrecte"),new Error("VAPID key invalide: longueur incorrecte");console.warn("‚úÖ VAPID key valide")}catch(l){throw console.error("‚ùå VAPID key error:",l),new Error("VAPID key invalide: "+l.message)}console.warn("‚úÖ Environment variables loaded");const r=yield zr();if(!r)throw console.error("‚ùå Service Worker registration failed"),new Error("Service Worker registration failed");console.warn("‚úÖ Service Worker registered"),console.warn("üîç SW state:",(i=r.active)==null?void 0:i.state,"controller:",!!navigator.serviceWorker.controller);const s=yield Notification.requestPermission();if(console.warn("üîê Permission result:",s),s!=="granted"){const l=Date.now()+2592e6;throw localStorage.setItem("push_refused_until",String(l)),new Error("Permission refus√©e")}console.warn("üîë Creating push subscription...");const a=yield r.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:kt(he)});console.warn("‚úÖ Push subscription created");const o=btoa(String.fromCharCode(...new Uint8Array(a.getKey("p256dh")))),n=btoa(String.fromCharCode(...new Uint8Array(a.getKey("auth"))));console.warn("üì° Sending subscription to server (Supabase)...");try{yield Or({endpoint:a.endpoint,p256dh:o,auth:n,topic:"new-song",locale:t,vapidKeyVersion:St}),console.warn("‚úÖ Subscription saved to Supabase")}catch(l){if(console.error("‚ùå Supabase save failed:",l),console.error("‚ùå Error type:",(u=l==null?void 0:l.constructor)==null?void 0:u.name),console.error("‚ùå Error code:",l==null?void 0:l.code),console.error("‚ùå Error message:",l==null?void 0:l.message),(l==null?void 0:l.code)==="CONSTRAINT_ERROR")throw console.error("‚ùå Erreur de contrainte UNIQUE d√©tect√©e - pas de fallback API"),yield a.unsubscribe(),new Error("Erreur de base de donn√©es : La contrainte UNIQUE sur endpoint est manquante. Veuillez contacter le support technique.");if((l==null?void 0:l.code)==="RLS_ERROR"||(l==null?void 0:l.code)==="42501")throw console.error("‚ùå Erreur RLS d√©tect√©e - pas de fallback API"),yield a.unsubscribe(),new Error("Erreur de permission : Impossible de sauvegarder l'abonnement. V√©rifiez que les politiques RLS sont correctement configur√©es sur la table push_subscriptions.");console.error("‚ùå Supabase save failed, trying API fallback:",l);const m={endpoint:a.endpoint,keys:{p256dh:btoa(String.fromCharCode(...new Uint8Array(a.getKey("p256dh")))),auth:btoa(String.fromCharCode(...new Uint8Array(a.getKey("auth"))))}};try{const d=yield fetch(`${Nt}/push/subscribe`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({subscription:m,topic:"new-song",locale:t,vapidKeyVersion:St})});if(console.warn("üìä API fallback response:",d.status,d.statusText),!d.ok){const p=yield d.text();throw console.error("‚ùå Both Supabase and API failed:",p),yield a.unsubscribe(),new Error(`Subscribe failed: ${d.status} ${d.statusText}. D√©tails: ${p}`)}console.warn("‚úÖ Subscription saved via API fallback")}catch(d){throw console.error("‚ùå API fallback also failed:",d),yield a.unsubscribe(),new Error(`√âchec de l'activation : Impossible de sauvegarder l'abonnement. Erreur Supabase: ${(l==null?void 0:l.message)||l}. Erreur API: ${(d==null?void 0:d.message)||d}`)}}return console.warn("‚úÖ Push activation completed successfully"),a})}function Vr(){const[t,r]=c.useState(!1),[s,a]=c.useState(!1),[o,n]=c.useState(null);c.useEffect(()=>{const l=setTimeout(()=>w(null,null,function*(){try{const m=yield Ur();r(m)}catch(m){console.error("Erreur v√©rification CTA push:",m),r(!1)}}),3e3);return()=>clearTimeout(l)},[]);const i=()=>w(null,null,function*(){var l,m;a(!0),n(null);try{yield Br(),r(!1)}catch(d){console.error("√âchec de l'abonnement push :",d),console.error("D√©tails de l'erreur:",{message:d==null?void 0:d.message,code:d==null?void 0:d.code,name:d==null?void 0:d.name,stack:d==null?void 0:d.stack});let p="Activation √©chou√©e. Veuillez r√©essayer.";Notification.permission==="denied"?p="Notifications bloqu√©es. Veuillez les autoriser dans les param√®tres de votre navigateur.":d!=null&&d.message?p=d.message:(d==null?void 0:d.code)==="RLS_ERROR"||(d==null?void 0:d.code)==="42501"?p="Erreur de permission : Impossible de sauvegarder l'abonnement. Contactez le support.":(l=d==null?void 0:d.message)!=null&&l.includes("VAPID")?p="Erreur de configuration : Cl√© VAPID invalide. Contactez le support.":(m=d==null?void 0:d.message)!=null&&m.includes("Service Worker")&&(p="Erreur : Service Worker non disponible. V√©rifiez que vous utilisez HTTPS ou localhost."),n(p)}finally{a(!1)}}),u=()=>{r(!1)};return t?e.jsx("div",{className:"fixed bottom-5 left-1/2 -translate-x-1/2 z-50 w-full max-w-sm px-4 animate-in slide-in-from-bottom-5 duration-300",children:e.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 relative",children:[e.jsx("button",{onClick:u,className:"absolute top-2 right-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300","aria-label":"Fermer",children:e.jsx(le,{className:"w-4 h-4"})}),e.jsxs("div",{className:"flex flex-col items-center gap-3 pr-6",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center",children:e.jsx(gt,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),o?e.jsx("p",{className:"text-sm text-red-600 dark:text-red-400 text-center",children:o}):e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 text-center",children:"Ne manquez jamais une nouvelle chanson !"}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 text-center",children:"Recevez une notification chaque lundi"})]}),e.jsx(Y,{onClick:i,disabled:s,className:"w-full bg-blue-600 hover:bg-blue-700 text-white",children:s?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"animate-spin mr-2",children:"‚è≥"}),"Activation..."]}):e.jsxs(e.Fragment,{children:[e.jsx(gt,{className:"w-4 h-4 mr-2"}),"Activer les notifications"]})})]})]})}):null}const Ge="v1.0.0",He="migration_confissoes_bancarias_cleanup",$r={isCompleted(){return localStorage.getItem(He)===Ge},markCompleted(){localStorage.setItem(He,Ge),console.log("‚úÖ Migration Confiss√µes Banc√°rias termin√©e")},execute(){return w(this,null,function*(){if(this.isCompleted()){console.log("üîÑ Migration d√©j√† effectu√©e, passage...");return}console.log("üöÄ D√©but de la migration Confiss√µes Banc√°rias...");try{this.cleanConfissoesBancarias(),yield this.forceSupabaseSync(),this.markCompleted(),console.log("üéâ Migration termin√©e avec succ√®s !")}catch(t){throw console.error("‚ùå Erreur lors de la migration:",t),t}})},cleanConfissoesBancarias(){try{const t=JSON.parse(localStorage.getItem("songs")||"[]"),s=t.filter(a=>a.title!=="Confiss√µes Banc√°rias"&&a.tiktok_video_id!=="7540762684149517590").map((a,o)=>L(v({},a),{id:o+1}));localStorage.setItem("songs",JSON.stringify(s)),console.log(`üßπ localStorage nettoy√© : ${t.length-s.length} chanson(s) supprim√©e(s)`),console.log(`üìù ${s.length} chanson(s) conserv√©e(s) et renum√©rot√©e(s)`)}catch(t){throw console.error("‚ùå Erreur lors du nettoyage du localStorage:",t),t}},forceSupabaseSync(){return w(this,null,function*(){try{localStorage.setItem("force_supabase_sync","true"),localStorage.setItem("last_supabase_sync",new Date().toISOString()),console.log("üîÑ Synchronisation Supabase forc√©e")}catch(t){throw console.error("‚ùå Erreur lors de la synchronisation Supabase:",t),t}})},getStatus(){return{completed:this.isCompleted(),version:Ge,lastSync:localStorage.getItem("last_supabase_sync"),forceSupabase:localStorage.getItem("force_supabase_sync")==="true"}},reset(){localStorage.removeItem(He),localStorage.removeItem("force_supabase_sync"),localStorage.removeItem("last_supabase_sync"),console.log("üîÑ Migration r√©initialis√©e")}};function qr(){return c.useEffect(()=>{w(null,null,function*(){try{yield $r.execute()}catch(r){console.error("‚ùå Erreur lors de la migration:",r)}})},[]),e.jsxs(e.Fragment,{children:[e.jsx(Dr,{}),e.jsx(Tr,{}),e.jsx(Cr,{}),e.jsx(Vr,{})]})}class Yr extends Lt.Component{constructor(s){super(s);ue(this,"logErrorToService",(s,a)=>{const o={message:s.toString(),stack:s.stack,componentStack:a.componentStack,timestamp:new Date().toISOString(),userAgent:navigator.userAgent,url:window.location.href,errorCount:this.state.errorCount};console.log("üìä Error data for monitoring:",o);try{const n=JSON.parse(localStorage.getItem("app_errors")||"[]");n.push(o),localStorage.setItem("app_errors",JSON.stringify(n.slice(-10)))}catch(n){console.error("Failed to save error to localStorage:",n)}});ue(this,"handleReset",()=>{this.setState({hasError:!1,error:null,errorInfo:null})});ue(this,"handleGoHome",()=>{window.location.href="/"});ue(this,"handleReload",()=>{window.location.reload()});this.state={hasError:!1,error:null,errorInfo:null,errorCount:0}}static getDerivedStateFromError(s){return{hasError:!0}}componentDidCatch(s,a){console.error("üö® ErrorBoundary caught an error:",s),console.error("üìç Error info:",a),this.setState(o=>({error:s,errorInfo:a,errorCount:o.errorCount+1})),this.props.onError&&this.props.onError(s,a),this.logErrorToService(s,a)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:e.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-gray-100 flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-2xl w-full",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-red-500 to-pink-500 p-8 text-white",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"bg-white/20 rounded-full p-4",children:e.jsx(De,{className:"w-12 h-12"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Oops! Algo deu errado"}),e.jsx("p",{className:"text-white/90 text-lg",children:"Encontramos um erro inesperado"})]})]})}),e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("p",{className:"text-gray-700 text-lg mb-4",children:"N√£o se preocupe, n√£o √© culpa sua! Nossa equipe foi notificada e estamos trabalhando para resolver o problema."}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[e.jsx("span",{className:"text-blue-500",children:"‚ÑπÔ∏è"}),"O que voc√™ pode fazer:"]}),e.jsxs("ul",{className:"space-y-2 text-gray-600",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-500 mt-1",children:"‚úì"}),e.jsx("span",{children:"Recarregar a p√°gina para tentar novamente"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-500 mt-1",children:"‚úì"}),e.jsx("span",{children:"Voltar para a p√°gina inicial"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-500 mt-1",children:"‚úì"}),e.jsx("span",{children:"Limpar o cache do seu navegador"})]})]})]})]}),!1,e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mt-8",children:[e.jsxs(Y,{onClick:this.handleReload,className:"flex-1 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white",size:"lg",children:[e.jsx(Rt,{className:"w-5 h-5 mr-2"}),"Recarregar P√°gina"]}),e.jsxs(Y,{onClick:this.handleGoHome,variant:"outline",className:"flex-1 border-2",size:"lg",children:[e.jsx(ne,{className:"w-5 h-5 mr-2"}),"Ir para In√≠cio"]})]}),e.jsx("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("span",{className:"font-semibold",children:"Precisa de ajuda?"})," Se o problema persistir, entre em contato conosco atrav√©s do"," ",e.jsx("a",{href:"/sobre",className:"underline hover:text-blue-900 font-semibold",onClick:s=>{s.preventDefault(),this.handleGoHome()},children:"formul√°rio de contato"}),"."]})})]}),e.jsx("div",{className:"bg-gray-50 px-8 py-4 border-t border-gray-200",children:e.jsxs("p",{className:"text-center text-sm text-gray-600",children:["C√≥digo do erro: ",e.jsxs("code",{className:"bg-gray-200 px-2 py-1 rounded font-mono text-xs",children:["ERR_",new Date().getTime()]})]})})]}),e.jsx("div",{className:"mt-6 text-center text-sm text-gray-600",children:e.jsx("p",{children:"üéµ A M√∫sica da Segunda - Nova m√∫sica toda segunda-feira"})})]})}):this.props.children}}const Gr={},Hr=(t,r)=>{console.log("üî¥ Global error handler:",{error:t,errorInfo:r})};Ds.createRoot(document.getElementById("root")).render(e.jsx(Lt.StrictMode,{children:e.jsx(Yr,{onError:Hr,children:e.jsx(Os,{context:Gr,children:e.jsx(qr,{})})})}));try{B(()=>import("./webvitals-B44qvw7I.js"),__vite__mapDeps([24,2,1])).catch(()=>{})}catch(t){console.warn("üîß Mode non-module d√©tect√©, Web Vitals d√©sactiv√©")}if("serviceWorker"in navigator){const t=()=>w(null,null,function*(){var r;try{const{Capacitor:s}=yield B(()=>w(null,null,function*(){const{Capacitor:a}=yield import("./vendor-ui-BUbFcrva.js").then(o=>o.b4);return{Capacitor:a}}),__vite__mapDeps([2,1]));return((r=s.isNativePlatform)==null?void 0:r.call(s))===!0}catch(s){return!1}});window.addEventListener("load",()=>w(null,null,function*(){(yield t())||navigator.serviceWorker.register("/sw.js").catch(console.error)}))}const Fr=()=>w(null,null,function*(){var t;try{const{Capacitor:r}=yield B(()=>w(null,null,function*(){const{Capacitor:s}=yield import("./vendor-ui-BUbFcrva.js").then(a=>a.b4);return{Capacitor:s}}),__vite__mapDeps([2,1]));if((t=r.isNativePlatform)!=null&&t.call(r)){const{SplashScreen:s}=yield B(()=>w(null,null,function*(){const{SplashScreen:a}=yield import("./vendor-ui-BUbFcrva.js").then(o=>o.b5);return{SplashScreen:a}}),__vite__mapDeps([2,1]));yield s.hide()}}catch(r){}});Fr();export{Y as B,Zs as C,Je as D,tr as L,Ws as S,Pe as a,Re as b,Le as c,er as d,V as e,Yt as f,qt as g,ye as h,g as l,D as s,Bt as u};
