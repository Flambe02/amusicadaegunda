var Y=Object.defineProperty,Z=Object.defineProperties;var J=Object.getOwnPropertyDescriptors;var D=Object.getOwnPropertySymbols;var U=Object.prototype.hasOwnProperty,W=Object.prototype.propertyIsEnumerable;var C=(l,r,s)=>r in l?Y(l,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):l[r]=s,A=(l,r)=>{for(var s in r||(r={}))U.call(r,s)&&C(l,s,r[s]);if(D)for(var s of D(r))W.call(r,s)&&C(l,s,r[s]);return l},L=(l,r)=>Z(l,J(r));var M=(l,r,s)=>new Promise((m,f)=>{var n=t=>{try{d(s.next(t))}catch(o){f(o)}},u=t=>{try{d(s.throw(t))}catch(o){f(o)}},d=t=>t.done?m(t.value):Promise.resolve(t.value).then(n,u);d((s=s.apply(l,r)).next())});import{n as q,r as g,u as G,j as e,D as v,a as j,d as N,i as H,M as z,B as p,P as R,G as F,b as O,F as K,A as Q}from"./index-CHTBDV5C.js";import{L as X}from"./lock-_mFyW87j.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],T=q("Sparkles",ee);function se({youtube_music_url:l,youtube_url:r,title:s}){const m=l||r||"",n=(o=>{if(!o||typeof o!="string")return null;try{const b=o.match(/[?&]list=([A-Za-z0-9_-]+)/);if(b)return{id:b[1],type:"playlist"};const y=[/(?:youtube\.com\/shorts\/)([A-Za-z0-9_-]{11})/,/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/|youtube\.com\/v\/)([A-Za-z0-9_-]{11})/,/^([A-Za-z0-9_-]{11})$/];for(const h of y){const c=o.match(h);if(c)return{id:c[1],type:"video"}}if(o.toLowerCase().includes("music.youtube.com")){const h=o.match(/[?&]v=([A-Za-z0-9_-]{11})/);if(h)return{id:h[1],type:"video"}}return null}catch(b){return null}})(m);if(!n)return e.jsx("div",{className:"w-full aspect-video rounded-lg overflow-hidden shadow-lg flex items-center justify-center bg-gradient-to-br from-gray-800 to-gray-900",children:e.jsx("p",{className:"text-white text-sm",children:"Vid칠o non disponible"})});const u=m.includes("/shorts/"),d="https://www.youtube-nocookie.com/embed",t=n.type==="video"?`${d}/${n.id}?rel=0&modestbranding=1&playsinline=1&controls=1`:`${d}/videoseries?list=${n.id}&rel=0&modestbranding=1&playsinline=1&controls=1`;return u?e.jsx("div",{className:"w-full flex justify-center items-center py-4",children:e.jsx("div",{className:"relative rounded-2xl overflow-hidden shadow-2xl bg-black",style:{width:"100%",maxWidth:"360px",aspectRatio:"9/16",margin:"0 auto"},children:e.jsx("iframe",{className:"absolute top-0 left-0 w-full h-full",src:t,title:s||"YouTube Short",frameBorder:"0",referrerPolicy:"strict-origin-when-cross-origin",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0,loading:"lazy"})})}):e.jsx("div",{className:"w-full aspect-video rounded-lg overflow-hidden shadow-lg",children:e.jsx("iframe",{className:"w-full h-full",src:t,title:s||"YouTube",frameBorder:"0",referrerPolicy:"strict-origin-when-cross-origin",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})}const te=({day:l,song:r,onOpen:s,hasBeenViewed:m=!1})=>{const f=new Date,n=new Date(2025,11,l),u=l===1?!1:f<n,d=()=>{!u&&r&&s(r)},t="relative aspect-square rounded-2xl flex items-center justify-center text-white font-black text-3xl transition-all duration-300 transform",o="bg-gray-400/50 text-gray-300 cursor-not-allowed",b="bg-gradient-to-br from-red-500 to-rose-600 shadow-lg cursor-pointer hover:scale-105 hover:shadow-xl",y="bg-teal-500/80",h="bg-white shadow-lg cursor-pointer hover:scale-105 hover:shadow-xl";let c=`${t} `;return u?c+=o:m?c+=h:r?c+=b:c+=y,e.jsx("div",{onClick:d,className:c,children:m?e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx("img",{src:"/images/IOS Logo.png",alt:`V칤deo visualizado - Dia ${l}`,className:"w-16 h-16 object-contain drop-shadow-lg"})}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:l}),u&&e.jsx(X,{className:"absolute w-8 h-8 opacity-70"}),!u&&r&&e.jsxs(e.Fragment,{children:[e.jsx(T,{className:"absolute top-2 right-2 w-5 h-5 text-yellow-300 animate-ping"}),e.jsx("div",{className:"absolute bottom-1 left-1 right-1 text-center",children:e.jsx("p",{className:"text-xs font-bold text-white drop-shadow-lg truncate",children:r.title})})]})]})})};function oe(){const[l,r]=g.useState([]),[s,m]=g.useState(null),[f,n]=g.useState(!1),[u,d]=g.useState(!1),[t,o]=g.useState(null),[b,y]=g.useState(new Set),h=Array.from({length:24},(a,i)=>i+1);G({title:"Calend치rio do Advento Musical",description:"Calend치rio do Advento Musical 2025 - Uma surpresa musical a cada dia de dezembro. Descubra novas m칰sicas e par칩dias inteligentes.",keywords:"calend치rio do advento, advento musical, dezembro 2025, m칰sica da segunda, surpresas musicais, calend치rio musical",url:"/adventcalendar",type:"website"}),g.useEffect(()=>{M(null,null,function*(){const x=yield Q.list();r(x)});const i=localStorage.getItem("advent_viewed_songs");if(i)try{const x=JSON.parse(i);y(new Set(x))}catch(x){console.error("Erro ao carregar v칤deos visualizados:",x)}},[]);const c=a=>{const i=`advent_day_${a}`,x=localStorage.getItem(i);if(x)return JSON.parse(x);if(l.length===0)return null;const w=l.filter(I=>I.tiktok_video_id);if(w.length===0)return null;const P=Math.floor(Math.random()*w.length),B=w[P],S=L(A({},B),{day_of_december:a});return localStorage.setItem(i,JSON.stringify(S)),S},_=l.reduce((a,i)=>(a[i.day_of_december]=i,a),{}),k=c(1);k&&(_[1]=k);const E=a=>{o(a),n(!0)},V=a=>{o(a),d(!0)},$=a=>{navigator.share?navigator.share({title:a.title,text:`Ou칞a ${a.title} por ${a.artist}`,url:a.tiktok_url||window.location.href}):(navigator.clipboard.writeText(a.tiktok_url||window.location.href),alert("Link copiado para a 치rea de transfer칡ncia!"))};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-5 max-w-md mx-auto",children:[e.jsx("div",{className:"lg:hidden text-center mb-8",children:e.jsxs("div",{className:"flex items-center justify-center gap-4 mb-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-full overflow-hidden border-4 border-white/20 shadow-xl flex-shrink-0",children:e.jsx("img",{src:"images/Musica da segunda.jpg",alt:"Logo M칰sica da Segunda",className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("h1",{className:"text-2xl md:text-3xl font-black text-white drop-shadow-lg mb-1",children:"Calend치rio do Advento"}),e.jsx("p",{className:"text-white/80 font-medium text-sm md:text-base drop-shadow-md",children:"Dezembro 2025 - Uma surpresa a cada dia!"})]})]})}),e.jsx("div",{className:"bg-[#f8f5f2] rounded-3xl p-5 shadow-xl",children:e.jsx("div",{className:"grid grid-cols-4 gap-3",children:h.map(a=>{const i=_[a]||c(a),x=b.has(a);return e.jsx(te,{day:a,song:i,onOpen:m,hasBeenViewed:x},a)})})})]}),e.jsx(v,{open:!!s,onOpenChange:()=>m(null),children:e.jsxs(j,{className:"p-0 border-0 bg-transparent max-w-md w-[95vw] max-h-[95vh] overflow-y-auto mx-auto my-4",children:[e.jsx(N,{className:"sr-only",children:(s==null?void 0:s.title)||"V칤deo do Calend치rio do Advento"}),e.jsxs(H,{className:"sr-only",children:["V칤deo musical do dia ",s==null?void 0:s.day_of_december," de dezembro de 2025"]}),e.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-rose-50 rounded-3xl shadow-2xl overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-red-500 to-rose-600 p-4 text-center relative",children:[e.jsx("div",{className:"absolute top-2 left-4 bg-white/20 rounded-full w-10 h-10 flex items-center justify-center",children:e.jsx("span",{className:"text-white font-black text-base",children:s==null?void 0:s.day_of_december})}),e.jsx("div",{className:"mt-1",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("h2",{className:"text-xl font-black text-white",children:"Dezembro"}),e.jsx("span",{className:"text-white/90 text-lg font-semibold",children:s==null?void 0:s.day_of_december})]})}),e.jsx("div",{className:"absolute -bottom-4 left-1/2 transform -translate-x-1/2",children:e.jsx("div",{className:"bg-white rounded-full p-2 shadow-lg",children:e.jsx(z,{className:"w-6 h-6 text-red-500"})})})]}),e.jsxs("div",{className:"p-4 pt-2",children:[e.jsxs("div",{className:"mb-4 bg-white/80 backdrop-blur-sm rounded-2xl p-3 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(T,{className:"w-3 h-3 text-amber-500"}),e.jsx("span",{className:"font-bold text-gray-600 text-xs uppercase tracking-wide",children:"Nome da V칤deo"})]}),e.jsx("p",{className:"text-gray-800 leading-relaxed font-semibold text-base",children:(s==null?void 0:s.title)||"V칤deo Musical"}),(s==null?void 0:s.artist)&&e.jsx("p",{className:"text-gray-600 text-xs mt-1",children:s.artist})]}),e.jsx("div",{className:"mb-4",children:s!=null&&s.youtube_music_url||s!=null&&s.youtube_url?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"bg-black rounded-2xl overflow-hidden shadow-xl",children:e.jsx(se,{youtube_music_url:s.youtube_music_url,youtube_url:s.youtube_url,title:s.title})}),e.jsx("div",{className:"text-center mt-2",children:e.jsxs("p",{className:"text-xs text-gray-600 font-medium",children:["游꿟 V칤deo YouTube - ",s.title]})}),e.jsx("div",{className:"mt-3 text-center",children:e.jsx(p,{onClick:()=>{const a=s.youtube_music_url||s.youtube_url;a&&window.open(a,"_blank")},className:"w-full bg-red-600 hover:bg-red-700 text-white font-bold py-3 rounded-xl transition-all duration-200 hover:scale-105",children:"游닠 Ver no YouTube"})})]}):e.jsx("div",{className:"bg-gray-100 rounded-2xl p-8 text-center",children:e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-200 to-gray-300 rounded-2xl flex items-center justify-center",children:e.jsxs("div",{className:"text-center text-gray-500",children:[e.jsx(R,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),e.jsx("p",{className:"text-lg font-medium",children:"V칤deo n칚o dispon칤vel"}),e.jsx("p",{className:"text-sm text-gray-400",children:s==null?void 0:s.title})]})})})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(p,{variant:"outline",className:"w-full bg-white/70 hover:bg-white/90 text-gray-700 font-semibold border-gray-300 py-3 rounded-2xl text-sm",onClick:()=>E(s),children:"Plataformas"}),e.jsx(p,{variant:"outline",className:"w-full bg-white/70 hover:bg-white/90 text-gray-700 font-semibold border-gray-300 py-3 rounded-2xl text-sm",onClick:()=>V(s),children:"Letras"}),e.jsx(p,{variant:"outline",className:"w-full bg-white/70 hover:bg-white/90 text-gray-700 font-semibold border-gray-300 py-3 rounded-2xl text-sm",onClick:()=>$(s),children:"Compartilhar"})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("div",{className:"flex items-center justify-center gap-2 text-gray-400",children:[e.jsx(F,{className:"w-4 h-4"}),e.jsx("span",{className:"text-xs font-medium",children:"Calend치rio do Advento Musical"}),e.jsx(F,{className:"w-4 h-4"})]})})]})]})]})}),e.jsx(v,{open:f,onOpenChange:n,children:e.jsxs(j,{className:"bg-[#f8f5f2] max-w-md",children:[e.jsx(O,{children:e.jsx(N,{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:"游꿧 Ouvir em outras plataformas"})}),t&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-4 border border-blue-200",children:[e.jsx("h3",{className:"text-lg font-bold text-blue-900 mb-1",children:t.title}),e.jsx("p",{className:"text-blue-700 font-medium",children:t.artist})]}),e.jsxs("div",{className:"space-y-3",children:[t.spotify_url&&e.jsx("a",{href:t.spotify_url,target:"_blank",rel:"noopener noreferrer",className:"block",children:e.jsx(p,{className:"w-full bg-[#1DB954] hover:bg-[#1ed760] text-white font-bold py-3 rounded-2xl text-sm transition-all duration-200 hover:scale-105",children:"游꿚 Ouvir no Spotify"})}),t.apple_music_url&&e.jsx("a",{href:t.apple_music_url,target:"_blank",rel:"noopener noreferrer",className:"block",children:e.jsx(p,{className:"w-full bg-gradient-to-r from-[#FA233B] to-[#FB5C74] hover:opacity-90 text-white font-bold py-3 rounded-2xl text-sm transition-all duration-200 hover:scale-105",children:"游꿧 Ouvir no Apple Music"})}),t.youtube_url&&e.jsx("a",{href:t.youtube_url,target:"_blank",rel:"noopener noreferrer",className:"block",children:e.jsx(p,{className:"w-full bg-[#FF0000] hover:bg-[#cc0000] text-white font-bold py-3 rounded-2xl text-sm transition-all duration-200 hover:scale-105",children:"游닠 Assistir no YouTube"})}),!t.spotify_url&&!t.apple_music_url&&!t.youtube_url&&e.jsxs("div",{className:"text-center py-6",children:[e.jsx(z,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-600 font-medium",children:"Links de streaming em breve..."}),e.jsx("p",{className:"text-sm text-gray-500",children:"Esta m칰sica ser치 disponibilizada em breve nas principais plataformas."})]})]})]})]})}),e.jsx(v,{open:u,onOpenChange:d,children:e.jsxs(j,{className:"bg-[#f8f5f2] max-w-md max-h-[80vh] overflow-y-auto",children:[e.jsx(O,{children:e.jsx(N,{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:"游닇 Letras da m칰sica"})}),t&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-4 border border-blue-200",children:[e.jsx("h3",{className:"text-lg font-bold text-blue-900 mb-1",children:t.title}),e.jsx("p",{className:"text-blue-700 font-medium",children:t.artist})]}),t.lyrics?e.jsx("div",{className:"bg-white rounded-xl p-4 border border-gray-200",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-700 font-medium leading-relaxed",children:t.lyrics})}):e.jsxs("div",{className:"text-center py-6",children:[e.jsx(K,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-600 font-medium",children:"Letras n칚o dispon칤veis"}),e.jsx("p",{className:"text-sm text-gray-500",children:"As letras desta m칰sica ser칚o publicadas em breve."})]})]})]})})]})}export{oe as default};
