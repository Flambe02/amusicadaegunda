const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/TikTokDemo-rlBYYnQU.js","assets/ui-Cj0cQA2E.js","assets/vendor-S3TIWv48.js","assets/utils-CDH4l3Th.js","assets/index-5zL5Hw4u.js","assets/index-BeggUThu.js"])))=>i.map(i=>d[i]);
var rh=Object.defineProperty,ah=Object.defineProperties;var nh=Object.getOwnPropertyDescriptors;var va=Object.getOwnPropertySymbols;var Do=Object.prototype.hasOwnProperty,Lo=Object.prototype.propertyIsEnumerable;var $o=Math.pow,kn=(s,e,t)=>e in s?rh(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,p=(s,e)=>{for(var t in e||(e={}))Do.call(e,t)&&kn(s,t,e[t]);if(va)for(var t of va(e))Lo.call(e,t)&&kn(s,t,e[t]);return s},T=(s,e)=>ah(s,nh(e));var L=(s,e)=>{var t={};for(var a in s)Do.call(s,a)&&e.indexOf(a)<0&&(t[a]=s[a]);if(s!=null&&va)for(var a of va(s))e.indexOf(a)<0&&Lo.call(s,a)&&(t[a]=s[a]);return t};var dt=(s,e,t)=>kn(s,typeof e!="symbol"?e+"":e,t);var b=(s,e,t)=>new Promise((a,n)=>{var i=c=>{try{l(t.next(c))}catch(d){n(d)}},o=c=>{try{l(t.throw(c))}catch(d){n(d)}},l=c=>c.done?a(c.value):Promise.resolve(c.value).then(i,o);l((t=t.apply(s,e)).next())});import{r as h,j as r,_ as Z,t as ih,a as ln,S as oh,O as Ec,P as lh,C as Cc,b as ch,T as Ac,D as Oc,R as dh,u as tt,c as Rc,d as Pc,e as $e,f as cn,g as Oe,h as xs,i as as,k as Vt,l as Ic,m as uh,A as hh,n as mh,o as Mc,p as Gi,q as fh,s as ph,v as gh,w as xh,F as bh,x as yh,y as vh,z as Uo,B as wh,E as _h}from"./ui-Cj0cQA2E.js";import{a as jh,g as ca,b as Dc}from"./vendor-S3TIWv48.js";import{c as Lc,t as Sh,b as Tn,a as Or,d as Rr,e as Nh,s as Ki,f as Zi,p as ge,i as $c,g as oe,h as Bo,j as En,k as Vo,l as kh}from"./utils-CDH4l3Th.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function t(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(n){if(n.ep)return;n.ep=!0;const i=t(n);fetch(n.href,i)}})();const Th="modulepreload",Eh=function(s){return"/"+s},Fo={},Mt=function(e,t,a){let n=Promise.resolve();if(t&&t.length>0){let o=function(d){return Promise.all(d.map(u=>Promise.resolve(u).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));n=o(t.map(d=>{if(d=Eh(d),d in Fo)return;Fo[d]=!0;const u=d.endsWith(".css"),m=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${m}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":Th,u||(f.as="script"),f.crossOrigin="",f.href=d,c&&f.setAttribute("nonce",c),document.head.appendChild(f),u)return new Promise((g,v)=>{f.addEventListener("load",g),f.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${d}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return n.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})};var wa={},zo;function Ch(){if(zo)return wa;zo=1;var s=jh();return wa.createRoot=s.createRoot,wa.hydrateRoot=s.hydrateRoot,wa}var Ah=Ch();const Oh=ca(Ah);/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var qo="popstate";function Rh(s={}){function e(a,n){let{pathname:i,search:o,hash:l}=a.location;return li("",{pathname:i,search:o,hash:l},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function t(a,n){return typeof n=="string"?n:Qr(n)}return Ih(e,t,null,s)}function Ie(s,e){if(s===!1||s===null||typeof s=="undefined")throw new Error(e)}function qt(s,e){if(!s){typeof console!="undefined"&&console.warn(e);try{throw new Error(e)}catch(t){}}}function Ph(){return Math.random().toString(36).substring(2,10)}function Ho(s,e){return{usr:s.state,key:s.key,idx:e}}function li(s,e,t=null,a){return T(p({pathname:typeof s=="string"?s:s.pathname,search:"",hash:""},typeof e=="string"?vr(e):e),{state:t,key:e&&e.key||a||Ph()})}function Qr({pathname:s="/",search:e="",hash:t=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(s+=t.charAt(0)==="#"?t:"#"+t),s}function vr(s){let e={};if(s){let t=s.indexOf("#");t>=0&&(e.hash=s.substring(t),s=s.substring(0,t));let a=s.indexOf("?");a>=0&&(e.search=s.substring(a),s=s.substring(0,a)),s&&(e.pathname=s)}return e}function Ih(s,e,t,a={}){let{window:n=document.defaultView,v5Compat:i=!1}=a,o=n.history,l="POP",c=null,d=u();d==null&&(d=0,o.replaceState(T(p({},o.state),{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function m(){l="POP";let y=u(),E=y==null?null:y-d;d=y,c&&c({action:l,location:S.location,delta:E})}function f(y,E){l="PUSH";let k=li(S.location,y,E);d=u()+1;let x=Ho(k,d),w=S.createHref(k);try{o.pushState(x,"",w)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;n.location.assign(w)}i&&c&&c({action:l,location:S.location,delta:1})}function g(y,E){l="REPLACE";let k=li(S.location,y,E);d=u();let x=Ho(k,d),w=S.createHref(k);o.replaceState(x,"",w),i&&c&&c({action:l,location:S.location,delta:0})}function v(y){return Mh(y)}let S={get action(){return l},get location(){return s(n,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return n.addEventListener(qo,m),c=y,()=>{n.removeEventListener(qo,m),c=null}},createHref(y){return e(n,y)},createURL:v,encodeLocation(y){let E=v(y);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:f,replace:g,go(y){return o.go(y)}};return S}function Mh(s,e=!1){let t="http://localhost";typeof window!="undefined"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Ie(t,"No window.location.(origin|href) available to create URL");let a=typeof s=="string"?s:Qr(s);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=t+a),new URL(a,t)}function Uc(s,e,t="/"){return Dh(s,e,t,!1)}function Dh(s,e,t,a){let n=typeof e=="string"?vr(e):e,i=ns(n.pathname||"/",t);if(i==null)return null;let o=Bc(s);Lh(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=Gh(i);l=Wh(o[c],d,a)}return l}function Bc(s,e=[],t=[],a="",n=!1){let i=(o,l,c=n,d)=>{let u={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(u.relativePath.startsWith("/")){if(!u.relativePath.startsWith(a)&&c)return;Ie(u.relativePath.startsWith(a),`Absolute route path "${u.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(a.length)}let m=rs([a,u.relativePath]),f=t.concat(u);o.children&&o.children.length>0&&(Ie(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),Bc(o.children,e,f,m,c)),!(o.path==null&&!o.index)&&e.push({path:m,score:qh(m,o.index),routesMeta:f})};return s.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))i(o,l);else for(let d of Vc(o.path))i(o,l,!0,d)}),e}function Vc(s){let e=s.split("/");if(e.length===0)return[];let[t,...a]=e,n=t.endsWith("?"),i=t.replace(/\?$/,"");if(a.length===0)return n?[i,""]:[i];let o=Vc(a.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),n&&l.push(...o),l.map(c=>s.startsWith("/")&&c===""?"/":c)}function Lh(s){s.sort((e,t)=>e.score!==t.score?t.score-e.score:Hh(e.routesMeta.map(a=>a.childrenIndex),t.routesMeta.map(a=>a.childrenIndex)))}var $h=/^:[\w-]+$/,Uh=3,Bh=2,Vh=1,Fh=10,zh=-2,Wo=s=>s==="*";function qh(s,e){let t=s.split("/"),a=t.length;return t.some(Wo)&&(a+=zh),e&&(a+=Bh),t.filter(n=>!Wo(n)).reduce((n,i)=>n+($h.test(i)?Uh:i===""?Vh:Fh),a)}function Hh(s,e){return s.length===e.length&&s.slice(0,-1).every((a,n)=>a===e[n])?s[s.length-1]-e[e.length-1]:0}function Wh(s,e,t=!1){let{routesMeta:a}=s,n={},i="/",o=[];for(let l=0;l<a.length;++l){let c=a[l],d=l===a.length-1,u=i==="/"?e:e.slice(i.length)||"/",m=Ha({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),f=c.route;if(!m&&d&&t&&!a[a.length-1].route.index&&(m=Ha({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!m)return null;Object.assign(n,m.params),o.push({params:n,pathname:rs([i,m.pathname]),pathnameBase:Xh(rs([i,m.pathnameBase])),route:f}),m.pathnameBase!=="/"&&(i=rs([i,m.pathnameBase]))}return o}function Ha(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[t,a]=Yh(s.path,s.caseSensitive,s.end),n=e.match(t);if(!n)return null;let i=n[0],o=i.replace(/(.)\/+$/,"$1"),l=n.slice(1);return{params:a.reduce((d,{paramName:u,isOptional:m},f)=>{if(u==="*"){let v=l[f]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const g=l[f];return m&&!g?d[u]=void 0:d[u]=(g||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:s}}function Yh(s,e=!1,t=!0){qt(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let a=[],n="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(a.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(a.push({paramName:"*"}),n+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?n+="\\/*$":s!==""&&s!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,e?void 0:"i"),a]}function Gh(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return qt(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function ns(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,a=s.charAt(t);return a&&a!=="/"?null:s.slice(t)||"/"}function Kh(s,e="/"){let{pathname:t,search:a="",hash:n=""}=typeof s=="string"?vr(s):s;return{pathname:t?t.startsWith("/")?t:Zh(t,e):e,search:Qh(a),hash:em(n)}}function Zh(s,e){let t=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(n=>{n===".."?t.length>1&&t.pop():n!=="."&&t.push(n)}),t.length>1?t.join("/"):"/"}function Cn(s,e,t,a){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Jh(s){return s.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Fc(s){let e=Jh(s);return e.map((t,a)=>a===e.length-1?t.pathname:t.pathnameBase)}function zc(s,e,t,a=!1){let n;typeof s=="string"?n=vr(s):(n=p({},s),Ie(!n.pathname||!n.pathname.includes("?"),Cn("?","pathname","search",n)),Ie(!n.pathname||!n.pathname.includes("#"),Cn("#","pathname","hash",n)),Ie(!n.search||!n.search.includes("#"),Cn("#","search","hash",n)));let i=s===""||n.pathname==="",o=i?"/":n.pathname,l;if(o==null)l=t;else{let m=e.length-1;if(!a&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),m-=1;n.pathname=f.join("/")}l=m>=0?e[m]:"/"}let c=Kh(n,l),d=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}var rs=s=>s.join("/").replace(/\/\/+/g,"/"),Xh=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),Qh=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,em=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function tm(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var qc=["POST","PUT","PATCH","DELETE"];new Set(qc);var sm=["GET",...qc];new Set(sm);var wr=h.createContext(null);wr.displayName="DataRouter";var dn=h.createContext(null);dn.displayName="DataRouterState";h.createContext(!1);var Hc=h.createContext({isTransitioning:!1});Hc.displayName="ViewTransition";var rm=h.createContext(new Map);rm.displayName="Fetchers";var am=h.createContext(null);am.displayName="Await";var Wt=h.createContext(null);Wt.displayName="Navigation";var da=h.createContext(null);da.displayName="Location";var Yt=h.createContext({outlet:null,matches:[],isDataRoute:!1});Yt.displayName="Route";var Ji=h.createContext(null);Ji.displayName="RouteError";function nm(s,{relative:e}={}){Ie(ua(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:a}=h.useContext(Wt),{hash:n,pathname:i,search:o}=ha(s,{relative:e}),l=i;return t!=="/"&&(l=i==="/"?t:rs([t,i])),a.createHref({pathname:l,search:o,hash:n})}function ua(){return h.useContext(da)!=null}function cs(){return Ie(ua(),"useLocation() may be used only in the context of a <Router> component."),h.useContext(da).location}var Wc="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Yc(s){h.useContext(Wt).static||h.useLayoutEffect(s)}function un(){let{isDataRoute:s}=h.useContext(Yt);return s?ym():im()}function im(){Ie(ua(),"useNavigate() may be used only in the context of a <Router> component.");let s=h.useContext(wr),{basename:e,navigator:t}=h.useContext(Wt),{matches:a}=h.useContext(Yt),{pathname:n}=cs(),i=JSON.stringify(Fc(a)),o=h.useRef(!1);return Yc(()=>{o.current=!0}),h.useCallback((c,d={})=>{if(qt(o.current,Wc),!o.current)return;if(typeof c=="number"){t.go(c);return}let u=zc(c,JSON.parse(i),n,d.relative==="path");s==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:rs([e,u.pathname])),(d.replace?t.replace:t.push)(u,d.state,d)},[e,t,i,n,s])}h.createContext(null);function om(){let{matches:s}=h.useContext(Yt),e=s[s.length-1];return e?e.params:{}}function ha(s,{relative:e}={}){let{matches:t}=h.useContext(Yt),{pathname:a}=cs(),n=JSON.stringify(Fc(t));return h.useMemo(()=>zc(s,JSON.parse(n),a,e==="path"),[s,n,a,e])}function lm(s,e){return Gc(s,e)}function Gc(s,e,t,a,n){var k;Ie(ua(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=h.useContext(Wt),{matches:o}=h.useContext(Yt),l=o[o.length-1],c=l?l.params:{},d=l?l.pathname:"/",u=l?l.pathnameBase:"/",m=l&&l.route;{let x=m&&m.path||"";Kc(d,!m||x.endsWith("*")||x.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${x}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${x}"> to <Route path="${x==="/"?"*":`${x}/*`}">.`)}let f=cs(),g;if(e){let x=typeof e=="string"?vr(e):e;Ie(u==="/"||((k=x.pathname)==null?void 0:k.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${x.pathname}" was given in the \`location\` prop.`),g=x}else g=f;let v=g.pathname||"/",S=v;if(u!=="/"){let x=u.replace(/^\//,"").split("/");S="/"+v.replace(/^\//,"").split("/").slice(x.length).join("/")}let y=Uc(s,{pathname:S});qt(m||y!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),qt(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=mm(y&&y.map(x=>Object.assign({},x,{params:Object.assign({},c,x.params),pathname:rs([u,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?u:rs([u,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),o,t,a,n);return e&&E?h.createElement(da.Provider,{value:{location:p({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:"POP"}},E):E}function cm(){let s=bm(),e=tm(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),t=s instanceof Error?s.stack:null,a="rgba(200,200,200, 0.5)",n={padding:"0.5rem",backgroundColor:a},i={padding:"2px 4px",backgroundColor:a},o=null;return console.error("Error handled by React Router default ErrorBoundary:",s),o=h.createElement(h.Fragment,null,h.createElement("p",null,"ðŸ’¿ Hey developer ðŸ‘‹"),h.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",h.createElement("code",{style:i},"ErrorBoundary")," or"," ",h.createElement("code",{style:i},"errorElement")," prop on your route.")),h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},e),t?h.createElement("pre",{style:n},t):null,o)}var dm=h.createElement(cm,null),um=class extends h.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){this.props.unstable_onError?this.props.unstable_onError(s,e):console.error("React Router caught the following error during render",s)}render(){return this.state.error!==void 0?h.createElement(Yt.Provider,{value:this.props.routeContext},h.createElement(Ji.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function hm({routeContext:s,match:e,children:t}){let a=h.useContext(wr);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),h.createElement(Yt.Provider,{value:s},t)}function mm(s,e=[],t=null,a=null,n=null){if(s==null){if(!t)return null;if(t.errors)s=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)s=t.matches;else return null}let i=s,o=t==null?void 0:t.errors;if(o!=null){let d=i.findIndex(u=>u.route.id&&(o==null?void 0:o[u.route.id])!==void 0);Ie(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,c=-1;if(t)for(let d=0;d<i.length;d++){let u=i[d];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(c=d),u.route.id){let{loaderData:m,errors:f}=t,g=u.route.loader&&!m.hasOwnProperty(u.route.id)&&(!f||f[u.route.id]===void 0);if(u.route.lazy||g){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((d,u,m)=>{let f,g=!1,v=null,S=null;t&&(f=o&&u.route.id?o[u.route.id]:void 0,v=u.route.errorElement||dm,l&&(c<0&&m===0?(Kc("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,S=null):c===m&&(g=!0,S=u.route.hydrateFallbackElement||null)));let y=e.concat(i.slice(0,m+1)),E=()=>{let k;return f?k=v:g?k=S:u.route.Component?k=h.createElement(u.route.Component,null):u.route.element?k=u.route.element:k=d,h.createElement(hm,{match:u,routeContext:{outlet:d,matches:y,isDataRoute:t!=null},children:k})};return t&&(u.route.ErrorBoundary||u.route.errorElement||m===0)?h.createElement(um,{location:t.location,revalidation:t.revalidation,component:v,error:f,children:E(),routeContext:{outlet:null,matches:y,isDataRoute:!0},unstable_onError:a}):E()},null)}function Xi(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fm(s){let e=h.useContext(wr);return Ie(e,Xi(s)),e}function pm(s){let e=h.useContext(dn);return Ie(e,Xi(s)),e}function gm(s){let e=h.useContext(Yt);return Ie(e,Xi(s)),e}function Qi(s){let e=gm(s),t=e.matches[e.matches.length-1];return Ie(t.route.id,`${s} can only be used on routes that contain a unique "id"`),t.route.id}function xm(){return Qi("useRouteId")}function bm(){var a;let s=h.useContext(Ji),e=pm("useRouteError"),t=Qi("useRouteError");return s!==void 0?s:(a=e.errors)==null?void 0:a[t]}function ym(){let{router:s}=fm("useNavigate"),e=Qi("useNavigate"),t=h.useRef(!1);return Yc(()=>{t.current=!0}),h.useCallback((o,...l)=>b(null,[o,...l],function*(n,i={}){qt(t.current,Wc),t.current&&(typeof n=="number"?s.navigate(n):yield s.navigate(n,p({fromRouteId:e},i)))}),[s,e])}var Yo={};function Kc(s,e,t){!e&&!Yo[s]&&(Yo[s]=!0,qt(!1,t))}h.memo(vm);function vm({routes:s,future:e,state:t,unstable_onError:a}){return Gc(s,void 0,t,a,e)}function Zc(s){Ie(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function wm({basename:s="/",children:e=null,location:t,navigationType:a="POP",navigator:n,static:i=!1}){Ie(!ua(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=s.replace(/^\/*/,"/"),l=h.useMemo(()=>({basename:o,navigator:n,static:i,future:{}}),[o,n,i]);typeof t=="string"&&(t=vr(t));let{pathname:c="/",search:d="",hash:u="",state:m=null,key:f="default"}=t,g=h.useMemo(()=>{let v=ns(c,o);return v==null?null:{location:{pathname:v,search:d,hash:u,state:m,key:f},navigationType:a}},[o,c,d,u,m,f,a]);return qt(g!=null,`<Router basename="${o}"> is not able to match the URL "${c}${d}${u}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:h.createElement(Wt.Provider,{value:l},h.createElement(da.Provider,{children:e,value:g}))}function _m({children:s,location:e}){return lm(ci(s),e)}function ci(s,e=[]){let t=[];return h.Children.forEach(s,(a,n)=>{if(!h.isValidElement(a))return;let i=[...e,n];if(a.type===h.Fragment){t.push.apply(t,ci(a.props.children,i));return}Ie(a.type===Zc,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ie(!a.props.index||!a.props.children,"An index route cannot have child routes.");let o={id:a.props.id||i.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(o.children=ci(a.props.children,i)),t.push(o)}),t}var Ma="get",Da="application/x-www-form-urlencoded";function hn(s){return s!=null&&typeof s.tagName=="string"}function jm(s){return hn(s)&&s.tagName.toLowerCase()==="button"}function Sm(s){return hn(s)&&s.tagName.toLowerCase()==="form"}function Nm(s){return hn(s)&&s.tagName.toLowerCase()==="input"}function km(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function Tm(s,e){return s.button===0&&(!e||e==="_self")&&!km(s)}var _a=null;function Em(){if(_a===null)try{new FormData(document.createElement("form"),0),_a=!1}catch(s){_a=!0}return _a}var Cm=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function An(s){return s!=null&&!Cm.has(s)?(qt(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Da}"`),null):s}function Am(s,e){let t,a,n,i,o;if(Sm(s)){let l=s.getAttribute("action");a=l?ns(l,e):null,t=s.getAttribute("method")||Ma,n=An(s.getAttribute("enctype"))||Da,i=new FormData(s)}else if(jm(s)||Nm(s)&&(s.type==="submit"||s.type==="image")){let l=s.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=s.getAttribute("formaction")||l.getAttribute("action");if(a=c?ns(c,e):null,t=s.getAttribute("formmethod")||l.getAttribute("method")||Ma,n=An(s.getAttribute("formenctype"))||An(l.getAttribute("enctype"))||Da,i=new FormData(l,s),!Em()){let{name:d,type:u,value:m}=s;if(u==="image"){let f=d?`${d}.`:"";i.append(`${f}x`,"0"),i.append(`${f}y`,"0")}else d&&i.append(d,m)}}else{if(hn(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Ma,a=null,n=Da,o=s}return i&&n==="text/plain"&&(o=i,i=void 0),{action:a,method:t.toLowerCase(),encType:n,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function eo(s,e){if(s===!1||s===null||typeof s=="undefined")throw new Error(e)}function Om(s,e,t){let a=typeof s=="string"?new URL(s,typeof window=="undefined"?"server://singlefetch/":window.location.origin):s;return a.pathname==="/"?a.pathname=`_root.${t}`:e&&ns(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${t}`,a}function Rm(s,e){return b(this,null,function*(){if(s.id in e)return e[s.id];try{let t=yield import(s.module);return e[s.id]=t,t}catch(t){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}})}function Pm(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}function Im(s,e,t){return b(this,null,function*(){let a=yield Promise.all(s.map(n=>b(null,null,function*(){let i=e.routes[n.route.id];if(i){let o=yield Rm(i,t);return o.links?o.links():[]}return[]})));return $m(a.flat(1).filter(Pm).filter(n=>n.rel==="stylesheet"||n.rel==="preload").map(n=>n.rel==="stylesheet"?T(p({},n),{rel:"prefetch",as:"style"}):T(p({},n),{rel:"prefetch"})))})}function Go(s,e,t,a,n,i){let o=(c,d)=>t[d]?c.route.id!==t[d].route.id:!0,l=(c,d)=>{var u;return t[d].pathname!==c.pathname||((u=t[d].route.path)==null?void 0:u.endsWith("*"))&&t[d].params["*"]!==c.params["*"]};return i==="assets"?e.filter((c,d)=>o(c,d)||l(c,d)):i==="data"?e.filter((c,d)=>{var m;let u=a.routes[c.route.id];if(!u||!u.hasLoader)return!1;if(o(c,d)||l(c,d))return!0;if(c.route.shouldRevalidate){let f=c.route.shouldRevalidate({currentUrl:new URL(n.pathname+n.search+n.hash,window.origin),currentParams:((m=t[0])==null?void 0:m.params)||{},nextUrl:new URL(s,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function Mm(s,e,{includeHydrateFallback:t}={}){return Dm(s.map(a=>{let n=e.routes[a.route.id];if(!n)return[];let i=[n.module];return n.clientActionModule&&(i=i.concat(n.clientActionModule)),n.clientLoaderModule&&(i=i.concat(n.clientLoaderModule)),t&&n.hydrateFallbackModule&&(i=i.concat(n.hydrateFallbackModule)),n.imports&&(i=i.concat(n.imports)),i}).flat(1))}function Dm(s){return[...new Set(s)]}function Lm(s){let e={},t=Object.keys(s).sort();for(let a of t)e[a]=s[a];return e}function $m(s,e){let t=new Set;return new Set(e),s.reduce((a,n)=>{let i=JSON.stringify(Lm(n));return t.has(i)||(t.add(i),a.push({key:i,link:n})),a},[])}function Jc(){let s=h.useContext(wr);return eo(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function Um(){let s=h.useContext(dn);return eo(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var to=h.createContext(void 0);to.displayName="FrameworkContext";function Xc(){let s=h.useContext(to);return eo(s,"You must render this element inside a <HydratedRouter> element"),s}function Bm(s,e){let t=h.useContext(to),[a,n]=h.useState(!1),[i,o]=h.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:d,onMouseLeave:u,onTouchStart:m}=e,f=h.useRef(null);h.useEffect(()=>{if(s==="render"&&o(!0),s==="viewport"){let S=E=>{E.forEach(k=>{o(k.isIntersecting)})},y=new IntersectionObserver(S,{threshold:.5});return f.current&&y.observe(f.current),()=>{y.disconnect()}}},[s]),h.useEffect(()=>{if(a){let S=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(S)}}},[a]);let g=()=>{n(!0)},v=()=>{n(!1),o(!1)};return t?s!=="intent"?[i,f,{}]:[i,f,{onFocus:Pr(l,g),onBlur:Pr(c,v),onMouseEnter:Pr(d,g),onMouseLeave:Pr(u,v),onTouchStart:Pr(m,g)}]:[!1,f,{}]}function Pr(s,e){return t=>{s&&s(t),t.defaultPrevented||e(t)}}function Vm(t){var a=t,{page:s}=a,e=L(a,["page"]);let{router:n}=Jc(),i=h.useMemo(()=>Uc(n.routes,s,n.basename),[n.routes,s,n.basename]);return i?h.createElement(zm,p({page:s,matches:i},e)):null}function Fm(s){let{manifest:e,routeModules:t}=Xc(),[a,n]=h.useState([]);return h.useEffect(()=>{let i=!1;return Im(s,e,t).then(o=>{i||n(o)}),()=>{i=!0}},[s,e,t]),a}function zm(a){var n=a,{page:s,matches:e}=n,t=L(n,["page","matches"]);let i=cs(),{manifest:o,routeModules:l}=Xc(),{basename:c}=Jc(),{loaderData:d,matches:u}=Um(),m=h.useMemo(()=>Go(s,e,u,o,i,"data"),[s,e,u,o,i]),f=h.useMemo(()=>Go(s,e,u,o,i,"assets"),[s,e,u,o,i]),g=h.useMemo(()=>{if(s===i.pathname+i.search+i.hash)return[];let y=new Set,E=!1;if(e.forEach(x=>{var N;let w=o.routes[x.route.id];!w||!w.hasLoader||(!m.some(C=>C.route.id===x.route.id)&&x.route.id in d&&((N=l[x.route.id])!=null&&N.shouldRevalidate)||w.hasClientLoader?E=!0:y.add(x.route.id))}),y.size===0)return[];let k=Om(s,c,"data");return E&&y.size>0&&k.searchParams.set("_routes",e.filter(x=>y.has(x.route.id)).map(x=>x.route.id).join(",")),[k.pathname+k.search]},[c,d,i,o,m,e,s,l]),v=h.useMemo(()=>Mm(f,o),[f,o]),S=Fm(f);return h.createElement(h.Fragment,null,g.map(y=>h.createElement("link",p({key:y,rel:"prefetch",as:"fetch",href:y},t))),v.map(y=>h.createElement("link",p({key:y,rel:"modulepreload",href:y},t))),S.map(({key:y,link:E})=>h.createElement("link",p({key:y,nonce:t.nonce},E))))}function qm(...s){return e=>{s.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Qc=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined";try{Qc&&(window.__reactRouterVersion="7.8.2")}catch(s){}function Hm({basename:s,children:e,window:t}){let a=h.useRef();a.current==null&&(a.current=Rh({window:t,v5Compat:!0}));let n=a.current,[i,o]=h.useState({action:n.action,location:n.location}),l=h.useCallback(c=>{h.startTransition(()=>o(c))},[o]);return h.useLayoutEffect(()=>n.listen(l),[n,l]),h.createElement(wm,{basename:s,children:e,location:i.location,navigationType:i.action,navigator:n})}var ed=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Yr=h.forwardRef(function(v,g){var S=v,{onClick:e,discover:t="render",prefetch:a="none",relative:n,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:m}=S,f=L(S,["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"]);let{basename:y}=h.useContext(Wt),E=typeof d=="string"&&ed.test(d),k,x=!1;if(typeof d=="string"&&E&&(k=d,Qc))try{let U=new URL(window.location.href),te=d.startsWith("//")?new URL(U.protocol+d):new URL(d),ye=ns(te.pathname,y);te.origin===U.origin&&ye!=null?d=ye+te.search+te.hash:x=!0}catch(U){qt(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let w=nm(d,{relative:n}),[N,C,O]=Bm(a,f),F=Km(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:n,viewTransition:m});function q(U){e&&e(U),U.defaultPrevented||F(U)}let H=h.createElement("a",T(p(p({},f),O),{href:k||w,onClick:x||i?e:q,ref:qm(g,C),target:c,"data-discover":!E&&t==="render"?"true":void 0}));return N&&!E?h.createElement(h.Fragment,null,H,h.createElement(Vm,{page:w})):H});Yr.displayName="Link";var Wm=h.forwardRef(function(m,u){var f=m,{"aria-current":e="page",caseSensitive:t=!1,className:a="",end:n=!1,style:i,to:o,viewTransition:l,children:c}=f,d=L(f,["aria-current","caseSensitive","className","end","style","to","viewTransition","children"]);let g=ha(o,{relative:d.relative}),v=cs(),S=h.useContext(dn),{navigator:y,basename:E}=h.useContext(Wt),k=S!=null&&ef(g)&&l===!0,x=y.encodeLocation?y.encodeLocation(g).pathname:g.pathname,w=v.pathname,N=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;t||(w=w.toLowerCase(),N=N?N.toLowerCase():null,x=x.toLowerCase()),N&&E&&(N=ns(N,E)||N);const C=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let O=w===x||!n&&w.startsWith(x)&&w.charAt(C)==="/",F=N!=null&&(N===x||!n&&N.startsWith(x)&&N.charAt(x.length)==="/"),q={isActive:O,isPending:F,isTransitioning:k},H=O?e:void 0,U;typeof a=="function"?U=a(q):U=[a,O?"active":null,F?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let te=typeof i=="function"?i(q):i;return h.createElement(Yr,T(p({},d),{"aria-current":H,className:U,ref:u,style:te,to:o,viewTransition:l}),typeof c=="function"?c(q):c)});Wm.displayName="NavLink";var Ym=h.forwardRef((v,g)=>{var S=v,{discover:s="render",fetcherKey:e,navigate:t,reloadDocument:a,replace:n,state:i,method:o=Ma,action:l,onSubmit:c,relative:d,preventScrollReset:u,viewTransition:m}=S,f=L(S,["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"]);let y=Xm(),E=Qm(l,{relative:d}),k=o.toLowerCase()==="get"?"get":"post",x=typeof l=="string"&&ed.test(l),w=N=>{if(c&&c(N),N.defaultPrevented)return;N.preventDefault();let C=N.nativeEvent.submitter,O=(C==null?void 0:C.getAttribute("formmethod"))||o;y(C||N.currentTarget,{fetcherKey:e,method:O,navigate:t,replace:n,state:i,relative:d,preventScrollReset:u,viewTransition:m})};return h.createElement("form",T(p({ref:g,method:k,action:E,onSubmit:a?c:w},f),{"data-discover":!x&&s==="render"?"true":void 0}))});Ym.displayName="Form";function Gm(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function td(s){let e=h.useContext(wr);return Ie(e,Gm(s)),e}function Km(s,{target:e,replace:t,state:a,preventScrollReset:n,relative:i,viewTransition:o}={}){let l=un(),c=cs(),d=ha(s,{relative:i});return h.useCallback(u=>{if(Tm(u,e)){u.preventDefault();let m=t!==void 0?t:Qr(c)===Qr(d);l(s,{replace:m,state:a,preventScrollReset:n,relative:i,viewTransition:o})}},[c,l,d,t,a,e,s,n,i,o])}var Zm=0,Jm=()=>`__${String(++Zm)}__`;function Xm(){let{router:s}=td("useSubmit"),{basename:e}=h.useContext(Wt),t=xm();return h.useCallback((i,...o)=>b(null,[i,...o],function*(a,n={}){let{action:l,method:c,encType:d,formData:u,body:m}=Am(a,e);if(n.navigate===!1){let f=n.fetcherKey||Jm();yield s.fetch(f,t,n.action||l,{preventScrollReset:n.preventScrollReset,formData:u,body:m,formMethod:n.method||c,formEncType:n.encType||d,flushSync:n.flushSync})}else yield s.navigate(n.action||l,{preventScrollReset:n.preventScrollReset,formData:u,body:m,formMethod:n.method||c,formEncType:n.encType||d,replace:n.replace,state:n.state,fromRouteId:t,flushSync:n.flushSync,viewTransition:n.viewTransition})}),[s,e,t])}function Qm(s,{relative:e}={}){let{basename:t}=h.useContext(Wt),a=h.useContext(Yt);Ie(a,"useFormAction must be used inside a RouteContext");let[n]=a.matches.slice(-1),i=p({},ha(s||".",{relative:e})),o=cs();if(s==null){i.search=o.search;let l=new URLSearchParams(i.search),c=l.getAll("index");if(c.some(u=>u==="")){l.delete("index"),c.filter(m=>m).forEach(m=>l.append("index",m));let u=l.toString();i.search=u?`?${u}`:""}}return(!s||s===".")&&n.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(i.pathname=i.pathname==="/"?t:rs([t,i.pathname])),Qr(i)}function ef(s,{relative:e}={}){let t=h.useContext(Hc);Ie(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=td("useViewTransitionState"),n=ha(s,{relative:e});if(!t.isTransitioning)return!1;let i=ns(t.currentLocation.pathname,a)||t.currentLocation.pathname,o=ns(t.nextLocation.pathname,a)||t.nextLocation.pathname;return Ha(n.pathname,o)!=null||Ha(n.pathname,i)!=null}function Ks(s){return"/"+s.toLowerCase().replace(/ /g,"-")}/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tf=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),sd=(...s)=>s.filter((e,t,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var sf={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rf=h.forwardRef((d,c)=>{var u=d,{color:s="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:a,className:n="",children:i,iconNode:o}=u,l=L(u,["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"]);return h.createElement("svg",p(T(p({ref:c},sf),{width:e,height:e,stroke:s,strokeWidth:a?Number(t)*24/Number(e):t,className:sd("lucide",n)}),l),[...o.map(([m,f])=>h.createElement(m,f)),...Array.isArray(i)?i:[i]])});/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=(s,e)=>{const t=h.forwardRef((o,i)=>{var l=o,{className:a}=l,n=L(l,["className"]);return h.createElement(rf,p({ref:i,iconNode:e,className:sd(`lucide-${tf(s)}`,a)},n))});return t.displayName=`${s}`,t};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const af=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ea=J("ArrowLeft",af);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nf=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],of=J("ArrowRight",nf);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lf=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],Ko=J("ArrowUp",lf);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cf=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],df=J("Award",cf);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uf=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Zo=J("Bell",uf);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hf=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Dt=J("Calendar",hf);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mf=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ff=J("Check",mf);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pf=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],so=J("ChevronDown",pf);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gf=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],hr=J("ChevronLeft",gf);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xf=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],rd=J("ChevronRight",xf);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bf=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],yf=J("ChevronUp",bf);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vf=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],_s=J("CircleAlert",vf);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wf=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ro=J("CircleCheckBig",wf);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _f=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],jf=J("CircleHelp",_f);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sf=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Jo=J("Download",Sf);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nf=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Ds=J("ExternalLink",Nf);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kf=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],di=J("EyeOff",kf);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tf=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ui=J("Eye",Tf);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ef=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Ht=J("FileText",Ef);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cf=[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]],Af=J("Filter",Cf);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Of=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],hi=J("Gift",Of);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rf=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],Xo=J("Hash",Rf);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pf=[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]],If=J("Headphones",Pf);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mf=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],Df=J("Heart",Mf);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lf=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Gr=J("House",Lf);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $f=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],ao=J("Info",$f);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uf=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],Qo=J("Instagram",Uf);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bf=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],Vf=J("KeyRound",Bf);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ff=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],el=J("Lightbulb",Ff);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zf=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],tl=J("Link",zf);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qf=[["path",{d:"M21 15V6",key:"h1cx4g"}],["path",{d:"M18.5 18a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z",key:"8saifv"}],["path",{d:"M12 12H3",key:"18klou"}],["path",{d:"M16 6H3",key:"1wxfjs"}],["path",{d:"M12 18H3",key:"11ftsu"}]],Hf=J("ListMusic",qf);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wf=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],or=J("LoaderCircle",Wf);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yf=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Wa=J("Lock",Yf);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gf=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],mi=J("Mail",Gf);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kf=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],Zf=J("MessageCircle",Kf);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jf=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],_e=J("Music",Jf);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xf=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],Qf=J("Pause",Xf);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ep=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],pt=J("Play",ep);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tp=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],sp=J("Plus",tp);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rp=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],bs=J("RefreshCw",rp);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ap=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],sl=J("RotateCcw",ap);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const np=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],On=J("Save",np);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ip=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],fi=J("Search",ip);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const op=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],pi=J("Share2",op);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lp=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],rl=J("Shield",lp);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cp=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],ad=J("Sparkles",cp);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dp=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],al=J("SquarePen",dp);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const up=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],hp=J("Star",up);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mp=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],fp=J("Timer",mp);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pp=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Rn=J("Trash2",pp);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gp=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],nl=J("Upload",gp);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xp=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],bp=J("User",xp);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yp=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],il=J("Users",yp);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vp=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],mr=J("Video",vp);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wp=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],_p=J("VolumeX",wp);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jp=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ht=J("X",jp);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sp=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],Np=J("Youtube",Sp);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kp=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Tp=J("Zap",kp),no=()=>{const s=navigator.userAgent||navigator.vendor||window.opera;return/iPad|iPhone|iPod/.test(s)&&!window.MSStream},nd=()=>window.navigator.standalone===!0||window.matchMedia("(display-mode: standalone)").matches,Ep=()=>{const s=navigator.userAgent;return/Safari/.test(s)&&!/Chrome/.test(s)},Ya=()=>{const s=no(),e=nd(),t=localStorage.getItem("ios-tutorial-seen");return s&&!e&&!t};function Cp({onShowVisualGuide:s}){const[e,t]=h.useState(!1),[a,n]=h.useState(0),[i,o]=h.useState(!1),[l,c]=h.useState(!1);h.useEffect(()=>{const g=no(),v=nd();if(o(g),c(v),Ya()){const S=setTimeout(()=>{t(!0)},2e3);return()=>clearTimeout(S)}},[]);const d=[{title:"Adicionar Ã  tela inicial",description:"Clique no botÃ£o Compartilhar na parte inferior do seu navegador",icon:pi,arrow:Ko,arrowPosition:"bottom-20 right-4",highlight:"share-button"},{title:"Selecionar a opÃ§Ã£o",description:"Depois escolha 'Na tela inicial' no menu",icon:Gr,arrow:of,arrowPosition:"bottom-16 right-20",highlight:"add-to-home"},{title:"Confirmar a adiÃ§Ã£o",description:"Pressione 'Adicionar' para instalar o aplicativo",icon:Gr,arrow:Ko,arrowPosition:"bottom-12 right-16",highlight:"confirm-add"}],u=()=>{a<d.length-1?n(a+1):(t(!1),localStorage.setItem("ios-tutorial-seen","true"))},m=()=>{t(!1),localStorage.setItem("ios-tutorial-seen","true")},f=()=>{t(!1),localStorage.setItem("ios-tutorial-seen","true")};return!Ya()||!e?null:r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"fixed inset-0 bg-black/50 z-50",onClick:f}),r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl max-w-sm w-full mx-4 overflow-hidden",children:[r.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white p-6 text-center relative",children:[r.jsx("button",{onClick:f,className:"absolute top-4 right-4 p-2 rounded-full bg-white/20 hover:bg-white/30 transition-colors",children:r.jsx(ht,{className:"w-5 h-5"})}),r.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-4",children:(()=>{const g=d[a].icon;return r.jsx(g,{className:"w-8 h-8"})})()}),r.jsx("h2",{className:"text-xl font-bold mb-2",children:d[a].title}),r.jsx("p",{className:"text-blue-100 text-sm",children:d[a].description})]}),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"bg-gray-100 rounded-2xl p-4 mb-6 relative",children:[r.jsxs("div",{className:"bg-white rounded-xl p-3 mb-3 flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Safari"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-red-400 rounded-full"}),r.jsx("div",{className:"w-3 h-3 bg-yellow-400 rounded-full"}),r.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full"})]})]}),r.jsxs("div",{className:"bg-white rounded-xl p-3 flex items-center justify-between",children:[r.jsx("div",{className:"w-6 h-6 bg-gray-300 rounded"}),r.jsx("div",{className:"flex-1 mx-3 h-8 bg-gray-200 rounded-lg"}),r.jsx("div",{className:"w-6 h-6 bg-gray-300 rounded"})]}),r.jsx("div",{className:"bg-white rounded-xl p-3 mt-3 flex items-center justify-center",children:r.jsxs("div",{className:"flex items-center gap-2 text-blue-600",children:[r.jsx(pi,{className:"w-5 h-5"}),r.jsx("span",{className:"text-sm font-medium",children:"Compartilhar"})]})}),r.jsx("div",{className:`absolute ${d[a].arrowPosition} animate-bounce`,children:(()=>{const g=d[a].arrow;return r.jsx(g,{className:"w-8 h-8 text-blue-600 drop-shadow-lg"})})()})]}),r.jsx("div",{className:"flex justify-center gap-2 mb-6",children:d.map((g,v)=>r.jsx("div",{className:`w-2 h-2 rounded-full transition-colors ${v===a?"bg-blue-500":"bg-gray-300"}`},v))}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{onClick:m,className:"flex-1 py-3 px-4 text-gray-600 border border-gray-300 rounded-xl hover:bg-gray-50 transition-colors",children:"Ignorar"}),r.jsx("button",{onClick:u,className:"flex-1 py-3 px-4 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors font-medium",children:a===d.length-1?"Finalizar":"PrÃ³ximo"})]})]})]})}),r.jsx("div",{className:"fixed bottom-20 left-4 right-4 z-40 lg:hidden",children:r.jsx("div",{className:"bg-blue-600 text-white rounded-2xl p-4 shadow-lg border border-blue-500/20",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center",children:r.jsx(Gr,{className:"w-5 h-5"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-semibold text-sm",children:"Adicionar Ã  tela inicial"}),r.jsx("p",{className:"text-blue-100 text-xs",children:'Clique em Compartilhar e depois "Na tela inicial"'})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>t(!0),className:"bg-white/20 hover:bg-white/30 px-3 py-1 rounded-lg text-xs font-medium transition-colors",children:"Tutorial"}),r.jsx("button",{onClick:s,className:"bg-white/20 hover:bg-white/30 px-3 py-1 rounded-lg text-xs font-medium transition-colors",children:"Guia visual"})]})]})})})]})}const Ap=({message:s,type:e="info",duration:t=5e3,onClose:a})=>{const[n,i]=h.useState(!0);h.useEffect(()=>{if(t>0){const u=setTimeout(()=>{i(!1),setTimeout(()=>a==null?void 0:a(),300)},t);return()=>clearTimeout(u)}},[t,a]);const o=()=>{i(!1),setTimeout(()=>a==null?void 0:a(),300)},l={success:ro,error:_s,warning:_s,info:ao},c={success:"bg-green-500 border-green-600",error:"bg-red-500 border-red-600",warning:"bg-yellow-500 border-yellow-600",info:"bg-blue-500 border-blue-600"},d=l[e];return n?r.jsx("div",{className:`fixed top-4 right-4 z-50 transform transition-all duration-300 ${n?"translate-x-0 opacity-100":"translate-x-full opacity-0"}`,children:r.jsx("div",{className:`${c[e]} text-white rounded-lg shadow-lg border p-4 max-w-sm`,children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(d,{className:"w-5 h-5 mt-0.5 flex-shrink-0"}),r.jsx("div",{className:"flex-1",children:r.jsx("p",{className:"text-sm font-medium",children:s})}),r.jsx("button",{onClick:o,className:"text-white/80 hover:text-white transition-colors flex-shrink-0",children:r.jsx(ht,{className:"w-4 h-4"})})]})})}):null};function Op({isOpen:s,onClose:e}){const[t,a]=h.useState(0),[n,i]=h.useState(!1),o=[{title:"Passo 1: BotÃ£o Compartilhar",description:"Localize o botÃ£o Compartilhar na parte inferior do seu navegador Safari",image:"step1",highlight:"share-button"},{title:"Passo 2: Menu Compartilhar",description:"O menu Compartilhar abre com vÃ¡rias opÃ§Ãµes",image:"step2",highlight:"share-menu"},{title:"Passo 3: Na tela inicial",description:"Role e selecione 'Na tela inicial'",image:"step3",highlight:"add-to-home"},{title:"Passo 4: ConfirmaÃ§Ã£o",description:"Pressione 'Adicionar' para instalar o aplicativo",image:"step4",highlight:"confirm"}],l=()=>{t<o.length-1&&a(t+1)},c=()=>{t>0&&a(t-1)},d=()=>{if(i(!n),!n){const m=setInterval(()=>{a(f=>f>=o.length-1?(clearInterval(m),i(!1),f):f+1)},3e3)}},u=m=>r.jsxs("div",{className:"relative bg-gray-100 rounded-2xl p-6 mb-6",children:[r.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-lg",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4 text-xs text-gray-600",children:[r.jsx("span",{children:"9:41"}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-4 h-2 bg-gray-300 rounded-full"}),r.jsx("span",{children:"100%"})]})]}),r.jsx("div",{className:"bg-gray-200 rounded-lg p-2 mb-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded"}),r.jsx("span",{className:"text-xs text-gray-600",children:"musica-da-segunda.com"})]})}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:"h-4 bg-gray-300 rounded"}),r.jsx("div",{className:"h-3 bg-gray-200 rounded w-3/4"}),r.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]}),r.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded-full"}),r.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded-full"}),r.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded-full"}),r.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded-full"}),r.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded-full"})]})})]}),r.jsx("div",{className:"absolute bottom-4 right-4 bg-blue-500 text-white rounded-full p-3 shadow-lg",children:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"})})}),r.jsx("div",{className:"absolute bottom-16 right-4 animate-bounce",children:r.jsx("svg",{className:"w-8 h-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 10l7-7m0 0l7 7m-7-7v18"})})})]});return s?r.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[r.jsx("div",{className:"absolute inset-0 bg-black/60",onClick:e}),r.jsxs("div",{className:"relative bg-white rounded-3xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden",children:[r.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white p-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Guia de instalaÃ§Ã£o iOS"}),r.jsx("button",{onClick:e,className:"p-2 rounded-full bg-white/20 hover:bg-white/30 transition-colors",children:r.jsx(ht,{className:"w-6 h-6"})})]}),r.jsx("div",{className:"flex items-center gap-4 mt-4",children:r.jsxs("button",{onClick:d,className:"flex items-center gap-2 bg-white/20 hover:bg-white/30 px-4 py-2 rounded-lg transition-colors",children:[n?r.jsx(Qf,{className:"w-4 h-4"}):r.jsx(pt,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm",children:n?"Pausar":"ReproduÃ§Ã£o automÃ¡tica"})]})})]}),r.jsxs("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:[u(),r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:o[t].title}),r.jsx("p",{className:"text-gray-600",children:o[t].description})]}),r.jsx("div",{className:"flex justify-center gap-2 mb-6",children:o.map((m,f)=>r.jsx("div",{className:`w-3 h-3 rounded-full transition-colors ${f===t?"bg-blue-500":"bg-gray-300"}`},f))}),r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("button",{onClick:c,disabled:t===0,className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${t===0?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-blue-500 text-white hover:bg-blue-600"}`,children:[r.jsx(hr,{className:"w-4 h-4"}),"Anterior"]}),r.jsxs("button",{onClick:l,disabled:t===o.length-1,className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${t===o.length-1?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-blue-500 text-white hover:bg-blue-600"}`,children:["PrÃ³ximo",r.jsx(rd,{className:"w-4 h-4"})]})]})]})]})]}):null}function Rp(){const[s,e]=h.useState(!1),[t,a]=h.useState(""),[n,i]=h.useState("info"),[o,l]=h.useState(!1);h.useEffect(()=>{if(Ya()){const d=setTimeout(()=>{no()&&Ep()&&(a('ðŸ’¡ Dica: Adicione este app Ã  sua tela inicial para uma experiÃªncia melhor! Clique em "Tutorial" para ver o guia completo.'),i("info"),e(!0))},3e3);return()=>clearTimeout(d)}},[]);const c=()=>{e(!1)};return Ya()?r.jsxs(r.Fragment,{children:[r.jsx(Cp,{onShowVisualGuide:()=>l(!0)}),s&&r.jsx(Ap,{message:t,type:n,duration:8e3,onClose:c}),r.jsx(Op,{isOpen:o,onClose:()=>l(!1)})]}):null}function ta(o){var l=o,{src:s,alt:e,className:t="",loading:a="lazy",decoding:n="async"}=l,i=L(l,["src","alt","className","loading","decoding"]);const[c,d]=h.useState(!1),m=(v=>{if(!v||v.startsWith("http://")||v.startsWith("https://"))return null;const S=v.replace(/\.(jpg|jpeg|png)$/i,".webp");return S!==v?S:null})(s),f=s,g=()=>{d(!0)};return c?r.jsx("div",{className:`bg-gray-200 flex items-center justify-center ${t}`,role:"img","aria-label":e,children:r.jsx("span",{className:"text-gray-400 text-sm",children:"Imagem nÃ£o disponÃ­vel"})}):m?r.jsxs("picture",{children:[r.jsx("source",{srcSet:`${m} 1x`,type:"image/webp"}),r.jsx("img",p({src:f,alt:e,className:t,loading:a,decoding:n,onError:g},i))]}):r.jsx("img",p({src:f,alt:e,className:t,loading:a,decoding:n,onError:g},i))}function Pp({children:s}){const e=cs(),t=[{name:"InÃ­cio",url:Ks("Home"),icon:Gr},{name:"CalendÃ¡rio",url:Ks("Calendar"),icon:Dt},{name:"Playlist",url:Ks("Playlist"),icon:Hf},{name:"Blog",url:Ks("Blog"),icon:Ht},{name:"Ano 2025",url:Ks("AdventCalendar"),icon:hi},{name:"Sobre",url:Ks("Sobre"),icon:ao}],a=n=>n.name==="InÃ­cio"&&e.pathname==="/"?!0:e.pathname===n.url;return r.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-teal-200 to-rose-200",children:[r.jsx("a",{href:"#main",className:"skip-link",children:"Ir para o conteÃºdo"}),r.jsx("header",{className:"hidden lg:block bg-white/90 backdrop-blur-lg border-b border-white/50 shadow-lg sticky top-0 z-40",children:r.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(Yr,{to:"/",className:"w-12 h-12 rounded-full overflow-hidden border-2 border-white/20 shadow-lg flex-shrink-0",children:r.jsx(ta,{src:"images/Musica da segunda.jpg",alt:"Logo MÃºsica da Segunda",className:"w-full h-full object-cover",loading:"lazy"})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-black text-gray-800 leading-tight",children:"A MÃºsica da Segunda"}),r.jsx("p",{className:"text-xs text-gray-600 mt-0.5",children:"Site oficial de parÃ³dias musicais inteligentes e divertidas"})]})]}),r.jsx("nav",{className:"flex items-center gap-1","aria-label":"Navigation principale",children:t.map(n=>r.jsxs(Yr,{to:n.url,"aria-current":a(n)?"page":void 0,className:`flex items-center gap-2 px-4 py-2 rounded-xl transition-all duration-300 font-medium ${a(n)?"bg-[#32a2dc] text-white shadow-md":"text-gray-600 hover:text-gray-800 hover:bg-gray-100"}`,children:[r.jsx(n.icon,{className:"w-4 h-4","aria-hidden":"true"}),r.jsx("span",{children:n.name})]},n.name))})]})})}),r.jsx("main",{id:"main",className:"lg:pb-0 pb-28 relative z-10",children:s}),r.jsx("nav",{className:"lg:hidden fixed bottom-4 left-1/2 -translate-x-1/2 w-[calc(100%-2rem)] max-w-2xl bg-white/80 backdrop-blur-lg rounded-3xl shadow-xl border border-white/50 z-50","aria-label":"Navigation mobile",children:r.jsx("div",{className:"flex gap-1 p-1",children:t.map(n=>r.jsxs(Yr,{to:n.url,"aria-current":a(n)?"page":void 0,className:`flex flex-col items-center justify-center py-3 px-2 rounded-3xl transition-all duration-300 flex-1 min-w-0 ${a(n)?"bg-[#32a2dc] text-white shadow-lg transform scale-105":"text-gray-500 hover:text-gray-700 hover:bg-white/60"}`,children:[r.jsx(n.icon,{className:"w-5 h-5 mb-1 flex-shrink-0","aria-hidden":"true"}),r.jsx("span",{className:"text-xs font-bold text-center leading-tight truncate",children:n.name})]},n.name))})}),r.jsx(Rp,{})]})}const Ip=s=>{let e;return s?e=s:typeof fetch=="undefined"?e=(...t)=>Mt(()=>b(null,null,function*(){const{default:a}=yield Promise.resolve().then(()=>Fs);return{default:a}}),[]).then(({default:a})=>a(...t)):e=fetch,(...t)=>e(...t)};class io extends Error{constructor(e,t="FunctionsError",a){super(e),this.name=t,this.context=a}}class ol extends io{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class ll extends io{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class cl extends io{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var gi;(function(s){s.Any="any",s.ApNortheast1="ap-northeast-1",s.ApNortheast2="ap-northeast-2",s.ApSouth1="ap-south-1",s.ApSoutheast1="ap-southeast-1",s.ApSoutheast2="ap-southeast-2",s.CaCentral1="ca-central-1",s.EuCentral1="eu-central-1",s.EuWest1="eu-west-1",s.EuWest2="eu-west-2",s.EuWest3="eu-west-3",s.SaEast1="sa-east-1",s.UsEast1="us-east-1",s.UsWest1="us-west-1",s.UsWest2="us-west-2"})(gi||(gi={}));class Mp{constructor(e,{headers:t={},customFetch:a,region:n=gi.Any}={}){this.url=e,this.headers=t,this.region=n,this.fetch=Ip(a)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Z(this,arguments,void 0,function*(t,a={}){var n;try{const{headers:i,method:o,body:l,signal:c}=a;let d={},{region:u}=a;u||(u=this.region);const m=new URL(`${this.url}/${t}`);u&&u!=="any"&&(d["x-region"]=u,m.searchParams.set("forceFunctionRegion",u));let f;l&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?typeof Blob!="undefined"&&l instanceof Blob||l instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",f=l):typeof l=="string"?(d["Content-Type"]="text/plain",f=l):typeof FormData!="undefined"&&l instanceof FormData?f=l:(d["Content-Type"]="application/json",f=JSON.stringify(l)):f=l;const g=yield this.fetch(m.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),i),body:f,signal:c}).catch(E=>{throw E.name==="AbortError"?E:new ol(E)}),v=g.headers.get("x-relay-error");if(v&&v==="true")throw new ll(g);if(!g.ok)throw new cl(g);let S=((n=g.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),y;return S==="application/json"?y=yield g.json():S==="application/octet-stream"||S==="application/pdf"?y=yield g.blob():S==="text/event-stream"?y=g:S==="multipart/form-data"?y=yield g.formData():y=yield g.text(),{data:y,error:null,response:g}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new ol(i)}:{data:null,error:i,response:i instanceof cl||i instanceof ll?i.context:void 0}}})}}var et={};const _r=Dc(ih);var ja={},Sa={},Na={},ka={},Ta={},Dp=function(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global;throw new Error("unable to locate global object")},fr=Dp();const Lp=fr.fetch,id=fr.fetch.bind(fr),od=fr.Headers,$p=fr.Request,Up=fr.Response,Fs=Object.freeze(Object.defineProperty({__proto__:null,Headers:od,Request:$p,Response:Up,default:id,fetch:Lp},Symbol.toStringTag,{value:"Module"})),Bp=Dc(Fs);var Ea={},dl;function ld(){if(dl)return Ea;dl=1,Object.defineProperty(Ea,"__esModule",{value:!0});class s extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}return Ea.default=s,Ea}var ul;function cd(){if(ul)return Ta;ul=1,Object.defineProperty(Ta,"__esModule",{value:!0});const s=_r,e=s.__importDefault(Bp),t=s.__importDefault(ld());class a{constructor(i){var o,l;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(o=i.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=i.signal,this.isMaybeSingle=(l=i.isMaybeSingle)!==null&&l!==void 0?l:!1,i.fetch?this.fetch=i.fetch:typeof fetch=="undefined"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=new Headers(this.headers),this.headers.set(i,o),this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let c=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(d=>b(this,null,function*(){var u,m,f,g;let v=null,S=null,y=null,E=d.status,k=d.statusText;if(d.ok){if(this.method!=="HEAD"){const C=yield d.text();C===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?S=C:S=JSON.parse(C))}const w=(m=this.headers.get("Prefer"))===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),N=(f=d.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");w&&N&&N.length>1&&(y=parseInt(N[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(S)&&(S.length>1?(v={code:"PGRST116",details:`Results contain ${S.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},S=null,y=null,E=406,k="Not Acceptable"):S.length===1?S=S[0]:S=null)}else{const w=yield d.text();try{v=JSON.parse(w),Array.isArray(v)&&d.status===404&&(S=[],v=null,E=200,k="OK")}catch(N){d.status===404&&w===""?(E=204,k="No Content"):v={message:w}}if(v&&this.isMaybeSingle&&(!((g=v==null?void 0:v.details)===null||g===void 0)&&g.includes("0 rows"))&&(v=null,E=200,k="OK"),v&&this.shouldThrowOnError)throw new t.default(v)}return{error:v,data:S,count:y,status:E,statusText:k}}));return this.shouldThrowOnError||(c=c.catch(d=>{var u,m,f;return{error:{message:`${(u=d==null?void 0:d.name)!==null&&u!==void 0?u:"FetchError"}: ${d==null?void 0:d.message}`,details:`${(m=d==null?void 0:d.stack)!==null&&m!==void 0?m:""}`,hint:"",code:`${(f=d==null?void 0:d.code)!==null&&f!==void 0?f:""}`},data:null,count:null,status:0,statusText:""}})),c.then(i,o)}returns(){return this}overrideTypes(){return this}}return Ta.default=a,Ta}var hl;function dd(){if(hl)return ka;hl=1,Object.defineProperty(ka,"__esModule",{value:!0});const e=_r.__importDefault(cd());class t extends e.default{select(n){let i=!1;const o=(n!=null?n:"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(n,{ascending:i=!0,nullsFirst:o,foreignTable:l,referencedTable:c=l}={}){const d=c?`${c}.order`:"order",u=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${u?`${u},`:""}${n}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:i,referencedTable:o=i}={}){const l=typeof o=="undefined"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${n}`),this}range(n,i,{foreignTable:o,referencedTable:l=o}={}){const c=typeof l=="undefined"?"offset":`${l}.offset`,d=typeof l=="undefined"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${n}`),this.url.searchParams.set(d,`${i-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:n=!1,verbose:i=!1,settings:o=!1,buffers:l=!1,wal:c=!1,format:d="text"}={}){var u;const m=[n?"analyze":null,i?"verbose":null,o?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),f=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${f}"; options=${m};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(n){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${n}`),this}}return ka.default=t,ka}var ml;function oo(){if(ml)return Na;ml=1,Object.defineProperty(Na,"__esModule",{value:!0});const e=_r.__importDefault(dd());class t extends e.default{eq(n,i){return this.url.searchParams.append(n,`eq.${i}`),this}neq(n,i){return this.url.searchParams.append(n,`neq.${i}`),this}gt(n,i){return this.url.searchParams.append(n,`gt.${i}`),this}gte(n,i){return this.url.searchParams.append(n,`gte.${i}`),this}lt(n,i){return this.url.searchParams.append(n,`lt.${i}`),this}lte(n,i){return this.url.searchParams.append(n,`lte.${i}`),this}like(n,i){return this.url.searchParams.append(n,`like.${i}`),this}likeAllOf(n,i){return this.url.searchParams.append(n,`like(all).{${i.join(",")}}`),this}likeAnyOf(n,i){return this.url.searchParams.append(n,`like(any).{${i.join(",")}}`),this}ilike(n,i){return this.url.searchParams.append(n,`ilike.${i}`),this}ilikeAllOf(n,i){return this.url.searchParams.append(n,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(n,i){return this.url.searchParams.append(n,`ilike(any).{${i.join(",")}}`),this}is(n,i){return this.url.searchParams.append(n,`is.${i}`),this}in(n,i){const o=Array.from(new Set(i)).map(l=>typeof l=="string"&&new RegExp("[,()]").test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(n,`in.(${o})`),this}contains(n,i){return typeof i=="string"?this.url.searchParams.append(n,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(n,`cs.{${i.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(i)}`),this}containedBy(n,i){return typeof i=="string"?this.url.searchParams.append(n,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(n,`cd.{${i.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(i)}`),this}rangeGt(n,i){return this.url.searchParams.append(n,`sr.${i}`),this}rangeGte(n,i){return this.url.searchParams.append(n,`nxl.${i}`),this}rangeLt(n,i){return this.url.searchParams.append(n,`sl.${i}`),this}rangeLte(n,i){return this.url.searchParams.append(n,`nxr.${i}`),this}rangeAdjacent(n,i){return this.url.searchParams.append(n,`adj.${i}`),this}overlaps(n,i){return typeof i=="string"?this.url.searchParams.append(n,`ov.${i}`):this.url.searchParams.append(n,`ov.{${i.join(",")}}`),this}textSearch(n,i,{config:o,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const d=o===void 0?"":`(${o})`;return this.url.searchParams.append(n,`${c}fts${d}.${i}`),this}match(n){return Object.entries(n).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(n,i,o){return this.url.searchParams.append(n,`not.${i}.${o}`),this}or(n,{foreignTable:i,referencedTable:o=i}={}){const l=o?`${o}.or`:"or";return this.url.searchParams.append(l,`(${n})`),this}filter(n,i,o){return this.url.searchParams.append(n,`${i}.${o}`),this}}return Na.default=t,Na}var fl;function ud(){if(fl)return Sa;fl=1,Object.defineProperty(Sa,"__esModule",{value:!0});const e=_r.__importDefault(oo());class t{constructor(n,{headers:i={},schema:o,fetch:l}){this.url=n,this.headers=new Headers(i),this.schema=o,this.fetch=l}select(n,i){const{head:o=!1,count:l}=i!=null?i:{},c=o?"HEAD":"GET";let d=!1;const u=(n!=null?n:"*").split("").map(m=>/\s/.test(m)&&!d?"":(m==='"'&&(d=!d),m)).join("");return this.url.searchParams.set("select",u),l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(n,{count:i,defaultToNull:o=!0}={}){var l;const c="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(n)){const d=n.reduce((u,m)=>u.concat(Object.keys(m)),[]);if(d.length>0){const u=[...new Set(d)].map(m=>`"${m}"`);this.url.searchParams.set("columns",u.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(n,{onConflict:i,ignoreDuplicates:o=!1,count:l,defaultToNull:c=!0}={}){var d;const u="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(n)){const m=n.reduce((f,g)=>f.concat(Object.keys(g)),[]);if(m.length>0){const f=[...new Set(m)].map(g=>`"${g}"`);this.url.searchParams.set("columns",f.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(n,{count:i}={}){var o;const l="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:n}={}){var i;const o="DELETE";return n&&this.headers.append("Prefer",`count=${n}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return Sa.default=t,Sa}var pl;function Vp(){if(pl)return ja;pl=1,Object.defineProperty(ja,"__esModule",{value:!0});const s=_r,e=s.__importDefault(ud()),t=s.__importDefault(oo());class a{constructor(i,{headers:o={},schema:l,fetch:c}={}){this.url=i,this.headers=new Headers(o),this.schemaName=l,this.fetch=c}from(i){const o=new URL(`${this.url}/${i}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new a(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:l=!1,get:c=!1,count:d}={}){var u;let m;const f=new URL(`${this.url}/rpc/${i}`);let g;l||c?(m=l?"HEAD":"GET",Object.entries(o).filter(([S,y])=>y!==void 0).map(([S,y])=>[S,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([S,y])=>{f.searchParams.append(S,y)})):(m="POST",g=o);const v=new Headers(this.headers);return d&&v.set("Prefer",`count=${d}`),new t.default({method:m,url:f,headers:v,schema:this.schemaName,body:g,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return ja.default=a,ja}var gl;function Fp(){if(gl)return et;gl=1,Object.defineProperty(et,"__esModule",{value:!0}),et.PostgrestError=et.PostgrestBuilder=et.PostgrestTransformBuilder=et.PostgrestFilterBuilder=et.PostgrestQueryBuilder=et.PostgrestClient=void 0;const s=_r,e=s.__importDefault(Vp());et.PostgrestClient=e.default;const t=s.__importDefault(ud());et.PostgrestQueryBuilder=t.default;const a=s.__importDefault(oo());et.PostgrestFilterBuilder=a.default;const n=s.__importDefault(dd());et.PostgrestTransformBuilder=n.default;const i=s.__importDefault(cd());et.PostgrestBuilder=i.default;const o=s.__importDefault(ld());return et.PostgrestError=o.default,et.default={PostgrestClient:e.default,PostgrestQueryBuilder:t.default,PostgrestFilterBuilder:a.default,PostgrestTransformBuilder:n.default,PostgrestBuilder:i.default,PostgrestError:o.default},et}var zp=Fp();const qp=ca(zp),{PostgrestClient:Hp,PostgrestQueryBuilder:uw,PostgrestFilterBuilder:hw,PostgrestTransformBuilder:mw,PostgrestBuilder:fw,PostgrestError:pw}=qp;class Wp{static detectEnvironment(){var e;if(typeof WebSocket!="undefined")return{type:"native",constructor:WebSocket};if(typeof globalThis!="undefined"&&typeof globalThis.WebSocket!="undefined")return{type:"native",constructor:globalThis.WebSocket};if(typeof global!="undefined"&&typeof global.WebSocket!="undefined")return{type:"native",constructor:global.WebSocket};if(typeof globalThis!="undefined"&&typeof globalThis.WebSocketPair!="undefined"&&typeof globalThis.WebSocket=="undefined")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis!="undefined"&&globalThis.EdgeRuntime||typeof navigator!="undefined"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process!="undefined"){const t=process.versions;if(t&&t.node){const a=t.node,n=parseInt(a.replace(/^v/,"").split(".")[0]);return n>=22?typeof globalThis.WebSocket!="undefined"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${n} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){const a=this.getWebSocketConstructor();return new a(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch(e){return!1}}}const Yp="2.76.1",Gp=`realtime-js/${Yp}`,Kp="1.0.0",xi=1e4,Zp=1e3,Jp=100;var Kr;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(Kr||(Kr={}));var He;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})(He||(He={}));var At;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(At||(At={}));var bi;(function(s){s.websocket="websocket"})(bi||(bi={}));var Is;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(Is||(Is={}));class Xp{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),a=new TextDecoder;return this._decodeBroadcast(e,t,a)}_decodeBroadcast(e,t,a){const n=t.getUint8(1),i=t.getUint8(2);let o=this.HEADER_LENGTH+2;const l=a.decode(e.slice(o,o+n));o=o+n;const c=a.decode(e.slice(o,o+i));o=o+i;const d=JSON.parse(a.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:c,payload:d}}}class hd{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ce;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})(Ce||(Ce={}));const xl=(s,e,t={})=>{var a;const n=(a=t.skipTypes)!==null&&a!==void 0?a:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=Qp(o,s,e,n),i),{}):{}},Qp=(s,e,t,a)=>{const n=e.find(l=>l.name===s),i=n==null?void 0:n.type,o=t[s];return i&&!a.includes(i)?md(i,o):yi(o)},md=(s,e)=>{if(s.charAt(0)==="_"){const t=s.slice(1,s.length);return rg(e,t)}switch(s){case Ce.bool:return eg(e);case Ce.float4:case Ce.float8:case Ce.int2:case Ce.int4:case Ce.int8:case Ce.numeric:case Ce.oid:return tg(e);case Ce.json:case Ce.jsonb:return sg(e);case Ce.timestamp:return ag(e);case Ce.abstime:case Ce.date:case Ce.daterange:case Ce.int4range:case Ce.int8range:case Ce.money:case Ce.reltime:case Ce.text:case Ce.time:case Ce.timestamptz:case Ce.timetz:case Ce.tsrange:case Ce.tstzrange:return yi(e);default:return yi(e)}},yi=s=>s,eg=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},tg=s=>{if(typeof s=="string"){const e=parseFloat(s);if(!Number.isNaN(e))return e}return s},sg=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch(e){return console.log(`JSON parse error: ${e}`),s}return s},rg=(s,e)=>{if(typeof s!="string")return s;const t=s.length-1,a=s[t];if(s[0]==="{"&&a==="}"){let i;const o=s.slice(1,t);try{i=JSON.parse("["+o+"]")}catch(l){i=o?o.split(","):[]}return i.map(l=>md(e,l))}return s},ag=s=>typeof s=="string"?s.replace(" ","T"):s,fd=s=>{const e=new URL(s);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Pn{constructor(e,t,a={},n=xi){this.channel=e,this.event=t,this.payload=a,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var a;return this._hasReceived(e)&&t((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(a=>a.status===e).forEach(a=>a.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var bl;(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})(bl||(bl={}));class Zr{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},n=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Zr.syncState(this.state,n,i,o),this.pendingDiffs.forEach(c=>{this.state=Zr.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(a.diff,{},n=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=Zr.syncDiff(this.state,n,i,o),l())}),this.onJoin((n,i,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:o})}),this.onLeave((n,i,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,a,n){const i=this.cloneDeep(e),o=this.transformState(t),l={},c={};return this.map(i,(d,u)=>{o[d]||(c[d]=u)}),this.map(o,(d,u)=>{const m=i[d];if(m){const f=u.map(y=>y.presence_ref),g=m.map(y=>y.presence_ref),v=u.filter(y=>g.indexOf(y.presence_ref)<0),S=m.filter(y=>f.indexOf(y.presence_ref)<0);v.length>0&&(l[d]=v),S.length>0&&(c[d]=S)}else l[d]=u}),this.syncDiff(i,{joins:l,leaves:c},a,n)}static syncDiff(e,t,a,n){const{joins:i,leaves:o}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return a||(a=()=>{}),n||(n=()=>{}),this.map(i,(l,c)=>{var d;const u=(d=e[l])!==null&&d!==void 0?d:[];if(e[l]=this.cloneDeep(c),u.length>0){const m=e[l].map(g=>g.presence_ref),f=u.filter(g=>m.indexOf(g.presence_ref)<0);e[l].unshift(...f)}a(l,u,c)}),this.map(o,(l,c)=>{let d=e[l];if(!d)return;const u=c.map(m=>m.presence_ref);d=d.filter(m=>u.indexOf(m.presence_ref)<0),e[l]=d,n(l,d,c),d.length===0&&delete e[l]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(a=>t(a,e[a]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,a)=>{const n=e[a];return"metas"in n?t[a]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):t[a]=n,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var yl;(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})(yl||(yl={}));var Jr;(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes",s.SYSTEM="system"})(Jr||(Jr={}));var ts;(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})(ts||(ts={}));class lo{constructor(e,t={config:{}},a){var n,i;if(this.topic=e,this.params=t,this.socket=a,this.bindings={},this.state=He.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Pn(this,At.join,this.params,this.timeout),this.rejoinTimer=new hd(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=He.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=He.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=He.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=He.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=He.errored,this.rejoinTimer.scheduleTimeout())}),this._on(At.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new Zr(this),this.broadcastEndpointURL=fd(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(n=this.params.config)===null||n===void 0?void 0:n.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){var a,n,i;if(this.socket.isConnected()||this.socket.connect(),this.state==He.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,d=(n=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(g=>g.filter))!==null&&n!==void 0?n:[],u=!!this.bindings[Jr.PRESENCE]&&this.bindings[Jr.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,m={},f={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:u}),postgres_changes:d,private:c};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(g=>e==null?void 0:e(ts.CHANNEL_ERROR,g)),this._onClose(()=>e==null?void 0:e(ts.CLOSED)),this.updateJoinPayload(Object.assign({config:f},m)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",v=>b(this,[v],function*({postgres_changes:g}){var S;if(this.socket.setAuth(),g===void 0){e==null||e(ts.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,E=(S=y==null?void 0:y.length)!==null&&S!==void 0?S:0,k=[];for(let x=0;x<E;x++){const w=y[x],{filter:{event:N,schema:C,table:O,filter:F}}=w,q=g&&g[x];if(q&&q.event===N&&q.schema===C&&q.table===O&&q.filter===F)k.push(Object.assign(Object.assign({},w),{id:q.id}));else{this.unsubscribe(),this.state=He.errored,e==null||e(ts.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=k,e&&e(ts.SUBSCRIBED);return}})).receive("error",g=>{this.state=He.errored,e==null||e(ts.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ts.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(a){return b(this,arguments,function*(e,t={}){return yield this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)})}untrack(){return b(this,arguments,function*(e={}){return yield this.send({type:"presence",event:"untrack"},e)})}on(e,t,a){return this.state===He.joined&&e===Jr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,a)}httpSend(n,i){return b(this,arguments,function*(e,t,a={}){var o;const l=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(t==null)return Promise.reject("Payload is required for httpSend()");const c={method:"POST",headers:{Authorization:l,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},d=yield this._fetchWithTimeout(this.broadcastEndpointURL,c,(o=a.timeout)!==null&&o!==void 0?o:this.timeout);if(d.status===202)return{success:!0};let u=d.statusText;try{const m=yield d.json();u=m.error||m.message||u}catch(m){}return Promise.reject(new Error(u))})}send(a){return b(this,arguments,function*(e,t={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:l}=e,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:l,private:this.private}]})};try{const u=yield this._fetchWithTimeout(this.broadcastEndpointURL,d,(n=t.timeout)!==null&&n!==void 0?n:this.timeout);return yield(i=u.body)===null||i===void 0?void 0:i.cancel(),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var l,c,d;const u=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((d=(c=(l=this.params)===null||l===void 0?void 0:l.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=He.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(At.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(n=>{a=new Pn(this,At.leave,{},e),a.receive("ok",()=>{t(),n("ok")}).receive("timeout",()=>{t(),n("timed out")}).receive("error",()=>{n("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a==null||a.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=He.closed,this.bindings={}}_fetchWithTimeout(e,t,a){return b(this,null,function*(){const n=new AbortController,i=setTimeout(()=>n.abort(),a),o=yield this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:n.signal}));return clearTimeout(i),o})}_push(e,t,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new Pn(this,e,t,a);return this._canPush()?n.send():this._addToPushBuffer(n),n}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Jp){const t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,a){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,a){var n,i;const o=e.toLocaleLowerCase(),{close:l,error:c,leave:d,join:u}=At;if(a&&[l,c,d,u].indexOf(o)>=0&&a!==this._joinRef())return;let f=this._onMessage(o,t,a);if(t&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(g=>{var v,S,y;return((v=g.filter)===null||v===void 0?void 0:v.event)==="*"||((y=(S=g.filter)===null||S===void 0?void 0:S.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(g=>g.callback(f,a)):(i=this.bindings[o])===null||i===void 0||i.filter(g=>{var v,S,y,E,k,x;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const w=g.id,N=(v=g.filter)===null||v===void 0?void 0:v.event;return w&&((S=t.ids)===null||S===void 0?void 0:S.includes(w))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((y=t.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const w=(k=(E=g==null?void 0:g.filter)===null||E===void 0?void 0:E.event)===null||k===void 0?void 0:k.toLocaleLowerCase();return w==="*"||w===((x=t==null?void 0:t.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof f=="object"&&"ids"in f){const v=f.data,{schema:S,table:y,commit_timestamp:E,type:k,errors:x}=v;f=Object.assign(Object.assign({},{schema:S,table:y,commit_timestamp:E,eventType:k,new:{},old:{},errors:x}),this._getPayloadRecords(v))}g.callback(f,a)})}_isClosed(){return this.state===He.closed}_isJoined(){return this.state===He.joined}_isJoining(){return this.state===He.joining}_isLeaving(){return this.state===He.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,a){const n=e.toLocaleLowerCase(),i={type:n,filter:t,callback:a};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(e,t){const a=e.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===a&&lo.isEqual(n.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const a in e)if(e[a]!==t[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(At.close,{},e)}_onError(e){this._on(At.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=He.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=xl(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=xl(e.columns,e.old_record)),t}}const In=()=>{},Ca={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},ng=[1e3,2e3,5e3,1e4],ig=1e4,og=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class lg{constructor(e,t){var a;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=xi,this.transport=null,this.heartbeatIntervalMs=Ca.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=In,this.ref=0,this.reconnectTimer=null,this.logger=In,this.conn=null,this.sendBuffer=[],this.serializer=new Xp,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=n=>{let i;return n?i=n:typeof fetch=="undefined"?i=(...o)=>Mt(()=>b(this,null,function*(){const{default:l}=yield Promise.resolve().then(()=>Fs);return{default:l}}),void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((a=t==null?void 0:t.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${bi.websocket}`,this.httpEndpoint=fd(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t==null?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Wp.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Kp}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},e?this.conn.close(e,t!=null?t:""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}removeChannel(e){return b(this,null,function*(){const t=yield e.unsubscribe();return this.channels.length===0&&this.disconnect(),t})}removeAllChannels(){return b(this,null,function*(){const e=yield Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e})}log(e,t,a){this.logger(e,t,a)}connectionState(){switch(this.conn&&this.conn.readyState){case Kr.connecting:return Is.Connecting;case Kr.open:return Is.Open;case Kr.closing:return Is.Closing;default:return Is.Closed}}isConnected(){return this.connectionState()===Is.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){const a=`realtime:${e}`,n=this.getChannels().find(i=>i.topic===a);if(n)return n;{const i=new lo(`realtime:${e}`,t,this);return this.channels.push(i),i}}push(e){const{topic:t,event:a,payload:n,ref:i}=e,o=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${t} ${a} (${i})`,n),this.isConnected()?o():this.sendBuffer.push(o)}setAuth(e=null){return b(this,null,function*(){this._authPromise=this._performAuth(e);try{yield this._authPromise}finally{this._authPromise=null}})}sendHeartbeat(){return b(this,null,function*(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Zp,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},Ca.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")})}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(a=>a.topic===e&&(a._isJoined()||a._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{if(t.topic==="phoenix"&&t.event==="phx_reply")try{this.heartbeatCallback(t.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}t.ref&&t.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:n,payload:i,ref:o}=t,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${a} ${n} ${l}`.trim(),i),this.channels.filter(d=>d._isMember(a)).forEach(d=>d._trigger(n,i,o)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(At.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const a=e.match(/\?/)?"&":"?",n=new URLSearchParams(t);return`${e}${a}${n}`}_workerObjectUrl(e){let t;if(e)t=e;else{const a=new Blob([og],{type:"application/javascript"});t=URL.createObjectURL(a)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}_performAuth(e=null){return b(this,null,function*(){let t;e?t=e:this.accessToken?t=yield this.accessToken():t=this.accessTokenValue,this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(a=>{const n={access_token:t,version:Gp};t&&a.updateJoinPayload(n),a.joinedOnce&&a._isJoined()&&a._push(At.access_token,{access_token:t})}))})}_waitForAuthIfNeeded(){return b(this,null,function*(){this._authPromise&&(yield this._authPromise)})}_setAuthSafely(e="general"){this.setAuth().catch(t=>{this.log("error",`error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(a=>{try{a(t)}catch(n){this.log("error",`error in ${e} callback`,n)}})}catch(a){this.log("error",`error triggering ${e} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new hd(()=>b(this,null,function*(){setTimeout(()=>b(this,null,function*(){yield this._waitForAuthIfNeeded(),this.isConnected()||this.connect()}),Ca.RECONNECT_DELAY)}),this.reconnectAfterMs)}_initializeOptions(e){var t,a,n,i,o,l,c,d,u;if(this.transport=(t=e==null?void 0:e.transport)!==null&&t!==void 0?t:null,this.timeout=(a=e==null?void 0:e.timeout)!==null&&a!==void 0?a:xi,this.heartbeatIntervalMs=(n=e==null?void 0:e.heartbeatIntervalMs)!==null&&n!==void 0?n:Ca.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=e==null?void 0:e.heartbeatCallback)!==null&&l!==void 0?l:In,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:(m=>ng[m-1]||ig),this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:((m,f)=>f(JSON.stringify(m))),this.decode=(u=e==null?void 0:e.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window!="undefined"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class co extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Pe(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}class cg extends co{constructor(e,t,a){super(e),this.name="StorageApiError",this.status=t,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class vi extends co{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}const uo=s=>{let e;return s?e=s:typeof fetch=="undefined"?e=(...t)=>Mt(()=>b(null,null,function*(){const{default:a}=yield Promise.resolve().then(()=>Fs);return{default:a}}),void 0).then(({default:a})=>a(...t)):e=fetch,(...t)=>e(...t)},dg=()=>Z(void 0,void 0,void 0,function*(){return typeof Response=="undefined"?(yield Mt(()=>Promise.resolve().then(()=>Fs),void 0)).Response:Response}),wi=s=>{if(Array.isArray(s))return s.map(t=>wi(t));if(typeof s=="function"||s!==Object(s))return s;const e={};return Object.entries(s).forEach(([t,a])=>{const n=t.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[n]=wi(a)}),e},ug=s=>{if(typeof s!="object"||s===null)return!1;const e=Object.getPrototypeOf(s);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},Mn=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),hg=(s,e,t)=>Z(void 0,void 0,void 0,function*(){const a=yield dg();s instanceof a&&!(t!=null&&t.noResolveJson)?s.json().then(n=>{const i=s.status||500,o=(n==null?void 0:n.statusCode)||i+"";e(new cg(Mn(n),i,o))}).catch(n=>{e(new vi(Mn(n),n))}):e(new vi(Mn(s),s))}),mg=(s,e,t,a)=>{const n={method:s,headers:(e==null?void 0:e.headers)||{}};return s==="GET"||!a?n:(ug(a)?(n.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n.body=JSON.stringify(a)):n.body=a,e!=null&&e.duplex&&(n.duplex=e.duplex),Object.assign(Object.assign({},n),t))};function ma(s,e,t,a,n,i){return Z(this,void 0,void 0,function*(){return new Promise((o,l)=>{s(t,mg(e,a,n,i)).then(c=>{if(!c.ok)throw c;return a!=null&&a.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>hg(c,l,a))})})}function sa(s,e,t,a){return Z(this,void 0,void 0,function*(){return ma(s,"GET",e,t,a)})}function Ct(s,e,t,a,n){return Z(this,void 0,void 0,function*(){return ma(s,"POST",e,a,n,t)})}function _i(s,e,t,a,n){return Z(this,void 0,void 0,function*(){return ma(s,"PUT",e,a,n,t)})}function fg(s,e,t,a){return Z(this,void 0,void 0,function*(){return ma(s,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),a)})}function ho(s,e,t,a,n){return Z(this,void 0,void 0,function*(){return ma(s,"DELETE",e,a,n,t)})}class pg{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}execute(){return Z(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Pe(e))return{data:null,error:e};throw e}})}}var pd;class gg{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[pd]="BlobDownloadBuilder",this.promise=null}asStream(){return new pg(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Z(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Pe(e))return{data:null,error:e};throw e}})}}pd=Symbol.toStringTag;const xg={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},vl={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class bg{constructor(e,t={},a,n){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=a,this.fetch=uo(n)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,t,a,n){return Z(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},vl),n);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob!="undefined"&&a instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",a)):typeof FormData!="undefined"&&a instanceof FormData?(i=a,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=a,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),n!=null&&n.headers&&(l=Object.assign(Object.assign({},l),n.headers));const d=this._removeEmptyFolders(t),u=this._getFinalPath(d),m=yield(e=="PUT"?_i:Ct)(this.fetch,`${this.url}/object/${u}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:d,id:m.Id,fullPath:m.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Pe(i))return{data:null,error:i};throw i}})}upload(e,t,a){return Z(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,a)})}uploadToSignedUrl(e,t,a,n){return Z(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",t);try{let c;const d=Object.assign({upsert:vl.upsert},n),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob!="undefined"&&a instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",a)):typeof FormData!="undefined"&&a instanceof FormData?(c=a,c.append("cacheControl",d.cacheControl)):(c=a,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const m=yield _i(this.fetch,l.toString(),c,{headers:u});return{data:{path:i,fullPath:m.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Pe(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,t){return Z(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e);const n=Object.assign({},this.headers);t!=null&&t.upsert&&(n["x-upsert"]="true");const i=yield Ct(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:n}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new co("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Pe(a))return{data:null,error:a};throw a}})}update(e,t,a){return Z(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,a)})}move(e,t,a){return Z(this,void 0,void 0,function*(){try{return{data:yield Ct(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pe(n))return{data:null,error:n};throw n}})}copy(e,t,a){return Z(this,void 0,void 0,function*(){try{return{data:{path:(yield Ct(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pe(n))return{data:null,error:n};throw n}})}createSignedUrl(e,t,a){return Z(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),i=yield Ct(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:t},a!=null&&a.transform?{transform:a.transform}:{}),{headers:this.headers});const o=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pe(n))return{data:null,error:n};throw n}})}createSignedUrls(e,t,a){return Z(this,void 0,void 0,function*(){try{const n=yield Ct(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),i=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pe(n))return{data:null,error:n};throw n}})}download(e,t){const n=typeof(t==null?void 0:t.transform)!="undefined"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),o=i?`?${i}`:"",l=this._getFinalPath(e),c=()=>sa(this.fetch,`${this.url}/${n}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new gg(c,this.shouldThrowOnError)}info(e){return Z(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const a=yield sa(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:wi(a),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Pe(a))return{data:null,error:a};throw a}})}exists(e){return Z(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield fg(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Pe(a)&&a instanceof vi){const n=a.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:a}}throw a}})}getPublicUrl(e,t){const a=this._getFinalPath(e),n=[],i=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&n.push(i);const l=typeof(t==null?void 0:t.transform)!="undefined"?"render/image":"object",c=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});c!==""&&n.push(c);let d=n.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${a}${d}`)}}}remove(e){return Z(this,void 0,void 0,function*(){try{return{data:yield ho(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Pe(t))return{data:null,error:t};throw t}})}list(e,t,a){return Z(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},xg),t),{prefix:e||""});return{data:yield Ct(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},a),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pe(n))return{data:null,error:n};throw n}})}listV2(e,t){return Z(this,void 0,void 0,function*(){try{const a=Object.assign({},e);return{data:yield Ct(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,a,{headers:this.headers},t),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Pe(a))return{data:null,error:a};throw a}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer!="undefined"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const gd="2.76.1",xd={"X-Client-Info":`storage-js/${gd}`};class yg{constructor(e,t={},a,n){this.shouldThrowOnError=!1;const i=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},xd),t),this.fetch=uo(a)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Z(this,void 0,void 0,function*(){try{return{data:yield sa(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Pe(e))return{data:null,error:e};throw e}})}getBucket(e){return Z(this,void 0,void 0,function*(){try{return{data:yield sa(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Pe(t))return{data:null,error:t};throw t}})}createBucket(e){return Z(this,arguments,void 0,function*(t,a={public:!1}){try{return{data:yield Ct(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pe(n))return{data:null,error:n};throw n}})}updateBucket(e,t){return Z(this,void 0,void 0,function*(){try{return{data:yield _i(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Pe(a))return{data:null,error:a};throw a}})}emptyBucket(e){return Z(this,void 0,void 0,function*(){try{return{data:yield Ct(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Pe(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Z(this,void 0,void 0,function*(){try{return{data:yield ho(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Pe(t))return{data:null,error:t};throw t}})}}class vg{constructor(e,t={},a){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},xd),t),this.fetch=uo(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Z(this,void 0,void 0,function*(){try{return{data:yield Ct(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Pe(t))return{data:null,error:t};throw t}})}listBuckets(e){return Z(this,void 0,void 0,function*(){try{const t=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&t.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&t.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&t.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&t.set("sortOrder",e.sortOrder),e!=null&&e.search&&t.set("search",e.search);const a=t.toString(),n=a?`${this.url}/bucket?${a}`:`${this.url}/bucket`,i=yield sa(this.fetch,n,{headers:this.headers});return{data:Array.isArray(i)?i.filter(l=>l.type==="ANALYTICS"):[],error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Pe(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Z(this,void 0,void 0,function*(){try{return{data:yield ho(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Pe(t))return{data:null,error:t};throw t}})}}const mo={"X-Client-Info":`storage-js/${gd}`,"Content-Type":"application/json"};class bd extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function mt(s){return typeof s=="object"&&s!==null&&"__isStorageVectorsError"in s}class Dn extends bd{constructor(e,t,a){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class wg extends bd{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}}var wl;(function(s){s.InternalError="InternalError",s.S3VectorConflictException="S3VectorConflictException",s.S3VectorNotFoundException="S3VectorNotFoundException",s.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",s.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",s.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(wl||(wl={}));const fo=s=>{let e;return s?e=s:typeof fetch=="undefined"?e=(...t)=>Mt(()=>b(null,null,function*(){const{default:a}=yield Promise.resolve().then(()=>Fs);return{default:a}}),void 0).then(({default:a})=>a(...t)):e=fetch,(...t)=>e(...t)},_g=s=>{if(typeof s!="object"||s===null)return!1;const e=Object.getPrototypeOf(s);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},_l=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),jg=(s,e,t)=>Z(void 0,void 0,void 0,function*(){if(s&&typeof s=="object"&&"status"in s&&"ok"in s&&typeof s.status=="number"&&!(t!=null&&t.noResolveJson)){const n=s.status||500,i=s;if(typeof i.json=="function")i.json().then(o=>{const l=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||n+"";e(new Dn(_l(o),n,l))}).catch(()=>{const o=n+"",l=i.statusText||`HTTP ${n} error`;e(new Dn(l,n,o))});else{const o=n+"",l=i.statusText||`HTTP ${n} error`;e(new Dn(l,n,o))}}else e(new wg(_l(s),s))}),Sg=(s,e,t,a)=>{const n={method:s,headers:(e==null?void 0:e.headers)||{}};return a?(_g(a)?(n.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n.body=JSON.stringify(a)):n.body=a,Object.assign(Object.assign({},n),t)):n};function Ng(s,e,t,a,n,i){return Z(this,void 0,void 0,function*(){return new Promise((o,l)=>{s(t,Sg(e,a,n,i)).then(c=>{if(!c.ok)throw c;if(a!=null&&a.noResolveJson)return c;const d=c.headers.get("content-type");return!d||!d.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>jg(c,l,a))})})}function ft(s,e,t,a,n){return Z(this,void 0,void 0,function*(){return Ng(s,"POST",e,a,n,t)})}class kg{constructor(e,t={},a){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},mo),t),this.fetch=fo(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return Z(this,void 0,void 0,function*(){try{return{data:(yield ft(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(mt(t))return{data:null,error:t};throw t}})}getIndex(e,t){return Z(this,void 0,void 0,function*(){try{return{data:yield ft(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(mt(a))return{data:null,error:a};throw a}})}listIndexes(e){return Z(this,void 0,void 0,function*(){try{return{data:yield ft(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(mt(t))return{data:null,error:t};throw t}})}deleteIndex(e,t){return Z(this,void 0,void 0,function*(){try{return{data:(yield ft(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(mt(a))return{data:null,error:a};throw a}})}}class Tg{constructor(e,t={},a){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},mo),t),this.fetch=fo(a)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return Z(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield ft(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(mt(t))return{data:null,error:t};throw t}})}getVectors(e){return Z(this,void 0,void 0,function*(){try{return{data:yield ft(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(mt(t))return{data:null,error:t};throw t}})}listVectors(e){return Z(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield ft(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(mt(t))return{data:null,error:t};throw t}})}queryVectors(e){return Z(this,void 0,void 0,function*(){try{return{data:yield ft(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(mt(t))return{data:null,error:t};throw t}})}deleteVectors(e){return Z(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield ft(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(mt(t))return{data:null,error:t};throw t}})}}class Eg{constructor(e,t={},a){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},mo),t),this.fetch=fo(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Z(this,void 0,void 0,function*(){try{return{data:(yield ft(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(mt(t))return{data:null,error:t};throw t}})}getBucket(e){return Z(this,void 0,void 0,function*(){try{return{data:yield ft(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(mt(t))return{data:null,error:t};throw t}})}listBuckets(){return Z(this,arguments,void 0,function*(e={}){try{return{data:yield ft(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(mt(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Z(this,void 0,void 0,function*(){try{return{data:(yield ft(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(mt(t))return{data:null,error:t};throw t}})}}class Cg extends Eg{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new Ag(this.url,this.headers,e,this.fetch)}}class Ag extends kg{constructor(e,t,a,n){super(e,t,n),this.vectorBucketName=a}createIndex(e){const t=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Z(this,void 0,void 0,function*(){return t.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Z(this,arguments,void 0,function*(t={}){return e.listIndexes.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const t=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Z(this,void 0,void 0,function*(){return t.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const t=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Z(this,void 0,void 0,function*(){return t.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new Og(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class Og extends Tg{constructor(e,t,a,n,i){super(e,t,i),this.vectorBucketName=a,this.indexName=n}putVectors(e){const t=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Z(this,void 0,void 0,function*(){return t.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const t=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Z(this,void 0,void 0,function*(){return t.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Z(this,arguments,void 0,function*(t={}){return e.listVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const t=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Z(this,void 0,void 0,function*(){return t.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const t=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Z(this,void 0,void 0,function*(){return t.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Rg extends yg{constructor(e,t={},a,n){super(e,t,a,n)}from(e){return new bg(this.url,this.headers,e,this.fetch)}get vectors(){return new Cg(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new vg(this.url+"/iceberg",this.headers,this.fetch)}}const Pg="2.76.1";let zr="";typeof Deno!="undefined"?zr="deno":typeof document!="undefined"?zr="web":typeof navigator!="undefined"&&navigator.product==="ReactNative"?zr="react-native":zr="node";const Ig={"X-Client-Info":`supabase-js-${zr}/${Pg}`},Mg={headers:Ig},Dg={schema:"public"},Lg={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},$g={},Ug=s=>{let e;return s?e=s:typeof fetch=="undefined"?e=id:e=fetch,(...t)=>e(...t)},Bg=()=>typeof Headers=="undefined"?od:Headers,Vg=(s,e,t)=>{const a=Ug(t),n=Bg();return(i,o)=>b(null,null,function*(){var l;const c=(l=yield e())!==null&&l!==void 0?l:s;let d=new n(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",s),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),a(i,Object.assign(Object.assign({},o),{headers:d}))})};function Fg(s){return s.endsWith("/")?s:s+"/"}function zg(s,e){var t,a;const{db:n,auth:i,realtime:o,global:l}=s,{db:c,auth:d,realtime:u,global:m}=e,f={db:Object.assign(Object.assign({},c),n),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},m),l),{headers:Object.assign(Object.assign({},(t=m==null?void 0:m.headers)!==null&&t!==void 0?t:{}),(a=l==null?void 0:l.headers)!==null&&a!==void 0?a:{})}),accessToken:()=>b(null,null,function*(){return""})};return s.accessToken?f.accessToken=s.accessToken:delete f.accessToken,f}function qg(s){const e=s==null?void 0:s.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Fg(e))}catch(t){throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const yd="2.76.1",rr=30*1e3,ji=3,Ln=ji*rr,Hg="http://localhost:9999",Wg="supabase.auth.token",Yg={"X-Client-Info":`gotrue-js/${yd}`},Si="X-Supabase-Api-Version",vd={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Gg=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Kg=600*1e3;class ra extends Error{constructor(e,t,a){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=a}}function ee(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}class Zg extends ra{constructor(e,t,a){super(e,t,a),this.name="AuthApiError",this.status=t,this.code=a}}function Jg(s){return ee(s)&&s.name==="AuthApiError"}class Ms extends ra{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class ks extends ra{constructor(e,t,a,n){super(e,a,n),this.name=t,this.status=a}}class ps extends ks{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Xg(s){return ee(s)&&s.name==="AuthSessionMissingError"}class Zs extends ks{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Aa extends ks{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Oa extends ks{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Qg(s){return ee(s)&&s.name==="AuthImplicitGrantRedirectError"}class jl extends ks{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ni extends ks{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function $n(s){return ee(s)&&s.name==="AuthRetryableFetchError"}class Sl extends ks{constructor(e,t,a){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=a}}class ki extends ks{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ga="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Nl=` 	
\r=`.split(""),ex=(()=>{const s=new Array(128);for(let e=0;e<s.length;e+=1)s[e]=-1;for(let e=0;e<Nl.length;e+=1)s[Nl[e].charCodeAt(0)]=-2;for(let e=0;e<Ga.length;e+=1)s[Ga[e].charCodeAt(0)]=e;return s})();function kl(s,e,t){if(s!==null)for(e.queue=e.queue<<8|s,e.queuedBits+=8;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;t(Ga[a]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;t(Ga[a]),e.queuedBits-=6}}function wd(s,e,t){const a=ex[s];if(a>-1)for(e.queue=e.queue<<6|a,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(s)}"`)}}function Tl(s){const e=[],t=o=>{e.push(String.fromCodePoint(o))},a={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},i=o=>{rx(o,a,t)};for(let o=0;o<s.length;o+=1)wd(s.charCodeAt(o),n,i);return e.join("")}function tx(s,e){if(s<=127){e(s);return}else if(s<=2047){e(192|s>>6),e(128|s&63);return}else if(s<=65535){e(224|s>>12),e(128|s>>6&63),e(128|s&63);return}else if(s<=1114111){e(240|s>>18),e(128|s>>12&63),e(128|s>>6&63),e(128|s&63);return}throw new Error(`Unrecognized Unicode codepoint: ${s.toString(16)}`)}function sx(s,e){for(let t=0;t<s.length;t+=1){let a=s.charCodeAt(t);if(a>55295&&a<=56319){const n=(a-55296)*1024&65535;a=(s.charCodeAt(t+1)-56320&65535|n)+65536,t+=1}tx(a,e)}}function rx(s,e,t){if(e.utf8seq===0){if(s<=127){t(s);return}for(let a=1;a<6;a+=1)if((s>>7-a&1)===0){e.utf8seq=a;break}if(e.utf8seq===2)e.codepoint=s&31;else if(e.utf8seq===3)e.codepoint=s&15;else if(e.utf8seq===4)e.codepoint=s&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(s<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|s&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function lr(s){const e=[],t={queue:0,queuedBits:0},a=n=>{e.push(n)};for(let n=0;n<s.length;n+=1)wd(s.charCodeAt(n),t,a);return new Uint8Array(e)}function ax(s){const e=[];return sx(s,t=>e.push(t)),new Uint8Array(e)}function Ls(s){const e=[],t={queue:0,queuedBits:0},a=n=>{e.push(n)};return s.forEach(n=>kl(n,t,a)),kl(null,t,a),e.join("")}function nx(s){return Math.round(Date.now()/1e3)+s}function ix(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){const e=Math.random()*16|0;return(s=="x"?e:e&3|8).toString(16)})}const ut=()=>typeof window!="undefined"&&typeof document!="undefined",Os={tested:!1,writable:!1},_d=()=>{if(!ut())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch(e){return!1}if(Os.tested)return Os.writable;const s=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(s,s),globalThis.localStorage.removeItem(s),Os.tested=!0,Os.writable=!0}catch(e){Os.tested=!0,Os.writable=!1}return Os.writable};function ox(s){const e={},t=new URL(s);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((n,i)=>{e[i]=n})}catch(a){}return t.searchParams.forEach((a,n)=>{e[n]=a}),e}const jd=s=>{let e;return s?e=s:typeof fetch=="undefined"?e=(...t)=>Mt(()=>b(null,null,function*(){const{default:a}=yield Promise.resolve().then(()=>Fs);return{default:a}}),void 0).then(({default:a})=>a(...t)):e=fetch,(...t)=>e(...t)},lx=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",ar=(s,e,t)=>b(null,null,function*(){yield s.setItem(e,JSON.stringify(t))}),Rs=(s,e)=>b(null,null,function*(){const t=yield s.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch(a){return t}}),fs=(s,e)=>b(null,null,function*(){yield s.removeItem(e)});class mn{constructor(){this.promise=new mn.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}mn.promiseConstructor=Promise;function Un(s){const e=s.split(".");if(e.length!==3)throw new ki("Invalid JWT structure");for(let a=0;a<e.length;a++)if(!Gg.test(e[a]))throw new ki("JWT not in base64url format");return{header:JSON.parse(Tl(e[0])),payload:JSON.parse(Tl(e[1])),signature:lr(e[2]),raw:{header:e[0],payload:e[1]}}}function cx(s){return b(this,null,function*(){return yield new Promise(e=>{setTimeout(()=>e(null),s)})})}function dx(s,e){return new Promise((a,n)=>{b(null,null,function*(){for(let i=0;i<1/0;i++)try{const o=yield s(i);if(!e(i,null,o)){a(o);return}}catch(o){if(!e(i,o)){n(o);return}}})})}function ux(s){return("0"+s.toString(16)).substr(-2)}function hx(){const e=new Uint32Array(56);if(typeof crypto=="undefined"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=t.length;let n="";for(let i=0;i<56;i++)n+=t.charAt(Math.floor(Math.random()*a));return n}return crypto.getRandomValues(e),Array.from(e,ux).join("")}function mx(s){return b(this,null,function*(){const t=new TextEncoder().encode(s),a=yield crypto.subtle.digest("SHA-256",t),n=new Uint8Array(a);return Array.from(n).map(i=>String.fromCharCode(i)).join("")})}function fx(s){return b(this,null,function*(){if(!(typeof crypto!="undefined"&&typeof crypto.subtle!="undefined"&&typeof TextEncoder!="undefined"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),s;const t=yield mx(s);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}function Js(s,e,t=!1){return b(this,null,function*(){const a=hx();let n=a;t&&(n+="/PASSWORD_RECOVERY"),yield ar(s,`${e}-code-verifier`,n);const i=yield fx(a);return[i,a===i?"plain":"s256"]})}const px=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function gx(s){const e=s.headers.get(Si);if(!e||!e.match(px))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch(t){return null}}function xx(s){if(!s)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(s<=e)throw new Error("JWT has expired")}function bx(s){switch(s){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const yx=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Xs(s){if(!yx.test(s))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Bn(){const s={};return new Proxy(s,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const a=t.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function El(s){return JSON.parse(JSON.stringify(s))}const Ps=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),vx=[502,503,504];function Cl(s){return b(this,null,function*(){var e;if(!lx(s))throw new Ni(Ps(s),0);if(vx.includes(s.status))throw new Ni(Ps(s),s.status);let t;try{t=yield s.json()}catch(i){throw new Ms(Ps(i),i)}let a;const n=gx(s);if(n&&n.getTime()>=vd["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?a=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(a=t.error_code),a){if(a==="weak_password")throw new Sl(Ps(t),s.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(a==="session_not_found")throw new ps}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Sl(Ps(t),s.status,t.weak_password.reasons);throw new Zg(Ps(t),s.status||500,a)})}const wx=(s,e,t,a)=>{const n={method:s,headers:(e==null?void 0:e.headers)||{}};return s==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),n.body=JSON.stringify(a),Object.assign(Object.assign({},n),t))};function re(s,e,t,a){return b(this,null,function*(){var n;const i=Object.assign({},a==null?void 0:a.headers);i[Si]||(i[Si]=vd["2024-01-01"].name),a!=null&&a.jwt&&(i.Authorization=`Bearer ${a.jwt}`);const o=(n=a==null?void 0:a.query)!==null&&n!==void 0?n:{};a!=null&&a.redirectTo&&(o.redirect_to=a.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=yield _x(s,e,t+l,{headers:i,noResolveJson:a==null?void 0:a.noResolveJson},{},a==null?void 0:a.body);return a!=null&&a.xform?a==null?void 0:a.xform(c):{data:Object.assign({},c),error:null}})}function _x(s,e,t,a,n,i){return b(this,null,function*(){const o=wx(e,a,n,i);let l;try{l=yield s(t,Object.assign({},o))}catch(c){throw console.error(c),new Ni(Ps(c),0)}if(l.ok||(yield Cl(l)),a!=null&&a.noResolveJson)return l;try{return yield l.json()}catch(c){yield Cl(c)}})}function Nt(s){var e;let t=null;Nx(s)&&(t=Object.assign({},s),s.expires_at||(t.expires_at=nx(s.expires_in)));const a=(e=s.user)!==null&&e!==void 0?e:s;return{data:{session:t,user:a},error:null}}function Al(s){const e=Nt(s);return!e.error&&s.weak_password&&typeof s.weak_password=="object"&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.message&&typeof s.weak_password.message=="string"&&s.weak_password.reasons.reduce((t,a)=>t&&typeof a=="string",!0)&&(e.data.weak_password=s.weak_password),e}function ys(s){var e;return{data:{user:(e=s.user)!==null&&e!==void 0?e:s},error:null}}function jx(s){return{data:s,error:null}}function Sx(s){const{action_link:e,email_otp:t,hashed_token:a,redirect_to:n,verification_type:i}=s,o=ln(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:t,hashed_token:a,redirect_to:n,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function Ol(s){return s}function Nx(s){return s.access_token&&s.refresh_token&&s.expires_in}const Vn=["global","local","others"];class kx{constructor({url:e="",headers:t={},fetch:a}){this.url=e,this.headers=t,this.fetch=jd(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}signOut(a){return b(this,arguments,function*(e,t=Vn[0]){if(Vn.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Vn.join(", ")}`);try{return yield re(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ee(n))return{data:null,error:n};throw n}})}inviteUserByEmail(a){return b(this,arguments,function*(e,t={}){try{return yield re(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:ys})}catch(n){if(ee(n))return{data:{user:null},error:n};throw n}})}generateLink(e){return b(this,null,function*(){try{const{options:t}=e,a=ln(e,["options"]),n=Object.assign(Object.assign({},a),t);return"newEmail"in a&&(n.new_email=a==null?void 0:a.newEmail,delete n.newEmail),yield re(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:Sx,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(ee(t))return{data:{properties:null,user:null},error:t};throw t}})}createUser(e){return b(this,null,function*(){try{return yield re(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ys})}catch(t){if(ee(t))return{data:{user:null},error:t};throw t}})}listUsers(e){return b(this,null,function*(){var t,a,n,i,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=yield re(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&a!==void 0?a:"",per_page:(i=(n=e==null?void 0:e.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:Ol});if(u.error)throw u.error;const m=yield u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return g.length>0&&(g.forEach(v=>{const S=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(v.split(";")[1].split("=")[1]);d[`${y}Page`]=S}),d.total=parseInt(f)),{data:Object.assign(Object.assign({},m),d),error:null}}catch(d){if(ee(d))return{data:{users:[]},error:d};throw d}})}getUserById(e){return b(this,null,function*(){Xs(e);try{return yield re(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ys})}catch(t){if(ee(t))return{data:{user:null},error:t};throw t}})}updateUserById(e,t){return b(this,null,function*(){Xs(e);try{return yield re(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:ys})}catch(a){if(ee(a))return{data:{user:null},error:a};throw a}})}deleteUser(e,t=!1){return b(this,null,function*(){Xs(e);try{return yield re(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:ys})}catch(a){if(ee(a))return{data:{user:null},error:a};throw a}})}_listFactors(e){return b(this,null,function*(){Xs(e.userId);try{const{data:t,error:a}=yield re(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:t,error:a}}catch(t){if(ee(t))return{data:null,error:t};throw t}})}_deleteFactor(e){return b(this,null,function*(){Xs(e.userId),Xs(e.id);try{return{data:yield re(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(ee(t))return{data:null,error:t};throw t}})}_listOAuthClients(e){return b(this,null,function*(){var t,a,n,i,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=yield re(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&a!==void 0?a:"",per_page:(i=(n=e==null?void 0:e.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:Ol});if(u.error)throw u.error;const m=yield u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return g.length>0&&(g.forEach(v=>{const S=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(v.split(";")[1].split("=")[1]);d[`${y}Page`]=S}),d.total=parseInt(f)),{data:Object.assign(Object.assign({},m),d),error:null}}catch(d){if(ee(d))return{data:{clients:[]},error:d};throw d}})}_createOAuthClient(e){return b(this,null,function*(){try{return yield re(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(ee(t))return{data:null,error:t};throw t}})}_getOAuthClient(e){return b(this,null,function*(){try{return yield re(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(ee(t))return{data:null,error:t};throw t}})}_deleteOAuthClient(e){return b(this,null,function*(){try{return yield re(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(ee(t))return{data:null,error:t};throw t}})}_regenerateOAuthClientSecret(e){return b(this,null,function*(){try{return yield re(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(ee(t))return{data:null,error:t};throw t}})}}function Rl(s={}){return{getItem:e=>s[e]||null,setItem:(e,t)=>{s[e]=t},removeItem:e=>{delete s[e]}}}const Qs={debug:!!(globalThis&&_d()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Sd extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Tx extends Sd{}function Ex(s,e,t){return b(this,null,function*(){Qs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",s,e);const a=new globalThis.AbortController;return e>0&&setTimeout(()=>{a.abort(),Qs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",s)},e),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(s,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},n=>b(null,null,function*(){if(n){Qs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",s,n.name);try{return yield t()}finally{Qs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",s,n.name)}}else{if(e===0)throw Qs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",s),new Tx(`Acquiring an exclusive Navigator LockManager lock "${s}" immediately failed`);if(Qs.debug)try{const i=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield t()}})))})}function Cx(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(s){typeof self!="undefined"&&(self.globalThis=self)}}function Nd(s){if(!/^0x[a-fA-F0-9]{40}$/.test(s))throw new Error(`@supabase/auth-js: Address "${s}" is invalid.`);return s.toLowerCase()}function Ax(s){return parseInt(s,16)}function Ox(s){const e=new TextEncoder().encode(s);return"0x"+Array.from(e,a=>a.toString(16).padStart(2,"0")).join("")}function Rx(s){var e;const{chainId:t,domain:a,expirationTime:n,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:c,resources:d,scheme:u,uri:m,version:f}=s;{if(!Number.isInteger(t))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${t}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((e=s.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${s.statement}`)}const g=Nd(s.address),v=u?`${u}://${a}`:a,S=s.statement?`${s.statement}
`:"",y=`${v} wants you to sign in with your Ethereum account:
${g}

${S}`;let E=`URI: ${m}
Version: ${f}
Chain ID: ${t}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(n&&(E+=`
Expiration Time: ${n.toISOString()}`),l&&(E+=`
Not Before: ${l.toISOString()}`),c&&(E+=`
Request ID: ${c}`),d){let k=`
Resources:`;for(const x of d){if(!x||typeof x!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${x}`);k+=`
- ${x}`}E+=k}return`${y}
${E}`}class Ve extends Error{constructor({message:e,code:t,cause:a,name:n}){var i;super(e,{cause:a}),this.__isWebAuthnError=!0,this.name=(i=n!=null?n:a instanceof Error?a.name:void 0)!==null&&i!==void 0?i:"Unknown Error",this.code=t}}class Ka extends Ve{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}function Px({error:s,options:e}){var t,a,n;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ve({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else if(s.name==="ConstraintError"){if(((t=i.authenticatorSelection)===null||t===void 0?void 0:t.requireResidentKey)===!0)return new Ve({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:s});if(e.mediation==="conditional"&&((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Ve({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:s});if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Ve({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:s})}else{if(s.name==="InvalidStateError")return new Ve({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:s});if(s.name==="NotAllowedError")return new Ve({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Ve({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:s}):new Ve({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:s});if(s.name==="SecurityError"){const o=window.location.hostname;if(kd(o)){if(i.rp.id!==o)return new Ve({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new Ve({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Ve({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:s})}else if(s.name==="UnknownError")return new Ve({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new Ve({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}function Ix({error:s,options:e}){const{publicKey:t}=e;if(!t)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ve({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else{if(s.name==="NotAllowedError")return new Ve({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="SecurityError"){const a=window.location.hostname;if(kd(a)){if(t.rpId!==a)return new Ve({message:`The RP ID "${t.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new Ve({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="UnknownError")return new Ve({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new Ve({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}class Mx{createNewAbortSignal(){if(this.controller){const t=new Error("Cancelling existing WebAuthn API call for new one");t.name="AbortError",this.controller.abort(t)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Dx=new Mx;function Lx(s){if(!s)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential!="undefined"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(s);const{challenge:e,user:t,excludeCredentials:a}=s,n=ln(s,["challenge","user","excludeCredentials"]),i=lr(e).buffer,o=Object.assign(Object.assign({},t),{id:lr(t.id).buffer}),l=Object.assign(Object.assign({},n),{challenge:i,user:o});if(a&&a.length>0){l.excludeCredentials=new Array(a.length);for(let c=0;c<a.length;c++){const d=a[c];l.excludeCredentials[c]=Object.assign(Object.assign({},d),{id:lr(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function $x(s){if(!s)throw new Error("Credential request options are required");if(typeof PublicKeyCredential!="undefined"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(s);const{challenge:e,allowCredentials:t}=s,a=ln(s,["challenge","allowCredentials"]),n=lr(e).buffer,i=Object.assign(Object.assign({},a),{challenge:n});if(t&&t.length>0){i.allowCredentials=new Array(t.length);for(let o=0;o<t.length;o++){const l=t[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:lr(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function Ux(s){var e;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const t=s;return{id:s.id,rawId:s.id,response:{attestationObject:Ls(new Uint8Array(s.response.attestationObject)),clientDataJSON:Ls(new Uint8Array(s.response.clientDataJSON))},type:"public-key",clientExtensionResults:s.getClientExtensionResults(),authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Bx(s){var e;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const t=s,a=s.getClientExtensionResults(),n=s.response;return{id:s.id,rawId:s.id,response:{authenticatorData:Ls(new Uint8Array(n.authenticatorData)),clientDataJSON:Ls(new Uint8Array(n.clientDataJSON)),signature:Ls(new Uint8Array(n.signature)),userHandle:n.userHandle?Ls(new Uint8Array(n.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function kd(s){return s==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(s)}function Pl(){var s,e;return!!(ut()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((s=navigator==null?void 0:navigator.credentials)===null||s===void 0?void 0:s.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}function Vx(s){return b(this,null,function*(){try{const e=yield navigator.credentials.create(s);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ka("Browser returned unexpected credential type",e)}:{data:null,error:new Ka("Empty credential response",e)}}catch(e){return{data:null,error:Px({error:e,options:s})}}})}function Fx(s){return b(this,null,function*(){try{const e=yield navigator.credentials.get(s);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ka("Browser returned unexpected credential type",e)}:{data:null,error:new Ka("Empty credential response",e)}}catch(e){return{data:null,error:Ix({error:e,options:s})}}})}const zx={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},qx={userVerification:"preferred",hints:["security-key"]};function Za(...s){const e=n=>n!==null&&typeof n=="object"&&!Array.isArray(n),t=n=>n instanceof ArrayBuffer||ArrayBuffer.isView(n),a={};for(const n of s)if(n)for(const i in n){const o=n[i];if(o!==void 0)if(Array.isArray(o))a[i]=o;else if(t(o))a[i]=o;else if(e(o)){const l=a[i];e(l)?a[i]=Za(l,o):a[i]=Za(o)}else a[i]=o}return a}function Hx(s,e){return Za(zx,s,e||{})}function Wx(s,e){return Za(qx,s,e||{})}class Yx{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}_enroll(e){return b(this,null,function*(){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))})}_challenge(o,l){return b(this,arguments,function*({factorId:e,webauthn:t,friendlyName:a,signal:n},i){try{const{data:c,error:d}=yield this.client.mfa.challenge({factorId:e,webauthn:t});if(!c)return{data:null,error:d};const u=n!=null?n:Dx.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:m}=c.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${a}`),m.displayName||(m.displayName=m.name)}switch(c.webauthn.type){case"create":{const m=Hx(c.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:f,error:g}=yield Vx({publicKey:m,signal:u});return f?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:f}},error:null}:{data:null,error:g}}case"request":{const m=Wx(c.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:f,error:g}=yield Fx(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:m,signal:u}));return f?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:f}},error:null}:{data:null,error:g}}}}catch(c){return ee(c)?{data:null,error:c}:{data:null,error:new Ms("Unexpected error in challenge",c)}}})}_verify(n){return b(this,arguments,function*({challengeId:e,factorId:t,webauthn:a}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:a})})}_authenticate(o,l){return b(this,arguments,function*({factorId:e,webauthn:{rpId:t=typeof window!="undefined"?window.location.hostname:void 0,rpOrigins:a=typeof window!="undefined"?[window.location.origin]:void 0,signal:n}},i){if(!t)return{data:null,error:new ra("rpId is required for WebAuthn authentication")};try{if(!Pl())return{data:null,error:new Ms("Browser does not support WebAuthn",null)};const{data:c,error:d}=yield this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:a},signal:n},{request:i});if(!c)return{data:null,error:d};const{webauthn:u}=c;return this._verify({factorId:e,challengeId:c.challengeId,webauthn:{type:u.type,rpId:t,rpOrigins:a,credential_response:u.credential_response}})}catch(c){return ee(c)?{data:null,error:c}:{data:null,error:new Ms("Unexpected error in authenticate",c)}}})}_register(o,l){return b(this,arguments,function*({friendlyName:e,rpId:t=typeof window!="undefined"?window.location.hostname:void 0,rpOrigins:a=typeof window!="undefined"?[window.location.origin]:void 0,signal:n},i){if(!t)return{data:null,error:new ra("rpId is required for WebAuthn registration")};try{if(!Pl())return{data:null,error:new Ms("Browser does not support WebAuthn",null)};const{data:c,error:d}=yield this._enroll({friendlyName:e});if(!c)return yield this.client.mfa.listFactors().then(f=>{var g;return(g=f.data)===null||g===void 0?void 0:g.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===e&&v.status!=="unverified")}).then(f=>f?this.client.mfa.unenroll({factorId:f==null?void 0:f.id}):void 0),{data:null,error:d};const{data:u,error:m}=yield this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:t,rpOrigins:a},signal:n},{create:i});return u?this._verify({factorId:c.id,challengeId:u.challengeId,webauthn:{rpId:t,rpOrigins:a,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:m}}catch(c){return ee(c)?{data:null,error:c}:{data:null,error:new Ms("Unexpected error in register",c)}}})}}Cx();const Gx={url:Hg,storageKey:Wg,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Yg,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};function Il(s,e,t){return b(this,null,function*(){return yield t()})}const er={};class aa{get jwks(){var e,t;return(t=(e=er[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){er[this.storageKey]=Object.assign(Object.assign({},er[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=er[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){er[this.storageKey]=Object.assign(Object.assign({},er[this.storageKey]),{cachedAt:e})}constructor(e){var t,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=aa.nextInstanceID,aa.nextInstanceID+=1,this.instanceID>0&&ut()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},Gx),e);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new kx({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=jd(n.fetch),this.lock=n.lock||Il,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:ut()&&(!((t=globalThis==null?void 0:globalThis.navigator)===null||t===void 0)&&t.locks)?this.lock=Ex:this.lock=Il,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Yx(this)},this.persistSession?(n.storage?this.storage=n.storage:_d()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Rl(this.memoryStorage)),n.userStorage&&(this.userStorage=n.userStorage)):(this.memoryStorage={},this.storage=Rl(this.memoryStorage)),ut()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",i=>b(this,null,function*(){this._debug("received broadcast notification from other tab or client",i),yield this._notifyAllSubscribers(i.data.event,i.data.session,!1)}))}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${yd}) ${new Date().toISOString()}`,...e),this}initialize(){return b(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=b(this,null,function*(){return yield this._acquireLock(-1,()=>b(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return b(this,null,function*(){var e;try{const t=ox(window.location.href);let a="none";if(this._isImplicitGrantCallback(t)?a="implicit":(yield this._isPKCECallback(t))&&(a="pkce"),ut()&&this.detectSessionInUrl&&a!=="none"){const{data:n,error:i}=yield this._getSessionFromURL(t,a);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Qg(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return yield this._removeSession(),{error:i}}const{session:o,redirectType:l}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),yield this._saveSession(o),setTimeout(()=>b(this,null,function*(){l==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",o):yield this._notifyAllSubscribers("SIGNED_IN",o)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(t){return ee(t)?{error:t}:{error:new Ms("Unexpected error during initialization",t)}}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(e){return b(this,null,function*(){var t,a,n;try{const i=yield re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.captchaToken}},xform:Nt}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(yield this._saveSession(o.session),yield this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(ee(i))return{data:{user:null,session:null},error:i};throw i}})}signUp(e){return b(this,null,function*(){var t,a,n;try{let i;if("email"in e){const{email:u,password:m,options:f}=e;let g=null,v=null;this.flowType==="pkce"&&([g,v]=yield Js(this.storage,this.storageKey)),i=yield re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:m,data:(t=f==null?void 0:f.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:g,code_challenge_method:v},xform:Nt})}else if("phone"in e){const{phone:u,password:m,options:f}=e;i=yield re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:m,data:(a=f==null?void 0:f.data)!==null&&a!==void 0?a:{},channel:(n=f==null?void 0:f.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Nt})}else throw new Aa("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(yield this._saveSession(o.session),yield this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(ee(i))return{data:{user:null,session:null},error:i};throw i}})}signInWithPassword(e){return b(this,null,function*(){try{let t;if("email"in e){const{email:i,password:o,options:l}=e;t=yield re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Al})}else if("phone"in e){const{phone:i,password:o,options:l}=e;t=yield re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Al})}else throw new Aa("You must provide either an email or phone number and a password");const{data:a,error:n}=t;return n?{data:{user:null,session:null},error:n}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new Zs}:(a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:n})}catch(t){if(ee(t))return{data:{user:null,session:null},error:t};throw t}})}signInWithOAuth(e){return b(this,null,function*(){var t,a,n,i;return yield this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(n=e.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})})}exchangeCodeForSession(e){return b(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>b(this,null,function*(){return this._exchangeCodeForSession(e)}))})}signInWithWeb3(e){return b(this,null,function*(){const{chain:t}=e;switch(t){case"ethereum":return yield this.signInWithEthereum(e);case"solana":return yield this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}})}signInWithEthereum(e){return b(this,null,function*(){var t,a,n,i,o,l,c,d,u,m,f;let g,v;if("message"in e)g=e.message,v=e.signature;else{const{chain:S,wallet:y,statement:E,options:k}=e;let x;if(ut())if(typeof y=="object")x=y;else{const q=window;if("ethereum"in q&&typeof q.ethereum=="object"&&"request"in q.ethereum&&typeof q.ethereum.request=="function")x=q.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(k!=null&&k.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=y}const w=new URL((t=k==null?void 0:k.url)!==null&&t!==void 0?t:window.location.href),N=yield x.request({method:"eth_requestAccounts"}).then(q=>q).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!N||N.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const C=Nd(N[0]);let O=(a=k==null?void 0:k.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!O){const q=yield x.request({method:"eth_chainId"});O=Ax(q)}const F={domain:w.host,address:C,statement:E,uri:w.href,version:"1",chainId:O,nonce:(n=k==null?void 0:k.signInWithEthereum)===null||n===void 0?void 0:n.nonce,issuedAt:(o=(i=k==null?void 0:k.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=k==null?void 0:k.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=k==null?void 0:k.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(d=k==null?void 0:k.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(u=k==null?void 0:k.signInWithEthereum)===null||u===void 0?void 0:u.resources};g=Rx(F),v=yield x.request({method:"personal_sign",params:[Ox(g),C]})}try{const{data:S,error:y}=yield re(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:v},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Nt});if(y)throw y;return!S||!S.session||!S.user?{data:{user:null,session:null},error:new Zs}:(S.session&&(yield this._saveSession(S.session),yield this._notifyAllSubscribers("SIGNED_IN",S.session)),{data:Object.assign({},S),error:y})}catch(S){if(ee(S))return{data:{user:null,session:null},error:S};throw S}})}signInWithSolana(e){return b(this,null,function*(){var t,a,n,i,o,l,c,d,u,m,f,g;let v,S;if("message"in e)v=e.message,S=e.signature;else{const{chain:y,wallet:E,statement:k,options:x}=e;let w;if(ut())if(typeof E=="object")w=E;else{const C=window;if("solana"in C&&typeof C.solana=="object"&&("signIn"in C.solana&&typeof C.solana.signIn=="function"||"signMessage"in C.solana&&typeof C.solana.signMessage=="function"))w=C.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=E}const N=new URL((t=x==null?void 0:x.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in w&&w.signIn){const C=yield w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),k?{statement:k}:null));let O;if(Array.isArray(C)&&C[0]&&typeof C[0]=="object")O=C[0];else if(C&&typeof C=="object"&&"signedMessage"in C&&"signature"in C)O=C;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in O&&"signature"in O&&(typeof O.signedMessage=="string"||O.signedMessage instanceof Uint8Array)&&O.signature instanceof Uint8Array)v=typeof O.signedMessage=="string"?O.signedMessage:new TextDecoder().decode(O.signedMessage),S=O.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${N.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...k?["",k,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(n=(a=x==null?void 0:x.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&n!==void 0?n:new Date().toISOString()}`,...!((i=x==null?void 0:x.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((o=x==null?void 0:x.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((l=x==null?void 0:x.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((c=x==null?void 0:x.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((d=x==null?void 0:x.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((m=(u=x==null?void 0:x.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||m===void 0)&&m.length?["Resources",...x.signInWithSolana.resources.map(O=>`- ${O}`)]:[]].join(`
`);const C=yield w.signMessage(new TextEncoder().encode(v),"utf8");if(!C||!(C instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=C}}try{const{data:y,error:E}=yield re(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Ls(S)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Nt});if(E)throw E;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new Zs}:(y.session&&(yield this._saveSession(y.session),yield this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:E})}catch(y){if(ee(y))return{data:{user:null,session:null},error:y};throw y}})}_exchangeCodeForSession(e){return b(this,null,function*(){const t=yield Rs(this.storage,`${this.storageKey}-code-verifier`),[a,n]=(t!=null?t:"").split("/");try{const{data:i,error:o}=yield re(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:a},xform:Nt});if(yield fs(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Zs}:(i.session&&(yield this._saveSession(i.session),yield this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:n!=null?n:null}),error:o})}catch(i){if(ee(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}})}signInWithIdToken(e){return b(this,null,function*(){try{const{options:t,provider:a,token:n,access_token:i,nonce:o}=e,l=yield re(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:n,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:Nt}),{data:c,error:d}=l;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Zs}:(c.session&&(yield this._saveSession(c.session),yield this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(t){if(ee(t))return{data:{user:null,session:null},error:t};throw t}})}signInWithOtp(e){return b(this,null,function*(){var t,a,n,i,o;try{if("email"in e){const{email:l,options:c}=e;let d=null,u=null;this.flowType==="pkce"&&([d,u]=yield Js(this.storage,this.storageKey));const{error:m}=yield re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(t=c==null?void 0:c.data)!==null&&t!==void 0?t:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:m}}if("phone"in e){const{phone:l,options:c}=e,{data:d,error:u}=yield re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u}}throw new Aa("You must provide either an email or phone number.")}catch(l){if(ee(l))return{data:{user:null,session:null},error:l};throw l}})}verifyOtp(e){return b(this,null,function*(){var t,a;try{let n,i;"options"in e&&(n=(t=e.options)===null||t===void 0?void 0:t.redirectTo,i=(a=e.options)===null||a===void 0?void 0:a.captchaToken);const{data:o,error:l}=yield re(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:Nt});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,d=o.user;return c!=null&&c.access_token&&(yield this._saveSession(c),yield this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(n){if(ee(n))return{data:{user:null,session:null},error:n};throw n}})}signInWithSSO(e){return b(this,null,function*(){var t,a,n;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=yield Js(this.storage,this.storageKey)),yield re(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(a=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&a!==void 0?a:void 0}),!((n=e==null?void 0:e.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:jx})}catch(i){if(ee(i))return{data:null,error:i};throw i}})}reauthenticate(){return b(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>b(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return b(this,null,function*(){try{return yield this._useSession(e=>b(this,null,function*(){const{data:{session:t},error:a}=e;if(a)throw a;if(!t)throw new ps;const{error:n}=yield re(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:n}}))}catch(e){if(ee(e))return{data:{user:null,session:null},error:e};throw e}})}resend(e){return b(this,null,function*(){try{const t=`${this.url}/resend`;if("email"in e){const{email:a,type:n,options:i}=e,{error:o}=yield re(this.fetch,"POST",t,{headers:this.headers,body:{email:a,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:a,type:n,options:i}=e,{data:o,error:l}=yield re(this.fetch,"POST",t,{headers:this.headers,body:{phone:a,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Aa("You must provide either an email or phone number and a type")}catch(t){if(ee(t))return{data:{user:null,session:null},error:t};throw t}})}getSession(){return b(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>b(this,null,function*(){return this._useSession(t=>b(this,null,function*(){return t}))}))})}_acquireLock(e,t){return b(this,null,function*(){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=b(this,null,function*(){return yield a,yield t()});return this.pendingInLock.push(b(this,null,function*(){try{yield n}catch(i){}})),n}return yield this.lock(`lock:${this.storageKey}`,e,()=>b(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=t();for(this.pendingInLock.push(b(this,null,function*(){try{yield a}catch(n){}})),yield a;this.pendingInLock.length;){const n=[...this.pendingInLock];yield Promise.all(n),this.pendingInLock.splice(0,n.length)}return yield a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(e){return b(this,null,function*(){this._debug("#_useSession","begin");try{const t=yield this.__loadSession();return yield e(t)}finally{this._debug("#_useSession","end")}})}__loadSession(){return b(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=yield Rs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!e)return{data:{session:null},error:null};const a=e.expires_at?e.expires_at*1e3-Date.now()<Ln:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",e.expires_at),!a){if(this.userStorage){const o=yield Rs(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=Bn()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,d,u)=>(!o&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,u))})}return{data:{session:e},error:null}}const{data:n,error:i}=yield this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}})}getUser(e){return b(this,null,function*(){return e?yield this._getUser(e):(yield this.initializePromise,yield this._acquireLock(-1,()=>b(this,null,function*(){return yield this._getUser()})))})}_getUser(e){return b(this,null,function*(){try{return e?yield re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ys}):yield this._useSession(t=>b(this,null,function*(){var a,n,i;const{data:o,error:l}=t;if(l)throw l;return!(!((a=o.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ps}:yield re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:ys})}))}catch(t){if(ee(t))return Xg(t)&&(yield this._removeSession(),yield fs(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}})}updateUser(a){return b(this,arguments,function*(e,t={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>b(this,null,function*(){return yield this._updateUser(e,t)}))})}_updateUser(a){return b(this,arguments,function*(e,t={}){try{return yield this._useSession(n=>b(this,null,function*(){const{data:i,error:o}=n;if(o)throw o;if(!i.session)throw new ps;const l=i.session;let c=null,d=null;this.flowType==="pkce"&&e.email!=null&&([c,d]=yield Js(this.storage,this.storageKey));const{data:u,error:m}=yield re(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:d}),jwt:l.access_token,xform:ys});if(m)throw m;return l.user=u.user,yield this._saveSession(l),yield this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}}))}catch(n){if(ee(n))return{data:{user:null},error:n};throw n}})}setSession(e){return b(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>b(this,null,function*(){return yield this._setSession(e)}))})}_setSession(e){return b(this,null,function*(){try{if(!e.access_token||!e.refresh_token)throw new ps;const t=Date.now()/1e3;let a=t,n=!0,i=null;const{payload:o}=Un(e.access_token);if(o.exp&&(a=o.exp,n=a<=t),n){const{data:l,error:c}=yield this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=yield this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:a-t,expires_at:a},yield this._saveSession(i),yield this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(t){if(ee(t))return{data:{session:null,user:null},error:t};throw t}})}refreshSession(e){return b(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>b(this,null,function*(){return yield this._refreshSession(e)}))})}_refreshSession(e){return b(this,null,function*(){try{return yield this._useSession(t=>b(this,null,function*(){var a;if(!e){const{data:o,error:l}=t;if(l)throw l;e=(a=o.session)!==null&&a!==void 0?a:void 0}if(!(e!=null&&e.refresh_token))throw new ps;const{data:n,error:i}=yield this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}}))}catch(t){if(ee(t))return{data:{user:null,session:null},error:t};throw t}})}_getSessionFromURL(e,t){return b(this,null,function*(){try{if(!ut())throw new Oa("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Oa(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new jl("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Oa("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new jl("No code detected.");const{data:k,error:x}=yield this._exchangeCodeForSession(e.code);if(x)throw x;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:k.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:n,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:d}=e;if(!i||!l||!o||!d)throw new Oa("No session defined in URL");const u=Math.round(Date.now()/1e3),m=parseInt(l);let f=u+m;c&&(f=parseInt(c));const g=f-u;g*1e3<=rr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${m}s`);const v=f-m;u-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,f,u):u-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,f,u);const{data:S,error:y}=yield this._getUser(i);if(y)throw y;const E={provider_token:a,provider_refresh_token:n,access_token:i,expires_in:m,expires_at:f,refresh_token:o,token_type:d,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:E,redirectType:e.type},error:null}}catch(a){if(ee(a))return{data:{session:null,redirectType:null},error:a};throw a}})}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}_isPKCECallback(e){return b(this,null,function*(){const t=yield Rs(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)})}signOut(){return b(this,arguments,function*(e={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>b(this,null,function*(){return yield this._signOut(e)}))})}_signOut(){return b(this,arguments,function*({scope:e}={scope:"global"}){return yield this._useSession(t=>b(this,null,function*(){var a;const{data:n,error:i}=t;if(i)return{error:i};const o=(a=n.session)===null||a===void 0?void 0:a.access_token;if(o){const{error:l}=yield this.admin.signOut(o,e);if(l&&!(Jg(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(yield this._removeSession(),yield fs(this.storage,`${this.storageKey}-code-verifier`)),{error:null}}))})}onAuthStateChange(e){const t=ix(),a={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,a),b(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>b(this,null,function*(){this._emitInitialSession(t)}))}),{data:{subscription:a}}}_emitInitialSession(e){return b(this,null,function*(){return yield this._useSession(t=>b(this,null,function*(){var a,n;try{const{data:{session:i},error:o}=t;if(o)throw o;yield(a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",i),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){yield(n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}}))})}resetPasswordForEmail(a){return b(this,arguments,function*(e,t={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=yield Js(this.storage,this.storageKey,!0));try{return yield re(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(o){if(ee(o))return{data:null,error:o};throw o}})}getUserIdentities(){return b(this,null,function*(){var e;try{const{data:t,error:a}=yield this.getUser();if(a)throw a;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(ee(t))return{data:null,error:t};throw t}})}linkIdentity(e){return b(this,null,function*(){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)})}linkIdentityOAuth(e){return b(this,null,function*(){var t;try{const{data:a,error:n}=yield this._useSession(i=>b(this,null,function*(){var o,l,c,d,u;const{data:m,error:f}=i;if(f)throw f;const g=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return yield re(this.fetch,"GET",g,{headers:this.headers,jwt:(u=(d=m.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})}));if(n)throw n;return ut()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(a==null?void 0:a.url),{data:{provider:e.provider,url:a==null?void 0:a.url},error:null}}catch(a){if(ee(a))return{data:{provider:e.provider,url:null},error:a};throw a}})}linkIdentityIdToken(e){return b(this,null,function*(){return yield this._useSession(t=>b(this,null,function*(){var a;try{const{error:n,data:{session:i}}=t;if(n)throw n;const{options:o,provider:l,token:c,access_token:d,nonce:u}=e,m=yield re(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=i==null?void 0:i.access_token)!==null&&a!==void 0?a:void 0,body:{provider:l,id_token:c,access_token:d,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Nt}),{data:f,error:g}=m;return g?{data:{user:null,session:null},error:g}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new Zs}:(f.session&&(yield this._saveSession(f.session),yield this._notifyAllSubscribers("USER_UPDATED",f.session)),{data:f,error:g})}catch(n){if(ee(n))return{data:{user:null,session:null},error:n};throw n}}))})}unlinkIdentity(e){return b(this,null,function*(){try{return yield this._useSession(t=>b(this,null,function*(){var a,n;const{data:i,error:o}=t;if(o)throw o;return yield re(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(n=(a=i.session)===null||a===void 0?void 0:a.access_token)!==null&&n!==void 0?n:void 0})}))}catch(t){if(ee(t))return{data:null,error:t};throw t}})}_refreshAccessToken(e){return b(this,null,function*(){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const a=Date.now();return yield dx(n=>b(this,null,function*(){return n>0&&(yield cx(200*Math.pow(2,n-1))),this._debug(t,"refreshing attempt",n),yield re(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Nt})}),(n,i)=>{const o=200*Math.pow(2,n);return i&&$n(i)&&Date.now()+o-a<rr})}catch(a){if(this._debug(t,"error",a),ee(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(t,"end")}})}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}_handleProviderSignIn(e,t){return b(this,null,function*(){const a=yield this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",a),ut()&&!t.skipBrowserRedirect&&window.location.assign(a),{data:{provider:e,url:a},error:null}})}_recoverAndRefresh(){return b(this,null,function*(){var e,t;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const n=yield Rs(this.storage,this.storageKey);if(n&&this.userStorage){let o=yield Rs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:n.user},yield ar(this.userStorage,this.storageKey+"-user",o)),n.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:Bn()}else if(n&&!n.user&&!n.user){const o=yield Rs(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(n.user=o.user,yield fs(this.storage,this.storageKey+"-user"),yield ar(this.storage,this.storageKey,n)):n.user=Bn()}if(this._debug(a,"session from storage",n),!this._isValidSession(n)){this._debug(a,"session is not valid"),n!==null&&(yield this._removeSession());return}const i=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Ln;if(this._debug(a,`session has${i?"":" not"} expired with margin of ${Ln}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=yield this._callRefreshToken(n.refresh_token);o&&(console.error(o),$n(o)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",o),yield this._removeSession()))}}else if(n.user&&n.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=yield this._getUser(n.access_token);!l&&(o!=null&&o.user)?(n.user=o.user,yield this._saveSession(n),yield this._notifyAllSubscribers("SIGNED_IN",n)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(a,"error getting user data, skipping SIGNED_IN notification",o)}else yield this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(a,"error",n),console.error(n);return}finally{this._debug(a,"end")}})}_callRefreshToken(e){return b(this,null,function*(){var t,a;if(!e)throw new ps;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new mn;const{data:i,error:o}=yield this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new ps;yield this._saveSession(i.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(n,"error",i),ee(i)){const o={data:null,error:i};return $n(i)||(yield this._removeSession()),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(o),o}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}})}_notifyAllSubscribers(e,t,a=!0){return b(this,null,function*(){const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",t,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:e,session:t});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(l=>b(this,null,function*(){try{yield l.callback(e,t)}catch(c){i.push(c)}}));if(yield Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(n,"end")}})}_saveSession(e){return b(this,null,function*(){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),a=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&t.user&&(yield ar(this.userStorage,this.storageKey+"-user",{user:t.user}));const n=Object.assign({},t);delete n.user;const i=El(n);yield ar(this.storage,this.storageKey,i)}else{const n=El(t);yield ar(this.storage,this.storageKey,n)}})}_removeSession(){return b(this,null,function*(){this._debug("#_removeSession()"),yield fs(this.storage,this.storageKey),yield fs(this.storage,this.storageKey+"-code-verifier"),yield fs(this.storage,this.storageKey+"-user"),this.userStorage&&(yield fs(this.userStorage,this.storageKey+"-user")),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ut()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}_startAutoRefresh(){return b(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),rr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno!="undefined"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(()=>b(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return b(this,null,function*(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)})}startAutoRefresh(){return b(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return b(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return b(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>b(this,null,function*(){try{const e=Date.now();try{return yield this._useSession(t=>b(this,null,function*(){const{data:{session:a}}=t;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((a.expires_at*1e3-e)/rr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${rr}ms, refresh threshold is ${ji} ticks`),n<=ji&&(yield this._callRefreshToken(a.refresh_token))}))}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(e){if(e.isAcquireTimeout||e instanceof Sd)this._debug("auto refresh token tick lock not available");else throw e}})}_handleVisibilityChange(){return b(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!ut()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>b(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}})}_onVisibilityChanged(e){return b(this,null,function*(){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(yield this.initializePromise,yield this._acquireLock(-1,()=>b(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(e,t,a){return b(this,null,function*(){const n=[`provider=${encodeURIComponent(t)}`];if(a!=null&&a.redirectTo&&n.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a!=null&&a.scopes&&n.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[i,o]=yield Js(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(l.toString())}if(a!=null&&a.queryParams){const i=new URLSearchParams(a.queryParams);n.push(i.toString())}return a!=null&&a.skipBrowserRedirect&&n.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${e}?${n.join("&")}`})}_unenroll(e){return b(this,null,function*(){try{return yield this._useSession(t=>b(this,null,function*(){var a;const{data:n,error:i}=t;return i?{data:null,error:i}:yield re(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(a=n==null?void 0:n.session)===null||a===void 0?void 0:a.access_token})}))}catch(t){if(ee(t))return{data:null,error:t};throw t}})}_enroll(e){return b(this,null,function*(){try{return yield this._useSession(t=>b(this,null,function*(){var a,n;const{data:i,error:o}=t;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:c,error:d}=yield re(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(a=i==null?void 0:i.session)===null||a===void 0?void 0:a.access_token});return d?{data:null,error:d}:(e.factorType==="totp"&&c.type==="totp"&&(!((n=c==null?void 0:c.totp)===null||n===void 0)&&n.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})}))}catch(t){if(ee(t))return{data:null,error:t};throw t}})}_verify(e){return b(this,null,function*(){return this._acquireLock(-1,()=>b(this,null,function*(){try{return yield this._useSession(t=>b(this,null,function*(){var a;const{data:n,error:i}=t;if(i)return{data:null,error:i};const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Ux(e.webauthn.credential_response):Bx(e.webauthn.credential_response)})}:{code:e.code}),{data:l,error:c}=yield re(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(a=n==null?void 0:n.session)===null||a===void 0?void 0:a.access_token});return c?{data:null,error:c}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:c})}))}catch(t){if(ee(t))return{data:null,error:t};throw t}}))})}_challenge(e){return b(this,null,function*(){return this._acquireLock(-1,()=>b(this,null,function*(){try{return yield this._useSession(t=>b(this,null,function*(){var a;const{data:n,error:i}=t;if(i)return{data:null,error:i};const o=yield re(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(a=n==null?void 0:n.session)===null||a===void 0?void 0:a.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:Lx(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:$x(l.webauthn.credential_options.publicKey)})})}),error:null}}}))}catch(t){if(ee(t))return{data:null,error:t};throw t}}))})}_challengeAndVerify(e){return b(this,null,function*(){const{data:t,error:a}=yield this._challenge({factorId:e.factorId});return a?{data:null,error:a}:yield this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})})}_listFactors(){return b(this,null,function*(){var e;const{data:{user:t},error:a}=yield this.getUser();if(a)return{data:null,error:a};const n={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=t==null?void 0:t.factors)!==null&&e!==void 0?e:[])n.all.push(i),i.status==="verified"&&n[i.factor_type].push(i);return{data:n,error:null}})}_getAuthenticatorAssuranceLevel(){return b(this,null,function*(){return this._acquireLock(-1,()=>b(this,null,function*(){return yield this._useSession(e=>b(this,null,function*(){var t,a;const{data:{session:n},error:i}=e;if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Un(n.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((a=(t=n.user.factors)===null||t===void 0?void 0:t.filter(m=>m.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(c="aal2");const u=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}))})}fetchJwk(a){return b(this,arguments,function*(e,t={keys:[]}){let n=t.keys.find(c=>c.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(c=>c.kid===e),n&&this.jwks_cached_at+Kg>i)return n;const{data:o,error:l}=yield re(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=i,n=o.keys.find(c=>c.kid===e),!n)?null:n})}getClaims(a){return b(this,arguments,function*(e,t={}){try{let n=e;if(!n){const{data:v,error:S}=yield this.getSession();if(S||!v.session)return{data:null,error:S};n=v.session.access_token}const{header:i,payload:o,signature:l,raw:{header:c,payload:d}}=Un(n);t!=null&&t.allowExpired||xx(o.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:yield this.fetchJwk(i.kid,t!=null&&t.keys?{keys:t.keys}:t==null?void 0:t.jwks);if(!u){const{error:v}=yield this.getUser(n);if(v)throw v;return{data:{claims:o,header:i,signature:l},error:null}}const m=bx(i.alg),f=yield crypto.subtle.importKey("jwk",u,m,!0,["verify"]);if(!(yield crypto.subtle.verify(m,f,l,ax(`${c}.${d}`))))throw new ki("Invalid JWT signature");return{data:{claims:o,header:i,signature:l},error:null}}catch(n){if(ee(n))return{data:null,error:n};throw n}})}}aa.nextInstanceID=0;const Kx=aa;class Zx extends Kx{constructor(e){super(e)}}class Jx{constructor(e,t,a){var n,i,o;this.supabaseUrl=e,this.supabaseKey=t;const l=qg(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:Dg,realtime:$g,auth:Object.assign(Object.assign({},Lg),{storageKey:c}),global:Mg},u=zg(a!=null?a:{},d);this.storageKey=(n=u.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(m,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=Vg(t,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new Hp(new URL("rest/v1",l).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new Rg(this.storageUrl.href,this.headers,this.fetch,a==null?void 0:a.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new Mp(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},a={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,a)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return b(this,null,function*(){var e,t;if(this.accessToken)return yield this.accessToken();const{data:a}=yield this.auth.getSession();return(t=(e=a.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:a,storage:n,userStorage:i,storageKey:o,flowType:l,lock:c,debug:d},u,m){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Zx({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:o,autoRefreshToken:e,persistSession:t,detectSessionInUrl:a,storage:n,userStorage:i,flowType:l,lock:c,debug:d,fetch:m,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new lg(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,a)=>{this._handleTokenChanged(t,"CLIENT",a==null?void 0:a.access_token)})}_handleTokenChanged(e,t,a){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==a?(this.changedAccessToken=a,this.realtime.setAuth(a)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Xx=(s,e,t)=>new Jx(s,e,t);function Qx(){if(typeof window!="undefined"||typeof process=="undefined")return!1;const s=process.version;if(s==null)return!1;const e=s.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Qx()&&console.warn("âš ï¸  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const eb="https://efnzmpzkzeuktqkghwfa.supabase.co",tb="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVmbnptcHpremV1a3Rxa2dod2ZhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTYyMzE4MzcsImV4cCI6MjA3MTgwNzgzN30.iQiDuurPIkSNjHWP6TID0dATrOCJQ71-kblcsRsHiAk",De=Xx(eb,tb,{db:{schema:"public"},auth:{persistSession:!0,autoRefreshToken:!0},global:{headers:{"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"}}}),bt={SONGS:"songs",ALBUMS:"albums",SETTINGS:"settings"},Qt=(s,e="Supabase operation")=>{throw console.error(`âŒ ${e}:`,s),new Error(`${e}: ${s.message}`)},sb=()=>b(null,null,function*(){try{const{data:s,error:e}=yield De.from(bt.SONGS).select("count").limit(1);if(e){if(e.code==="PGRST116")return console.log("âœ… Connexion Supabase rÃ©ussie (table songs non crÃ©Ã©e)"),!0;throw e}return console.log("âœ… Connexion Supabase rÃ©ussie"),!0}catch(s){return console.error("âŒ Erreur de connexion Supabase:",s),!1}}),rb=s=>{if(!s||typeof s!="string")return{column:"release_date",ascending:!1};let e=!0,t=s.trim();return t.startsWith("-")?(e=!1,t=t.slice(1)):t.startsWith("+")&&(e=!0,t=t.slice(1)),t||(t="release_date"),{column:t,ascending:e}},kt={list(s="release_date",e=null){return b(this,null,function*(){try{const{column:t,ascending:a}=rb(s);let n=De.from(bt.SONGS).select("*").order(t,{ascending:a});e&&(n=n.limit(e));const{data:i,error:o}=yield n;if(o)throw o;return i||[]}catch(t){return Qt(t,"Liste des chansons"),[]}})},get(s){return b(this,null,function*(){try{const{data:e,error:t}=yield De.from(bt.SONGS).select("*").eq("id",s).single();if(t)throw t;return e}catch(e){return Qt(e,`RÃ©cupÃ©ration chanson ID ${s}`),null}})},getBySlug(s){return b(this,null,function*(){try{let{data:e,error:t}=yield De.from(bt.SONGS).select("*").eq("slug",s).maybeSingle();if(!e&&!t){const{data:a,error:n}=yield De.from(bt.SONGS).select("*");if(n)throw n;e=(a==null?void 0:a.find(i=>{var l;const o=(l=i.title)==null?void 0:l.toLowerCase().replace(/\s+/g,"-");return i.slug===s||o===s}))||null}if(t)throw t;return e||null}catch(e){return Qt(e,`RÃ©cupÃ©ration chanson slug ${s}`),null}})},getCurrent(){return b(this,null,function*(){try{console.warn("ðŸ” getCurrent() - DÃ©but de la fonction"),console.warn("ðŸ” Timestamp:",new Date().toISOString());const{data:s,error:e}=yield De.from(bt.SONGS).select("*").eq("status","published").order("created_at",{ascending:!1}).limit(1).single();if(e){if(e.code==="PGRST116")return console.warn(`âš ï¸ Aucune chanson "published" trouvÃ©e, ce n'est pas une erreur.`),null;throw console.error("âŒ Erreur Supabase getCurrent:",e),e}if(console.warn("ðŸ“Š Chanson actuelle trouvÃ©e:",s||null),!s)return console.warn("âš ï¸ Aucune chanson published trouvÃ©e"),null;const t=s;return console.warn("ðŸŽ¯ Chanson sÃ©lectionnÃ©e:",t),console.warn("ðŸ” DEBUG getCurrent - Tri appliquÃ©:"),console.warn("  - Titre:",t==null?void 0:t.title),console.warn("  - created_at:",t==null?void 0:t.created_at),console.warn("  - updated_at:",t==null?void 0:t.updated_at),console.warn("  - release_date:",t==null?void 0:t.release_date),console.warn("  - Status:",t==null?void 0:t.status),t}catch(s){return console.error("âŒ Erreur dans getCurrent:",s),Qt(s,"Chanson actuelle"),null}})},create(s){return b(this,null,function*(){var e,t,a,n,i,o,l,c,d,u;try{const m={title:(e=s.title)==null?void 0:e.trim(),artist:((t=s.artist)==null?void 0:t.trim())||"A MÃºsica da Segunda",description:(a=s.description)==null?void 0:a.trim(),lyrics:(n=s.lyrics)==null?void 0:n.trim(),release_date:s.release_date,status:s.status||"draft",tiktok_video_id:(i=s.tiktok_video_id)==null?void 0:i.trim(),tiktok_url:(o=s.tiktok_url)==null?void 0:o.trim(),tiktok_publication_date:s.tiktok_publication_date,spotify_url:(l=s.spotify_url)==null?void 0:l.trim(),apple_music_url:(c=s.apple_music_url)==null?void 0:c.trim(),youtube_url:(d=s.youtube_url)==null?void 0:d.trim(),cover_image:(u=s.cover_image)==null?void 0:u.trim(),hashtags:Array.isArray(s.hashtags)?s.hashtags:[]},{data:f,error:g}=yield De.from(bt.SONGS).insert([m]).select().single();if(g)throw g;return console.warn("âœ… Chanson crÃ©Ã©e avec succÃ¨s:",f),f}catch(m){throw Qt(m,"CrÃ©ation chanson"),m}})},update(s,e){return b(this,null,function*(){try{console.warn("ðŸ”„ supabaseSongService.update - dÃ©but"),console.warn("ðŸ”„ ID reÃ§u:",s,"Type:",typeof s),console.warn("ðŸ”„ Updates reÃ§us:",JSON.stringify(e,null,2));const t={};Object.keys(e).forEach(i=>{i==="id"||i==="created_at"||i==="updated_at"||e[i]!==void 0&&e[i]!==null&&(i==="hashtags"&&!Array.isArray(e[i])?t[i]=[]:t[i]=e[i])}),console.warn("ðŸ”„ Updates nettoyÃ©s:",JSON.stringify(t,null,2));const{data:a,error:n}=yield De.from(bt.SONGS).update(t).eq("id",s).select().single();if(console.warn("[Supabase][UPDATE] id=",s,"payload=",t),console.warn("ðŸ”„ RÃ©ponse Supabase:",JSON.stringify({data:a,error:n},null,2)),n)throw console.error("[Supabase][UPDATE][ERROR]",n),console.error("âŒ Erreur Supabase:",n.message,`
Code:`,n.code,`
Details:`,n.details,`
Hint:`,n.hint,`
Stack:`,n.stack),new Error(n.message||"Update failed");return console.warn("âœ… Chanson mise Ã  jour avec succÃ¨s:",a),a}catch(t){throw console.error("âŒ Erreur dans supabaseSongService.update:",t),console.error("âŒ DÃ©tails de l'erreur:",{message:t.message,code:t.code,details:t.details,hint:t.hint}),t}})},delete(s){return b(this,null,function*(){try{const{error:e}=yield De.from(bt.SONGS).delete().eq("id",s);if(e)throw e;return console.warn("âœ… Chanson supprimÃ©e avec succÃ¨s ID:",s),!0}catch(e){throw Qt(e,`Suppression chanson ID ${s}`),e}})},search(s){return b(this,null,function*(){try{if(!s||s.trim()==="")return yield this.list();const e=s.trim().toLowerCase(),{data:t,error:a}=yield De.from(bt.SONGS).select("*").or(`title.ilike.%${e}%,artist.ilike.%${e}%,description.ilike.%${e}%`).order("release_date",{ascending:!1});if(a)throw a;return t||[]}catch(e){return Qt(e,"Recherche chansons"),[]}})},getByStatus(s){return b(this,null,function*(){try{const{data:e,error:t}=yield De.from(bt.SONGS).select("*").eq("status",s).order("release_date",{ascending:!1});if(t)throw t;return e||[]}catch(e){return Qt(e,`Chansons par statut: ${s}`),[]}})},getByMonth(s,e){return b(this,null,function*(){try{const t=`${s}-${e.toString().padStart(2,"0")}-01`,a=`${s}-${e.toString().padStart(2,"0")}-31`,{data:n,error:i}=yield De.from(bt.SONGS).select("*").gte("release_date",t).lte("release_date",a).order("release_date",{ascending:!1});if(i)throw i;return n||[]}catch(t){return Qt(t,`Chansons par mois ${e}/${s}`),[]}})}};let La="supabase",Bt=!0;const ab=()=>b(null,null,function*(){try{return console.warn("ðŸ”„ Test de connexion Supabase..."),(yield sb())?(console.warn("âœ… Mode de stockage: Supabase â˜ï¸ (connectÃ©)"),Bt=!0,La="supabase",!0):(console.warn("âš ï¸ Connexion Supabase Ã©chouÃ©e, mais on force quand mÃªme Supabase"),Bt=!0,La="supabase",!0)}catch(s){return console.warn("âš ï¸ Erreur dÃ©tection mode stockage, mais on force Supabase:",s),Bt=!0,La="supabase",!0}});ab().then(()=>{console.warn(`ðŸŽ¯ Mode de stockage final: ${La==="supabase"?"Supabase â˜ï¸":"localStorage ðŸ’¾"}`)});const Je={list:(s="-release_date",e=null)=>b(null,null,function*(){try{console.warn("â˜ï¸ Chargement depuis Supabase...");const t=yield kt.list(s,e);return t&&t.length>0?(console.warn("âœ… Chansons chargÃ©es depuis Supabase:",t.length),t):(console.warn("âš ï¸ Aucune chanson trouvÃ©e dans Supabase"),[])}catch(t){return console.error("Erro ao carregar mÃºsicas desde Supabase:",t),[]}}),get:s=>b(null,null,function*(){try{if(Bt)return yield kt.get(s)}catch(e){return console.error("Erro ao carregar mÃºsica:",e),null}}),getCurrent:()=>b(null,null,function*(){try{if(Bt){const s=yield kt.getCurrent();if(s)return s}return console.warn("âš ï¸ Supabase indisponible ou sans donnÃ©es"),null}catch(s){return console.error("Erro ao carregar mÃºsica atual:",s),null}}),create:s=>b(null,null,function*(){try{console.warn("â˜ï¸ CrÃ©ation via Supabase...");const e=yield kt.create(s);return console.warn("âœ… CrÃ©ation Supabase rÃ©ussie:",e),e}catch(e){throw console.error("âŒ ERREUR CRÃ‰ATION SUPABASE:",e),console.error("âŒ Message:",e.message),console.error("âŒ Code:",e.code),console.error("âŒ Details:",e.details),console.error("âŒ Hint:",e.hint),e}}),update:(s,e)=>b(null,null,function*(){try{console.warn("â˜ï¸ Mise Ã  jour via Supabase..."),console.warn("ðŸ“‹ DonnÃ©es Ã  mettre Ã  jour:",{id:s,updates:e}),console.warn("ðŸ” Type de l'ID:",typeof s),console.warn("ðŸ” Valeur de l'ID:",s),console.warn("ðŸ”„ Appel de supabaseSongService.update...");const t=yield kt.update(s,e);return console.warn("âœ… RÃ©sultat de la mise Ã  jour Supabase:",t),console.warn("âœ… Mise Ã  jour Supabase rÃ©ussie - pas de synchronisation localStorage nÃ©cessaire"),t}catch(t){throw console.error("âŒ ERREUR SUPABASE DÃ‰TAILLÃ‰E:",t),console.error("âŒ Message d'erreur:",t.message),console.error("âŒ Code d'erreur:",t.code),console.error("âŒ DÃ©tails de l'erreur:",t.details),console.error("âŒ Hint:",t.hint),console.error("âŒ Stack trace:",t.stack),console.error("âŒ Erreur complÃ¨te:",JSON.stringify(t,null,2)),console.error("âŒ Ã‰CHEC DE LA MISE Ã€ JOUR SUPABASE - PAS DE FALLBACK"),t}}),delete:s=>b(null,null,function*(){try{console.warn("â˜ï¸ Suppression via Supabase...");const e=yield kt.delete(s);return console.warn("âœ… Suppression Supabase rÃ©ussie:",e),e}catch(e){throw console.error("âŒ ERREUR SUPPRESSION SUPABASE:",e),console.error("âŒ Message:",e.message),console.error("âŒ Code:",e.code),e}}),search:s=>b(null,null,function*(){try{if(Bt)return yield kt.search(s)}catch(e){return console.error("Erro ao pesquisar mÃºsicas:",e),[]}}),getByStatus:s=>b(null,null,function*(){try{if(Bt)return yield kt.getByStatus(s)}catch(e){return console.error("Erro ao carregar mÃºsicas por status:",e),[]}}),getByMonth:(s,e)=>b(null,null,function*(){try{if(Bt)return yield kt.getByMonth(s,e)}catch(t){return console.error("Erro ao carregar mÃºsicas por mÃªs:",t),[]}}),getBySlug:s=>b(null,null,function*(){try{if(Bt)return(yield kt.getBySlug(s))||null}catch(e){return console.error("Erro ao carregar mÃºsica por slug:",e),null}})},nb={list:(s="-release_date",e=25)=>b(null,null,function*(){try{if(Bt){const a=(yield kt.list(s,e)).filter(n=>new Date(n.release_date).getMonth()===11||n.status==="published");return e?a.slice(0,e):a}else{const n=localStorageService.songs.getAll().filter(i=>new Date(i.release_date).getMonth()===11||i.status==="published").sort((i,o)=>new Date(o.release_date)-new Date(i.release_date));return e?n.slice(0,e):n}}catch(t){console.error("Erro ao carregar mÃºsicas do Ano 2025:",t);const i=localStorageService.songs.getAll().filter(o=>new Date(o.release_date).getMonth()===11||o.status==="published").sort((o,l)=>new Date(l.release_date)-new Date(o.release_date));return e?i.slice(0,e):i}})},ib=typeof import.meta!="undefined"&&!0,Ze={debug:(...s)=>{},info:(...s)=>{},warn:(...s)=>{ib||console.warn(...s)},error:(...s)=>{console.error(...s)}};function Ja(){const[s,e]=h.useState(null);return h.useEffect(()=>{const t=()=>{const n=new Date,i=n.getDay(),o=i===0?1:(8-i)%7||7,l=new Date(n);l.setDate(n.getDate()+o),l.setHours(9,0,0,0);const c=l-n;return c>0?{d:Math.floor(c/864e5),h:Math.floor(c/36e5%24),m:Math.floor(c/1e3/60%60),s:Math.floor(c/1e3%60)}:null},a=setInterval(()=>{e(t())},1e3);return e(t()),()=>clearInterval(a)},[]),s?r.jsxs("div",{className:"bg-[#f8f5f2] rounded-3xl p-5 shadow-lg",children:[r.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[r.jsx(fp,{className:"w-5 h-5 text-gray-500"}),r.jsx("h3",{className:"font-semibold text-gray-700",children:"PrÃ³xima mÃºsica em..."})]}),r.jsx("div",{className:"grid grid-cols-4 gap-3 text-center",children:Object.entries(s).map(([t,a])=>r.jsxs("div",{className:"bg-[#e7f1f7] rounded-xl p-3",children:[r.jsx("p",{className:"text-2xl font-bold text-[#32a2dc]",children:a}),r.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase",children:t==="d"?"dias":t==="h"?"horas":t==="m"?"min":"seg"})]},t))})]}):r.jsxs("div",{className:"bg-[#f8f5f2] rounded-3xl p-5 shadow-lg text-center",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Ã‰ Segunda-feira!"}),r.jsx("p",{className:"text-gray-600",children:"A nova mÃºsica jÃ¡ estÃ¡ disponÃ­vel!"})]})}const Ml=s=>typeof s=="boolean"?`${s}`:s===0?"0":s,Dl=Lc,fa=(s,e)=>t=>{var a;if((e==null?void 0:e.variants)==null)return Dl(s,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:n,defaultVariants:i}=e,o=Object.keys(n).map(d=>{const u=t==null?void 0:t[d],m=i==null?void 0:i[d];if(u===null)return null;const f=Ml(u)||Ml(m);return n[d][f]}),l=t&&Object.entries(t).reduce((d,u)=>{let[m,f]=u;return f===void 0||(d[m]=f),d},{}),c=e==null||(a=e.compoundVariants)===null||a===void 0?void 0:a.reduce((d,u)=>{let v=u,{class:m,className:f}=v,g=L(v,["class","className"]);return Object.entries(g).every(S=>{let[y,E]=S;return Array.isArray(E)?E.includes(p(p({},i),l)[y]):p(p({},i),l)[y]===E})?[...d,m,f]:d},[]);return Dl(s,o,c,t==null?void 0:t.class,t==null?void 0:t.className)};function me(...s){return Sh(Lc(s))}const ob=fa("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),B=h.forwardRef((o,i)=>{var l=o,{className:s,variant:e,size:t,asChild:a=!1}=l,n=L(l,["className","variant","size","asChild"]);const c=a?oh:"button";return r.jsx(c,p({className:me(ob({variant:e,size:t,className:s})),ref:i},n))});B.displayName="Button";const Ft=dh,lb=lh,Td=h.forwardRef((a,t)=>{var n=a,{className:s}=n,e=L(n,["className"]);return r.jsx(Ec,p({ref:t,className:me("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s)},e))});Td.displayName=Ec.displayName;const Rt=h.forwardRef((n,a)=>{var i=n,{className:s,children:e}=i,t=L(i,["className","children"]);return r.jsxs(lb,{children:[r.jsx(Td,{}),r.jsxs(Cc,T(p({ref:a,className:me("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s)},t),{children:[e,r.jsxs(ch,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[r.jsx(ht,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]}))]})});Rt.displayName=Cc.displayName;const is=t=>{var a=t,{className:s}=a,e=L(a,["className"]);return r.jsx("div",p({className:me("flex flex-col space-y-1.5 text-center sm:text-left",s)},e))};is.displayName="DialogHeader";const Pt=h.forwardRef((a,t)=>{var n=a,{className:s}=n,e=L(n,["className"]);return r.jsx(Ac,p({ref:t,className:me("text-lg font-semibold leading-none tracking-tight",s)},e))});Pt.displayName=Ac.displayName;const po=h.forwardRef((a,t)=>{var n=a,{className:s}=n,e=L(n,["className"]);return r.jsx(Oc,p({ref:t,className:me("text-sm text-muted-foreground",s)},e))});po.displayName=Oc.displayName;function Ti(s,[e,t]){return Math.min(t,Math.max(e,s))}function cb(s,e){return h.useReducer((t,a)=>{const n=e[t][a];return n!=null?n:t},s)}var go="ScrollArea",[Ed,gw]=Pc(go),[db,wt]=Ed(go),Cd=h.forwardRef((s,e)=>{const U=s,{__scopeScrollArea:t,type:a="hover",dir:n,scrollHideDelay:i=600}=U,o=L(U,["__scopeScrollArea","type","dir","scrollHideDelay"]),[l,c]=h.useState(null),[d,u]=h.useState(null),[m,f]=h.useState(null),[g,v]=h.useState(null),[S,y]=h.useState(null),[E,k]=h.useState(0),[x,w]=h.useState(0),[N,C]=h.useState(!1),[O,F]=h.useState(!1),q=tt(e,te=>c(te)),H=Rc(n);return r.jsx(db,{scope:t,type:a,dir:H,scrollHideDelay:i,scrollArea:l,viewport:d,onViewportChange:u,content:m,onContentChange:f,scrollbarX:g,onScrollbarXChange:v,scrollbarXEnabled:N,onScrollbarXEnabledChange:C,scrollbarY:S,onScrollbarYChange:y,scrollbarYEnabled:O,onScrollbarYEnabledChange:F,onCornerWidthChange:k,onCornerHeightChange:w,children:r.jsx($e.div,T(p({dir:H},o),{ref:q,style:p({position:"relative","--radix-scroll-area-corner-width":E+"px","--radix-scroll-area-corner-height":x+"px"},s.style)}))})});Cd.displayName=go;var Ad="ScrollAreaViewport",Od=h.forwardRef((s,e)=>{const d=s,{__scopeScrollArea:t,children:a,nonce:n}=d,i=L(d,["__scopeScrollArea","children","nonce"]),o=wt(Ad,t),l=h.useRef(null),c=tt(e,l,o.onViewportChange);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),r.jsx($e.div,T(p({"data-radix-scroll-area-viewport":""},i),{ref:c,style:p({overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden"},s.style),children:r.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:a})}))]})});Od.displayName=Ad;var Gt="ScrollAreaScrollbar",xo=h.forwardRef((s,e)=>{const c=s,{forceMount:t}=c,a=L(c,["forceMount"]),n=wt(Gt,s.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=n,l=s.orientation==="horizontal";return h.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),n.type==="hover"?r.jsx(ub,T(p({},a),{ref:e,forceMount:t})):n.type==="scroll"?r.jsx(hb,T(p({},a),{ref:e,forceMount:t})):n.type==="auto"?r.jsx(Rd,T(p({},a),{ref:e,forceMount:t})):n.type==="always"?r.jsx(bo,T(p({},a),{ref:e})):null});xo.displayName=Gt;var ub=h.forwardRef((s,e)=>{const l=s,{forceMount:t}=l,a=L(l,["forceMount"]),n=wt(Gt,s.__scopeScrollArea),[i,o]=h.useState(!1);return h.useEffect(()=>{const c=n.scrollArea;let d=0;if(c){const u=()=>{window.clearTimeout(d),o(!0)},m=()=>{d=window.setTimeout(()=>o(!1),n.scrollHideDelay)};return c.addEventListener("pointerenter",u),c.addEventListener("pointerleave",m),()=>{window.clearTimeout(d),c.removeEventListener("pointerenter",u),c.removeEventListener("pointerleave",m)}}},[n.scrollArea,n.scrollHideDelay]),r.jsx(cn,{present:t||i,children:r.jsx(Rd,T(p({"data-state":i?"visible":"hidden"},a),{ref:e}))})}),hb=h.forwardRef((s,e)=>{const d=s,{forceMount:t}=d,a=L(d,["forceMount"]),n=wt(Gt,s.__scopeScrollArea),i=s.orientation==="horizontal",o=pn(()=>c("SCROLL_END"),100),[l,c]=cb("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return h.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),n.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,n.scrollHideDelay,c]),h.useEffect(()=>{const u=n.viewport,m=i?"scrollLeft":"scrollTop";if(u){let f=u[m];const g=()=>{const v=u[m];f!==v&&(c("SCROLL"),o()),f=v};return u.addEventListener("scroll",g),()=>u.removeEventListener("scroll",g)}},[n.viewport,i,c,o]),r.jsx(cn,{present:t||l!=="hidden",children:r.jsx(bo,T(p({"data-state":l==="hidden"?"hidden":"visible"},a),{ref:e,onPointerEnter:Oe(s.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Oe(s.onPointerLeave,()=>c("POINTER_LEAVE"))}))})}),Rd=h.forwardRef((s,e)=>{const t=wt(Gt,s.__scopeScrollArea),d=s,{forceMount:a}=d,n=L(d,["forceMount"]),[i,o]=h.useState(!1),l=s.orientation==="horizontal",c=pn(()=>{if(t.viewport){const u=t.viewport.offsetWidth<t.viewport.scrollWidth,m=t.viewport.offsetHeight<t.viewport.scrollHeight;o(l?u:m)}},10);return pr(t.viewport,c),pr(t.content,c),r.jsx(cn,{present:a||i,children:r.jsx(bo,T(p({"data-state":i?"visible":"hidden"},n),{ref:e}))})}),bo=h.forwardRef((s,e)=>{const f=s,{orientation:t="vertical"}=f,a=L(f,["orientation"]),n=wt(Gt,s.__scopeScrollArea),i=h.useRef(null),o=h.useRef(0),[l,c]=h.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=Ld(l.viewport,l.content),u=T(p({},a),{sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:g=>i.current=g,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:g=>o.current=g});function m(g,v){return bb(g,o.current,l,v)}return t==="horizontal"?r.jsx(mb,T(p({},u),{ref:e,onThumbPositionChange:()=>{if(n.viewport&&i.current){const g=n.viewport.scrollLeft,v=Ll(g,l,n.dir);i.current.style.transform=`translate3d(${v}px, 0, 0)`}},onWheelScroll:g=>{n.viewport&&(n.viewport.scrollLeft=g)},onDragScroll:g=>{n.viewport&&(n.viewport.scrollLeft=m(g,n.dir))}})):t==="vertical"?r.jsx(fb,T(p({},u),{ref:e,onThumbPositionChange:()=>{if(n.viewport&&i.current){const g=n.viewport.scrollTop,v=Ll(g,l);i.current.style.transform=`translate3d(0, ${v}px, 0)`}},onWheelScroll:g=>{n.viewport&&(n.viewport.scrollTop=g)},onDragScroll:g=>{n.viewport&&(n.viewport.scrollTop=m(g))}})):null}),mb=h.forwardRef((s,e)=>{const u=s,{sizes:t,onSizesChange:a}=u,n=L(u,["sizes","onSizesChange"]),i=wt(Gt,s.__scopeScrollArea),[o,l]=h.useState(),c=h.useRef(null),d=tt(e,c,i.onScrollbarXChange);return h.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),r.jsx(Id,T(p({"data-orientation":"horizontal"},n),{ref:d,sizes:t,style:p({bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":fn(t)+"px"},s.style),onThumbPointerDown:m=>s.onThumbPointerDown(m.x),onDragScroll:m=>s.onDragScroll(m.x),onWheelScroll:(m,f)=>{if(i.viewport){const g=i.viewport.scrollLeft+m.deltaX;s.onWheelScroll(g),Ud(g,f)&&m.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&a({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Qa(o.paddingLeft),paddingEnd:Qa(o.paddingRight)}})}}))}),fb=h.forwardRef((s,e)=>{const u=s,{sizes:t,onSizesChange:a}=u,n=L(u,["sizes","onSizesChange"]),i=wt(Gt,s.__scopeScrollArea),[o,l]=h.useState(),c=h.useRef(null),d=tt(e,c,i.onScrollbarYChange);return h.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),r.jsx(Id,T(p({"data-orientation":"vertical"},n),{ref:d,sizes:t,style:p({top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":fn(t)+"px"},s.style),onThumbPointerDown:m=>s.onThumbPointerDown(m.y),onDragScroll:m=>s.onDragScroll(m.y),onWheelScroll:(m,f)=>{if(i.viewport){const g=i.viewport.scrollTop+m.deltaY;s.onWheelScroll(g),Ud(g,f)&&m.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&a({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Qa(o.paddingTop),paddingEnd:Qa(o.paddingBottom)}})}}))}),[pb,Pd]=Ed(Gt),Id=h.forwardRef((s,e)=>{const q=s,{__scopeScrollArea:t,sizes:a,hasThumb:n,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:u,onResize:m}=q,f=L(q,["__scopeScrollArea","sizes","hasThumb","onThumbChange","onThumbPointerUp","onThumbPointerDown","onThumbPositionChange","onDragScroll","onWheelScroll","onResize"]),g=wt(Gt,t),[v,S]=h.useState(null),y=tt(e,H=>S(H)),E=h.useRef(null),k=h.useRef(""),x=g.viewport,w=a.content-a.viewport,N=xs(u),C=xs(c),O=pn(m,10);function F(H){if(E.current){const U=H.clientX-E.current.left,te=H.clientY-E.current.top;d({x:U,y:te})}}return h.useEffect(()=>{const H=U=>{const te=U.target;(v==null?void 0:v.contains(te))&&N(U,w)};return document.addEventListener("wheel",H,{passive:!1}),()=>document.removeEventListener("wheel",H,{passive:!1})},[x,v,w,N]),h.useEffect(C,[a,C]),pr(v,O),pr(g.content,O),r.jsx(pb,{scope:t,scrollbar:v,hasThumb:n,onThumbChange:xs(i),onThumbPointerUp:xs(o),onThumbPositionChange:C,onThumbPointerDown:xs(l),children:r.jsx($e.div,T(p({},f),{ref:y,style:p({position:"absolute"},f.style),onPointerDown:Oe(s.onPointerDown,H=>{H.button===0&&(H.target.setPointerCapture(H.pointerId),E.current=v.getBoundingClientRect(),k.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",g.viewport&&(g.viewport.style.scrollBehavior="auto"),F(H))}),onPointerMove:Oe(s.onPointerMove,F),onPointerUp:Oe(s.onPointerUp,H=>{const U=H.target;U.hasPointerCapture(H.pointerId)&&U.releasePointerCapture(H.pointerId),document.body.style.webkitUserSelect=k.current,g.viewport&&(g.viewport.style.scrollBehavior=""),E.current=null})}))})}),Xa="ScrollAreaThumb",Md=h.forwardRef((s,e)=>{const i=s,{forceMount:t}=i,a=L(i,["forceMount"]),n=Pd(Xa,s.__scopeScrollArea);return r.jsx(cn,{present:t||n.hasThumb,children:r.jsx(gb,p({ref:e},a))})}),gb=h.forwardRef((s,e)=>{const m=s,{__scopeScrollArea:t,style:a}=m,n=L(m,["__scopeScrollArea","style"]),i=wt(Xa,t),o=Pd(Xa,t),{onThumbPositionChange:l}=o,c=tt(e,f=>o.onThumbChange(f)),d=h.useRef(void 0),u=pn(()=>{d.current&&(d.current(),d.current=void 0)},100);return h.useEffect(()=>{const f=i.viewport;if(f){const g=()=>{if(u(),!d.current){const v=yb(f,l);d.current=v,l()}};return l(),f.addEventListener("scroll",g),()=>f.removeEventListener("scroll",g)}},[i.viewport,u,l]),r.jsx($e.div,T(p({"data-state":o.hasThumb?"visible":"hidden"},n),{ref:c,style:p({width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)"},a),onPointerDownCapture:Oe(s.onPointerDownCapture,f=>{const v=f.target.getBoundingClientRect(),S=f.clientX-v.left,y=f.clientY-v.top;o.onThumbPointerDown({x:S,y})}),onPointerUp:Oe(s.onPointerUp,o.onThumbPointerUp)}))});Md.displayName=Xa;var yo="ScrollAreaCorner",Dd=h.forwardRef((s,e)=>{const t=wt(yo,s.__scopeScrollArea),a=!!(t.scrollbarX&&t.scrollbarY);return t.type!=="scroll"&&a?r.jsx(xb,T(p({},s),{ref:e})):null});Dd.displayName=yo;var xb=h.forwardRef((s,e)=>{const u=s,{__scopeScrollArea:t}=u,a=L(u,["__scopeScrollArea"]),n=wt(yo,t),[i,o]=h.useState(0),[l,c]=h.useState(0),d=!!(i&&l);return pr(n.scrollbarX,()=>{var f;const m=((f=n.scrollbarX)==null?void 0:f.offsetHeight)||0;n.onCornerHeightChange(m),c(m)}),pr(n.scrollbarY,()=>{var f;const m=((f=n.scrollbarY)==null?void 0:f.offsetWidth)||0;n.onCornerWidthChange(m),o(m)}),d?r.jsx($e.div,T(p({},a),{ref:e,style:p({width:i,height:l,position:"absolute",right:n.dir==="ltr"?0:void 0,left:n.dir==="rtl"?0:void 0,bottom:0},s.style)})):null});function Qa(s){return s?parseInt(s,10):0}function Ld(s,e){const t=s/e;return isNaN(t)?0:t}function fn(s){const e=Ld(s.viewport,s.content),t=s.scrollbar.paddingStart+s.scrollbar.paddingEnd,a=(s.scrollbar.size-t)*e;return Math.max(a,18)}function bb(s,e,t,a="ltr"){const n=fn(t),i=n/2,o=e||i,l=n-o,c=t.scrollbar.paddingStart+o,d=t.scrollbar.size-t.scrollbar.paddingEnd-l,u=t.content-t.viewport,m=a==="ltr"?[0,u]:[u*-1,0];return $d([c,d],m)(s)}function Ll(s,e,t="ltr"){const a=fn(e),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-n,o=e.content-e.viewport,l=i-a,c=t==="ltr"?[0,o]:[o*-1,0],d=Ti(s,c);return $d([0,o],[0,l])(d)}function $d(s,e){return t=>{if(s[0]===s[1]||e[0]===e[1])return e[0];const a=(e[1]-e[0])/(s[1]-s[0]);return e[0]+a*(t-s[0])}}function Ud(s,e){return s>0&&s<e}var yb=(s,e=()=>{})=>{let t={left:s.scrollLeft,top:s.scrollTop},a=0;return(function n(){const i={left:s.scrollLeft,top:s.scrollTop},o=t.left!==i.left,l=t.top!==i.top;(o||l)&&e(),t=i,a=window.requestAnimationFrame(n)})(),()=>window.cancelAnimationFrame(a)};function pn(s,e){const t=xs(s),a=h.useRef(0);return h.useEffect(()=>()=>window.clearTimeout(a.current),[]),h.useCallback(()=>{window.clearTimeout(a.current),a.current=window.setTimeout(t,e)},[t,e])}function pr(s,e){const t=xs(e);as(()=>{let a=0;if(s){const n=new ResizeObserver(()=>{cancelAnimationFrame(a),a=window.requestAnimationFrame(t)});return n.observe(s),()=>{window.cancelAnimationFrame(a),n.unobserve(s)}}},[s,t])}var Bd=Cd,vb=Od,wb=Dd;const gn=h.forwardRef((n,a)=>{var i=n,{className:s,children:e}=i,t=L(i,["className","children"]);return r.jsxs(Bd,T(p({ref:a,className:me("relative overflow-hidden",s)},t),{children:[r.jsx(vb,{className:"h-full w-full rounded-[inherit]",children:e}),r.jsx(Vd,{}),r.jsx(wb,{})]}))});gn.displayName=Bd.displayName;const Vd=h.forwardRef((n,a)=>{var i=n,{className:s,orientation:e="vertical"}=i,t=L(i,["className","orientation"]);return r.jsx(xo,T(p({ref:a,orientation:e,className:me("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",s)},t),{children:r.jsx(Md,{className:"relative flex-1 rounded-full bg-border"})}))});Vd.displayName=xo.displayName;function vo({open:s,onOpenChange:e,song:t,title:a="Letras da MÃºsica",maxHeight:n="h-56",showIcon:i=!0}){return t?r.jsx(Ft,{open:s,onOpenChange:e,children:r.jsxs(Rt,{className:"bg-[#f8f5f2] max-w-md max-h-[70vh]",children:[r.jsx(is,{children:r.jsxs(Pt,{className:"text-lg font-bold text-gray-800 flex items-center gap-2",children:[i&&r.jsx(Ht,{className:"w-5 h-5 text-blue-500"}),a]})}),r.jsx("div",{className:"mt-4",children:t.lyrics?r.jsx(gn,{className:n,children:r.jsx("div",{className:"pr-4",children:r.jsx("pre",{className:"text-gray-700 whitespace-pre-wrap font-sans text-sm leading-relaxed",children:t.lyrics})})}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Ht,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),r.jsx("p",{className:"text-gray-600 font-medium",children:"Letras nÃ£o disponÃ­veis"}),r.jsx("p",{className:"text-gray-500 text-sm",children:"As letras desta mÃºsica serÃ£o adicionadas em breve."})]})})]})}):null}function Fd({videoId:s,className:e="",title:t="YouTube Video"}){const a=h.useRef(null);if(h.useEffect(()=>{console.warn("ðŸŽ¬ YouTubePlayer - videoId reÃ§u:",s),console.warn("ðŸŽ¬ YouTubePlayer - title:",t),a.current&&(console.warn("ðŸ” YouTubePlayer - iframe ref existe:",a.current),console.warn("ðŸ” YouTubePlayer - iframe src:",a.current.src),console.warn("ðŸ” YouTubePlayer - iframe computed style:",window.getComputedStyle(a.current)),console.warn("ðŸ” YouTubePlayer - iframe offsetWidth:",a.current.offsetWidth),console.warn("ðŸ” YouTubePlayer - iframe offsetHeight:",a.current.offsetHeight))},[s,t]),!s)return console.warn("âŒ YouTubePlayer - videoId est vide ou null"),null;const n=typeof window!="undefined"?window.location.origin:"",i=`https://www.youtube-nocookie.com/embed/${s}?rel=0&modestbranding=1&playsinline=1&controls=1&enablejsapi=1${n?`&origin=${encodeURIComponent(n)}`:""}`;console.warn("ðŸŽ¬ YouTubePlayer - URL iframe gÃ©nÃ©rÃ©e:",i);const o=()=>{console.warn("âœ… YouTubePlayer - iframe chargÃ©e avec succÃ¨s")},l=c=>{console.error("âŒ YouTubePlayer - Erreur de chargement iframe:",c)};return r.jsx("div",{className:`${e}`,style:{position:"relative",width:"100%",paddingBottom:"56.25%",backgroundColor:"#000"},children:r.jsx("iframe",{ref:a,title:t,src:i,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",border:0,display:"block"},allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0,referrerPolicy:"strict-origin-when-cross-origin",loading:"lazy",onLoad:o,onError:l})})}function _b({playlistUrl:s,className:e="",title:t="YouTube Playlist"}){if(!s)return null;const n=(i=>{const o=i.match(/[?&]list=([A-Za-z0-9_-]+)/);return o?o[1]:null})(s);if(s.includes("music.youtube.com"))return r.jsx("div",{className:`${e} bg-gradient-to-br from-gray-800 to-gray-900 rounded-2xl p-8 text-center text-white`,children:r.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4",children:[r.jsx("div",{className:"w-16 h-16 bg-red-600 rounded-full flex items-center justify-center",children:r.jsx("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"})})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Playlist YouTube Music"}),r.jsx("p",{className:"text-gray-300 text-sm mb-4",children:"Cette musique est disponible dans une playlist YouTube Music"}),r.jsxs("a",{href:s,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 bg-red-600 hover:bg-red-700 text-white px-6 py-3 rounded-xl font-semibold transition-colors",children:[r.jsx(Ds,{className:"w-5 h-5"}),"Ouvrir la playlist sur YouTube Music"]})]})]})});if(n){const i=typeof window!="undefined"?window.location.origin:"",o=`https://www.youtube-nocookie.com/embed/videoseries?list=${n}&rel=0&modestbranding=1&playsinline=1&controls=1${i?`&origin=${encodeURIComponent(i)}`:""}`;return r.jsx("div",{className:`${e}`,style:{position:"relative",width:"100%",paddingBottom:"56.25%"},children:r.jsx("iframe",{title:t,src:o,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",border:0},allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0,referrerPolicy:"strict-origin-when-cross-origin",loading:"lazy"})})}return null}const jb={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 mÃªs",other:"cerca de {{count}} meses"},xMonths:{one:"1 mÃªs",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},Sb=(s,e,t)=>{let a;const n=jb[s];return typeof n=="string"?a=n:e===1?a=n.one:a=n.other.replace("{{count}}",String(e)),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"em "+a:"hÃ¡ "+a:a},Nb={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},kb={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Tb={full:"{{date}} 'Ã s' {{time}}",long:"{{date}} 'Ã s' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Eb={date:Tn({formats:Nb,defaultWidth:"full"}),time:Tn({formats:kb,defaultWidth:"full"}),dateTime:Tn({formats:Tb,defaultWidth:"full"})},Cb={lastWeek:s=>{const e=s.getDay();return"'"+(e===0||e===6?"Ãºltimo":"Ãºltima")+"' eeee 'Ã s' p"},yesterday:"'ontem Ã s' p",today:"'hoje Ã s' p",tomorrow:"'amanhÃ£ Ã s' p",nextWeek:"eeee 'Ã s' p",other:"P"},Ab=(s,e,t,a)=>{const n=Cb[s];return typeof n=="function"?n(e):n},Ob={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},Rb={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1Âº trimestre","2Âº trimestre","3Âº trimestre","4Âº trimestre"]},Pb={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","marÃ§o","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},Ib={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","terÃ§a","quarta","quinta","sexta","sÃ¡bado"],wide:["domingo","segunda-feira","terÃ§a-feira","quarta-feira","quinta-feira","sexta-feira","sÃ¡bado"]},Mb={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manhÃ£",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manhÃ£",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manhÃ£",afternoon:"tarde",evening:"tarde",night:"noite"}},Db={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manhÃ£",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manhÃ£",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manhÃ£",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},Lb=(s,e)=>{const t=Number(s);return(e==null?void 0:e.unit)==="week"?t+"Âª":t+"Âº"},$b={ordinalNumber:Lb,era:Or({values:Ob,defaultWidth:"wide"}),quarter:Or({values:Rb,defaultWidth:"wide",argumentCallback:s=>s-1}),month:Or({values:Pb,defaultWidth:"wide"}),day:Or({values:Ib,defaultWidth:"wide"}),dayPeriod:Or({values:Mb,defaultWidth:"wide",formattingValues:Db,defaultFormattingWidth:"wide"})},Ub=/^(\d+)[ÂºÂªo]?/i,Bb=/\d+/i,Vb={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},Fb={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},zb={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](Âº)? trimestre/i},qb={any:[/1/i,/2/i,/3/i,/4/i]},Hb={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|marÃ§o|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},Wb={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},Yb={narrow:/^(dom|[23456]Âª?|s[aÃ¡]b)/i,short:/^(dom|[23456]Âª?|s[aÃ¡]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[aÃ¡]b)/i,wide:/^(domingo|(segunda|ter[cÃ§]a|quarta|quinta|sexta)([- ]feira)?|s[aÃ¡]bado)/i},Gb={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aÃ¡]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aÃ¡]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[aÃ¡]b/i]},Kb={narrow:/^(a|p|mn|md|(da) (manhÃ£|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manhÃ£|tarde|noite))/i},Zb={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manhÃ£/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},Jb={ordinalNumber:Nh({matchPattern:Ub,parsePattern:Bb,valueCallback:s=>parseInt(s,10)}),era:Rr({matchPatterns:Vb,defaultMatchWidth:"wide",parsePatterns:Fb,defaultParseWidth:"any"}),quarter:Rr({matchPatterns:zb,defaultMatchWidth:"wide",parsePatterns:qb,defaultParseWidth:"any",valueCallback:s=>s+1}),month:Rr({matchPatterns:Hb,defaultMatchWidth:"wide",parsePatterns:Wb,defaultParseWidth:"any"}),day:Rr({matchPatterns:Yb,defaultMatchWidth:"wide",parsePatterns:Gb,defaultParseWidth:"any"}),dayPeriod:Rr({matchPatterns:Kb,defaultMatchWidth:"any",parsePatterns:Zb,defaultParseWidth:"any"})},pe={code:"pt-BR",formatDistance:Sb,formatLong:Eb,formatRelative:Ab,localize:$b,match:Jb,options:{weekStartsOn:0,firstWeekContainsDate:1}},rt={SONGS:"musica-da-segunda-songs",ALBUMS:"musica-da-segunda-albums",SETTINGS:"musica-da-segunda-settings"},Fn=[{id:1,slug:"croissant",title:"O Croissant",artist:"A MÃºsica da Segunda",description:'A mÃºsica "O Croissant" brinca com o cho',release_date:"2025-02-03",status:"published",genre:"Indie",tiktok_video_id:"sample_tiktok_1"},{id:2,slug:"confissoes-bancarias",title:"ConfissÃµes BancÃ¡rias",artist:"A MÃºsica da Segunda",description:"ConfissÃµes sobre a vida bancÃ¡ria e financeira",release_date:"2025-08-25",status:"published",genre:"Indie",tiktok_video_id:"sample_tiktok_2"},{id:3,slug:"festas-juninas",title:"Festas Juninas",artist:"A MÃºsica da Segunda",description:"Celebrando as tradicionais festas juninas brasileiras",release_date:"2025-06-30",status:"published",genre:"MÃºsica Brasileira",tiktok_video_id:"sample_tiktok_3"},{id:4,slug:"cafe-no-brasil",title:"CafÃ© no Brasil",artist:"A MÃºsica da Segunda",description:"Uma ode ao cafÃ© brasileiro e sua cultura",release_date:"2025-07-14",status:"published",genre:"MÃºsica Brasileira",tiktok_video_id:"sample_tiktok_4"}],wo={initialize(){try{const s=this.songs.getAll();s.length===0?(localStorage.setItem(rt.SONGS,JSON.stringify(Fn)),console.warn("ðŸ”„ localStorage initialisÃ© avec donnÃ©es de fallback:",Fn.length,"chansons")):console.warn("ðŸ”„ localStorage dÃ©jÃ  initialisÃ© avec:",s.length,"chansons")}catch(s){console.error("âŒ Erreur initialisation localStorage:",s),localStorage.setItem(rt.SONGS,JSON.stringify(Fn))}},forceReset(){localStorage.setItem(rt.SONGS,JSON.stringify([])),console.warn("ðŸ”„ localStorage rÃ©initialisÃ© - donnÃ©es Supabase uniquement")},cleanConfissoesBancarias(){try{const s=this.songs.getAll(),e=s.filter(t=>t.title!=="ConfissÃµes BancÃ¡rias"&&t.tiktok_video_id!=="7540762684149517590");if(e.length!==s.length){const t=e.map((a,n)=>T(p({},a),{id:n+1}));return localStorage.setItem(rt.SONGS,JSON.stringify(t)),console.warn(`ðŸ§¹ "ConfissÃµes BancÃ¡rias" supprimÃ©e du localStorage. ${s.length-e.length} chanson(s) nettoyÃ©e(s)`),!0}return console.warn("âœ… localStorage dÃ©jÃ  propre, aucune action nÃ©cessaire"),!1}catch(s){return console.error("âŒ Erreur lors du nettoyage:",s),!1}},songs:{getAll(){try{const s=localStorage.getItem(rt.SONGS);return s?JSON.parse(s):[]}catch(s){return console.error("Erro ao carregar mÃºsicas:",s),[]}},getById(s){return this.getAll().find(t=>t.id===s)||null},getCurrent(){const e=this.getAll().filter(t=>t.status==="published");return e.length===0?null:(e.sort((t,a)=>new Date(a.release_date)-new Date(t.release_date)),e[0])},create(s){try{const e=this.getAll(),t=T(p({},s),{id:Date.now(),created_at:new Date().toISOString(),updated_at:new Date().toISOString()});return e.push(t),localStorage.setItem(rt.SONGS,JSON.stringify(e)),t}catch(e){throw console.error("Erro ao criar mÃºsica:",e),e}},update(s,e){try{const t=this.getAll(),a=t.findIndex(n=>n.id===s);if(a===-1)throw new Error("MÃºsica nÃ£o encontrada");return t[a]=T(p(p({},t[a]),e),{updated_at:new Date().toISOString()}),localStorage.setItem(rt.SONGS,JSON.stringify(t)),t[a]}catch(t){throw console.error("Erro ao atualizar mÃºsica:",t),t}},delete(s){try{const t=this.getAll().filter(a=>a.id!==s);return localStorage.setItem(rt.SONGS,JSON.stringify(t)),!0}catch(e){throw console.error("Erro ao deletar mÃºsica:",e),e}},search(s){const e=this.getAll();if(!s)return e;const t=s.toLowerCase();return e.filter(a=>{var n;return a.title.toLowerCase().includes(t)||a.artist.toLowerCase().includes(t)||((n=a.description)==null?void 0:n.toLowerCase().includes(t))})}},albums:{getAll(){try{const s=localStorage.getItem(rt.ALBUMS);return s?JSON.parse(s):[]}catch(s){return console.error("Erro ao carregar Ã¡lbuns:",s),[]}},create(s){try{const e=this.getAll(),t=T(p({},s),{id:Date.now(),created_at:new Date().toISOString()});return e.push(t),localStorage.setItem(rt.ALBUMS,JSON.stringify(e)),t}catch(e){throw console.error("Erro ao criar Ã¡lbum:",e),e}}},clearAll(){localStorage.removeItem(rt.SONGS),localStorage.removeItem(rt.ALBUMS),localStorage.removeItem(rt.SETTINGS)},exportData(){return{songs:this.songs.getAll(),albums:this.albums.getAll(),exportDate:new Date().toISOString()}},importData(s){try{return s.songs&&localStorage.setItem(rt.SONGS,JSON.stringify(s.songs)),s.albums&&localStorage.setItem(rt.ALBUMS,JSON.stringify(s.albums)),!0}catch(e){throw console.error("Erro ao importar dados:",e),e}}};wo.initialize();function Ts({title:s,description:e,keywords:t,image:a,url:n,type:i="website"}){const o="MÃºsica da Segunda",l="https://www.amusicadasegunda.com",c=`${l}/icons/icon-512x512.png`,d=s?`${s} | ${o}`:o,u=e||"Descubra uma nova mÃºsica incrÃ­vel toda segunda-feira. Sua dose semanal de descobertas musicais.",m=t||"mÃºsica, segunda-feira, descobertas musicais, nova mÃºsica, playlist semanal, mÃºsica brasileira, indie music",f=a||c,g=n?`${l}${n}`:l;h.useEffect(()=>{if(typeof document!="undefined")try{document.title=d;const v=(x,w,N)=>{let C=document.querySelector(`meta[${x}="${w}"]`);C||(C=document.createElement("meta"),C.setAttribute(x,w),document.head.appendChild(C)),C.setAttribute("content",N)},S=x=>{let w=document.querySelector('link[rel="canonical"]');w||(w=document.createElement("link"),w.setAttribute("rel","canonical"),document.head.appendChild(w)),w.setAttribute("href",x)};v("name","description",u),v("name","keywords",m),v("property","og:title",d),v("property","og:description",u),v("property","og:url",g),v("property","og:image",f),v("property","og:type",i),v("property","og:site_name",o),v("property","og:locale","pt_BR"),v("name","twitter:card","summary_large_image"),v("name","twitter:site","@amusicadasegunda"),v("name","twitter:title",d),v("name","twitter:description",u),v("name","twitter:image",f),S(g);const y={"@context":"https://schema.org","@type":i==="article"?"Article":"WebPage",headline:d,description:u,image:f,url:g,publisher:{"@type":"Organization",name:o,url:l,logo:{"@type":"ImageObject",url:c,width:512,height:512},sameAs:["https://www.tiktok.com/@amusicadasegunda","https://open.spotify.com/user/amusicadasegunda"]},mainEntityOfPage:{"@type":"WebPage","@id":g}},E="dynamic-page-jsonld";let k=document.getElementById(E);k||(k=document.createElement("script"),k.type="application/ld+json",k.id=E,document.head.appendChild(k)),k.textContent=JSON.stringify(y)}catch(v){console.error("Erro ao atualizar SEO:",v)}},[d,u,m,f,g,i,c])}var zn,$l;function Xb(){if($l)return zn;$l=1;var s=typeof Element!="undefined",e=typeof Map=="function",t=typeof Set=="function",a=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function n(i,o){if(i===o)return!0;if(i&&o&&typeof i=="object"&&typeof o=="object"){if(i.constructor!==o.constructor)return!1;var l,c,d;if(Array.isArray(i)){if(l=i.length,l!=o.length)return!1;for(c=l;c--!==0;)if(!n(i[c],o[c]))return!1;return!0}var u;if(e&&i instanceof Map&&o instanceof Map){if(i.size!==o.size)return!1;for(u=i.entries();!(c=u.next()).done;)if(!o.has(c.value[0]))return!1;for(u=i.entries();!(c=u.next()).done;)if(!n(c.value[1],o.get(c.value[0])))return!1;return!0}if(t&&i instanceof Set&&o instanceof Set){if(i.size!==o.size)return!1;for(u=i.entries();!(c=u.next()).done;)if(!o.has(c.value[0]))return!1;return!0}if(a&&ArrayBuffer.isView(i)&&ArrayBuffer.isView(o)){if(l=i.length,l!=o.length)return!1;for(c=l;c--!==0;)if(i[c]!==o[c])return!1;return!0}if(i.constructor===RegExp)return i.source===o.source&&i.flags===o.flags;if(i.valueOf!==Object.prototype.valueOf&&typeof i.valueOf=="function"&&typeof o.valueOf=="function")return i.valueOf()===o.valueOf();if(i.toString!==Object.prototype.toString&&typeof i.toString=="function"&&typeof o.toString=="function")return i.toString()===o.toString();if(d=Object.keys(i),l=d.length,l!==Object.keys(o).length)return!1;for(c=l;c--!==0;)if(!Object.prototype.hasOwnProperty.call(o,d[c]))return!1;if(s&&i instanceof Element)return!1;for(c=l;c--!==0;)if(!((d[c]==="_owner"||d[c]==="__v"||d[c]==="__o")&&i.$$typeof)&&!n(i[d[c]],o[d[c]]))return!1;return!0}return i!==i&&o!==o}return zn=function(o,l){try{return n(o,l)}catch(c){if((c.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw c}},zn}var Qb=Xb();const ey=ca(Qb);var qn,Ul;function ty(){if(Ul)return qn;Ul=1;var s=function(e,t,a,n,i,o,l,c){if(!e){var d;if(t===void 0)d=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[a,n,i,o,l,c],m=0;d=new Error(t.replace(/%s/g,function(){return u[m++]})),d.name="Invariant Violation"}throw d.framesToPop=1,d}};return qn=s,qn}var sy=ty();const Bl=ca(sy);var Hn,Vl;function ry(){return Vl||(Vl=1,Hn=function(e,t,a,n){var i=a?a.call(n,e,t):void 0;if(i!==void 0)return!!i;if(e===t)return!0;if(typeof e!="object"||!e||typeof t!="object"||!t)return!1;var o=Object.keys(e),l=Object.keys(t);if(o.length!==l.length)return!1;for(var c=Object.prototype.hasOwnProperty.bind(t),d=0;d<o.length;d++){var u=o[d];if(!c(u))return!1;var m=e[u],f=t[u];if(i=a?a.call(n,m,f,u):void 0,i===!1||i===void 0&&m!==f)return!1}return!0}),Hn}var ay=ry();const ny=ca(ay);var zd=(s=>(s.BASE="base",s.BODY="body",s.HEAD="head",s.HTML="html",s.LINK="link",s.META="meta",s.NOSCRIPT="noscript",s.SCRIPT="script",s.STYLE="style",s.TITLE="title",s.FRAGMENT="Symbol(react.fragment)",s))(zd||{}),Wn={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},Fl=Object.values(zd),_o={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},iy=Object.entries(_o).reduce((s,[e,t])=>(s[t]=e,s),{}),Ot="data-rh",cr={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},dr=(s,e)=>{for(let t=s.length-1;t>=0;t-=1){const a=s[t];if(Object.prototype.hasOwnProperty.call(a,e))return a[e]}return null},oy=s=>{let e=dr(s,"title");const t=dr(s,cr.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),t&&e)return t.replace(/%s/g,()=>e);const a=dr(s,cr.DEFAULT_TITLE);return e||a||void 0},ly=s=>dr(s,cr.ON_CHANGE_CLIENT_STATE)||(()=>{}),Yn=(s,e)=>e.filter(t=>typeof t[s]!="undefined").map(t=>t[s]).reduce((t,a)=>p(p({},t),a),{}),cy=(s,e)=>e.filter(t=>typeof t.base!="undefined").map(t=>t.base).reverse().reduce((t,a)=>{if(!t.length){const n=Object.keys(a);for(let i=0;i<n.length;i+=1){const l=n[i].toLowerCase();if(s.indexOf(l)!==-1&&a[l])return t.concat(a)}}return t},[]),dy=s=>console&&typeof console.warn=="function"&&console.warn(s),Ir=(s,e,t)=>{const a={};return t.filter(n=>Array.isArray(n[s])?!0:(typeof n[s]!="undefined"&&dy(`Helmet: ${s} should be of type "Array". Instead found type "${typeof n[s]}"`),!1)).map(n=>n[s]).reverse().reduce((n,i)=>{const o={};i.filter(c=>{let d;const u=Object.keys(c);for(let f=0;f<u.length;f+=1){const g=u[f],v=g.toLowerCase();e.indexOf(v)!==-1&&!(d==="rel"&&c[d].toLowerCase()==="canonical")&&!(v==="rel"&&c[v].toLowerCase()==="stylesheet")&&(d=v),e.indexOf(g)!==-1&&(g==="innerHTML"||g==="cssText"||g==="itemprop")&&(d=g)}if(!d||!c[d])return!1;const m=c[d].toLowerCase();return a[d]||(a[d]={}),o[d]||(o[d]={}),a[d][m]?!1:(o[d][m]=!0,!0)}).reverse().forEach(c=>n.push(c));const l=Object.keys(o);for(let c=0;c<l.length;c+=1){const d=l[c],u=p(p({},a[d]),o[d]);a[d]=u}return n},[]).reverse()},uy=(s,e)=>{if(Array.isArray(s)&&s.length){for(let t=0;t<s.length;t+=1)if(s[t][e])return!0}return!1},hy=s=>({baseTag:cy(["href"],s),bodyAttributes:Yn("bodyAttributes",s),defer:dr(s,cr.DEFER),encode:dr(s,cr.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Yn("htmlAttributes",s),linkTags:Ir("link",["rel","href"],s),metaTags:Ir("meta",["name","charset","http-equiv","property","itemprop"],s),noscriptTags:Ir("noscript",["innerHTML"],s),onChangeClientState:ly(s),scriptTags:Ir("script",["src","innerHTML"],s),styleTags:Ir("style",["cssText"],s),title:oy(s),titleAttributes:Yn("titleAttributes",s),prioritizeSeoTags:uy(s,cr.PRIORITIZE_SEO_TAGS)}),qd=s=>Array.isArray(s)?s.join(""):s,my=(s,e)=>{const t=Object.keys(s);for(let a=0;a<t.length;a+=1)if(e[t[a]]&&e[t[a]].includes(s[t[a]]))return!0;return!1},Gn=(s,e)=>Array.isArray(s)?s.reduce((t,a)=>(my(a,e)?t.priority.push(a):t.default.push(a),t),{priority:[],default:[]}):{default:s,priority:[]},zl=(s,e)=>T(p({},s),{[e]:void 0}),fy=["noscript","script","style"],Ei=(s,e=!0)=>e===!1?String(s):String(s).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),Hd=s=>Object.keys(s).reduce((e,t)=>{const a=typeof s[t]!="undefined"?`${t}="${s[t]}"`:`${t}`;return e?`${e} ${a}`:a},""),py=(s,e,t,a)=>{const n=Hd(t),i=qd(e);return n?`<${s} ${Ot}="true" ${n}>${Ei(i,a)}</${s}>`:`<${s} ${Ot}="true">${Ei(i,a)}</${s}>`},gy=(s,e,t=!0)=>e.reduce((a,n)=>{const i=n,o=Object.keys(i).filter(d=>!(d==="innerHTML"||d==="cssText")).reduce((d,u)=>{const m=typeof i[u]=="undefined"?u:`${u}="${Ei(i[u],t)}"`;return d?`${d} ${m}`:m},""),l=i.innerHTML||i.cssText||"",c=fy.indexOf(s)===-1;return`${a}<${s} ${Ot}="true" ${o}${c?"/>":`>${l}</${s}>`}`},""),Wd=(s,e={})=>Object.keys(s).reduce((t,a)=>{const n=_o[a];return t[n||a]=s[a],t},e),xy=(s,e,t)=>{const a={key:e,[Ot]:!0},n=Wd(t,a);return[Vt.createElement("title",n,e)]},$a=(s,e)=>e.map((t,a)=>{const n={key:a,[Ot]:!0};return Object.keys(t).forEach(i=>{const l=_o[i]||i;if(l==="innerHTML"||l==="cssText"){const c=t.innerHTML||t.cssText;n.dangerouslySetInnerHTML={__html:c}}else n[l]=t[i]}),Vt.createElement(s,n)}),yt=(s,e,t=!0)=>{switch(s){case"title":return{toComponent:()=>xy(s,e.title,e.titleAttributes),toString:()=>py(s,e.title,e.titleAttributes,t)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>Wd(e),toString:()=>Hd(e)};default:return{toComponent:()=>$a(s,e),toString:()=>gy(s,e,t)}}},by=({metaTags:s,linkTags:e,scriptTags:t,encode:a})=>{const n=Gn(s,Wn.meta),i=Gn(e,Wn.link),o=Gn(t,Wn.script);return{priorityMethods:{toComponent:()=>[...$a("meta",n.priority),...$a("link",i.priority),...$a("script",o.priority)],toString:()=>`${yt("meta",n.priority,a)} ${yt("link",i.priority,a)} ${yt("script",o.priority,a)}`},metaTags:n.default,linkTags:i.default,scriptTags:o.default}},yy=s=>{const{baseTag:e,bodyAttributes:t,encode:a=!0,htmlAttributes:n,noscriptTags:i,styleTags:o,title:l="",titleAttributes:c,prioritizeSeoTags:d}=s;let{linkTags:u,metaTags:m,scriptTags:f}=s,g={toComponent:()=>{},toString:()=>""};return d&&({priorityMethods:g,linkTags:u,metaTags:m,scriptTags:f}=by(s)),{priority:g,base:yt("base",e,a),bodyAttributes:yt("bodyAttributes",t,a),htmlAttributes:yt("htmlAttributes",n,a),link:yt("link",u,a),meta:yt("meta",m,a),noscript:yt("noscript",i,a),script:yt("script",f,a),style:yt("style",o,a),title:yt("title",{title:l,titleAttributes:c},a)}},Ci=yy,Ra=[],Yd=!!(typeof window!="undefined"&&window.document&&window.document.createElement),Ai=class{constructor(s,e){dt(this,"instances",[]);dt(this,"canUseDOM",Yd);dt(this,"context");dt(this,"value",{setHelmet:s=>{this.context.helmet=s},helmetInstances:{get:()=>this.canUseDOM?Ra:this.instances,add:s=>{(this.canUseDOM?Ra:this.instances).push(s)},remove:s=>{const e=(this.canUseDOM?Ra:this.instances).indexOf(s);(this.canUseDOM?Ra:this.instances).splice(e,1)}}});this.context=s,this.canUseDOM=e||!1,e||(s.helmet=Ci({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},vy={},Gd=Vt.createContext(vy),$s,Kd=($s=class extends h.Component{constructor(t){super(t);dt(this,"helmetData");this.helmetData=new Ai(this.props.context||{},$s.canUseDOM)}render(){return Vt.createElement(Gd.Provider,{value:this.helmetData.value},this.props.children)}},dt($s,"canUseDOM",Yd),$s),tr=(s,e)=>{const t=document.head||document.querySelector("head"),a=t.querySelectorAll(`${s}[${Ot}]`),n=[].slice.call(a),i=[];let o;return e&&e.length&&e.forEach(l=>{const c=document.createElement(s);for(const d in l)if(Object.prototype.hasOwnProperty.call(l,d))if(d==="innerHTML")c.innerHTML=l.innerHTML;else if(d==="cssText")c.styleSheet?c.styleSheet.cssText=l.cssText:c.appendChild(document.createTextNode(l.cssText));else{const u=d,m=typeof l[u]=="undefined"?"":l[u];c.setAttribute(d,m)}c.setAttribute(Ot,"true"),n.some((d,u)=>(o=u,c.isEqualNode(d)))?n.splice(o,1):i.push(c)}),n.forEach(l=>{var c;return(c=l.parentNode)==null?void 0:c.removeChild(l)}),i.forEach(l=>t.appendChild(l)),{oldTags:n,newTags:i}},Oi=(s,e)=>{const t=document.getElementsByTagName(s)[0];if(!t)return;const a=t.getAttribute(Ot),n=a?a.split(","):[],i=[...n],o=Object.keys(e);for(const l of o){const c=e[l]||"";t.getAttribute(l)!==c&&t.setAttribute(l,c),n.indexOf(l)===-1&&n.push(l);const d=i.indexOf(l);d!==-1&&i.splice(d,1)}for(let l=i.length-1;l>=0;l-=1)t.removeAttribute(i[l]);n.length===i.length?t.removeAttribute(Ot):t.getAttribute(Ot)!==o.join(",")&&t.setAttribute(Ot,o.join(","))},wy=(s,e)=>{typeof s!="undefined"&&document.title!==s&&(document.title=qd(s)),Oi("title",e)},ql=(s,e)=>{const{baseTag:t,bodyAttributes:a,htmlAttributes:n,linkTags:i,metaTags:o,noscriptTags:l,onChangeClientState:c,scriptTags:d,styleTags:u,title:m,titleAttributes:f}=s;Oi("body",a),Oi("html",n),wy(m,f);const g={baseTag:tr("base",t),linkTags:tr("link",i),metaTags:tr("meta",o),noscriptTags:tr("noscript",l),scriptTags:tr("script",d),styleTags:tr("style",u)},v={},S={};Object.keys(g).forEach(y=>{const{newTags:E,oldTags:k}=g[y];E.length&&(v[y]=E),k.length&&(S[y]=g[y].oldTags)}),e&&e(),c(s,v,S)},Mr=null,_y=s=>{Mr&&cancelAnimationFrame(Mr),s.defer?Mr=requestAnimationFrame(()=>{ql(s,()=>{Mr=null})}):(ql(s),Mr=null)},jy=_y,Hl=class extends h.Component{constructor(){super(...arguments);dt(this,"rendered",!1)}shouldComponentUpdate(e){return!ny(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:t}=this.props.context;let a=null;const n=hy(e.get().map(i=>{const o=p({},i.props);return delete o.context,o}));Kd.canUseDOM?jy(n):Ci&&(a=Ci(n)),t(a)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},oi,It=(oi=class extends h.Component{shouldComponentUpdate(s){return!ey(zl(this.props,"helmetData"),zl(s,"helmetData"))}mapNestedChildrenToProps(s,e){if(!e)return null;switch(s.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${s.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(s,e,t,a){return T(p({},e),{[s.type]:[...e[s.type]||[],p(p({},t),this.mapNestedChildrenToProps(s,a))]})}mapObjectTypeChildren(s,e,t,a){switch(s.type){case"title":return T(p({},e),{[s.type]:a,titleAttributes:p({},t)});case"body":return T(p({},e),{bodyAttributes:p({},t)});case"html":return T(p({},e),{htmlAttributes:p({},t)});default:return T(p({},e),{[s.type]:p({},t)})}}mapArrayTypeChildrenToProps(s,e){let t=p({},e);return Object.keys(s).forEach(a=>{t=T(p({},t),{[a]:s[a]})}),t}warnOnInvalidChildren(s,e){return Bl(Fl.some(t=>s.type===t),typeof s.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${Fl.join(", ")} are allowed. Helmet does not support rendering <${s.type}> elements. Refer to our API for more information.`),Bl(!e||typeof e=="string"||Array.isArray(e)&&!e.some(t=>typeof t!="string"),`Helmet expects a string as a child of <${s.type}>. Did you forget to wrap your children in braces? ( <${s.type}>{\`\`}</${s.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(s,e){let t={};return Vt.Children.forEach(s,a=>{if(!a||!a.props)return;const c=a.props,{children:n}=c,i=L(c,["children"]),o=Object.keys(i).reduce((d,u)=>(d[iy[u]||u]=i[u],d),{});let{type:l}=a;switch(typeof l=="symbol"?l=l.toString():this.warnOnInvalidChildren(a,n),l){case"Symbol(react.fragment)":e=this.mapChildrenToProps(n,e);break;case"link":case"meta":case"noscript":case"script":case"style":t=this.flattenArrayTypeChildren(a,t,o,n);break;default:e=this.mapObjectTypeChildren(a,e,o,n);break}}),this.mapArrayTypeChildrenToProps(t,e)}render(){const n=this.props,{children:s}=n,e=L(n,["children"]);let t=p({},e),{helmetData:a}=e;if(s&&(t=this.mapChildrenToProps(s,t)),a&&!(a instanceof Ai)){const i=a;a=new Ai(i.context,!0),delete t.helmetData}return a?Vt.createElement(Hl,T(p({},t),{context:a.value})):Vt.createElement(Gd.Consumer,null,i=>Vt.createElement(Hl,T(p({},t),{context:i})))}},dt(oi,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),oi);const Sy=20,Ny=1e6,ss={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"};let Kn=0;function ky(){return Kn=(Kn+1)%Number.MAX_VALUE,Kn.toString()}const Zn=new Map,Wl=s=>{if(Zn.has(s))return;const e=setTimeout(()=>{Zn.delete(s),Xr({type:ss.REMOVE_TOAST,toastId:s})},Ny);Zn.set(s,e)},Ty=(s,e)=>{switch(e.type){case ss.ADD_TOAST:return T(p({},s),{toasts:[e.toast,...s.toasts].slice(0,Sy)});case ss.UPDATE_TOAST:return T(p({},s),{toasts:s.toasts.map(t=>t.id===e.toast.id?p(p({},t),e.toast):t)});case ss.DISMISS_TOAST:{const{toastId:t}=e;return t?Wl(t):s.toasts.forEach(a=>{Wl(a.id)}),T(p({},s),{toasts:s.toasts.map(a=>a.id===t||t===void 0?T(p({},a),{open:!1}):a)})}case ss.REMOVE_TOAST:return e.toastId===void 0?T(p({},s),{toasts:[]}):T(p({},s),{toasts:s.toasts.filter(t=>t.id!==e.toastId)})}},Ua=[];let Ba={toasts:[]};function Xr(s){Ba=Ty(Ba,s),Ua.forEach(e=>{e(Ba)})}function Ey(e){var s=L(e,[]);const t=ky(),a=i=>Xr({type:ss.UPDATE_TOAST,toast:T(p({},i),{id:t})}),n=()=>Xr({type:ss.DISMISS_TOAST,toastId:t});return Xr({type:ss.ADD_TOAST,toast:T(p({},s),{id:t,open:!0,onOpenChange:i=>{i||n()}})}),{id:t,dismiss:n,update:a}}function Zd(){const[s,e]=h.useState(Ba);return h.useEffect(()=>(Ua.push(e),()=>{const t=Ua.indexOf(e);t>-1&&Ua.splice(t,1)}),[s]),T(p({},s),{toast:Ey,dismiss:t=>Xr({type:ss.DISMISS_TOAST,toastId:t})})}function Yl({youtube_music_url:s,youtube_url:e,title:t}){const a=s||e||"",i=(d=>{if(!d||typeof d!="string")return null;try{const u=d.toLowerCase(),m=d.match(/[?&]list=([A-Za-z0-9_-]+)/);if(m)return{id:m[1],type:"playlist"};const f=[/(?:youtube\.com\/shorts\/)([A-Za-z0-9_-]{11})/,/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/|youtube\.com\/v\/)([A-Za-z0-9_-]{11})/,/^([A-Za-z0-9_-]{11})$/];for(const g of f){const v=d.match(g);if(v)return{id:v[1],type:"video"}}if(u.includes("music.youtube.com")){const g=d.match(/[?&]v=([A-Za-z0-9_-]{11})/);if(g)return{id:g[1],type:"video"}}return null}catch(u){return null}})(a);if(!i)return r.jsx("div",{className:"w-full aspect-video rounded-lg overflow-hidden shadow-lg flex items-center justify-center bg-gradient-to-br from-gray-800 to-gray-900",children:r.jsx("p",{className:"text-white text-sm",children:"VidÃ©o non disponible"})});const o=a.includes("/shorts/"),l="https://www.youtube-nocookie.com/embed",c=i.type==="video"?`${l}/${i.id}?rel=0&modestbranding=1&playsinline=1&controls=1`:`${l}/videoseries?list=${i.id}&rel=0&modestbranding=1&playsinline=1&controls=1`;return o?r.jsx("div",{className:"relative rounded-lg overflow-hidden shadow-2xl",style:{width:"100%",aspectRatio:"9/16",minHeight:"min(500px, 70vh)",maxHeight:"70vh"},children:r.jsx("iframe",{className:"absolute top-0 left-0 w-full h-full",src:c,title:t||"YouTube Short",frameBorder:"0",referrerPolicy:"strict-origin-when-cross-origin",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,loading:"lazy"})}):r.jsx("div",{className:"w-full aspect-video rounded-lg overflow-hidden shadow-lg",children:r.jsx("iframe",{className:"w-full h-full",src:c,title:t||"YouTube",frameBorder:"0",referrerPolicy:"strict-origin-when-cross-origin",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,loading:"lazy"})})}function Gl(){const s=un(),{toast:e}=Zd(),[t,a]=h.useState(null),[n,i]=h.useState([]),[o,l]=h.useState(!0),[c,d]=h.useState(null),[u,m]=h.useState(null),[f,g]=h.useState(!1),[v,S]=h.useState(!1),[y,E]=h.useState(!1),[k,x]=h.useState(!1),[w,N]=h.useState(null),[C,O]=h.useState(null);h.useEffect(()=>{wo.initialize(),F(),q()},[]);const F=()=>b(null,null,function*(){l(!0),d(null);try{Ze.debug("ðŸ”„ Tentative de chargement depuis Supabase..."),console.warn("ðŸ”„ loadCurrentSong appelÃ© Ã :",new Date().toISOString());const M=yield Je.getCurrent();Ze.debug("ðŸ“Š Chanson actuelle chargÃ©e:",M),M?(console.warn("ðŸŽµ Chanson chargÃ©e:",{title:M.title,created_at:M.created_at,updated_at:M.updated_at,release_date:M.release_date,id:M.id}),M.title==="Rio continua lindo (sÃ³ que nÃ£o)"&&(console.error("âš ï¸ PROBLÃˆME: Ancienne chanson chargÃ©e (Rio) au lieu de William!"),console.error("âš ï¸ VÃ©rifier les dates dans Supabase et le tri"))):console.warn("âš ï¸ Aucune chanson chargÃ©e"),a(M),O(M)}catch(M){Ze.error("âŒ Erro ao carregar mÃºsica atual:",M),d("Erro ao carregar a mÃºsica da semana. Tente novamente.")}finally{l(!1)}}),q=()=>b(null,null,function*(){try{Ze.debug("ðŸ”„ Chargement des musiques rÃ©centes depuis Supabase...");const M=yield Je.list("-release_date",null);Ze.debug("ðŸ“Š Toutes les musiques chargÃ©es:",M);const A=new Date,ie=Ki(A),le=Zi(A),$=M.filter(W=>{const ot=ge(W.release_date);return $c(ot,{start:ie,end:le})});Ze.debug("ðŸ“… Musiques du mois en cours:",$),i($)}catch(M){Ze.error("âŒ Erro ao carregar mÃºsicas recentes:",M)}}),H=()=>{F()},U=(M,A)=>{A&&(A.preventDefault(),A.stopPropagation()),Ze.debug("ðŸŽµ handleReplaceVideo appelÃ© avec:",M.title),O(M),window.scrollTo({top:0,behavior:"smooth"})},te=M=>{N(M),S(!0)},ye=M=>{N(M),E(!0)},Me=M=>{N(M),x(!0)},Le=M=>b(null,null,function*(){if(navigator.share)try{yield navigator.share({title:`${M.title} - ${M.artist}`,text:"Confira esta mÃºsica incrÃ­vel da MÃºsica da Segunda!",url:M.youtube_music_url||M.youtube_url||window.location.href})}catch(A){}else{const A=`${M.title} - ${M.artist}
Confira esta mÃºsica incrÃ­vel da MÃºsica da Segunda!`;navigator.clipboard.writeText(A),e({title:"âœ… Copiado!",description:"Link copiado para a Ã¡rea de transferÃªncia",duration:3e3})}}),se=()=>{const M=new Date;return M.setMonth(M.getMonth()-1),oe(M,"yyyy-MM")},Ee=()=>{const M=se();s(`/calendar?month=${M}`)};return Ts({title:"A MÃºsica da Segunda: ParÃ³dias das NotÃ­cias do Brasil",description:"A MÃºsica da Segunda: As NotÃ­cias do Brasil em Forma de ParÃ³dia. Site oficial de parÃ³dias musicais inteligentes e divertidas.",keywords:"mÃºsica da segunda, parÃ³dias musicais, notÃ­cias do brasil, mÃºsica brasileira, descoberta musical, nova mÃºsica toda segunda",image:t==null?void 0:t.cover_image,url:"/",type:"website"}),o?r.jsxs("div",{className:"p-5 max-w-md mx-auto md:max-w-2xl lg:max-w-4xl",children:[r.jsxs(It,{children:[r.jsx("title",{children:"A MÃºsica da Segunda: ParÃ³dias das NotÃ­cias do Brasil"}),r.jsx("meta",{name:"description",content:"A MÃºsica da Segunda: As NotÃ­cias do Brasil em Forma de ParÃ³dia. Site oficial de parÃ³dias musicais inteligentes e divertidas."})]}),r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-black text-white drop-shadow-lg mb-2",children:"A MÃºsica da Segunda"}),r.jsx("p",{className:"text-white/80 font-medium text-lg md:text-xl drop-shadow-md",children:"Descubra mÃºsica nova toda segunda-feira"})]}),r.jsx("div",{className:"flex items-center justify-center py-20",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),r.jsx("p",{className:"text-white/80",children:"Carregando mÃºsica da semana..."})]})})]}):c?r.jsxs("div",{className:"p-5 max-w-md mx-auto md:max-w-2xl lg:max-w-4xl",children:[r.jsxs(It,{children:[r.jsx("title",{children:"A MÃºsica da Segunda: ParÃ³dias das NotÃ­cias do Brasil"}),r.jsx("meta",{name:"description",content:"A MÃºsica da Segunda: As NotÃ­cias do Brasil em Forma de ParÃ³dia. Site oficial de parÃ³dias musicais inteligentes e divertidas."})]}),r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h2",{className:"text-4xl md:text-5xl lg:text-6xl font-black text-white drop-shadow-lg mb-2",children:"MÃºsica da Segunda"}),r.jsx("p",{className:"text-white/80 font-medium text-lg md:text-xl drop-shadow-md",children:"Descubra mÃºsica nova toda segunda-feira"})]}),r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-3xl p-6 text-center",children:[r.jsx(_s,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold text-red-800 mb-2",children:"Erro ao carregar"}),r.jsx("p",{className:"text-red-600 mb-4",children:c}),r.jsxs("button",{onClick:H,className:"inline-flex items-center gap-2 bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg transition-colors",children:[r.jsx(bs,{className:"w-4 h-4"}),"Tentar novamente"]})]})]}):r.jsxs("div",{className:"p-5 max-w-md mx-auto md:max-w-2xl lg:max-w-4xl",children:[r.jsx("div",{className:"lg:hidden text-center mb-8",children:r.jsxs("div",{className:"flex items-center justify-center gap-4 mb-4",children:[r.jsx("div",{className:"w-16 h-16 rounded-full overflow-hidden border-4 border-white/20 shadow-xl flex-shrink-0",children:r.jsx(ta,{src:"images/Musica da segunda.jpg",alt:"Logo MÃºsica da Segunda",className:"w-full h-full object-cover",loading:"lazy"})}),r.jsxs("div",{className:"text-left",children:[r.jsx("h1",{className:"text-2xl md:text-3xl font-black text-white drop-shadow-lg mb-1",children:"A MÃºsica da Segunda"}),r.jsx("p",{className:"text-white/80 font-medium text-sm md:text-base drop-shadow-md",children:"Descubra mÃºsica nova toda segunda-feira"})]})]})}),r.jsxs("div",{className:"hidden lg:block text-center mb-8",children:[r.jsx("h1",{className:"text-4xl md:text-5xl font-black text-white drop-shadow-lg mb-2",children:"A MÃºsica da Segunda"}),r.jsx("p",{className:"text-white/80 font-medium text-lg md:text-xl drop-shadow-md",children:"Descubra mÃºsica nova toda segunda-feira"})]}),r.jsxs("div",{className:"hidden lg:grid lg:grid-cols-2 lg:gap-8 lg:mt-8",children:[r.jsxs("div",{className:"space-y-6",children:[C?r.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-lg",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4 text-center",children:r.jsxs("button",{onClick:()=>Me(C),className:"inline-flex items-center gap-2 hover:text-blue-600 transition-colors cursor-pointer",title:"Ver descriÃ§Ã£o da mÃºsica",children:[r.jsx("span",{className:"text-2xl",children:"â„¹ï¸"}),r.jsx("span",{children:C.title})]})}),r.jsx("p",{className:"text-gray-600 text-center mb-4",children:oe(ge(C.release_date),"dd/MM/yyyy",{locale:pe})}),r.jsx(Yl,{youtube_music_url:C.youtube_music_url,youtube_url:C.youtube_url,title:C.title}),r.jsxs("div",{className:"mt-4 text-center",children:[r.jsx("h4",{className:"font-bold text-gray-800 text-lg mb-2",children:C.title}),r.jsx("p",{className:"text-gray-600",children:C.artist}),r.jsx("p",{className:"text-gray-500 text-sm mt-1",children:oe(ge(C.release_date),"dd/MM/yyyy",{locale:pe})})]}),r.jsx("div",{className:"mt-6",children:r.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[r.jsx(B,{variant:"outline",className:"bg-white/70 hover:bg-white/90 text-gray-700 font-semibold border-gray-300 py-3 rounded-2xl text-sm",onClick:()=>te(C),children:"Plataformas"}),r.jsx(B,{variant:"outline",className:"bg-white/70 hover:bg-white/90 text-gray-700 font-semibold border-gray-300 py-3 rounded-2xl text-sm",onClick:()=>ye(C),children:"Letras"}),r.jsx(B,{variant:"outline",className:"bg-white/70 hover:bg-white/90 text-gray-700 font-semibold border-gray-300 py-3 rounded-2xl text-sm",onClick:()=>Le(C),children:"Compartilhar"})]})})]}):r.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-lg",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4 text-center",children:"â„¹ï¸ Nenhuma mÃºsica disponÃ­vel"}),r.jsx("div",{className:"bg-gradient-to-br from-gray-100 to-gray-200 rounded-2xl flex items-center justify-center",style:{height:"min(70vh, 600px)",aspectRatio:"16/9"},children:r.jsxs("div",{className:"text-center text-gray-500",children:[r.jsx(_e,{className:"w-16 h-16 mx-auto mb-4"}),r.jsx("p",{className:"text-lg font-medium",children:"Nenhuma mÃºsica disponÃ­vel"}),r.jsx("p",{className:"text-sm",children:"Volte na segunda-feira!"})]})})]}),r.jsx(Ja,{})]}),r.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-lg",children:[r.jsx("div",{className:"mb-6",children:r.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center gap-3",children:[r.jsx(Dt,{className:"w-6 h-6 text-blue-600"}),"MÃºsicas do MÃªs"]})}),n.length>0?r.jsx("div",{className:"space-y-4",children:n.map(M=>r.jsx("div",{className:"bg-white rounded-2xl p-4 shadow-md hover:shadow-lg transition-all duration-200 border border-gray-100",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-500 rounded-xl flex items-center justify-center flex-shrink-0 shadow-md hover:shadow-lg transition-all duration-200 cursor-pointer transform hover:scale-105",onClick:A=>U(M,A),title:"Clique para ver esta mÃºsica na coluna de vÃ­deo",children:r.jsx(pt,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-800 truncate cursor-pointer hover:underline",onClick:A=>U(M,A),title:"Clique para ver esta mÃºsica na coluna de vÃ­deo",children:M.title}),r.jsx("p",{className:"text-gray-600 text-base font-medium mt-1",children:M.artist}),r.jsx("p",{className:"text-gray-500 text-sm font-medium mt-1",children:oe(ge(M.release_date),"dd/MM/yyyy",{locale:pe})})]})]})},M.id))}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(_e,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500",children:"Nenhuma mÃºsica publicada este mÃªs ainda"})]}),r.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:r.jsxs("button",{onClick:Ee,className:"inline-flex items-center gap-2 text-gray-500 hover:text-gray-700 text-sm transition-colors group cursor-pointer",children:[r.jsx(hr,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"}),"Ver mÃºsicas de ",oe(new Date(new Date().setMonth(new Date().getMonth()-1)),"MMMM yyyy",{locale:pe})]})})]})]}),r.jsxs("div",{className:"lg:hidden",children:[C?r.jsx("div",{className:"mb-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-3",children:r.jsx("div",{className:"flex items-start justify-between",children:r.jsxs("div",{className:"flex-1",children:[r.jsx("h2",{className:"text-lg font-bold text-gray-800 leading-tight line-clamp-2",children:C.title}),r.jsx("p",{className:"text-sm text-blue-700 mt-1",children:oe(ge(C.release_date),"dd/MM/yyyy",{locale:pe})})]})})}),r.jsx("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden mb-4",children:r.jsx(Yl,{youtube_music_url:C.youtube_music_url,youtube_url:C.youtube_url,title:C.title})}),r.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-4",children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs(B,{variant:"outline",className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-700 py-3 px-4 rounded-xl font-medium transition-colors",onClick:()=>te(C),children:[r.jsx(_e,{className:"w-5 h-5 inline mr-2"}),"Plataformas"]}),C.lyrics&&C.lyrics.trim()&&r.jsxs(B,{variant:"outline",className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-700 py-3 px-4 rounded-xl font-medium transition-colors",onClick:()=>ye(C),children:[r.jsx(Ht,{className:"w-5 h-5 inline mr-2"}),"Letras"]}),r.jsxs(B,{variant:"outline",className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-700 py-3 px-4 rounded-xl font-medium transition-colors",onClick:()=>Le(C),children:[r.jsx(pt,{className:"w-5 h-5 inline mr-2"}),"Compartilhar"]})]})})]})}):r.jsxs("div",{className:"bg-white/20 rounded-3xl p-8 text-center",children:[r.jsx(_e,{className:"w-16 h-16 text-white/60 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Nenhuma mÃºsica disponÃ­vel"}),r.jsx("p",{className:"text-white/80",children:"A mÃºsica da semana serÃ¡ publicada em breve. Volte na segunda-feira!"})]}),r.jsx(Ja,{}),r.jsx("div",{className:"mt-8",children:r.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-lg",children:[r.jsx("div",{className:"mb-6",children:r.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center gap-3",children:[r.jsx(Dt,{className:"w-6 h-6 text-blue-600"}),"MÃºsicas do MÃªs"]})}),n.length>0?r.jsx("div",{className:"space-y-4",children:n.map(M=>r.jsx("div",{className:"bg-white rounded-2xl p-4 shadow-md hover:shadow-lg transition-all duration-200 border border-gray-100",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-500 rounded-xl flex items-center justify-center flex-shrink-0 shadow-md hover:shadow-lg transition-all duration-200 cursor-pointer transform hover:scale-105",onClick:A=>U(M,A),title:"Clique para ver esta mÃºsica na coluna de vÃ­deo",children:r.jsx(pt,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"font-bold text-gray-800 text-lg truncate cursor-pointer hover:underline",onClick:A=>U(M,A),title:"Clique para ver esta mÃºsica na coluna de vÃ­deo",children:M.title}),r.jsx("p",{className:"text-gray-600 text-base font-medium mt-1",children:M.artist}),r.jsx("p",{className:"text-gray-500 text-sm font-medium mt-1",children:oe(ge(M.release_date),"dd/MM/yyyy",{locale:pe})})]})]})},M.id))}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(_e,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500",children:"Nenhuma mÃºsica publicada este mÃªs ainda"})]}),r.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:r.jsxs("button",{onClick:Ee,className:"inline-flex items-center gap-2 text-gray-500 hover:text-gray-700 text-sm transition-colors group cursor-pointer",children:[r.jsx(hr,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"}),"Ver mÃºsicas de ",oe(new Date(new Date().setMonth(new Date().getMonth()-1)),"MMMM yyyy",{locale:pe})]})})]})})]}),r.jsx(Ft,{open:v,onOpenChange:S,children:r.jsxs(Rt,{className:"bg-[#f8f5f2] max-w-md",children:[r.jsx(is,{children:r.jsx(Pt,{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:"ðŸŽµ Ouvir em outras plataformas"})}),w&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-4 border border-blue-200",children:[r.jsx("h3",{className:"text-lg font-bold text-blue-900 mb-1",children:w.title}),r.jsx("p",{className:"text-blue-700 font-medium",children:w.artist})]}),r.jsxs("div",{className:"space-y-3",children:[w.spotify_url&&r.jsx("a",{href:w.spotify_url,target:"_blank",rel:"noopener noreferrer",className:"block",children:r.jsx(B,{className:"w-full bg-[#1DB954] hover:bg-[#1ed760] text-white font-bold py-3 rounded-2xl text-sm transition-all duration-200 hover:scale-105",children:"ðŸŽ§ Ouvir no Spotify"})}),w.apple_music_url&&r.jsx("a",{href:w.apple_music_url,target:"_blank",rel:"noopener noreferrer",className:"block",children:r.jsx(B,{className:"w-full bg-gradient-to-r from-[#FA233B] to-[#FB5C74] hover:opacity-90 text-white font-bold py-3 rounded-2xl text-sm transition-all duration-200 hover:scale-105",children:"ðŸŽµ Ouvir no Apple Music"})}),(w.youtube_music_url||w.youtube_url)&&r.jsx("a",{href:w.youtube_music_url||w.youtube_url,target:"_blank",rel:"noopener noreferrer",className:"block",children:r.jsx(B,{className:"w-full bg-[#FF0000] hover:bg-[#cc0000] text-white font-bold py-3 rounded-2xl text-sm transition-all duration-200 hover:scale-105",children:"ðŸ“º Assistir no YouTube"})}),!w.spotify_url&&!w.apple_music_url&&!w.youtube_music_url&&!w.youtube_url&&r.jsxs("div",{className:"text-center py-6",children:[r.jsx(_e,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),r.jsx("p",{className:"text-gray-600 font-medium",children:"Links de streaming em breve..."}),r.jsx("p",{className:"text-gray-500 text-sm",children:"Esta mÃºsica serÃ¡ disponibilizada em breve nas principais plataformas."})]})]})]})]})}),r.jsx(vo,{open:y,onOpenChange:E,song:w,title:"ðŸ“ Letras da MÃºsica",maxHeight:"h-52",showIcon:!1}),r.jsx(Ft,{open:k,onOpenChange:x,children:r.jsxs(Rt,{className:"bg-[#f8f5f2] max-w-2xl max-h-[80vh]",children:[r.jsx(is,{children:r.jsx(Pt,{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:"â„¹ï¸ DescriÃ§Ã£o da MÃºsica"})}),w&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-4 border border-blue-200",children:[r.jsx("h3",{className:"text-lg font-bold text-blue-900 mb-1",children:w.title}),r.jsx("p",{className:"text-blue-700 font-medium",children:w.artist}),r.jsxs("p",{className:"text-blue-600 text-sm",children:["ðŸ“… ",oe(ge(w.release_date),"dd/MM/yyyy",{locale:pe})]})]}),r.jsx("div",{className:"bg-white rounded-xl p-4 border border-gray-200",children:w.description?r.jsx(gn,{className:"h-60",children:r.jsx("div",{className:"pr-4",children:r.jsx("pre",{className:"text-gray-700 whitespace-pre-wrap font-sans text-sm leading-relaxed",children:w.description})})}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Ht,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),r.jsx("p",{className:"text-gray-600 font-medium",children:"DescriÃ§Ã£o nÃ£o disponÃ­vel"}),r.jsx("p",{className:"text-gray-500 text-sm",children:"A descriÃ§Ã£o desta mÃºsica serÃ¡ adicionada em breve."})]})})]})]})})]})}function Kl(t){var a=t,{children:s}=a,e=L(a,["children"]);return r.jsx("span",T(p({},e),{className:"sr-only",style:{position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",border:"0"},children:s}))}function Cy({youtube_music_url:s,youtube_url:e,title:t}){const a=s||e||"",i=(d=>{if(!d||typeof d!="string")return null;try{const u=d.match(/[?&]list=([A-Za-z0-9_-]+)/);if(u)return{id:u[1],type:"playlist"};const m=[/(?:youtube\.com\/shorts\/)([A-Za-z0-9_-]{11})/,/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/|youtube\.com\/v\/)([A-Za-z0-9_-]{11})/,/^([A-Za-z0-9_-]{11})$/];for(const f of m){const g=d.match(f);if(g)return{id:g[1],type:"video"}}if(d.toLowerCase().includes("music.youtube.com")){const f=d.match(/[?&]v=([A-Za-z0-9_-]{11})/);if(f)return{id:f[1],type:"video"}}return null}catch(u){return null}})(a);if(!i)return r.jsx("div",{className:"w-full aspect-video rounded-lg overflow-hidden shadow-lg flex items-center justify-center bg-gradient-to-br from-gray-800 to-gray-900",children:r.jsx("p",{className:"text-white text-sm",children:"VidÃ©o non disponible"})});const o=a.includes("/shorts/"),l="https://www.youtube-nocookie.com/embed",c=i.type==="video"?`${l}/${i.id}?rel=0&modestbranding=1&playsinline=1&controls=1`:`${l}/videoseries?list=${i.id}&rel=0&modestbranding=1&playsinline=1&controls=1`;return o?r.jsx("div",{className:"relative rounded-lg overflow-hidden shadow-2xl",style:{width:"100%",aspectRatio:"9/16",minHeight:"min(500px, 70vh)",maxHeight:"70vh"},children:r.jsx("iframe",{className:"absolute top-0 left-0 w-full h-full",src:c,title:t||"YouTube Short",frameBorder:"0",referrerPolicy:"strict-origin-when-cross-origin",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,loading:"lazy"})}):r.jsx("div",{className:"w-full aspect-video rounded-lg overflow-hidden shadow-lg",children:r.jsx("iframe",{className:"w-full h-full",src:c,title:t||"YouTube",frameBorder:"0",referrerPolicy:"strict-origin-when-cross-origin",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,loading:"lazy"})})}function Ay({song:s,onClose:e,onShowDescription:t}){const[a,n]=h.useState(!1),[i,o]=h.useState(!1),[l,c]=h.useState(!1),d=h.useRef(null);if(h.useEffect(()=>{const f=g=>{d.current&&!d.current.contains(g.target)&&c(!1)};return document.addEventListener("mousedown",f),()=>{document.removeEventListener("mousedown",f)}},[]),!s||!s.id||!s.title)return r.jsxs("div",{className:"bg-white rounded-2xl p-6 text-center text-gray-500",children:[r.jsx("div",{className:"mb-4",children:r.jsx(_s,{className:"w-12 h-12 text-red-400 mx-auto"})}),r.jsx("p",{className:"text-lg font-medium mb-2",children:"Erro ao carregar mÃºsica"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Dados da mÃºsica invÃ¡lidos ou incompletos"}),e&&r.jsx("button",{onClick:e,className:"mt-4 bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition-colors",children:"Fechar"})]});const u=[];s.spotify_url&&u.push({name:"Spotify",url:s.spotify_url,icon:pt,color:"bg-green-500"}),s.apple_music_url&&u.push({name:"Apple Music",url:s.apple_music_url,icon:pt,color:"bg-pink-500"}),s.youtube_url&&u.push({name:"YouTube",url:s.youtube_url,icon:mr,color:"bg-red-500"});const m=f=>{f&&window.open(f,"_blank","noopener,noreferrer")};return r.jsxs("div",{className:"relative w-full",children:[e&&r.jsx("button",{onClick:e,className:"absolute top-2 right-2 z-50 w-10 h-10 bg-black/50 hover:bg-black/70 backdrop-blur-sm rounded-full flex items-center justify-center transition-all duration-200 shadow-lg","aria-label":"Fermer",children:r.jsx(ht,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{className:"space-y-3",children:[(s.youtube_music_url||s.youtube_url)&&r.jsxs("div",{className:"relative",children:[r.jsx(Cy,{youtube_music_url:s.youtube_music_url,youtube_url:s.youtube_url,title:s.title}),r.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent p-4 pt-8",children:[r.jsx("h2",{className:"text-white font-bold text-lg leading-tight drop-shadow-lg mb-1",children:s.title}),r.jsx("p",{className:"text-white/90 text-sm font-medium drop-shadow-md",children:new Date(s.release_date).toLocaleDateString("pt-BR",{day:"numeric",month:"long",year:"numeric"})})]})]}),r.jsx("div",{className:"bg-white/95 backdrop-blur-md rounded-2xl shadow-xl p-3",children:r.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[r.jsxs("div",{className:"relative",ref:d,children:[r.jsxs("button",{className:"w-full bg-gradient-to-br from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white py-3 px-2 rounded-xl font-bold transition-all duration-200 flex flex-col items-center justify-center space-y-1 shadow-lg hover:shadow-xl transform hover:scale-105",onClick:()=>c(!l),children:[r.jsx(_e,{className:"w-5 h-5"}),r.jsx("span",{className:"text-xs",children:"Ouvir"}),u.length>0&&r.jsx("span",{className:"absolute -top-1 -right-1 text-xs bg-red-500 text-white w-5 h-5 rounded-full flex items-center justify-center font-bold shadow-md",children:u.length})]}),l&&r.jsx("div",{className:"absolute bottom-full left-0 right-auto mb-2 w-64 bg-white rounded-xl shadow-2xl border border-gray-200 p-3 z-50",children:u.length>0?r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-xs text-gray-500 font-bold mb-2 uppercase",children:"DisponÃ­vel em:"}),u.map((f,g)=>r.jsxs("button",{onClick:()=>m(f.url),className:"w-full flex items-center gap-3 p-2 rounded-lg hover:bg-gray-100 transition-colors text-left group",children:[r.jsx("div",{className:`w-10 h-10 rounded-lg ${f.color} flex items-center justify-center shadow-md group-hover:scale-110 transition-transform`,children:r.jsx(f.icon,{className:"w-5 h-5 text-white"})}),r.jsx("span",{className:"text-sm font-bold text-gray-800 flex-1",children:f.name}),r.jsx(Ds,{className:"w-4 h-4 text-gray-400 group-hover:text-gray-600"})]},g))]}):r.jsxs("div",{className:"text-center py-3",children:[r.jsx(_e,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Nenhuma plataforma"})]})})]}),s.lyrics&&s.lyrics.trim()?r.jsxs("button",{onClick:()=>n(!0),className:"w-full bg-gradient-to-br from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 text-white py-3 px-2 rounded-xl font-bold transition-all duration-200 flex flex-col items-center justify-center space-y-1 shadow-lg hover:shadow-xl transform hover:scale-105",children:[r.jsx(Ht,{className:"w-5 h-5"}),r.jsx("span",{className:"text-xs",children:"Letras"})]}):r.jsxs("button",{disabled:!0,className:"w-full bg-gray-200 text-gray-400 py-3 px-2 rounded-xl font-bold flex flex-col items-center justify-center space-y-1 opacity-50 cursor-not-allowed",children:[r.jsx(Ht,{className:"w-5 h-5"}),r.jsx("span",{className:"text-xs",children:"Letras"})]}),r.jsxs("button",{className:"w-full bg-gradient-to-br from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white py-3 px-2 rounded-xl font-bold transition-all duration-200 flex flex-col items-center justify-center space-y-1 shadow-lg hover:shadow-xl transform hover:scale-105",children:[r.jsx(pi,{className:"w-5 h-5"}),r.jsx("span",{className:"text-xs",children:"Partager"})]})]})})]}),r.jsx(vo,{open:a,onOpenChange:n,song:s,title:"Letras da MÃºsica",maxHeight:"h-64"}),r.jsx(Ft,{open:i,onOpenChange:o,children:r.jsxs(Rt,{className:"max-w-md",children:[r.jsx(is,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(Pt,{className:"flex items-center space-x-2",children:[r.jsx(ao,{className:"w-5 h-5 text-blue-500"}),r.jsx("span",{children:"DescriÃ§Ã£o da MÃºsica"})]}),r.jsx("button",{onClick:()=>o(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:r.jsx(ht,{className:"w-5 h-5"})})]})}),r.jsx("div",{className:"mt-4",children:r.jsx("p",{className:"text-gray-700 leading-relaxed font-sans text-sm",children:s.description||"Nenhuma descriÃ§Ã£o disponÃ­vel para esta mÃºsica."})})]})})]})}function Oy(){const[s,e]=h.useState([]),[t,a]=h.useState(new Date),[n,i]=h.useState(null),[o,l]=h.useState(!0);h.useEffect(()=>{let w=new URLSearchParams(window.location.search).get("month");if(!w){const N=window.location.search;if(N.includes("?/")){const C=N.split("?/")[1];if(C.includes("?")){const O=C.split("?")[1];w=new URLSearchParams(O).get("month")}}}if(w)try{const[N,C]=w.split("-").map(Number);N&&C!==void 0&&(a(new Date(N,C-1,1)),console.warn(`ðŸ“… Calendar: Mois chargÃ© depuis l'URL: ${N}-${C}`))}catch(N){console.error("Erro ao parsear parÃ¢metro month:",N)}},[]);const c=h.useCallback(()=>b(null,null,function*(){try{l(!0);const x=t.getFullYear(),w=t.getMonth()+1,N=yield Je.list("-release_date",null),C=(Array.isArray(N)?N:[]).filter(O=>{const F=ge(O.release_date);return F.getFullYear()===x&&F.getMonth()+1===w});C.sort((O,F)=>ge(F.release_date)-ge(O.release_date)),e(C),console.warn(`ðŸ“… Calendrier: ${C.length} chansons chargÃ©es pour ${w}/${x}:`,C.map(O=>`${O.title} (${O.status})`))}catch(x){console.error("Error loading monthly songs:",x),e([])}finally{l(!1)}}),[t]);h.useEffect(()=>{c()},[c]);const d=x=>s.find(w=>{const N=ge(w.release_date);return Bo(N,x)}),u=x=>{a(w=>{const N=new Date(w);return N.setMonth(w.getMonth()+x),N})},m=x=>En(x)===1,f=x=>{const w=d(x),N=Bo(x,new Date),C=m(x);let O="aspect-square flex flex-col items-center justify-center rounded-2xl text-sm font-bold transition-all duration-300 ";return w?w.status==="published"?O+="bg-[#32a2dc] text-white shadow-lg cursor-pointer hover:shadow-xl transform hover:scale-105 ":w.status==="draft"?O+="bg-orange-500 text-white shadow-lg cursor-pointer hover:shadow-xl transform hover:scale-105 ":O+="bg-gray-500 text-white shadow-lg cursor-pointer hover:shadow-xl transform hover:scale-105 ":C?O+="bg-white/40 text-gray-600 border-2 border-dashed border-gray-400 ":O+="bg-white/20 text-gray-500 ",N&&(O+="ring-2 ring-white ring-opacity-60 "),O},g=x=>{const w=Ki(x),N=En(w);return Vo(w,-N)},v=()=>{const x=g(t),w=Zi(t),C=6-En(w),O=Vo(w,C);return kh({start:x,end:O})},S=oe(t,"MMMM yyyy",{locale:pe}),y=s.length;if(Ts({title:`CalendÃ¡rio Musical ${S}`,description:`Explore ${y} descobertas musicais de ${S}. CalendÃ¡rio completo das mÃºsicas da segunda no MÃºsica da Segunda.`,keywords:`calendÃ¡rio musical, ${S}, descobertas musicais, ${y} mÃºsicas, mÃºsica da segunda, playlist mensal`,url:"/calendar",type:"website"}),o)return r.jsxs("div",{className:"p-5 max-w-md mx-auto animate-pulse",children:[r.jsx("div",{className:"h-12 bg-white/30 rounded-2xl mb-6"}),r.jsx("div",{className:"grid grid-cols-7 gap-2 mb-4",children:Array(42).fill(0).map((x,w)=>r.jsx("div",{className:"aspect-square bg-white/30 rounded-2xl"},w))})]});const E=v(),k=x=>{x&&x.id&&x.title?i(x):console.error("Chanson invalide:",x)};return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"p-5 max-w-md mx-auto",children:[r.jsx("div",{className:"lg:hidden text-center mb-8",children:r.jsxs("div",{className:"flex items-center justify-center gap-4 mb-4",children:[r.jsx("div",{className:"w-16 h-16 rounded-full overflow-hidden border-4 border-white/20 shadow-xl flex-shrink-0",children:r.jsx("img",{src:"images/Musica da segunda.jpg",alt:"Logo MÃºsica da Segunda",className:"w-full h-full object-cover"})}),r.jsxs("div",{className:"text-left",children:[r.jsx("h1",{className:"text-2xl md:text-3xl font-black text-white drop-shadow-lg mb-1",children:"Agenda Musical"}),r.jsx("p",{className:"text-white/80 font-medium text-sm md:text-base drop-shadow-md",children:"Acompanhe todas as mÃºsicas da segunda"})]})]})}),r.jsxs("div",{className:"bg-[#f8f5f2] rounded-3xl p-5 shadow-xl mb-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx(B,{variant:"ghost",size:"icon",onClick:()=>u(-1),className:"text-gray-600 hover:text-gray-800 hover:bg-white/60",children:r.jsx(hr,{className:"w-5 h-5"})}),r.jsx("h2",{className:"text-2xl font-black text-gray-800 capitalize",children:oe(t,"MMMM yyyy",{locale:pe})}),r.jsx(B,{variant:"ghost",size:"icon",onClick:()=>u(1),className:"text-gray-600 hover:text-gray-800 hover:bg-white/60",children:r.jsx(rd,{className:"w-5 h-5"})})]}),r.jsx("div",{className:"grid grid-cols-7 gap-2 mb-4",children:["Dom","Seg","Ter","Qua","Qui","Sex","SÃ¡b"].map(x=>r.jsx("div",{className:"text-center text-xs font-bold text-gray-500 py-2",children:x},x))}),r.jsx("div",{className:"grid grid-cols-7 gap-2",children:E.map(x=>{const w=d(x),N=m(x),C=x.getMonth()===t.getMonth();return r.jsxs("div",{className:`${f(x)} ${C?"":"opacity-40"}`,onClick:()=>w&&k(w),children:[r.jsx("span",{className:"text-xs",children:oe(x,"d")}),w&&r.jsxs("div",{className:"flex flex-col items-center mt-1",children:[r.jsx(_e,{className:"w-3 h-3"}),w.status==="draft"&&r.jsx("div",{className:"w-1 h-1 bg-white rounded-full mt-1 opacity-80"})]}),N&&!w&&C&&r.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full mt-1 opacity-60"})]},x.toISOString())})}),r.jsxs("div",{className:"mt-6 space-y-2 text-xs",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-4 h-4 bg-[#32a2dc] rounded-lg"}),r.jsx("span",{className:"text-gray-600 font-medium",children:"MÃºsica publicada"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-4 h-4 bg-white/40 border-2 border-dashed border-gray-400 rounded-lg"}),r.jsx("span",{className:"text-gray-600 font-medium",children:"Segunda-feira (aguardando)"})]}),n&&r.jsxs("div",{className:"text-xs text-gray-500 mt-2 p-2 bg-white/40 rounded-lg",children:[r.jsx("p",{className:"font-semibold",children:oe(ge(n.release_date),"dd 'de' MMMM 'de' yyyy - EEEE",{locale:pe})}),r.jsxs("p",{children:[n.title," - ",n.artist]}),r.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Status: ",n.status==="published"?"Publicada":n.status==="draft"?"Rascunho":"Arquivada"]})]})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("h3",{className:"text-xl font-bold text-white drop-shadow-lg",children:"MÃºsicas do MÃªs"}),(()=>{const x=s.filter(w=>{const N=ge(w.release_date);return N.getMonth()===t.getMonth()&&N.getFullYear()===t.getFullYear()});return x.length===0?r.jsxs("div",{className:"bg-[#f8f5f2] rounded-2xl p-6 text-center shadow-lg",children:[r.jsx(_e,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),r.jsxs("p",{className:"text-gray-600 font-medium",children:["Nenhuma mÃºsica publicada em ",oe(t,"MMMM yyyy",{locale:pe})]}),r.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"As mÃºsicas aparecerÃ£o aqui quando forem publicadas"})]}):x.map(w=>r.jsxs("div",{className:"bg-[#f8f5f2] rounded-2xl p-4 shadow-lg flex items-center gap-4 cursor-pointer hover:shadow-xl transition-all duration-300",onClick:()=>k(w),children:[r.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${w.status==="published"?"bg-[#32a2dc]":w.status==="draft"?"bg-orange-500":"bg-gray-500"}`,children:r.jsx(pt,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{className:"flex-grow",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("p",{className:"font-bold text-gray-800",children:w.title}),r.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${w.status==="published"?"bg-green-100 text-green-800":w.status==="draft"?"bg-orange-100 text-orange-800":"bg-gray-100 text-gray-800"}`,children:w.status==="published"?"Publicada":w.status==="draft"?"Rascunho":"Arquivada"})]}),r.jsx("p",{className:"text-sm text-gray-600",children:w.artist}),r.jsx("p",{className:"text-xs text-gray-400",children:oe(ge(w.release_date),"dd/MM/yyyy")})]})]},w.id))})()]})]}),r.jsx(Ft,{open:!!n,onOpenChange:x=>!x&&i(null),children:r.jsxs(Rt,{className:"max-w-[min(95vw,420px)] p-0 gap-0 border-0 bg-transparent max-h-[95vh] overflow-y-auto [&>button]:hidden",children:[r.jsx(Pt,{asChild:!0,children:r.jsx(Kl,{children:n?`${n.title} - ${n.artist}`:"DÃ©tails de la musique"})}),r.jsx(po,{asChild:!0,children:r.jsx(Kl,{children:n?`DÃ©tails de la musique ${n.title} par ${n.artist}`:"DÃ©tails de la musique"})}),r.jsx(Ay,{song:n,onClose:()=>i(null),onShowDescription:x=>{console.warn("DescriÃ§Ã£o solicitada para:",x.title)}})]})})]})}function Ry({youtube_music_url:s,youtube_url:e,title:t}){const a=s||e||"",i=(d=>{if(!d||typeof d!="string")return null;try{const u=d.match(/[?&]list=([A-Za-z0-9_-]+)/);if(u)return{id:u[1],type:"playlist"};const m=[/(?:youtube\.com\/shorts\/)([A-Za-z0-9_-]{11})/,/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/|youtube\.com\/v\/)([A-Za-z0-9_-]{11})/,/^([A-Za-z0-9_-]{11})$/];for(const f of m){const g=d.match(f);if(g)return{id:g[1],type:"video"}}if(d.toLowerCase().includes("music.youtube.com")){const f=d.match(/[?&]v=([A-Za-z0-9_-]{11})/);if(f)return{id:f[1],type:"video"}}return null}catch(u){return null}})(a);if(!i)return r.jsx("div",{className:"w-full aspect-video rounded-lg overflow-hidden shadow-lg flex items-center justify-center bg-gradient-to-br from-gray-800 to-gray-900",children:r.jsx("p",{className:"text-white text-sm",children:"VidÃ©o non disponible"})});const o=a.includes("/shorts/"),l="https://www.youtube-nocookie.com/embed",c=i.type==="video"?`${l}/${i.id}?rel=0&modestbranding=1&playsinline=1&controls=1`:`${l}/videoseries?list=${i.id}&rel=0&modestbranding=1&playsinline=1&controls=1`;return o?r.jsx("div",{className:"w-full flex justify-center items-center py-4",children:r.jsx("div",{className:"relative rounded-2xl overflow-hidden shadow-2xl bg-black",style:{width:"100%",maxWidth:"360px",aspectRatio:"9/16",margin:"0 auto"},children:r.jsx("iframe",{className:"absolute top-0 left-0 w-full h-full",src:c,title:t||"YouTube Short",frameBorder:"0",referrerPolicy:"strict-origin-when-cross-origin",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0,loading:"lazy"})})}):r.jsx("div",{className:"w-full aspect-video rounded-lg overflow-hidden shadow-lg",children:r.jsx("iframe",{className:"w-full h-full",src:c,title:t||"YouTube",frameBorder:"0",referrerPolicy:"strict-origin-when-cross-origin",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})}const Py=({day:s,song:e,onOpen:t,hasBeenViewed:a=!1})=>{const n=new Date,i=new Date(2025,11,s),o=s===1?!1:n<i,l=()=>{!o&&e&&t(e)},c="relative aspect-square rounded-2xl flex items-center justify-center text-white font-black text-3xl transition-all duration-300 transform",d="bg-gray-400/50 text-gray-300 cursor-not-allowed",u="bg-gradient-to-br from-red-500 to-rose-600 shadow-lg cursor-pointer hover:scale-105 hover:shadow-xl",m="bg-teal-500/80",f="bg-white shadow-lg cursor-pointer hover:scale-105 hover:shadow-xl";let g=`${c} `;return o?g+=d:a?g+=f:e?g+=u:g+=m,r.jsx("div",{onClick:l,className:g,children:a?r.jsx("div",{className:"w-full h-full flex items-center justify-center",children:r.jsx("img",{src:"/images/IOS Logo.png",alt:`VÃ­deo visualizado - Dia ${s}`,className:"w-16 h-16 object-contain drop-shadow-lg"})}):r.jsxs(r.Fragment,{children:[r.jsx("span",{children:s}),o&&r.jsx(Wa,{className:"absolute w-8 h-8 opacity-70"}),!o&&e&&r.jsxs(r.Fragment,{children:[r.jsx(ad,{className:"absolute top-2 right-2 w-5 h-5 text-yellow-300 animate-ping"}),r.jsx("div",{className:"absolute bottom-1 left-1 right-1 text-center",children:r.jsx("p",{className:"text-xs font-bold text-white drop-shadow-lg truncate",children:e.title})})]})]})})};function Iy(){const[s,e]=h.useState([]),[t,a]=h.useState(null),[n,i]=h.useState(!1),[o,l]=h.useState(!1),[c,d]=h.useState(null),[u,m]=h.useState(new Set),f=Array.from({length:24},(x,w)=>w+1);Ts({title:"CalendÃ¡rio do Advento Musical",description:"CalendÃ¡rio do Advento Musical 2025 - Uma surpresa musical a cada dia de dezembro. Descubra novas mÃºsicas e parÃ³dias inteligentes.",keywords:"calendÃ¡rio do advento, advento musical, dezembro 2025, mÃºsica da segunda, surpresas musicais, calendÃ¡rio musical",url:"/adventcalendar",type:"website"}),h.useEffect(()=>{b(null,null,function*(){const N=yield nb.list();e(N)});const w=localStorage.getItem("advent_viewed_songs");if(w)try{const N=JSON.parse(w);m(new Set(N))}catch(N){console.error("Erro ao carregar vÃ­deos visualizados:",N)}},[]);const g=x=>{const w=`advent_day_${x}`,N=localStorage.getItem(w);if(N)return JSON.parse(N);if(s.length===0)return null;const C=s.filter(H=>H.tiktok_video_id);if(C.length===0)return null;const O=Math.floor(Math.random()*C.length),F=C[O],q=T(p({},F),{day_of_december:x});return localStorage.setItem(w,JSON.stringify(q)),q},v=s.reduce((x,w)=>(x[w.day_of_december]=w,x),{}),S=g(1);S&&(v[1]=S);const y=x=>{d(x),i(!0)},E=x=>{d(x),l(!0)},k=x=>{navigator.share?navigator.share({title:x.title,text:`OuÃ§a ${x.title} por ${x.artist}`,url:x.tiktok_url||window.location.href}):(navigator.clipboard.writeText(x.tiktok_url||window.location.href),alert("Link copiado para a Ã¡rea de transferÃªncia!"))};return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"p-5 max-w-md mx-auto",children:[r.jsx("div",{className:"lg:hidden text-center mb-8",children:r.jsxs("div",{className:"flex items-center justify-center gap-4 mb-4",children:[r.jsx("div",{className:"w-16 h-16 rounded-full overflow-hidden border-4 border-white/20 shadow-xl flex-shrink-0",children:r.jsx("img",{src:"images/Musica da segunda.jpg",alt:"Logo MÃºsica da Segunda",className:"w-full h-full object-cover"})}),r.jsxs("div",{className:"text-left",children:[r.jsx("h1",{className:"text-2xl md:text-3xl font-black text-white drop-shadow-lg mb-1",children:"CalendÃ¡rio do Advento"}),r.jsx("p",{className:"text-white/80 font-medium text-sm md:text-base drop-shadow-md",children:"Dezembro 2025 - Uma surpresa a cada dia!"})]})]})}),r.jsx("div",{className:"bg-[#f8f5f2] rounded-3xl p-5 shadow-xl",children:r.jsx("div",{className:"grid grid-cols-4 gap-3",children:f.map(x=>{const w=v[x]||g(x),N=u.has(x);return r.jsx(Py,{day:x,song:w,onOpen:a,hasBeenViewed:N},x)})})})]}),r.jsx(Ft,{open:!!t,onOpenChange:()=>a(null),children:r.jsxs(Rt,{className:"p-0 border-0 bg-transparent max-w-md w-[95vw] max-h-[95vh] overflow-y-auto mx-auto my-4",children:[r.jsx(Pt,{className:"sr-only",children:(t==null?void 0:t.title)||"VÃ­deo do CalendÃ¡rio do Advento"}),r.jsxs(po,{className:"sr-only",children:["VÃ­deo musical do dia ",t==null?void 0:t.day_of_december," de dezembro de 2025"]}),r.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-rose-50 rounded-3xl shadow-2xl overflow-hidden",children:[r.jsxs("div",{className:"bg-gradient-to-r from-red-500 to-rose-600 p-4 text-center relative",children:[r.jsx("div",{className:"absolute top-2 left-4 bg-white/20 rounded-full w-10 h-10 flex items-center justify-center",children:r.jsx("span",{className:"text-white font-black text-base",children:t==null?void 0:t.day_of_december})}),r.jsx("div",{className:"mt-1",children:r.jsxs("div",{className:"flex items-center justify-center gap-2",children:[r.jsx("h2",{className:"text-xl font-black text-white",children:"Dezembro"}),r.jsx("span",{className:"text-white/90 text-lg font-semibold",children:t==null?void 0:t.day_of_december})]})}),r.jsx("div",{className:"absolute -bottom-4 left-1/2 transform -translate-x-1/2",children:r.jsx("div",{className:"bg-white rounded-full p-2 shadow-lg",children:r.jsx(_e,{className:"w-6 h-6 text-red-500"})})})]}),r.jsxs("div",{className:"p-4 pt-2",children:[r.jsxs("div",{className:"mb-4 bg-white/80 backdrop-blur-sm rounded-2xl p-3 shadow-sm",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(ad,{className:"w-3 h-3 text-amber-500"}),r.jsx("span",{className:"font-bold text-gray-600 text-xs uppercase tracking-wide",children:"Nome da VÃ­deo"})]}),r.jsx("p",{className:"text-gray-800 leading-relaxed font-semibold text-base",children:(t==null?void 0:t.title)||"VÃ­deo Musical"}),(t==null?void 0:t.artist)&&r.jsx("p",{className:"text-gray-600 text-xs mt-1",children:t.artist})]}),r.jsx("div",{className:"mb-4",children:t!=null&&t.youtube_music_url||t!=null&&t.youtube_url?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"bg-black rounded-2xl overflow-hidden shadow-xl",children:r.jsx(Ry,{youtube_music_url:t.youtube_music_url,youtube_url:t.youtube_url,title:t.title})}),r.jsx("div",{className:"text-center mt-2",children:r.jsxs("p",{className:"text-xs text-gray-600 font-medium",children:["ðŸŽ¬ VÃ­deo YouTube - ",t.title]})}),r.jsx("div",{className:"mt-3 text-center",children:r.jsx(B,{onClick:()=>{const x=t.youtube_music_url||t.youtube_url;x&&window.open(x,"_blank")},className:"w-full bg-red-600 hover:bg-red-700 text-white font-bold py-3 rounded-xl transition-all duration-200 hover:scale-105",children:"ðŸ“º Ver no YouTube"})})]}):r.jsx("div",{className:"bg-gray-100 rounded-2xl p-8 text-center",children:r.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-200 to-gray-300 rounded-2xl flex items-center justify-center",children:r.jsxs("div",{className:"text-center text-gray-500",children:[r.jsx(pt,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),r.jsx("p",{className:"text-lg font-medium",children:"VÃ­deo nÃ£o disponÃ­vel"}),r.jsx("p",{className:"text-sm text-gray-400",children:t==null?void 0:t.title})]})})})}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(B,{variant:"outline",className:"w-full bg-white/70 hover:bg-white/90 text-gray-700 font-semibold border-gray-300 py-3 rounded-2xl text-sm",onClick:()=>y(t),children:"Plataformas"}),r.jsx(B,{variant:"outline",className:"w-full bg-white/70 hover:bg-white/90 text-gray-700 font-semibold border-gray-300 py-3 rounded-2xl text-sm",onClick:()=>E(t),children:"Letras"}),r.jsx(B,{variant:"outline",className:"w-full bg-white/70 hover:bg-white/90 text-gray-700 font-semibold border-gray-300 py-3 rounded-2xl text-sm",onClick:()=>k(t),children:"Compartilhar"})]}),r.jsx("div",{className:"mt-6 text-center",children:r.jsxs("div",{className:"flex items-center justify-center gap-2 text-gray-400",children:[r.jsx(hi,{className:"w-4 h-4"}),r.jsx("span",{className:"text-xs font-medium",children:"CalendÃ¡rio do Advento Musical"}),r.jsx(hi,{className:"w-4 h-4"})]})})]})]})]})}),r.jsx(Ft,{open:n,onOpenChange:i,children:r.jsxs(Rt,{className:"bg-[#f8f5f2] max-w-md",children:[r.jsx(is,{children:r.jsx(Pt,{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:"ðŸŽµ Ouvir em outras plataformas"})}),c&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-4 border border-blue-200",children:[r.jsx("h3",{className:"text-lg font-bold text-blue-900 mb-1",children:c.title}),r.jsx("p",{className:"text-blue-700 font-medium",children:c.artist})]}),r.jsxs("div",{className:"space-y-3",children:[c.spotify_url&&r.jsx("a",{href:c.spotify_url,target:"_blank",rel:"noopener noreferrer",className:"block",children:r.jsx(B,{className:"w-full bg-[#1DB954] hover:bg-[#1ed760] text-white font-bold py-3 rounded-2xl text-sm transition-all duration-200 hover:scale-105",children:"ðŸŽ§ Ouvir no Spotify"})}),c.apple_music_url&&r.jsx("a",{href:c.apple_music_url,target:"_blank",rel:"noopener noreferrer",className:"block",children:r.jsx(B,{className:"w-full bg-gradient-to-r from-[#FA233B] to-[#FB5C74] hover:opacity-90 text-white font-bold py-3 rounded-2xl text-sm transition-all duration-200 hover:scale-105",children:"ðŸŽµ Ouvir no Apple Music"})}),c.youtube_url&&r.jsx("a",{href:c.youtube_url,target:"_blank",rel:"noopener noreferrer",className:"block",children:r.jsx(B,{className:"w-full bg-[#FF0000] hover:bg-[#cc0000] text-white font-bold py-3 rounded-2xl text-sm transition-all duration-200 hover:scale-105",children:"ðŸ“º Assistir no YouTube"})}),!c.spotify_url&&!c.apple_music_url&&!c.youtube_url&&r.jsxs("div",{className:"text-center py-6",children:[r.jsx(_e,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),r.jsx("p",{className:"text-gray-600 font-medium",children:"Links de streaming em breve..."}),r.jsx("p",{className:"text-sm text-gray-500",children:"Esta mÃºsica serÃ¡ disponibilizada em breve nas principais plataformas."})]})]})]})]})}),r.jsx(Ft,{open:o,onOpenChange:l,children:r.jsxs(Rt,{className:"bg-[#f8f5f2] max-w-md max-h-[80vh] overflow-y-auto",children:[r.jsx(is,{children:r.jsx(Pt,{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:"ðŸ“ Letras da mÃºsica"})}),c&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-4 border border-blue-200",children:[r.jsx("h3",{className:"text-lg font-bold text-blue-900 mb-1",children:c.title}),r.jsx("p",{className:"text-blue-700 font-medium",children:c.artist})]}),c.lyrics?r.jsx("div",{className:"bg-white rounded-xl p-4 border border-gray-200",children:r.jsx("pre",{className:"whitespace-pre-wrap text-gray-700 font-medium leading-relaxed",children:c.lyrics})}):r.jsxs("div",{className:"text-center py-6",children:[r.jsx(Ht,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),r.jsx("p",{className:"text-gray-600 font-medium",children:"Letras nÃ£o disponÃ­veis"}),r.jsx("p",{className:"text-sm text-gray-500",children:"As letras desta mÃºsica serÃ£o publicadas em breve."})]})]})]})})]})}const Se=h.forwardRef((n,a)=>{var i=n,{className:s,type:e}=i,t=L(i,["className","type"]);return r.jsx("input",p({type:e,className:me("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:a},t))});Se.displayName="Input";const qr=h.forwardRef((a,t)=>{var n=a,{className:s}=n,e=L(n,["className"]);return r.jsx("textarea",p({className:me("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:t},e))});qr.displayName="Textarea";function My(s){const e=h.useRef({value:s,previous:s});return h.useMemo(()=>(e.current.value!==s&&(e.current.previous=e.current.value,e.current.value=s),e.current.previous),[s])}var Jd=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Dy="VisuallyHidden",Ly=h.forwardRef((s,e)=>r.jsx($e.span,T(p({},s),{ref:e,style:p(p({},Jd),s.style)})));Ly.displayName=Dy;var $y=[" ","Enter","ArrowUp","ArrowDown"],Uy=[" ","Enter"],Us="Select",[xn,bn,By]=uh(Us),[jr,xw]=Pc(Us,[By,Ic]),yn=Ic(),[Vy,Es]=jr(Us),[Fy,zy]=jr(Us),Xd=s=>{const{__scopeSelect:e,children:t,open:a,defaultOpen:n,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:m,disabled:f,required:g,form:v}=s,S=yn(e),[y,E]=h.useState(null),[k,x]=h.useState(null),[w,N]=h.useState(!1),C=Rc(d),[O,F]=Uo({prop:a,defaultProp:n!=null?n:!1,onChange:i,caller:Us}),[q,H]=Uo({prop:o,defaultProp:l,onChange:c,caller:Us}),U=h.useRef(null),te=y?v||!!y.closest("form"):!0,[ye,Me]=h.useState(new Set),Le=Array.from(ye).map(se=>se.props.value).join(";");return r.jsx(wh,T(p({},S),{children:r.jsxs(Vy,{required:g,scope:e,trigger:y,onTriggerChange:E,valueNode:k,onValueNodeChange:x,valueNodeHasChildren:w,onValueNodeHasChildrenChange:N,contentId:Gi(),value:q,onValueChange:H,open:O,onOpenChange:F,dir:C,triggerPointerDownPosRef:U,disabled:f,children:[r.jsx(xn.Provider,{scope:e,children:r.jsx(Fy,{scope:s.__scopeSelect,onNativeOptionAdd:h.useCallback(se=>{Me(Ee=>new Set(Ee).add(se))},[]),onNativeOptionRemove:h.useCallback(se=>{Me(Ee=>{const M=new Set(Ee);return M.delete(se),M})},[]),children:t})}),te?r.jsxs(_u,{"aria-hidden":!0,required:g,tabIndex:-1,name:u,autoComplete:m,value:q,onChange:se=>H(se.target.value),disabled:f,form:v,children:[q===void 0?r.jsx("option",{value:""}):null,Array.from(ye)]},Le):null]})}))};Xd.displayName=Us;var Qd="SelectTrigger",eu=h.forwardRef((s,e)=>{const S=s,{__scopeSelect:t,disabled:a=!1}=S,n=L(S,["__scopeSelect","disabled"]),i=yn(t),o=Es(Qd,t),l=o.disabled||a,c=tt(e,o.onTriggerChange),d=bn(t),u=h.useRef("touch"),[m,f,g]=Su(y=>{const E=d().filter(w=>!w.disabled),k=E.find(w=>w.value===o.value),x=Nu(E,y,k);x!==void 0&&o.onValueChange(x.value)}),v=y=>{l||(o.onOpenChange(!0),g()),y&&(o.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return r.jsx(hh,T(p({asChild:!0},i),{children:r.jsx($e.button,T(p({type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":ju(o.value)?"":void 0},n),{ref:c,onClick:Oe(n.onClick,y=>{y.currentTarget.focus(),u.current!=="mouse"&&v(y)}),onPointerDown:Oe(n.onPointerDown,y=>{u.current=y.pointerType;const E=y.target;E.hasPointerCapture(y.pointerId)&&E.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(v(y),y.preventDefault())}),onKeyDown:Oe(n.onKeyDown,y=>{const E=m.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&f(y.key),!(E&&y.key===" ")&&$y.includes(y.key)&&(v(),y.preventDefault())})}))}))});eu.displayName=Qd;var tu="SelectValue",su=h.forwardRef((s,e)=>{const f=s,{__scopeSelect:t,className:a,style:n,children:i,placeholder:o=""}=f,l=L(f,["__scopeSelect","className","style","children","placeholder"]),c=Es(tu,t),{onValueNodeHasChildrenChange:d}=c,u=i!==void 0,m=tt(e,c.onValueNodeChange);return as(()=>{d(u)},[d,u]),r.jsx($e.span,T(p({},l),{ref:m,style:{pointerEvents:"none"},children:ju(c.value)?r.jsx(r.Fragment,{children:o}):i}))});su.displayName=tu;var qy="SelectIcon",ru=h.forwardRef((s,e)=>{const i=s,{__scopeSelect:t,children:a}=i,n=L(i,["__scopeSelect","children"]);return r.jsx($e.span,T(p({"aria-hidden":!0},n),{ref:e,children:a||"â–¼"}))});ru.displayName=qy;var Hy="SelectPortal",au=s=>r.jsx(mh,p({asChild:!0},s));au.displayName=Hy;var Bs="SelectContent",nu=h.forwardRef((s,e)=>{const t=Es(Bs,s.__scopeSelect),[a,n]=h.useState();if(as(()=>{n(new DocumentFragment)},[]),!t.open){const i=a;return i?Mc.createPortal(r.jsx(iu,{scope:s.__scopeSelect,children:r.jsx(xn.Slot,{scope:s.__scopeSelect,children:r.jsx("div",{children:s.children})})}),i):null}return r.jsx(ou,T(p({},s),{ref:e}))});nu.displayName=Bs;var Tt=10,[iu,Cs]=jr(Bs),Wy="SelectContentImpl",Yy=xh("SelectContent.RemoveScroll"),ou=h.forwardRef((s,e)=>{const st=s,{__scopeSelect:t,position:a="item-aligned",onCloseAutoFocus:n,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:m,collisionBoundary:f,collisionPadding:g,sticky:v,hideWhenDetached:S,avoidCollisions:y}=st,E=L(st,["__scopeSelect","position","onCloseAutoFocus","onEscapeKeyDown","onPointerDownOutside","side","sideOffset","align","alignOffset","arrowPadding","collisionBoundary","collisionPadding","sticky","hideWhenDetached","avoidCollisions"]),k=Es(Bs,t),[x,w]=h.useState(null),[N,C]=h.useState(null),O=tt(e,X=>w(X)),[F,q]=h.useState(null),[H,U]=h.useState(null),te=bn(t),[ye,Me]=h.useState(!1),Le=h.useRef(!1);h.useEffect(()=>{if(x)return fh(x)},[x]),ph();const se=h.useCallback(X=>{const[Ne,...ze]=te().map(fe=>fe.ref.current),[je]=ze.slice(-1),we=document.activeElement;for(const fe of X)if(fe===we||(fe==null||fe.scrollIntoView({block:"nearest"}),fe===Ne&&N&&(N.scrollTop=0),fe===je&&N&&(N.scrollTop=N.scrollHeight),fe==null||fe.focus(),document.activeElement!==we))return},[te,N]),Ee=h.useCallback(()=>se([F,x]),[se,F,x]);h.useEffect(()=>{ye&&Ee()},[ye,Ee]);const{onOpenChange:M,triggerPointerDownPosRef:A}=k;h.useEffect(()=>{if(x){let X={x:0,y:0};const Ne=je=>{var we,fe,Ye,Ue;X={x:Math.abs(Math.round(je.pageX)-((fe=(we=A.current)==null?void 0:we.x)!=null?fe:0)),y:Math.abs(Math.round(je.pageY)-((Ue=(Ye=A.current)==null?void 0:Ye.y)!=null?Ue:0))}},ze=je=>{X.x<=10&&X.y<=10?je.preventDefault():x.contains(je.target)||M(!1),document.removeEventListener("pointermove",Ne),A.current=null};return A.current!==null&&(document.addEventListener("pointermove",Ne),document.addEventListener("pointerup",ze,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ne),document.removeEventListener("pointerup",ze,{capture:!0})}}},[x,M,A]),h.useEffect(()=>{const X=()=>M(!1);return window.addEventListener("blur",X),window.addEventListener("resize",X),()=>{window.removeEventListener("blur",X),window.removeEventListener("resize",X)}},[M]);const[ie,le]=Su(X=>{const Ne=te().filter(we=>!we.disabled),ze=Ne.find(we=>we.ref.current===document.activeElement),je=Nu(Ne,X,ze);je&&setTimeout(()=>je.ref.current.focus())}),$=h.useCallback((X,Ne,ze)=>{const je=!Le.current&&!ze;(k.value!==void 0&&k.value===Ne||je)&&(q(X),je&&(Le.current=!0))},[k.value]),W=h.useCallback(()=>x==null?void 0:x.focus(),[x]),ot=h.useCallback((X,Ne,ze)=>{const je=!Le.current&&!ze;(k.value!==void 0&&k.value===Ne||je)&&U(X)},[k.value]),ue=a==="popper"?Ri:lu,lt=ue===Ri?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:m,collisionBoundary:f,collisionPadding:g,sticky:v,hideWhenDetached:S,avoidCollisions:y}:{};return r.jsx(iu,{scope:t,content:x,viewport:N,onViewportChange:C,itemRefCallback:$,selectedItem:F,onItemLeave:W,itemTextRefCallback:ot,focusSelectedItem:Ee,selectedItemText:H,position:a,isPositioned:ye,searchRef:ie,children:r.jsx(gh,{as:Yy,allowPinchZoom:!0,children:r.jsx(bh,{asChild:!0,trapped:k.open,onMountAutoFocus:X=>{X.preventDefault()},onUnmountAutoFocus:Oe(n,X=>{var Ne;(Ne=k.trigger)==null||Ne.focus({preventScroll:!0}),X.preventDefault()}),children:r.jsx(yh,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:X=>X.preventDefault(),onDismiss:()=>k.onOpenChange(!1),children:r.jsx(ue,T(p(p({role:"listbox",id:k.contentId,"data-state":k.open?"open":"closed",dir:k.dir,onContextMenu:X=>X.preventDefault()},E),lt),{onPlaced:()=>Me(!0),ref:O,style:p({display:"flex",flexDirection:"column",outline:"none"},E.style),onKeyDown:Oe(E.onKeyDown,X=>{const Ne=X.ctrlKey||X.altKey||X.metaKey;if(X.key==="Tab"&&X.preventDefault(),!Ne&&X.key.length===1&&le(X.key),["ArrowUp","ArrowDown","Home","End"].includes(X.key)){let je=te().filter(we=>!we.disabled).map(we=>we.ref.current);if(["ArrowUp","End"].includes(X.key)&&(je=je.slice().reverse()),["ArrowUp","ArrowDown"].includes(X.key)){const we=X.target,fe=je.indexOf(we);je=je.slice(fe+1)}setTimeout(()=>se(je)),X.preventDefault()}})}))})})})})});ou.displayName=Wy;var Gy="SelectItemAlignedPosition",lu=h.forwardRef((s,e)=>{const O=s,{__scopeSelect:t,onPlaced:a}=O,n=L(O,["__scopeSelect","onPlaced"]),i=Es(Bs,t),o=Cs(Bs,t),[l,c]=h.useState(null),[d,u]=h.useState(null),m=tt(e,F=>u(F)),f=bn(t),g=h.useRef(!1),v=h.useRef(!0),{viewport:S,selectedItem:y,selectedItemText:E,focusSelectedItem:k}=o,x=h.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&S&&y&&E){const F=i.trigger.getBoundingClientRect(),q=d.getBoundingClientRect(),H=i.valueNode.getBoundingClientRect(),U=E.getBoundingClientRect();if(i.dir!=="rtl"){const we=U.left-q.left,fe=H.left-we,Ye=F.left-fe,Ue=F.width+Ye,Kt=Math.max(Ue,q.width),Lt=window.innerWidth-Tt,xt=Ti(fe,[Tt,Math.max(Tt,Lt-Kt)]);l.style.minWidth=Ue+"px",l.style.left=xt+"px"}else{const we=q.right-U.right,fe=window.innerWidth-H.right-we,Ye=window.innerWidth-F.right-fe,Ue=F.width+Ye,Kt=Math.max(Ue,q.width),Lt=window.innerWidth-Tt,xt=Ti(fe,[Tt,Math.max(Tt,Lt-Kt)]);l.style.minWidth=Ue+"px",l.style.right=xt+"px"}const te=f(),ye=window.innerHeight-Tt*2,Me=S.scrollHeight,Le=window.getComputedStyle(d),se=parseInt(Le.borderTopWidth,10),Ee=parseInt(Le.paddingTop,10),M=parseInt(Le.borderBottomWidth,10),A=parseInt(Le.paddingBottom,10),ie=se+Ee+Me+A+M,le=Math.min(y.offsetHeight*5,ie),$=window.getComputedStyle(S),W=parseInt($.paddingTop,10),ot=parseInt($.paddingBottom,10),ue=F.top+F.height/2-Tt,lt=ye-ue,st=y.offsetHeight/2,X=y.offsetTop+st,Ne=se+Ee+X,ze=ie-Ne;if(Ne<=ue){const we=te.length>0&&y===te[te.length-1].ref.current;l.style.bottom="0px";const fe=d.clientHeight-S.offsetTop-S.offsetHeight,Ye=Math.max(lt,st+(we?ot:0)+fe+M),Ue=Ne+Ye;l.style.height=Ue+"px"}else{const we=te.length>0&&y===te[0].ref.current;l.style.top="0px";const Ye=Math.max(ue,se+S.offsetTop+(we?W:0)+st)+ze;l.style.height=Ye+"px",S.scrollTop=Ne-ue+S.offsetTop}l.style.margin=`${Tt}px 0`,l.style.minHeight=le+"px",l.style.maxHeight=ye+"px",a==null||a(),requestAnimationFrame(()=>g.current=!0)}},[f,i.trigger,i.valueNode,l,d,S,y,E,i.dir,a]);as(()=>x(),[x]);const[w,N]=h.useState();as(()=>{d&&N(window.getComputedStyle(d).zIndex)},[d]);const C=h.useCallback(F=>{F&&v.current===!0&&(x(),k==null||k(),v.current=!1)},[x,k]);return r.jsx(Zy,{scope:t,contentWrapper:l,shouldExpandOnScrollRef:g,onScrollButtonChange:C,children:r.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:w},children:r.jsx($e.div,T(p({},n),{ref:m,style:p({boxSizing:"border-box",maxHeight:"100%"},n.style)}))})})});lu.displayName=Gy;var Ky="SelectPopperPosition",Ri=h.forwardRef((s,e)=>{const l=s,{__scopeSelect:t,align:a="start",collisionPadding:n=Tt}=l,i=L(l,["__scopeSelect","align","collisionPadding"]),o=yn(t);return r.jsx(vh,T(p(p({},o),i),{ref:e,align:a,collisionPadding:n,style:T(p({boxSizing:"border-box"},i.style),{"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"})}))});Ri.displayName=Ky;var[Zy,jo]=jr(Bs,{}),Pi="SelectViewport",cu=h.forwardRef((s,e)=>{const d=s,{__scopeSelect:t,nonce:a}=d,n=L(d,["__scopeSelect","nonce"]),i=Cs(Pi,t),o=jo(Pi,t),l=tt(e,i.onViewportChange),c=h.useRef(0);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),r.jsx(xn.Slot,{scope:t,children:r.jsx($e.div,T(p({"data-radix-select-viewport":"",role:"presentation"},n),{ref:l,style:p({position:"relative",flex:1,overflow:"hidden auto"},n.style),onScroll:Oe(n.onScroll,u=>{const m=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:g}=o;if(g!=null&&g.current&&f){const v=Math.abs(c.current-m.scrollTop);if(v>0){const S=window.innerHeight-Tt*2,y=parseFloat(f.style.minHeight),E=parseFloat(f.style.height),k=Math.max(y,E);if(k<S){const x=k+v,w=Math.min(S,x),N=x-w;f.style.height=w+"px",f.style.bottom==="0px"&&(m.scrollTop=N>0?N:0,f.style.justifyContent="flex-end")}}}c.current=m.scrollTop})}))})]})});cu.displayName=Pi;var du="SelectGroup",[Jy,Xy]=jr(du),Qy=h.forwardRef((s,e)=>{const i=s,{__scopeSelect:t}=i,a=L(i,["__scopeSelect"]),n=Gi();return r.jsx(Jy,{scope:t,id:n,children:r.jsx($e.div,T(p({role:"group","aria-labelledby":n},a),{ref:e}))})});Qy.displayName=du;var uu="SelectLabel",hu=h.forwardRef((s,e)=>{const i=s,{__scopeSelect:t}=i,a=L(i,["__scopeSelect"]),n=Xy(uu,t);return r.jsx($e.div,T(p({id:n.id},a),{ref:e}))});hu.displayName=uu;var en="SelectItem",[ev,mu]=jr(en),fu=h.forwardRef((s,e)=>{const k=s,{__scopeSelect:t,value:a,disabled:n=!1,textValue:i}=k,o=L(k,["__scopeSelect","value","disabled","textValue"]),l=Es(en,t),c=Cs(en,t),d=l.value===a,[u,m]=h.useState(i!=null?i:""),[f,g]=h.useState(!1),v=tt(e,x=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,x,a,n)}),S=Gi(),y=h.useRef("touch"),E=()=>{n||(l.onValueChange(a),l.onOpenChange(!1))};if(a==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return r.jsx(ev,{scope:t,value:a,disabled:n,textId:S,isSelected:d,onItemTextChange:h.useCallback(x=>{m(w=>{var N;return w||((N=x==null?void 0:x.textContent)!=null?N:"").trim()})},[]),children:r.jsx(xn.ItemSlot,{scope:t,value:a,disabled:n,textValue:u,children:r.jsx($e.div,T(p({role:"option","aria-labelledby":S,"data-highlighted":f?"":void 0,"aria-selected":d&&f,"data-state":d?"checked":"unchecked","aria-disabled":n||void 0,"data-disabled":n?"":void 0,tabIndex:n?void 0:-1},o),{ref:v,onFocus:Oe(o.onFocus,()=>g(!0)),onBlur:Oe(o.onBlur,()=>g(!1)),onClick:Oe(o.onClick,()=>{y.current!=="mouse"&&E()}),onPointerUp:Oe(o.onPointerUp,()=>{y.current==="mouse"&&E()}),onPointerDown:Oe(o.onPointerDown,x=>{y.current=x.pointerType}),onPointerMove:Oe(o.onPointerMove,x=>{var w;y.current=x.pointerType,n?(w=c.onItemLeave)==null||w.call(c):y.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Oe(o.onPointerLeave,x=>{var w;x.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:Oe(o.onKeyDown,x=>{var N;((N=c.searchRef)==null?void 0:N.current)!==""&&x.key===" "||(Uy.includes(x.key)&&E(),x.key===" "&&x.preventDefault())})}))})})});fu.displayName=en;var Hr="SelectItemText",pu=h.forwardRef((s,e)=>{const E=s,{__scopeSelect:t,className:a,style:n}=E,i=L(E,["__scopeSelect","className","style"]),o=Es(Hr,t),l=Cs(Hr,t),c=mu(Hr,t),d=zy(Hr,t),[u,m]=h.useState(null),f=tt(e,k=>m(k),c.onItemTextChange,k=>{var x;return(x=l.itemTextRefCallback)==null?void 0:x.call(l,k,c.value,c.disabled)}),g=u==null?void 0:u.textContent,v=h.useMemo(()=>r.jsx("option",{value:c.value,disabled:c.disabled,children:g},c.value),[c.disabled,c.value,g]),{onNativeOptionAdd:S,onNativeOptionRemove:y}=d;return as(()=>(S(v),()=>y(v)),[S,y,v]),r.jsxs(r.Fragment,{children:[r.jsx($e.span,T(p({id:c.textId},i),{ref:f})),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Mc.createPortal(i.children,o.valueNode):null]})});pu.displayName=Hr;var gu="SelectItemIndicator",xu=h.forwardRef((s,e)=>{const i=s,{__scopeSelect:t}=i,a=L(i,["__scopeSelect"]);return mu(gu,t).isSelected?r.jsx($e.span,T(p({"aria-hidden":!0},a),{ref:e})):null});xu.displayName=gu;var Ii="SelectScrollUpButton",bu=h.forwardRef((s,e)=>{const t=Cs(Ii,s.__scopeSelect),a=jo(Ii,s.__scopeSelect),[n,i]=h.useState(!1),o=tt(e,a.onScrollButtonChange);return as(()=>{if(t.viewport&&t.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=t.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[t.viewport,t.isPositioned]),n?r.jsx(vu,T(p({},s),{ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=t;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}})):null});bu.displayName=Ii;var Mi="SelectScrollDownButton",yu=h.forwardRef((s,e)=>{const t=Cs(Mi,s.__scopeSelect),a=jo(Mi,s.__scopeSelect),[n,i]=h.useState(!1),o=tt(e,a.onScrollButtonChange);return as(()=>{if(t.viewport&&t.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;i(u)};const c=t.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[t.viewport,t.isPositioned]),n?r.jsx(vu,T(p({},s),{ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=t;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}})):null});yu.displayName=Mi;var vu=h.forwardRef((s,e)=>{const d=s,{__scopeSelect:t,onAutoScroll:a}=d,n=L(d,["__scopeSelect","onAutoScroll"]),i=Cs("SelectScrollButton",t),o=h.useRef(null),l=bn(t),c=h.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return h.useEffect(()=>()=>c(),[c]),as(()=>{var m;const u=l().find(f=>f.ref.current===document.activeElement);(m=u==null?void 0:u.ref.current)==null||m.scrollIntoView({block:"nearest"})},[l]),r.jsx($e.div,T(p({"aria-hidden":!0},n),{ref:e,style:p({flexShrink:0},n.style),onPointerDown:Oe(n.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(a,50))}),onPointerMove:Oe(n.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(a,50))}),onPointerLeave:Oe(n.onPointerLeave,()=>{c()})}))}),tv="SelectSeparator",wu=h.forwardRef((s,e)=>{const n=s,{__scopeSelect:t}=n,a=L(n,["__scopeSelect"]);return r.jsx($e.div,T(p({"aria-hidden":!0},a),{ref:e}))});wu.displayName=tv;var Di="SelectArrow",sv=h.forwardRef((s,e)=>{const l=s,{__scopeSelect:t}=l,a=L(l,["__scopeSelect"]),n=yn(t),i=Es(Di,t),o=Cs(Di,t);return i.open&&o.position==="popper"?r.jsx(_h,T(p(p({},n),a),{ref:e})):null});sv.displayName=Di;var rv="SelectBubbleInput",_u=h.forwardRef((n,a)=>{var i=n,{__scopeSelect:s,value:e}=i,t=L(i,["__scopeSelect","value"]);const o=h.useRef(null),l=tt(a,o),c=My(e);return h.useEffect(()=>{const d=o.current;if(!d)return;const u=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(u,"value").set;if(c!==e&&f){const g=new Event("change",{bubbles:!0});f.call(d,e),d.dispatchEvent(g)}},[c,e]),r.jsx($e.select,T(p({},t),{style:p(p({},Jd),t.style),ref:l,defaultValue:e}))});_u.displayName=rv;function ju(s){return s===""||s===void 0}function Su(s){const e=xs(s),t=h.useRef(""),a=h.useRef(0),n=h.useCallback(o=>{const l=t.current+o;e(l),(function c(d){t.current=d,window.clearTimeout(a.current),d!==""&&(a.current=window.setTimeout(()=>c(""),1e3))})(l)},[e]),i=h.useCallback(()=>{t.current="",window.clearTimeout(a.current)},[]);return h.useEffect(()=>()=>window.clearTimeout(a.current),[]),[t,n,i]}function Nu(s,e,t){const n=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,i=t?s.indexOf(t):-1;let o=av(s,Math.max(i,0));n.length===1&&(o=o.filter(d=>d!==t));const c=o.find(d=>d.textValue.toLowerCase().startsWith(n.toLowerCase()));return c!==t?c:void 0}function av(s,e){return s.map((t,a)=>s[(e+a)%s.length])}var nv=Xd,ku=eu,iv=su,ov=ru,lv=au,Tu=nu,cv=cu,Eu=hu,Cu=fu,dv=pu,uv=xu,Au=bu,Ou=yu,Ru=wu;const Li=nv,$i=iv,tn=h.forwardRef((n,a)=>{var i=n,{className:s,children:e}=i,t=L(i,["className","children"]);return r.jsxs(ku,T(p({ref:a,className:me("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s)},t),{children:[e,r.jsx(ov,{asChild:!0,children:r.jsx(so,{className:"h-4 w-4 opacity-50"})})]}))});tn.displayName=ku.displayName;const Pu=h.forwardRef((a,t)=>{var n=a,{className:s}=n,e=L(n,["className"]);return r.jsx(Au,T(p({ref:t,className:me("flex cursor-default items-center justify-center py-1",s)},e),{children:r.jsx(yf,{className:"h-4 w-4"})}))});Pu.displayName=Au.displayName;const Iu=h.forwardRef((a,t)=>{var n=a,{className:s}=n,e=L(n,["className"]);return r.jsx(Ou,T(p({ref:t,className:me("flex cursor-default items-center justify-center py-1",s)},e),{children:r.jsx(so,{className:"h-4 w-4"})}))});Iu.displayName=Ou.displayName;const sn=h.forwardRef((i,n)=>{var o=i,{className:s,children:e,position:t="popper"}=o,a=L(o,["className","children","position"]);return r.jsx(lv,{children:r.jsxs(Tu,T(p({ref:n,className:me("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:t},a),{children:[r.jsx(Pu,{}),r.jsx(cv,{className:me("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),r.jsx(Iu,{})]}))})});sn.displayName=Tu.displayName;const hv=h.forwardRef((a,t)=>{var n=a,{className:s}=n,e=L(n,["className"]);return r.jsx(Eu,p({ref:t,className:me("px-2 py-1.5 text-sm font-semibold",s)},e))});hv.displayName=Eu.displayName;const Ut=h.forwardRef((n,a)=>{var i=n,{className:s,children:e}=i,t=L(i,["className","children"]);return r.jsxs(Cu,T(p({ref:a,className:me("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s)},t),{children:[r.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(uv,{children:r.jsx(ff,{className:"h-4 w-4"})})}),r.jsx(dv,{children:e})]}))});Ut.displayName=Cu.displayName;const mv=h.forwardRef((a,t)=>{var n=a,{className:s}=n,e=L(n,["className"]);return r.jsx(Ru,p({ref:t,className:me("-mx-1 my-1 h-px bg-muted",s)},e))});mv.displayName=Ru.displayName;const os=h.forwardRef((a,t)=>{var n=a,{className:s}=n,e=L(n,["className"]);return r.jsx("div",p({ref:t,className:me("rounded-xl border bg-card text-card-foreground shadow",s)},e))});os.displayName="Card";const Sr=h.forwardRef((a,t)=>{var n=a,{className:s}=n,e=L(n,["className"]);return r.jsx("div",p({ref:t,className:me("flex flex-col space-y-1.5 p-6",s)},e))});Sr.displayName="CardHeader";const Nr=h.forwardRef((a,t)=>{var n=a,{className:s}=n,e=L(n,["className"]);return r.jsx("div",p({ref:t,className:me("font-semibold leading-none tracking-tight",s)},e))});Nr.displayName="CardTitle";const vn=h.forwardRef((a,t)=>{var n=a,{className:s}=n,e=L(n,["className"]);return r.jsx("div",p({ref:t,className:me("text-sm text-muted-foreground",s)},e))});vn.displayName="CardDescription";const js=h.forwardRef((a,t)=>{var n=a,{className:s}=n,e=L(n,["className"]);return r.jsx("div",p({ref:t,className:me("p-6 pt-0",s)},e))});js.displayName="CardContent";const fv=h.forwardRef((a,t)=>{var n=a,{className:s}=n,e=L(n,["className"]);return r.jsx("div",p({ref:t,className:me("flex items-center p-6 pt-0",s)},e))});fv.displayName="CardFooter";const pv=fa("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Va(a){var n=a,{className:s,variant:e}=n,t=L(n,["className","variant"]);return r.jsx("div",p({className:me(pv({variant:e}),s)},t))}var gv="Separator",Zl="horizontal",xv=["horizontal","vertical"],Mu=h.forwardRef((s,e)=>{const c=s,{decorative:t,orientation:a=Zl}=c,n=L(c,["decorative","orientation"]),i=bv(a)?a:Zl,l=t?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return r.jsx($e.div,T(p(p({"data-orientation":i},l),n),{ref:e}))});Mu.displayName=gv;function bv(s){return xv.includes(s)}var Du=Mu;const yv=h.forwardRef((i,n)=>{var o=i,{className:s,orientation:e="horizontal",decorative:t=!0}=o,a=L(o,["className","orientation","decorative"]);return r.jsx(Du,p({ref:n,decorative:t,orientation:e,className:me("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",s)},a))});yv.displayName=Du.displayName;function vv({postId:s,className:e="",song:t=null,fallbackVideoUrl:a=null}){const[n,i]=h.useState(!0),[o,l]=h.useState(null),[c,d]=h.useState(0),[u,m]=h.useState(0),[f,g]=h.useState(!1),[v,S]=h.useState(!0),[y,E]=h.useState(!0),[k,x]=h.useState(!1),[w,N]=h.useState(!1),[C,O]=h.useState({startTime:null,tiktokLoadTime:null,fallbackActivated:!1,totalLoadTime:null}),F=h.useRef(null),q=h.useRef(null),H=h.useRef(null),U=h.useRef(null),te=h.useRef(null),ye=3,Me=15e3,Le=1e3,se=h.useCallback(()=>{H.current&&(window.clearTimeout(H.current),H.current=null)},[]);h.useEffect(()=>{if(q.current)return U.current=new IntersectionObserver(([$])=>{var W;$.isIntersecting&&(g(!0),(W=U.current)==null||W.disconnect())},{threshold:.1,rootMargin:"50px"}),U.current.observe(q.current),()=>{var $;($=U.current)==null||$.disconnect()}},[]),h.useEffect(()=>{if(!s||!f)return;const $=performance.now();return O(W=>T(p({},W),{startTime:$,tiktokLoadTime:null,fallbackActivated:!1,totalLoadTime:null})),console.log(`ðŸš€ TikTok V2.0.0: Chargement de la vidÃ©o ${s}`),i(!0),l(null),d(0),m(W=>W+1),S(!0),E(!0),x(!1),N(!1),se(),H.current=window.setTimeout(()=>{console.warn("â° TikTok V2.0.0: Timeout de chargement atteint (15s)"),M("Timeout: Chargement trop lent")},Me),se},[s,f,se]);const Ee=h.useCallback(()=>{const $=performance.now()-(C.startTime||0);console.log("âœ… TikTok V2.0.0: VidÃ©o chargÃ©e avec succÃ¨s"),se(),i(!1),l(null),S(!0),E(!0),O(W=>T(p({},W),{tiktokLoadTime:$,totalLoadTime:$})),console.log(`ðŸ“Š TikTok V2.0.0: Temps de chargement: ${$.toFixed(2)}ms`)},[se,C.startTime]),M=h.useCallback(($="Erro ao carregar vÃ­deo TikTok")=>{if(console.error("âŒ TikTok V2.0.0: Ã‰chec de chargement",$),se(),c<ye)console.log(`ðŸ”„ Tentative de retry ${c+1}/${ye}`),setTimeout(()=>{d(W=>W+1),m(W=>W+1),i(!0),l(null),H.current=window.setTimeout(()=>{M("Timeout: Retry Ã©chouÃ©")},Me)},Le);else{console.log("ðŸ”„ TikTok V2.0.0: Tous les retries Ã©chouÃ©s, activation du fallback"),N(!0),l("TikTok indisponÃ­vel - usando fallback"),i(!1);const W=performance.now()-(C.startTime||0);O(ot=>T(p({},ot),{fallbackActivated:!0,totalLoadTime:W})),console.log(`ðŸ“Š TikTok V2.0.0: Fallback activÃ© aprÃ¨s ${W.toFixed(2)}ms`)}},[c,ye,Le,Me,se,C.startTime]),A=h.useCallback(()=>{console.log("ðŸ”„ TikTok V2.0.0: Retry manuel"),d(0),l(null),N(!1),m($=>$+1),i(!0),H.current=window.setTimeout(()=>{M("Timeout: Retry manuel Ã©chouÃ©")},Me)},[M,Me]);h.useCallback(()=>{te.current&&(te.current.paused?(te.current.play(),x(!0)):(te.current.pause(),x(!1)))},[]);const ie=h.useCallback(()=>{S(!1),E(!1)},[]),le=h.useCallback(()=>{t!=null&&t.tiktok_url&&window.open(t.tiktok_url,"_blank")},[t]);return h.useEffect(()=>()=>{se(),U.current&&U.current.disconnect()},[se]),f?w?r.jsx("div",{className:`${e} bg-black rounded-lg overflow-hidden`,style:{aspectRatio:"9/16"},children:r.jsxs("div",{className:"relative w-full h-full",children:[r.jsxs("video",{ref:te,className:"w-full h-full object-cover",controls:!0,preload:"metadata",poster:(t==null?void 0:t.cover_image)||void 0,onPlay:()=>x(!0),onPause:()=>x(!1),children:[a&&r.jsx("source",{src:a,type:"video/mp4"}),r.jsx("source",{src:"/videos/fallback-video.mp4",type:"video/mp4"}),r.jsx("p",{children:"VÃ­deo nÃ£o suportado pelo navegador"})]}),r.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-4",children:r.jsxs("div",{className:"text-white text-center",children:[r.jsx("p",{className:"text-sm font-medium mb-2",children:"ðŸŽ¬ Fallback VÃ­deo"}),r.jsx("p",{className:"text-xs opacity-80",children:(t==null?void 0:t.title)||"VÃ­deo musical"})]})}),r.jsx("button",{onClick:A,className:"absolute top-2 right-2 bg-black/70 hover:bg-black/90 text-white p-2 rounded-full transition-colors",title:"Tentar TikTok novamente",children:r.jsx(sl,{className:"w-4 h-4"})})]})}):r.jsx("div",{ref:q,className:`${e} bg-black rounded-lg overflow-hidden tiktok-container`,"data-tiktok-component":"true",style:{aspectRatio:"9/16",overflow:"hidden",position:"relative"},children:r.jsxs("div",{className:"relative w-full h-full",style:{overflow:"hidden"},children:[n&&r.jsx("div",{className:"absolute inset-0 bg-black flex items-center justify-center z-10",children:r.jsxs("div",{className:"text-center text-white",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),r.jsx("p",{className:"text-sm",children:"Carregando TikTok..."}),c>0&&r.jsxs("p",{className:"text-xs opacity-70 mt-1",children:["Tentativa ",c+1,"/",ye+1]})]})}),o&&!n&&r.jsx("div",{className:"absolute inset-0 bg-red-900 flex items-center justify-center z-10",children:r.jsxs("div",{className:"text-center text-white p-4",children:[r.jsx(_s,{className:"w-12 h-12 mx-auto mb-4 text-red-300"}),r.jsx("p",{className:"text-sm font-medium mb-2",children:"Erro ao carregar"}),r.jsx("p",{className:"text-xs opacity-80 mb-4",children:o}),r.jsx("button",{onClick:A,className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg text-sm transition-colors",children:"Tentar novamente"})]})}),r.jsx("iframe",{ref:F,src:`https://www.tiktok.com/embed/${s}`,className:"w-full h-full border-0",allowFullScreen:!0,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",onLoad:Ee,onError:()=>M("Erro de carregamento do iframe"),style:{display:n||o?"none":"block",overflow:"hidden",scrolling:"no"},scrolling:"no"},u),!n&&!o&&y&&r.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center z-20",children:r.jsxs("div",{className:"text-center text-white p-6",children:[r.jsx(_p,{className:"w-16 h-16 mx-auto mb-4 text-white/80"}),r.jsx("p",{className:"text-lg font-medium mb-2",children:"VÃ­deo em modo silencioso"}),r.jsx("p",{className:"text-sm opacity-80 mb-4",children:"Toque para ativar o som"}),r.jsx("button",{onClick:ie,className:"bg-white text-black px-6 py-3 rounded-full font-medium hover:bg-gray-100 transition-colors",children:"Ativar Som"})]})}),!n&&!o&&r.jsxs("div",{className:"absolute top-2 right-2 flex gap-2",children:[r.jsx("button",{onClick:A,className:"bg-black/70 hover:bg-black/90 text-white p-2 rounded-full transition-colors",title:"Recarregar vÃ­deo",children:r.jsx(sl,{className:"w-4 h-4"})}),(t==null?void 0:t.tiktok_url)&&r.jsx("button",{onClick:le,className:"bg-black/70 hover:bg-black/90 text-white p-2 rounded-full transition-colors",title:"Ver no TikTok",children:r.jsx(Ds,{className:"w-4 h-4"})})]})]})}):r.jsx("div",{ref:q,className:`${e} bg-gray-100 rounded-lg flex items-center justify-center`,style:{aspectRatio:"9/16"},children:r.jsxs("div",{className:"text-center text-gray-500",children:[r.jsx(mr,{className:"w-8 h-8 mx-auto mb-2"}),r.jsx("p",{className:"text-sm",children:"Carregando..."})]})})}var be;(function(s){s.assertEqual=n=>{};function e(n){}s.assertIs=e;function t(n){throw new Error}s.assertNever=t,s.arrayToEnum=n=>{const i={};for(const o of n)i[o]=o;return i},s.getValidEnumValues=n=>{const i=s.objectKeys(n).filter(l=>typeof n[n[l]]!="number"),o={};for(const l of i)o[l]=n[l];return s.objectValues(o)},s.objectValues=n=>s.objectKeys(n).map(function(i){return n[i]}),s.objectKeys=typeof Object.keys=="function"?n=>Object.keys(n):n=>{const i=[];for(const o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.push(o);return i},s.find=(n,i)=>{for(const o of n)if(i(o))return o},s.isInteger=typeof Number.isInteger=="function"?n=>Number.isInteger(n):n=>typeof n=="number"&&Number.isFinite(n)&&Math.floor(n)===n;function a(n,i=" | "){return n.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}s.joinValues=a,s.jsonStringifyReplacer=(n,i)=>typeof i=="bigint"?i.toString():i})(be||(be={}));var Jl;(function(s){s.mergeShapes=(e,t)=>p(p({},e),t)})(Jl||(Jl={}));const Y=be.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),gs=s=>{switch(typeof s){case"undefined":return Y.undefined;case"string":return Y.string;case"number":return Number.isNaN(s)?Y.nan:Y.number;case"boolean":return Y.boolean;case"function":return Y.function;case"bigint":return Y.bigint;case"symbol":return Y.symbol;case"object":return Array.isArray(s)?Y.array:s===null?Y.null:s.then&&typeof s.then=="function"&&s.catch&&typeof s.catch=="function"?Y.promise:typeof Map!="undefined"&&s instanceof Map?Y.map:typeof Set!="undefined"&&s instanceof Set?Y.set:typeof Date!="undefined"&&s instanceof Date?Y.date:Y.object;default:return Y.unknown}},I=be.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class ls extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=a=>{this.issues=[...this.issues,a]},this.addIssues=(a=[])=>{this.issues=[...this.issues,...a]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(i){return i.message},a={_errors:[]},n=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(n);else if(o.code==="invalid_return_type")n(o.returnTypeError);else if(o.code==="invalid_arguments")n(o.argumentsError);else if(o.path.length===0)a._errors.push(t(o));else{let l=a,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(t(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return n(this),a}static assert(e){if(!(e instanceof ls))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,be.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},a=[];for(const n of this.issues)if(n.path.length>0){const i=n.path[0];t[i]=t[i]||[],t[i].push(e(n))}else a.push(e(n));return{formErrors:a,fieldErrors:t}}get formErrors(){return this.flatten()}}ls.create=s=>new ls(s);const Ui=(s,e)=>{let t;switch(s.code){case I.invalid_type:s.received===Y.undefined?t="Required":t=`Expected ${s.expected}, received ${s.received}`;break;case I.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(s.expected,be.jsonStringifyReplacer)}`;break;case I.unrecognized_keys:t=`Unrecognized key(s) in object: ${be.joinValues(s.keys,", ")}`;break;case I.invalid_union:t="Invalid input";break;case I.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${be.joinValues(s.options)}`;break;case I.invalid_enum_value:t=`Invalid enum value. Expected ${be.joinValues(s.options)}, received '${s.received}'`;break;case I.invalid_arguments:t="Invalid function arguments";break;case I.invalid_return_type:t="Invalid function return type";break;case I.invalid_date:t="Invalid date";break;case I.invalid_string:typeof s.validation=="object"?"includes"in s.validation?(t=`Invalid input: must include "${s.validation.includes}"`,typeof s.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${s.validation.position}`)):"startsWith"in s.validation?t=`Invalid input: must start with "${s.validation.startsWith}"`:"endsWith"in s.validation?t=`Invalid input: must end with "${s.validation.endsWith}"`:be.assertNever(s.validation):s.validation!=="regex"?t=`Invalid ${s.validation}`:t="Invalid";break;case I.too_small:s.type==="array"?t=`Array must contain ${s.exact?"exactly":s.inclusive?"at least":"more than"} ${s.minimum} element(s)`:s.type==="string"?t=`String must contain ${s.exact?"exactly":s.inclusive?"at least":"over"} ${s.minimum} character(s)`:s.type==="number"?t=`Number must be ${s.exact?"exactly equal to ":s.inclusive?"greater than or equal to ":"greater than "}${s.minimum}`:s.type==="bigint"?t=`Number must be ${s.exact?"exactly equal to ":s.inclusive?"greater than or equal to ":"greater than "}${s.minimum}`:s.type==="date"?t=`Date must be ${s.exact?"exactly equal to ":s.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(s.minimum))}`:t="Invalid input";break;case I.too_big:s.type==="array"?t=`Array must contain ${s.exact?"exactly":s.inclusive?"at most":"less than"} ${s.maximum} element(s)`:s.type==="string"?t=`String must contain ${s.exact?"exactly":s.inclusive?"at most":"under"} ${s.maximum} character(s)`:s.type==="number"?t=`Number must be ${s.exact?"exactly":s.inclusive?"less than or equal to":"less than"} ${s.maximum}`:s.type==="bigint"?t=`BigInt must be ${s.exact?"exactly":s.inclusive?"less than or equal to":"less than"} ${s.maximum}`:s.type==="date"?t=`Date must be ${s.exact?"exactly":s.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(s.maximum))}`:t="Invalid input";break;case I.custom:t="Invalid input";break;case I.invalid_intersection_types:t="Intersection results could not be merged";break;case I.not_multiple_of:t=`Number must be a multiple of ${s.multipleOf}`;break;case I.not_finite:t="Number must be finite";break;default:t=e.defaultError,be.assertNever(s)}return{message:t}};let wv=Ui;function _v(){return wv}const jv=s=>{const{data:e,path:t,errorMaps:a,issueData:n}=s,i=[...t,...n.path||[]],o=T(p({},n),{path:i});if(n.message!==void 0)return T(p({},n),{path:i,message:n.message});let l="";const c=a.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:e,defaultError:l}).message;return T(p({},n),{path:i,message:l})};function V(s,e){const t=_v(),a=jv({issueData:e,data:s.data,path:s.path,errorMaps:[s.common.contextualErrorMap,s.schemaErrorMap,t,t===Ui?void 0:Ui].filter(n=>!!n)});s.common.issues.push(a)}class gt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const a=[];for(const n of t){if(n.status==="aborted")return ae;n.status==="dirty"&&e.dirty(),a.push(n.value)}return{status:e.value,value:a}}static mergeObjectAsync(e,t){return b(this,null,function*(){const a=[];for(const n of t){const i=yield n.key,o=yield n.value;a.push({key:i,value:o})}return gt.mergeObjectSync(e,a)})}static mergeObjectSync(e,t){const a={};for(const n of t){const{key:i,value:o}=n;if(i.status==="aborted"||o.status==="aborted")return ae;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value!="undefined"||n.alwaysSet)&&(a[i.value]=o.value)}return{status:e.value,value:a}}}const ae=Object.freeze({status:"aborted"}),Wr=s=>({status:"dirty",value:s}),_t=s=>({status:"valid",value:s}),Xl=s=>s.status==="aborted",Ql=s=>s.status==="dirty",gr=s=>s.status==="valid",rn=s=>typeof Promise!="undefined"&&s instanceof Promise;var K;(function(s){s.errToObj=e=>typeof e=="string"?{message:e}:e||{},s.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(K||(K={}));class Ss{constructor(e,t,a,n){this._cachedPath=[],this.parent=e,this.data=t,this._path=a,this._key=n}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const ec=(s,e)=>{if(gr(e))return{success:!0,data:e.value};if(!s.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new ls(s.common.issues);return this._error=t,this._error}}};function ce(s){if(!s)return{};const{errorMap:e,invalid_type_error:t,required_error:a,description:n}=s;if(e&&(t||a))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:n}:{errorMap:(o,l)=>{var d,u;const{message:c}=s;return o.code==="invalid_enum_value"?{message:c!=null?c:l.defaultError}:typeof l.data=="undefined"?{message:(d=c!=null?c:a)!=null?d:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(u=c!=null?c:t)!=null?u:l.defaultError}},description:n}}class xe{get description(){return this._def.description}_getType(e){return gs(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:gs(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new gt,ctx:{common:e.parent.common,data:e.data,parsedType:gs(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(rn(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const a=this.safeParse(e,t);if(a.success)return a.data;throw a.error}safeParse(e,t){var i;const a={common:{issues:[],async:(i=t==null?void 0:t.async)!=null?i:!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:gs(e)},n=this._parseSync({data:e,path:a.path,parent:a});return ec(a,n)}"~validate"(e){var a,n;const t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:gs(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:t});return gr(i)?{value:i.value}:{issues:t.common.issues}}catch(i){(n=(a=i==null?void 0:i.message)==null?void 0:a.toLowerCase())!=null&&n.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(i=>gr(i)?{value:i.value}:{issues:t.common.issues})}parseAsync(e,t){return b(this,null,function*(){const a=yield this.safeParseAsync(e,t);if(a.success)return a.data;throw a.error})}safeParseAsync(e,t){return b(this,null,function*(){const a={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:gs(e)},n=this._parse({data:e,path:a.path,parent:a}),i=yield rn(n)?n:Promise.resolve(n);return ec(a,i)})}refine(e,t){const a=n=>typeof t=="string"||typeof t=="undefined"?{message:t}:typeof t=="function"?t(n):t;return this._refinement((n,i)=>{const o=e(n),l=()=>i.addIssue(p({code:I.custom},a(n)));return typeof Promise!="undefined"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,t){return this._refinement((a,n)=>e(a)?!0:(n.addIssue(typeof t=="function"?t(a,n):t),!1))}_refinement(e){return new br({schema:this,typeName:ne.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return ws.create(this,this._def)}nullable(){return yr.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return zt.create(this)}promise(){return on.create(this,this._def)}or(e){return an.create([this,e],this._def)}and(e){return nn.create(this,e,this._def)}transform(e){return new br(T(p({},ce(this._def)),{schema:this,typeName:ne.ZodEffects,effect:{type:"transform",transform:e}}))}default(e){const t=typeof e=="function"?e:()=>e;return new Fi(T(p({},ce(this._def)),{innerType:this,defaultValue:t,typeName:ne.ZodDefault}))}brand(){return new Wv(p({typeName:ne.ZodBranded,type:this},ce(this._def)))}catch(e){const t=typeof e=="function"?e:()=>e;return new zi(T(p({},ce(this._def)),{innerType:this,catchValue:t,typeName:ne.ZodCatch}))}describe(e){const t=this.constructor;return new t(T(p({},this._def),{description:e}))}pipe(e){return So.create(this,e)}readonly(){return qi.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Sv=/^c[^\s-]{8,}$/i,Nv=/^[0-9a-z]+$/,kv=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Tv=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Ev=/^[a-z0-9_-]{21}$/i,Cv=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Av=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Ov=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Rv="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Jn;const Pv=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Iv=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Mv=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Dv=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Lv=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,$v=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Lu="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Uv=new RegExp(`^${Lu}$`);function $u(s){let e="[0-5]\\d";s.precision?e=`${e}\\.\\d{${s.precision}}`:s.precision==null&&(e=`${e}(\\.\\d+)?`);const t=s.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${t}`}function Bv(s){return new RegExp(`^${$u(s)}$`)}function Vv(s){let e=`${Lu}T${$u(s)}`;const t=[];return t.push(s.local?"Z?":"Z"),s.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function Fv(s,e){return!!((e==="v4"||!e)&&Pv.test(s)||(e==="v6"||!e)&&Mv.test(s))}function zv(s,e){if(!Cv.test(s))return!1;try{const[t]=s.split(".");if(!t)return!1;const a=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),n=JSON.parse(atob(a));return!(typeof n!="object"||n===null||"typ"in n&&(n==null?void 0:n.typ)!=="JWT"||!n.alg||e&&n.alg!==e)}catch(t){return!1}}function qv(s,e){return!!((e==="v4"||!e)&&Iv.test(s)||(e==="v6"||!e)&&Dv.test(s))}class vs extends xe{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Y.string){const i=this._getOrReturnCtx(e);return V(i,{code:I.invalid_type,expected:Y.string,received:i.parsedType}),ae}const a=new gt;let n;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(n=this._getOrReturnCtx(e,n),V(n,{code:I.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),a.dirty());else if(i.kind==="max")e.data.length>i.value&&(n=this._getOrReturnCtx(e,n),V(n,{code:I.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),a.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,l=e.data.length<i.value;(o||l)&&(n=this._getOrReturnCtx(e,n),o?V(n,{code:I.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&V(n,{code:I.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),a.dirty())}else if(i.kind==="email")Ov.test(e.data)||(n=this._getOrReturnCtx(e,n),V(n,{validation:"email",code:I.invalid_string,message:i.message}),a.dirty());else if(i.kind==="emoji")Jn||(Jn=new RegExp(Rv,"u")),Jn.test(e.data)||(n=this._getOrReturnCtx(e,n),V(n,{validation:"emoji",code:I.invalid_string,message:i.message}),a.dirty());else if(i.kind==="uuid")Tv.test(e.data)||(n=this._getOrReturnCtx(e,n),V(n,{validation:"uuid",code:I.invalid_string,message:i.message}),a.dirty());else if(i.kind==="nanoid")Ev.test(e.data)||(n=this._getOrReturnCtx(e,n),V(n,{validation:"nanoid",code:I.invalid_string,message:i.message}),a.dirty());else if(i.kind==="cuid")Sv.test(e.data)||(n=this._getOrReturnCtx(e,n),V(n,{validation:"cuid",code:I.invalid_string,message:i.message}),a.dirty());else if(i.kind==="cuid2")Nv.test(e.data)||(n=this._getOrReturnCtx(e,n),V(n,{validation:"cuid2",code:I.invalid_string,message:i.message}),a.dirty());else if(i.kind==="ulid")kv.test(e.data)||(n=this._getOrReturnCtx(e,n),V(n,{validation:"ulid",code:I.invalid_string,message:i.message}),a.dirty());else if(i.kind==="url")try{new URL(e.data)}catch(o){n=this._getOrReturnCtx(e,n),V(n,{validation:"url",code:I.invalid_string,message:i.message}),a.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),V(n,{validation:"regex",code:I.invalid_string,message:i.message}),a.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(n=this._getOrReturnCtx(e,n),V(n,{code:I.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),a.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(n=this._getOrReturnCtx(e,n),V(n,{code:I.invalid_string,validation:{startsWith:i.value},message:i.message}),a.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(n=this._getOrReturnCtx(e,n),V(n,{code:I.invalid_string,validation:{endsWith:i.value},message:i.message}),a.dirty()):i.kind==="datetime"?Vv(i).test(e.data)||(n=this._getOrReturnCtx(e,n),V(n,{code:I.invalid_string,validation:"datetime",message:i.message}),a.dirty()):i.kind==="date"?Uv.test(e.data)||(n=this._getOrReturnCtx(e,n),V(n,{code:I.invalid_string,validation:"date",message:i.message}),a.dirty()):i.kind==="time"?Bv(i).test(e.data)||(n=this._getOrReturnCtx(e,n),V(n,{code:I.invalid_string,validation:"time",message:i.message}),a.dirty()):i.kind==="duration"?Av.test(e.data)||(n=this._getOrReturnCtx(e,n),V(n,{validation:"duration",code:I.invalid_string,message:i.message}),a.dirty()):i.kind==="ip"?Fv(e.data,i.version)||(n=this._getOrReturnCtx(e,n),V(n,{validation:"ip",code:I.invalid_string,message:i.message}),a.dirty()):i.kind==="jwt"?zv(e.data,i.alg)||(n=this._getOrReturnCtx(e,n),V(n,{validation:"jwt",code:I.invalid_string,message:i.message}),a.dirty()):i.kind==="cidr"?qv(e.data,i.version)||(n=this._getOrReturnCtx(e,n),V(n,{validation:"cidr",code:I.invalid_string,message:i.message}),a.dirty()):i.kind==="base64"?Lv.test(e.data)||(n=this._getOrReturnCtx(e,n),V(n,{validation:"base64",code:I.invalid_string,message:i.message}),a.dirty()):i.kind==="base64url"?$v.test(e.data)||(n=this._getOrReturnCtx(e,n),V(n,{validation:"base64url",code:I.invalid_string,message:i.message}),a.dirty()):be.assertNever(i);return{status:a.value,value:e.data}}_regex(e,t,a){return this.refinement(n=>e.test(n),p({validation:t,code:I.invalid_string},K.errToObj(a)))}_addCheck(e){return new vs(T(p({},this._def),{checks:[...this._def.checks,e]}))}email(e){return this._addCheck(p({kind:"email"},K.errToObj(e)))}url(e){return this._addCheck(p({kind:"url"},K.errToObj(e)))}emoji(e){return this._addCheck(p({kind:"emoji"},K.errToObj(e)))}uuid(e){return this._addCheck(p({kind:"uuid"},K.errToObj(e)))}nanoid(e){return this._addCheck(p({kind:"nanoid"},K.errToObj(e)))}cuid(e){return this._addCheck(p({kind:"cuid"},K.errToObj(e)))}cuid2(e){return this._addCheck(p({kind:"cuid2"},K.errToObj(e)))}ulid(e){return this._addCheck(p({kind:"ulid"},K.errToObj(e)))}base64(e){return this._addCheck(p({kind:"base64"},K.errToObj(e)))}base64url(e){return this._addCheck(p({kind:"base64url"},K.errToObj(e)))}jwt(e){return this._addCheck(p({kind:"jwt"},K.errToObj(e)))}ip(e){return this._addCheck(p({kind:"ip"},K.errToObj(e)))}cidr(e){return this._addCheck(p({kind:"cidr"},K.errToObj(e)))}datetime(e){var t,a;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck(p({kind:"datetime",precision:typeof(e==null?void 0:e.precision)=="undefined"?null:e==null?void 0:e.precision,offset:(t=e==null?void 0:e.offset)!=null?t:!1,local:(a=e==null?void 0:e.local)!=null?a:!1},K.errToObj(e==null?void 0:e.message)))}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck(p({kind:"time",precision:typeof(e==null?void 0:e.precision)=="undefined"?null:e==null?void 0:e.precision},K.errToObj(e==null?void 0:e.message)))}duration(e){return this._addCheck(p({kind:"duration"},K.errToObj(e)))}regex(e,t){return this._addCheck(p({kind:"regex",regex:e},K.errToObj(t)))}includes(e,t){return this._addCheck(p({kind:"includes",value:e,position:t==null?void 0:t.position},K.errToObj(t==null?void 0:t.message)))}startsWith(e,t){return this._addCheck(p({kind:"startsWith",value:e},K.errToObj(t)))}endsWith(e,t){return this._addCheck(p({kind:"endsWith",value:e},K.errToObj(t)))}min(e,t){return this._addCheck(p({kind:"min",value:e},K.errToObj(t)))}max(e,t){return this._addCheck(p({kind:"max",value:e},K.errToObj(t)))}length(e,t){return this._addCheck(p({kind:"length",value:e},K.errToObj(t)))}nonempty(e){return this.min(1,K.errToObj(e))}trim(){return new vs(T(p({},this._def),{checks:[...this._def.checks,{kind:"trim"}]}))}toLowerCase(){return new vs(T(p({},this._def),{checks:[...this._def.checks,{kind:"toLowerCase"}]}))}toUpperCase(){return new vs(T(p({},this._def),{checks:[...this._def.checks,{kind:"toUpperCase"}]}))}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}vs.create=s=>{var e;return new vs(p({checks:[],typeName:ne.ZodString,coerce:(e=s==null?void 0:s.coerce)!=null?e:!1},ce(s)))};function Hv(s,e){const t=(s.toString().split(".")[1]||"").length,a=(e.toString().split(".")[1]||"").length,n=t>a?t:a,i=Number.parseInt(s.toFixed(n).replace(".","")),o=Number.parseInt(e.toFixed(n).replace(".",""));return i%o/$o(10,n)}class na extends xe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Y.number){const i=this._getOrReturnCtx(e);return V(i,{code:I.invalid_type,expected:Y.number,received:i.parsedType}),ae}let a;const n=new gt;for(const i of this._def.checks)i.kind==="int"?be.isInteger(e.data)||(a=this._getOrReturnCtx(e,a),V(a,{code:I.invalid_type,expected:"integer",received:"float",message:i.message}),n.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(a=this._getOrReturnCtx(e,a),V(a,{code:I.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),n.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(a=this._getOrReturnCtx(e,a),V(a,{code:I.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),n.dirty()):i.kind==="multipleOf"?Hv(e.data,i.value)!==0&&(a=this._getOrReturnCtx(e,a),V(a,{code:I.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(a=this._getOrReturnCtx(e,a),V(a,{code:I.not_finite,message:i.message}),n.dirty()):be.assertNever(i);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,K.toString(t))}gt(e,t){return this.setLimit("min",e,!1,K.toString(t))}lte(e,t){return this.setLimit("max",e,!0,K.toString(t))}lt(e,t){return this.setLimit("max",e,!1,K.toString(t))}setLimit(e,t,a,n){return new na(T(p({},this._def),{checks:[...this._def.checks,{kind:e,value:t,inclusive:a,message:K.toString(n)}]}))}_addCheck(e){return new na(T(p({},this._def),{checks:[...this._def.checks,e]}))}int(e){return this._addCheck({kind:"int",message:K.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:K.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:K.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:K.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:K.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:K.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:K.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:K.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:K.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&be.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const a of this._def.checks){if(a.kind==="finite"||a.kind==="int"||a.kind==="multipleOf")return!0;a.kind==="min"?(t===null||a.value>t)&&(t=a.value):a.kind==="max"&&(e===null||a.value<e)&&(e=a.value)}return Number.isFinite(t)&&Number.isFinite(e)}}na.create=s=>new na(p({checks:[],typeName:ne.ZodNumber,coerce:(s==null?void 0:s.coerce)||!1},ce(s)));class ia extends xe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch(i){return this._getInvalidInput(e)}if(this._getType(e)!==Y.bigint)return this._getInvalidInput(e);let a;const n=new gt;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(a=this._getOrReturnCtx(e,a),V(a,{code:I.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(a=this._getOrReturnCtx(e,a),V(a,{code:I.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(a=this._getOrReturnCtx(e,a),V(a,{code:I.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):be.assertNever(i);return{status:n.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return V(t,{code:I.invalid_type,expected:Y.bigint,received:t.parsedType}),ae}gte(e,t){return this.setLimit("min",e,!0,K.toString(t))}gt(e,t){return this.setLimit("min",e,!1,K.toString(t))}lte(e,t){return this.setLimit("max",e,!0,K.toString(t))}lt(e,t){return this.setLimit("max",e,!1,K.toString(t))}setLimit(e,t,a,n){return new ia(T(p({},this._def),{checks:[...this._def.checks,{kind:e,value:t,inclusive:a,message:K.toString(n)}]}))}_addCheck(e){return new ia(T(p({},this._def),{checks:[...this._def.checks,e]}))}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:K.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:K.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:K.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:K.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:K.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}ia.create=s=>{var e;return new ia(p({checks:[],typeName:ne.ZodBigInt,coerce:(e=s==null?void 0:s.coerce)!=null?e:!1},ce(s)))};class tc extends xe{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Y.boolean){const a=this._getOrReturnCtx(e);return V(a,{code:I.invalid_type,expected:Y.boolean,received:a.parsedType}),ae}return _t(e.data)}}tc.create=s=>new tc(p({typeName:ne.ZodBoolean,coerce:(s==null?void 0:s.coerce)||!1},ce(s)));class oa extends xe{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Y.date){const i=this._getOrReturnCtx(e);return V(i,{code:I.invalid_type,expected:Y.date,received:i.parsedType}),ae}if(Number.isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return V(i,{code:I.invalid_date}),ae}const a=new gt;let n;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(n=this._getOrReturnCtx(e,n),V(n,{code:I.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),a.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(n=this._getOrReturnCtx(e,n),V(n,{code:I.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),a.dirty()):be.assertNever(i);return{status:a.value,value:new Date(e.data.getTime())}}_addCheck(e){return new oa(T(p({},this._def),{checks:[...this._def.checks,e]}))}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:K.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:K.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}oa.create=s=>new oa(p({checks:[],coerce:(s==null?void 0:s.coerce)||!1,typeName:ne.ZodDate},ce(s)));class sc extends xe{_parse(e){if(this._getType(e)!==Y.symbol){const a=this._getOrReturnCtx(e);return V(a,{code:I.invalid_type,expected:Y.symbol,received:a.parsedType}),ae}return _t(e.data)}}sc.create=s=>new sc(p({typeName:ne.ZodSymbol},ce(s)));class rc extends xe{_parse(e){if(this._getType(e)!==Y.undefined){const a=this._getOrReturnCtx(e);return V(a,{code:I.invalid_type,expected:Y.undefined,received:a.parsedType}),ae}return _t(e.data)}}rc.create=s=>new rc(p({typeName:ne.ZodUndefined},ce(s)));class ac extends xe{_parse(e){if(this._getType(e)!==Y.null){const a=this._getOrReturnCtx(e);return V(a,{code:I.invalid_type,expected:Y.null,received:a.parsedType}),ae}return _t(e.data)}}ac.create=s=>new ac(p({typeName:ne.ZodNull},ce(s)));class nc extends xe{constructor(){super(...arguments),this._any=!0}_parse(e){return _t(e.data)}}nc.create=s=>new nc(p({typeName:ne.ZodAny},ce(s)));class ic extends xe{constructor(){super(...arguments),this._unknown=!0}_parse(e){return _t(e.data)}}ic.create=s=>new ic(p({typeName:ne.ZodUnknown},ce(s)));class Ns extends xe{_parse(e){const t=this._getOrReturnCtx(e);return V(t,{code:I.invalid_type,expected:Y.never,received:t.parsedType}),ae}}Ns.create=s=>new Ns(p({typeName:ne.ZodNever},ce(s)));class oc extends xe{_parse(e){if(this._getType(e)!==Y.undefined){const a=this._getOrReturnCtx(e);return V(a,{code:I.invalid_type,expected:Y.void,received:a.parsedType}),ae}return _t(e.data)}}oc.create=s=>new oc(p({typeName:ne.ZodVoid},ce(s)));class zt extends xe{_parse(e){const{ctx:t,status:a}=this._processInputParams(e),n=this._def;if(t.parsedType!==Y.array)return V(t,{code:I.invalid_type,expected:Y.array,received:t.parsedType}),ae;if(n.exactLength!==null){const o=t.data.length>n.exactLength.value,l=t.data.length<n.exactLength.value;(o||l)&&(V(t,{code:o?I.too_big:I.too_small,minimum:l?n.exactLength.value:void 0,maximum:o?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),a.dirty())}if(n.minLength!==null&&t.data.length<n.minLength.value&&(V(t,{code:I.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),a.dirty()),n.maxLength!==null&&t.data.length>n.maxLength.value&&(V(t,{code:I.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),a.dirty()),t.common.async)return Promise.all([...t.data].map((o,l)=>n.type._parseAsync(new Ss(t,o,t.path,l)))).then(o=>gt.mergeArray(a,o));const i=[...t.data].map((o,l)=>n.type._parseSync(new Ss(t,o,t.path,l)));return gt.mergeArray(a,i)}get element(){return this._def.type}min(e,t){return new zt(T(p({},this._def),{minLength:{value:e,message:K.toString(t)}}))}max(e,t){return new zt(T(p({},this._def),{maxLength:{value:e,message:K.toString(t)}}))}length(e,t){return new zt(T(p({},this._def),{exactLength:{value:e,message:K.toString(t)}}))}nonempty(e){return this.min(1,e)}}zt.create=(s,e)=>new zt(p({type:s,minLength:null,maxLength:null,exactLength:null,typeName:ne.ZodArray},ce(e)));function nr(s){if(s instanceof Fe){const e={};for(const t in s.shape){const a=s.shape[t];e[t]=ws.create(nr(a))}return new Fe(T(p({},s._def),{shape:()=>e}))}else return s instanceof zt?new zt(T(p({},s._def),{type:nr(s.element)})):s instanceof ws?ws.create(nr(s.unwrap())):s instanceof yr?yr.create(nr(s.unwrap())):s instanceof Vs?Vs.create(s.items.map(e=>nr(e))):s}class Fe extends xe{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=be.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==Y.object){const d=this._getOrReturnCtx(e);return V(d,{code:I.invalid_type,expected:Y.object,received:d.parsedType}),ae}const{status:a,ctx:n}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Ns&&this._def.unknownKeys==="strip"))for(const d in n.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const u=i[d],m=n.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Ss(n,m,n.path,d)),alwaysSet:d in n.data})}if(this._def.catchall instanceof Ns){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of l)c.push({key:{status:"valid",value:u},value:{status:"valid",value:n.data[u]}});else if(d==="strict")l.length>0&&(V(n,{code:I.unrecognized_keys,keys:l}),a.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of l){const m=n.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Ss(n,m,n.path,u)),alwaysSet:u in n.data})}}return n.common.async?Promise.resolve().then(()=>b(this,null,function*(){const d=[];for(const u of c){const m=yield u.key,f=yield u.value;d.push({key:m,value:f,alwaysSet:u.alwaysSet})}return d})).then(d=>gt.mergeObjectSync(a,d)):gt.mergeObjectSync(a,c)}get shape(){return this._def.shape()}strict(e){return K.errToObj,new Fe(p(T(p({},this._def),{unknownKeys:"strict"}),e!==void 0?{errorMap:(t,a)=>{var i,o,l,c;const n=(l=(o=(i=this._def).errorMap)==null?void 0:o.call(i,t,a).message)!=null?l:a.defaultError;return t.code==="unrecognized_keys"?{message:(c=K.errToObj(e).message)!=null?c:n}:{message:n}}}:{}))}strip(){return new Fe(T(p({},this._def),{unknownKeys:"strip"}))}passthrough(){return new Fe(T(p({},this._def),{unknownKeys:"passthrough"}))}extend(e){return new Fe(T(p({},this._def),{shape:()=>p(p({},this._def.shape()),e)}))}merge(e){return new Fe({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>p(p({},this._def.shape()),e._def.shape()),typeName:ne.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new Fe(T(p({},this._def),{catchall:e}))}pick(e){const t={};for(const a of be.objectKeys(e))e[a]&&this.shape[a]&&(t[a]=this.shape[a]);return new Fe(T(p({},this._def),{shape:()=>t}))}omit(e){const t={};for(const a of be.objectKeys(this.shape))e[a]||(t[a]=this.shape[a]);return new Fe(T(p({},this._def),{shape:()=>t}))}deepPartial(){return nr(this)}partial(e){const t={};for(const a of be.objectKeys(this.shape)){const n=this.shape[a];e&&!e[a]?t[a]=n:t[a]=n.optional()}return new Fe(T(p({},this._def),{shape:()=>t}))}required(e){const t={};for(const a of be.objectKeys(this.shape))if(e&&!e[a])t[a]=this.shape[a];else{let i=this.shape[a];for(;i instanceof ws;)i=i._def.innerType;t[a]=i}return new Fe(T(p({},this._def),{shape:()=>t}))}keyof(){return Uu(be.objectKeys(this.shape))}}Fe.create=(s,e)=>new Fe(p({shape:()=>s,unknownKeys:"strip",catchall:Ns.create(),typeName:ne.ZodObject},ce(e)));Fe.strictCreate=(s,e)=>new Fe(p({shape:()=>s,unknownKeys:"strict",catchall:Ns.create(),typeName:ne.ZodObject},ce(e)));Fe.lazycreate=(s,e)=>new Fe(p({shape:s,unknownKeys:"strip",catchall:Ns.create(),typeName:ne.ZodObject},ce(e)));class an extends xe{_parse(e){const{ctx:t}=this._processInputParams(e),a=this._def.options;function n(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return t.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new ls(l.ctx.common.issues));return V(t,{code:I.invalid_union,unionErrors:o}),ae}if(t.common.async)return Promise.all(a.map(i=>b(this,null,function*(){const o=T(p({},t),{common:T(p({},t.common),{issues:[]}),parent:null});return{result:yield i._parseAsync({data:t.data,path:t.path,parent:o}),ctx:o}}))).then(n);{let i;const o=[];for(const c of a){const d=T(p({},t),{common:T(p({},t.common),{issues:[]}),parent:null}),u=c._parseSync({data:t.data,path:t.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(i)return t.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new ls(c));return V(t,{code:I.invalid_union,unionErrors:l}),ae}}get options(){return this._def.options}}an.create=(s,e)=>new an(p({options:s,typeName:ne.ZodUnion},ce(e)));function Bi(s,e){const t=gs(s),a=gs(e);if(s===e)return{valid:!0,data:s};if(t===Y.object&&a===Y.object){const n=be.objectKeys(e),i=be.objectKeys(s).filter(l=>n.indexOf(l)!==-1),o=p(p({},s),e);for(const l of i){const c=Bi(s[l],e[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(t===Y.array&&a===Y.array){if(s.length!==e.length)return{valid:!1};const n=[];for(let i=0;i<s.length;i++){const o=s[i],l=e[i],c=Bi(o,l);if(!c.valid)return{valid:!1};n.push(c.data)}return{valid:!0,data:n}}else return t===Y.date&&a===Y.date&&+s==+e?{valid:!0,data:s}:{valid:!1}}class nn extends xe{_parse(e){const{status:t,ctx:a}=this._processInputParams(e),n=(i,o)=>{if(Xl(i)||Xl(o))return ae;const l=Bi(i.value,o.value);return l.valid?((Ql(i)||Ql(o))&&t.dirty(),{status:t.value,value:l.data}):(V(a,{code:I.invalid_intersection_types}),ae)};return a.common.async?Promise.all([this._def.left._parseAsync({data:a.data,path:a.path,parent:a}),this._def.right._parseAsync({data:a.data,path:a.path,parent:a})]).then(([i,o])=>n(i,o)):n(this._def.left._parseSync({data:a.data,path:a.path,parent:a}),this._def.right._parseSync({data:a.data,path:a.path,parent:a}))}}nn.create=(s,e,t)=>new nn(p({left:s,right:e,typeName:ne.ZodIntersection},ce(t)));class Vs extends xe{_parse(e){const{status:t,ctx:a}=this._processInputParams(e);if(a.parsedType!==Y.array)return V(a,{code:I.invalid_type,expected:Y.array,received:a.parsedType}),ae;if(a.data.length<this._def.items.length)return V(a,{code:I.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ae;!this._def.rest&&a.data.length>this._def.items.length&&(V(a,{code:I.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const i=[...a.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Ss(a,o,a.path,l)):null}).filter(o=>!!o);return a.common.async?Promise.all(i).then(o=>gt.mergeArray(t,o)):gt.mergeArray(t,i)}get items(){return this._def.items}rest(e){return new Vs(T(p({},this._def),{rest:e}))}}Vs.create=(s,e)=>{if(!Array.isArray(s))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Vs(p({items:s,typeName:ne.ZodTuple,rest:null},ce(e)))};class lc extends xe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:a}=this._processInputParams(e);if(a.parsedType!==Y.map)return V(a,{code:I.invalid_type,expected:Y.map,received:a.parsedType}),ae;const n=this._def.keyType,i=this._def.valueType,o=[...a.data.entries()].map(([l,c],d)=>({key:n._parse(new Ss(a,l,a.path,[d,"key"])),value:i._parse(new Ss(a,c,a.path,[d,"value"]))}));if(a.common.async){const l=new Map;return Promise.resolve().then(()=>b(this,null,function*(){for(const c of o){const d=yield c.key,u=yield c.value;if(d.status==="aborted"||u.status==="aborted")return ae;(d.status==="dirty"||u.status==="dirty")&&t.dirty(),l.set(d.value,u.value)}return{status:t.value,value:l}}))}else{const l=new Map;for(const c of o){const d=c.key,u=c.value;if(d.status==="aborted"||u.status==="aborted")return ae;(d.status==="dirty"||u.status==="dirty")&&t.dirty(),l.set(d.value,u.value)}return{status:t.value,value:l}}}}lc.create=(s,e,t)=>new lc(p({valueType:e,keyType:s,typeName:ne.ZodMap},ce(t)));class la extends xe{_parse(e){const{status:t,ctx:a}=this._processInputParams(e);if(a.parsedType!==Y.set)return V(a,{code:I.invalid_type,expected:Y.set,received:a.parsedType}),ae;const n=this._def;n.minSize!==null&&a.data.size<n.minSize.value&&(V(a,{code:I.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),t.dirty()),n.maxSize!==null&&a.data.size>n.maxSize.value&&(V(a,{code:I.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),t.dirty());const i=this._def.valueType;function o(c){const d=new Set;for(const u of c){if(u.status==="aborted")return ae;u.status==="dirty"&&t.dirty(),d.add(u.value)}return{status:t.value,value:d}}const l=[...a.data.values()].map((c,d)=>i._parse(new Ss(a,c,a.path,d)));return a.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(e,t){return new la(T(p({},this._def),{minSize:{value:e,message:K.toString(t)}}))}max(e,t){return new la(T(p({},this._def),{maxSize:{value:e,message:K.toString(t)}}))}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}la.create=(s,e)=>new la(p({valueType:s,minSize:null,maxSize:null,typeName:ne.ZodSet},ce(e)));class cc extends xe{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}cc.create=(s,e)=>new cc(p({getter:s,typeName:ne.ZodLazy},ce(e)));class Vi extends xe{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return V(t,{received:t.data,code:I.invalid_literal,expected:this._def.value}),ae}return{status:"valid",value:e.data}}get value(){return this._def.value}}Vi.create=(s,e)=>new Vi(p({value:s,typeName:ne.ZodLiteral},ce(e)));function Uu(s,e){return new xr(p({values:s,typeName:ne.ZodEnum},ce(e)))}class xr extends xe{_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),a=this._def.values;return V(t,{expected:be.joinValues(a),received:t.parsedType,code:I.invalid_type}),ae}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const t=this._getOrReturnCtx(e),a=this._def.values;return V(t,{received:t.data,code:I.invalid_enum_value,options:a}),ae}return _t(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return xr.create(e,p(p({},this._def),t))}exclude(e,t=this._def){return xr.create(this.options.filter(a=>!e.includes(a)),p(p({},this._def),t))}}xr.create=Uu;class dc extends xe{_parse(e){const t=be.getValidEnumValues(this._def.values),a=this._getOrReturnCtx(e);if(a.parsedType!==Y.string&&a.parsedType!==Y.number){const n=be.objectValues(t);return V(a,{expected:be.joinValues(n),received:a.parsedType,code:I.invalid_type}),ae}if(this._cache||(this._cache=new Set(be.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const n=be.objectValues(t);return V(a,{received:a.data,code:I.invalid_enum_value,options:n}),ae}return _t(e.data)}get enum(){return this._def.values}}dc.create=(s,e)=>new dc(p({values:s,typeName:ne.ZodNativeEnum},ce(e)));class on extends xe{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Y.promise&&t.common.async===!1)return V(t,{code:I.invalid_type,expected:Y.promise,received:t.parsedType}),ae;const a=t.parsedType===Y.promise?t.data:Promise.resolve(t.data);return _t(a.then(n=>this._def.type.parseAsync(n,{path:t.path,errorMap:t.common.contextualErrorMap})))}}on.create=(s,e)=>new on(p({type:s,typeName:ne.ZodPromise},ce(e)));class br extends xe{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ne.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:a}=this._processInputParams(e),n=this._def.effect||null,i={addIssue:o=>{V(a,o),o.fatal?t.abort():t.dirty()},get path(){return a.path}};if(i.addIssue=i.addIssue.bind(i),n.type==="preprocess"){const o=n.transform(a.data,i);if(a.common.async)return Promise.resolve(o).then(l=>b(this,null,function*(){if(t.value==="aborted")return ae;const c=yield this._def.schema._parseAsync({data:l,path:a.path,parent:a});return c.status==="aborted"?ae:c.status==="dirty"||t.value==="dirty"?Wr(c.value):c}));{if(t.value==="aborted")return ae;const l=this._def.schema._parseSync({data:o,path:a.path,parent:a});return l.status==="aborted"?ae:l.status==="dirty"||t.value==="dirty"?Wr(l.value):l}}if(n.type==="refinement"){const o=l=>{const c=n.refinement(l,i);if(a.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(a.common.async===!1){const l=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});return l.status==="aborted"?ae:(l.status==="dirty"&&t.dirty(),o(l.value),{status:t.value,value:l.value})}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(l=>l.status==="aborted"?ae:(l.status==="dirty"&&t.dirty(),o(l.value).then(()=>({status:t.value,value:l.value}))))}if(n.type==="transform")if(a.common.async===!1){const o=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});if(!gr(o))return ae;const l=n.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:l}}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(o=>gr(o)?Promise.resolve(n.transform(o.value,i)).then(l=>({status:t.value,value:l})):ae);be.assertNever(n)}}br.create=(s,e,t)=>new br(p({schema:s,typeName:ne.ZodEffects,effect:e},ce(t)));br.createWithPreprocess=(s,e,t)=>new br(p({schema:e,effect:{type:"preprocess",transform:s},typeName:ne.ZodEffects},ce(t)));class ws extends xe{_parse(e){return this._getType(e)===Y.undefined?_t(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ws.create=(s,e)=>new ws(p({innerType:s,typeName:ne.ZodOptional},ce(e)));class yr extends xe{_parse(e){return this._getType(e)===Y.null?_t(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}yr.create=(s,e)=>new yr(p({innerType:s,typeName:ne.ZodNullable},ce(e)));class Fi extends xe{_parse(e){const{ctx:t}=this._processInputParams(e);let a=t.data;return t.parsedType===Y.undefined&&(a=this._def.defaultValue()),this._def.innerType._parse({data:a,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}Fi.create=(s,e)=>new Fi(p({innerType:s,typeName:ne.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default},ce(e)));class zi extends xe{_parse(e){const{ctx:t}=this._processInputParams(e),a=T(p({},t),{common:T(p({},t.common),{issues:[]})}),n=this._def.innerType._parse({data:a.data,path:a.path,parent:p({},a)});return rn(n)?n.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new ls(a.common.issues)},input:a.data})})):{status:"valid",value:n.status==="valid"?n.value:this._def.catchValue({get error(){return new ls(a.common.issues)},input:a.data})}}removeCatch(){return this._def.innerType}}zi.create=(s,e)=>new zi(p({innerType:s,typeName:ne.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch},ce(e)));class uc extends xe{_parse(e){if(this._getType(e)!==Y.nan){const a=this._getOrReturnCtx(e);return V(a,{code:I.invalid_type,expected:Y.nan,received:a.parsedType}),ae}return{status:"valid",value:e.data}}}uc.create=s=>new uc(p({typeName:ne.ZodNaN},ce(s)));class Wv extends xe{_parse(e){const{ctx:t}=this._processInputParams(e),a=t.data;return this._def.type._parse({data:a,path:t.path,parent:t})}unwrap(){return this._def.type}}class So extends xe{_parse(e){const{status:t,ctx:a}=this._processInputParams(e);if(a.common.async)return b(this,null,function*(){const i=yield this._def.in._parseAsync({data:a.data,path:a.path,parent:a});return i.status==="aborted"?ae:i.status==="dirty"?(t.dirty(),Wr(i.value)):this._def.out._parseAsync({data:i.value,path:a.path,parent:a})});{const n=this._def.in._parseSync({data:a.data,path:a.path,parent:a});return n.status==="aborted"?ae:n.status==="dirty"?(t.dirty(),{status:"dirty",value:n.value}):this._def.out._parseSync({data:n.value,path:a.path,parent:a})}}static create(e,t){return new So({in:e,out:t,typeName:ne.ZodPipeline})}}class qi extends xe{_parse(e){const t=this._def.innerType._parse(e),a=n=>(gr(n)&&(n.value=Object.freeze(n.value)),n);return rn(t)?t.then(n=>a(n)):a(t)}unwrap(){return this._def.innerType}}qi.create=(s,e)=>new qi(p({innerType:s,typeName:ne.ZodReadonly},ce(e)));var ne;(function(s){s.ZodString="ZodString",s.ZodNumber="ZodNumber",s.ZodNaN="ZodNaN",s.ZodBigInt="ZodBigInt",s.ZodBoolean="ZodBoolean",s.ZodDate="ZodDate",s.ZodSymbol="ZodSymbol",s.ZodUndefined="ZodUndefined",s.ZodNull="ZodNull",s.ZodAny="ZodAny",s.ZodUnknown="ZodUnknown",s.ZodNever="ZodNever",s.ZodVoid="ZodVoid",s.ZodArray="ZodArray",s.ZodObject="ZodObject",s.ZodUnion="ZodUnion",s.ZodDiscriminatedUnion="ZodDiscriminatedUnion",s.ZodIntersection="ZodIntersection",s.ZodTuple="ZodTuple",s.ZodRecord="ZodRecord",s.ZodMap="ZodMap",s.ZodSet="ZodSet",s.ZodFunction="ZodFunction",s.ZodLazy="ZodLazy",s.ZodLiteral="ZodLiteral",s.ZodEnum="ZodEnum",s.ZodEffects="ZodEffects",s.ZodNativeEnum="ZodNativeEnum",s.ZodOptional="ZodOptional",s.ZodNullable="ZodNullable",s.ZodDefault="ZodDefault",s.ZodCatch="ZodCatch",s.ZodPromise="ZodPromise",s.ZodBranded="ZodBranded",s.ZodPipeline="ZodPipeline",s.ZodReadonly="ZodReadonly"})(ne||(ne={}));const Ke=vs.create,Yv=oa.create;Ns.create;const Gv=zt.create,No=Fe.create;an.create;nn.create;Vs.create;const sr=Vi.create,Kv=xr.create;on.create;ws.create;yr.create;const Zv=No({title:Ke().min(1,"O tÃ­tulo Ã© obrigatÃ³rio").max(200,"O tÃ­tulo deve ter no mÃ¡ximo 200 caracteres").trim(),artist:Ke().max(100,"O artista deve ter no mÃ¡ximo 100 caracteres").trim().default("A MÃºsica da Segunda"),description:Ke().max(5e3,"A descriÃ§Ã£o deve ter no mÃ¡ximo 5000 caracteres").trim().optional().nullable(),release_date:Ke().regex(/^\d{4}-\d{2}-\d{2}$/,"Data invÃ¡lida. Use o formato YYYY-MM-DD").or(Yv()),tiktok_url:Ke().url("URL do TikTok invÃ¡lida").or(sr("")).optional().nullable(),tiktok_video_id:Ke().regex(/^\d{15,20}$/,"ID do TikTok invÃ¡lido").or(sr("")).optional().nullable(),youtube_url:Ke().url("URL do YouTube invÃ¡lida").or(sr("")).optional().nullable(),youtube_music_url:Ke().url("URL do YouTube Music invÃ¡lida").or(sr("")).optional().nullable(),spotify_url:Ke().url("URL do Spotify invÃ¡lida").or(sr("")).optional().nullable(),apple_music_url:Ke().url("URL do Apple Music invÃ¡lida").or(sr("")).optional().nullable(),lyrics:Ke().max(1e4,"As letras devem ter no mÃ¡ximo 10000 caracteres").trim().optional().nullable(),hashtags:Gv(Ke().max(50).trim()).max(20,"MÃ¡ximo de 20 hashtags").optional().default([]),status:Kv(["draft","published","archived"]).default("draft")}),Jv=No({email:Ke().email("Email invÃ¡lido").min(1,"O email Ã© obrigatÃ³rio").max(255,"Email muito longo"),password:Ke().min(6,"A senha deve ter no mÃ­nimo 6 caracteres").max(100,"Senha muito longa")});No({query:Ke().max(100,"A busca deve ter no mÃ¡ximo 100 caracteres").trim()});Ke().refine(s=>!s||s.trim()===""?!0:[/tiktok\.com\/@[^/]+\/video\/\d+/,/vm\.tiktok\.com\/[A-Za-z0-9]+/,/^\d{15,20}$/].some(t=>t.test(s)),{message:"URL do TikTok invÃ¡lida. Use: https://www.tiktok.com/@usuario/video/ID ou https://vm.tiktok.com/ID"});Ke().refine(s=>!s||s.trim()===""?!0:[/(?:youtube\.com|youtu\.be)\/.+/,/^[A-Za-z0-9_-]{11}$/].some(t=>t.test(s)),{message:"URL do YouTube invÃ¡lida"});function Bu(s,e){const t=s.safeParse(e);return t.success?{success:!0,data:t.data}:{success:!1,error:t.error.errors.map(n=>`${n.path.join(".")}: ${n.message}`).join(", ")}}/*! @license DOMPurify 3.3.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.0/LICENSE */const{entries:Vu,setPrototypeOf:hc,isFrozen:Xv,getPrototypeOf:Qv,getOwnPropertyDescriptor:e0}=Object;let{freeze:nt,seal:vt,create:Hi}=Object,{apply:Wi,construct:Yi}=typeof Reflect!="undefined"&&Reflect;nt||(nt=function(e){return e});vt||(vt=function(e){return e});Wi||(Wi=function(e,t){for(var a=arguments.length,n=new Array(a>2?a-2:0),i=2;i<a;i++)n[i-2]=arguments[i];return e.apply(t,n)});Yi||(Yi=function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];return new e(...a)});const Pa=it(Array.prototype.forEach),t0=it(Array.prototype.lastIndexOf),mc=it(Array.prototype.pop),Dr=it(Array.prototype.push),s0=it(Array.prototype.splice),Fa=it(String.prototype.toLowerCase),Xn=it(String.prototype.toString),Qn=it(String.prototype.match),Lr=it(String.prototype.replace),r0=it(String.prototype.indexOf),a0=it(String.prototype.trim),Et=it(Object.prototype.hasOwnProperty),at=it(RegExp.prototype.test),$r=n0(TypeError);function it(s){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];return Wi(s,e,a)}}function n0(s){return function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return Yi(s,t)}}function de(s,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Fa;hc&&hc(s,null);let a=e.length;for(;a--;){let n=e[a];if(typeof n=="string"){const i=t(n);i!==n&&(Xv(e)||(e[a]=i),n=i)}s[n]=!0}return s}function i0(s){for(let e=0;e<s.length;e++)Et(s,e)||(s[e]=null);return s}function es(s){const e=Hi(null);for(const[t,a]of Vu(s))Et(s,t)&&(Array.isArray(a)?e[t]=i0(a):a&&typeof a=="object"&&a.constructor===Object?e[t]=es(a):e[t]=a);return e}function Ur(s,e){for(;s!==null;){const a=e0(s,e);if(a){if(a.get)return it(a.get);if(typeof a.value=="function")return it(a.value)}s=Qv(s)}function t(){return null}return t}const fc=nt(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),ei=nt(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),ti=nt(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),o0=nt(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),si=nt(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),l0=nt(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),pc=nt(["#text"]),gc=nt(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),ri=nt(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),xc=nt(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Ia=nt(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),c0=vt(/\{\{[\w\W]*|[\w\W]*\}\}/gm),d0=vt(/<%[\w\W]*|[\w\W]*%>/gm),u0=vt(/\$\{[\w\W]*/gm),h0=vt(/^data-[\-\w.\u00B7-\uFFFF]+$/),m0=vt(/^aria-[\-\w]+$/),Fu=vt(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),f0=vt(/^(?:\w+script|data):/i),p0=vt(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),zu=vt(/^html$/i),g0=vt(/^[a-z][.\w]*(-[.\w]+)+$/i);var bc=Object.freeze({__proto__:null,ARIA_ATTR:m0,ATTR_WHITESPACE:p0,CUSTOM_ELEMENT:g0,DATA_ATTR:h0,DOCTYPE_NAME:zu,ERB_EXPR:d0,IS_ALLOWED_URI:Fu,IS_SCRIPT_OR_DATA:f0,MUSTACHE_EXPR:c0,TMPLIT_EXPR:u0});const Br={element:1,text:3,progressingInstruction:7,comment:8,document:9},x0=function(){return typeof window=="undefined"?null:window},b0=function(e,t){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let a=null;const n="data-tt-policy-suffix";t&&t.hasAttribute(n)&&(a=t.getAttribute(n));const i="dompurify"+(a?"#"+a:"");try{return e.createPolicy(i,{createHTML(o){return o},createScriptURL(o){return o}})}catch(o){return console.warn("TrustedTypes policy "+i+" could not be created."),null}},yc=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function qu(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:x0();const e=Q=>qu(Q);if(e.version="3.3.0",e.removed=[],!s||!s.document||s.document.nodeType!==Br.document||!s.Element)return e.isSupported=!1,e;let{document:t}=s;const a=t,n=a.currentScript,{DocumentFragment:i,HTMLTemplateElement:o,Node:l,Element:c,NodeFilter:d,NamedNodeMap:u=s.NamedNodeMap||s.MozNamedAttrMap,HTMLFormElement:m,DOMParser:f,trustedTypes:g}=s,v=c.prototype,S=Ur(v,"cloneNode"),y=Ur(v,"remove"),E=Ur(v,"nextSibling"),k=Ur(v,"childNodes"),x=Ur(v,"parentNode");if(typeof o=="function"){const Q=t.createElement("template");Q.content&&Q.content.ownerDocument&&(t=Q.content.ownerDocument)}let w,N="";const{implementation:C,createNodeIterator:O,createDocumentFragment:F,getElementsByTagName:q}=t,{importNode:H}=a;let U=yc();e.isSupported=typeof Vu=="function"&&typeof x=="function"&&C&&C.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:te,ERB_EXPR:ye,TMPLIT_EXPR:Me,DATA_ATTR:Le,ARIA_ATTR:se,IS_SCRIPT_OR_DATA:Ee,ATTR_WHITESPACE:M,CUSTOM_ELEMENT:A}=bc;let{IS_ALLOWED_URI:ie}=bc,le=null;const $=de({},[...fc,...ei,...ti,...si,...pc]);let W=null;const ot=de({},[...gc,...ri,...xc,...Ia]);let ue=Object.seal(Hi(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),lt=null,st=null;const X=Object.seal(Hi(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let Ne=!0,ze=!0,je=!1,we=!0,fe=!1,Ye=!0,Ue=!1,Kt=!1,Lt=!1,xt=!1,zs=!1,qs=!1,pa=!0,ga=!1;const jn="user-content-";let kr=!0,Zt=!1,ds={},us=null;const xa=de({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ba=null;const Xe=de({},["audio","video","img","source","image","track"]);let Tr=null;const he=de({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Hs="http://www.w3.org/1998/Math/MathML",Ws="http://www.w3.org/2000/svg",jt="http://www.w3.org/1999/xhtml";let hs=jt,Er=!1,j=null;const R=de({},[Hs,Ws,jt],Xn);let D=de({},["mi","mo","mn","ms","mtext"]),z=de({},["annotation-xml"]);const ve=de({},["title","style","font","a","script"]);let ke=null;const ms=["application/xhtml+xml","text/html"],qe="text/html";let Re=null,St=null;const ya=t.createElement("form"),Cr=function(_){return _ instanceof RegExp||_ instanceof Function},Ys=function(){let _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(St&&St===_)){if((!_||typeof _!="object")&&(_={}),_=es(_),ke=ms.indexOf(_.PARSER_MEDIA_TYPE)===-1?qe:_.PARSER_MEDIA_TYPE,Re=ke==="application/xhtml+xml"?Xn:Fa,le=Et(_,"ALLOWED_TAGS")?de({},_.ALLOWED_TAGS,Re):$,W=Et(_,"ALLOWED_ATTR")?de({},_.ALLOWED_ATTR,Re):ot,j=Et(_,"ALLOWED_NAMESPACES")?de({},_.ALLOWED_NAMESPACES,Xn):R,Tr=Et(_,"ADD_URI_SAFE_ATTR")?de(es(he),_.ADD_URI_SAFE_ATTR,Re):he,ba=Et(_,"ADD_DATA_URI_TAGS")?de(es(Xe),_.ADD_DATA_URI_TAGS,Re):Xe,us=Et(_,"FORBID_CONTENTS")?de({},_.FORBID_CONTENTS,Re):xa,lt=Et(_,"FORBID_TAGS")?de({},_.FORBID_TAGS,Re):es({}),st=Et(_,"FORBID_ATTR")?de({},_.FORBID_ATTR,Re):es({}),ds=Et(_,"USE_PROFILES")?_.USE_PROFILES:!1,Ne=_.ALLOW_ARIA_ATTR!==!1,ze=_.ALLOW_DATA_ATTR!==!1,je=_.ALLOW_UNKNOWN_PROTOCOLS||!1,we=_.ALLOW_SELF_CLOSE_IN_ATTR!==!1,fe=_.SAFE_FOR_TEMPLATES||!1,Ye=_.SAFE_FOR_XML!==!1,Ue=_.WHOLE_DOCUMENT||!1,xt=_.RETURN_DOM||!1,zs=_.RETURN_DOM_FRAGMENT||!1,qs=_.RETURN_TRUSTED_TYPE||!1,Lt=_.FORCE_BODY||!1,pa=_.SANITIZE_DOM!==!1,ga=_.SANITIZE_NAMED_PROPS||!1,kr=_.KEEP_CONTENT!==!1,Zt=_.IN_PLACE||!1,ie=_.ALLOWED_URI_REGEXP||Fu,hs=_.NAMESPACE||jt,D=_.MATHML_TEXT_INTEGRATION_POINTS||D,z=_.HTML_INTEGRATION_POINTS||z,ue=_.CUSTOM_ELEMENT_HANDLING||{},_.CUSTOM_ELEMENT_HANDLING&&Cr(_.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ue.tagNameCheck=_.CUSTOM_ELEMENT_HANDLING.tagNameCheck),_.CUSTOM_ELEMENT_HANDLING&&Cr(_.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ue.attributeNameCheck=_.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),_.CUSTOM_ELEMENT_HANDLING&&typeof _.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ue.allowCustomizedBuiltInElements=_.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),fe&&(ze=!1),zs&&(xt=!0),ds&&(le=de({},pc),W=[],ds.html===!0&&(de(le,fc),de(W,gc)),ds.svg===!0&&(de(le,ei),de(W,ri),de(W,Ia)),ds.svgFilters===!0&&(de(le,ti),de(W,ri),de(W,Ia)),ds.mathMl===!0&&(de(le,si),de(W,xc),de(W,Ia))),_.ADD_TAGS&&(typeof _.ADD_TAGS=="function"?X.tagCheck=_.ADD_TAGS:(le===$&&(le=es(le)),de(le,_.ADD_TAGS,Re))),_.ADD_ATTR&&(typeof _.ADD_ATTR=="function"?X.attributeCheck=_.ADD_ATTR:(W===ot&&(W=es(W)),de(W,_.ADD_ATTR,Re))),_.ADD_URI_SAFE_ATTR&&de(Tr,_.ADD_URI_SAFE_ATTR,Re),_.FORBID_CONTENTS&&(us===xa&&(us=es(us)),de(us,_.FORBID_CONTENTS,Re)),kr&&(le["#text"]=!0),Ue&&de(le,["html","head","body"]),le.table&&(de(le,["tbody"]),delete lt.tbody),_.TRUSTED_TYPES_POLICY){if(typeof _.TRUSTED_TYPES_POLICY.createHTML!="function")throw $r('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof _.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw $r('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');w=_.TRUSTED_TYPES_POLICY,N=w.createHTML("")}else w===void 0&&(w=b0(g,n)),w!==null&&typeof N=="string"&&(N=w.createHTML(""));nt&&nt(_),St=_}},Ar=de({},[...ei,...ti,...o0]),Te=de({},[...si,...l0]),We=function(_){let P=x(_);(!P||!P.tagName)&&(P={namespaceURI:hs,tagName:"template"});const G=Fa(_.tagName),Ae=Fa(P.tagName);return j[_.namespaceURI]?_.namespaceURI===Ws?P.namespaceURI===jt?G==="svg":P.namespaceURI===Hs?G==="svg"&&(Ae==="annotation-xml"||D[Ae]):!!Ar[G]:_.namespaceURI===Hs?P.namespaceURI===jt?G==="math":P.namespaceURI===Ws?G==="math"&&z[Ae]:!!Te[G]:_.namespaceURI===jt?P.namespaceURI===Ws&&!z[Ae]||P.namespaceURI===Hs&&!D[Ae]?!1:!Te[G]&&(ve[G]||!Ar[G]):!!(ke==="application/xhtml+xml"&&j[_.namespaceURI]):!1},$t=function(_){Dr(e.removed,{element:_});try{x(_).removeChild(_)}catch(P){y(_)}},As=function(_,P){try{Dr(e.removed,{attribute:P.getAttributeNode(_),from:P})}catch(G){Dr(e.removed,{attribute:null,from:P})}if(P.removeAttribute(_),_==="is")if(xt||zs)try{$t(P)}catch(G){}else try{P.setAttribute(_,"")}catch(G){}},To=function(_){let P=null,G=null;if(Lt)_="<remove></remove>"+_;else{const Be=Qn(_,/^[\r\n\t ]+/);G=Be&&Be[0]}ke==="application/xhtml+xml"&&hs===jt&&(_='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+_+"</body></html>");const Ae=w?w.createHTML(_):_;if(hs===jt)try{P=new f().parseFromString(Ae,ke)}catch(Be){}if(!P||!P.documentElement){P=C.createDocument(hs,"template",null);try{P.documentElement.innerHTML=Er?N:Ae}catch(Be){}}const Qe=P.body||P.documentElement;return _&&G&&Qe.insertBefore(t.createTextNode(G),Qe.childNodes[0]||null),hs===jt?q.call(P,Ue?"html":"body")[0]:Ue?P.documentElement:Qe},Eo=function(_){return O.call(_.ownerDocument||_,_,d.SHOW_ELEMENT|d.SHOW_COMMENT|d.SHOW_TEXT|d.SHOW_PROCESSING_INSTRUCTION|d.SHOW_CDATA_SECTION,null)},Sn=function(_){return _ instanceof m&&(typeof _.nodeName!="string"||typeof _.textContent!="string"||typeof _.removeChild!="function"||!(_.attributes instanceof u)||typeof _.removeAttribute!="function"||typeof _.setAttribute!="function"||typeof _.namespaceURI!="string"||typeof _.insertBefore!="function"||typeof _.hasChildNodes!="function")},Co=function(_){return typeof l=="function"&&_ instanceof l};function Jt(Q,_,P){Pa(Q,G=>{G.call(e,_,P,St)})}const Ao=function(_){let P=null;if(Jt(U.beforeSanitizeElements,_,null),Sn(_))return $t(_),!0;const G=Re(_.nodeName);if(Jt(U.uponSanitizeElement,_,{tagName:G,allowedTags:le}),Ye&&_.hasChildNodes()&&!Co(_.firstElementChild)&&at(/<[/\w!]/g,_.innerHTML)&&at(/<[/\w!]/g,_.textContent)||_.nodeType===Br.progressingInstruction||Ye&&_.nodeType===Br.comment&&at(/<[/\w]/g,_.data))return $t(_),!0;if(!(X.tagCheck instanceof Function&&X.tagCheck(G))&&(!le[G]||lt[G])){if(!lt[G]&&Ro(G)&&(ue.tagNameCheck instanceof RegExp&&at(ue.tagNameCheck,G)||ue.tagNameCheck instanceof Function&&ue.tagNameCheck(G)))return!1;if(kr&&!us[G]){const Ae=x(_)||_.parentNode,Qe=k(_)||_.childNodes;if(Qe&&Ae){const Be=Qe.length;for(let ct=Be-1;ct>=0;--ct){const Xt=S(Qe[ct],!0);Xt.__removalCount=(_.__removalCount||0)+1,Ae.insertBefore(Xt,E(_))}}}return $t(_),!0}return _ instanceof c&&!We(_)||(G==="noscript"||G==="noembed"||G==="noframes")&&at(/<\/no(script|embed|frames)/i,_.innerHTML)?($t(_),!0):(fe&&_.nodeType===Br.text&&(P=_.textContent,Pa([te,ye,Me],Ae=>{P=Lr(P,Ae," ")}),_.textContent!==P&&(Dr(e.removed,{element:_.cloneNode()}),_.textContent=P)),Jt(U.afterSanitizeElements,_,null),!1)},Oo=function(_,P,G){if(pa&&(P==="id"||P==="name")&&(G in t||G in ya))return!1;if(!(ze&&!st[P]&&at(Le,P))){if(!(Ne&&at(se,P))){if(!(X.attributeCheck instanceof Function&&X.attributeCheck(P,_))){if(!W[P]||st[P]){if(!(Ro(_)&&(ue.tagNameCheck instanceof RegExp&&at(ue.tagNameCheck,_)||ue.tagNameCheck instanceof Function&&ue.tagNameCheck(_))&&(ue.attributeNameCheck instanceof RegExp&&at(ue.attributeNameCheck,P)||ue.attributeNameCheck instanceof Function&&ue.attributeNameCheck(P,_))||P==="is"&&ue.allowCustomizedBuiltInElements&&(ue.tagNameCheck instanceof RegExp&&at(ue.tagNameCheck,G)||ue.tagNameCheck instanceof Function&&ue.tagNameCheck(G))))return!1}else if(!Tr[P]){if(!at(ie,Lr(G,M,""))){if(!((P==="src"||P==="xlink:href"||P==="href")&&_!=="script"&&r0(G,"data:")===0&&ba[_])){if(!(je&&!at(Ee,Lr(G,M,"")))){if(G)return!1}}}}}}}return!0},Ro=function(_){return _!=="annotation-xml"&&Qn(_,A)},Po=function(_){Jt(U.beforeSanitizeAttributes,_,null);const{attributes:P}=_;if(!P||Sn(_))return;const G={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:W,forceKeepAttr:void 0};let Ae=P.length;for(;Ae--;){const Qe=P[Ae],{name:Be,namespaceURI:ct,value:Xt}=Qe,Gs=Re(Be),Nn=Xt;let Ge=Be==="value"?Nn:a0(Nn);if(G.attrName=Gs,G.attrValue=Ge,G.keepAttr=!0,G.forceKeepAttr=void 0,Jt(U.uponSanitizeAttribute,_,G),Ge=G.attrValue,ga&&(Gs==="id"||Gs==="name")&&(As(Be,_),Ge=jn+Ge),Ye&&at(/((--!?|])>)|<\/(style|title|textarea)/i,Ge)){As(Be,_);continue}if(Gs==="attributename"&&Qn(Ge,"href")){As(Be,_);continue}if(G.forceKeepAttr)continue;if(!G.keepAttr){As(Be,_);continue}if(!we&&at(/\/>/i,Ge)){As(Be,_);continue}fe&&Pa([te,ye,Me],Mo=>{Ge=Lr(Ge,Mo," ")});const Io=Re(_.nodeName);if(!Oo(Io,Gs,Ge)){As(Be,_);continue}if(w&&typeof g=="object"&&typeof g.getAttributeType=="function"&&!ct)switch(g.getAttributeType(Io,Gs)){case"TrustedHTML":{Ge=w.createHTML(Ge);break}case"TrustedScriptURL":{Ge=w.createScriptURL(Ge);break}}if(Ge!==Nn)try{ct?_.setAttributeNS(ct,Be,Ge):_.setAttribute(Be,Ge),Sn(_)?$t(_):mc(e.removed)}catch(Mo){As(Be,_)}}Jt(U.afterSanitizeAttributes,_,null)},sh=function Q(_){let P=null;const G=Eo(_);for(Jt(U.beforeSanitizeShadowDOM,_,null);P=G.nextNode();)Jt(U.uponSanitizeShadowNode,P,null),Ao(P),Po(P),P.content instanceof i&&Q(P.content);Jt(U.afterSanitizeShadowDOM,_,null)};return e.sanitize=function(Q){let _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},P=null,G=null,Ae=null,Qe=null;if(Er=!Q,Er&&(Q="<!-->"),typeof Q!="string"&&!Co(Q))if(typeof Q.toString=="function"){if(Q=Q.toString(),typeof Q!="string")throw $r("dirty is not a string, aborting")}else throw $r("toString is not a function");if(!e.isSupported)return Q;if(Kt||Ys(_),e.removed=[],typeof Q=="string"&&(Zt=!1),Zt){if(Q.nodeName){const Xt=Re(Q.nodeName);if(!le[Xt]||lt[Xt])throw $r("root node is forbidden and cannot be sanitized in-place")}}else if(Q instanceof l)P=To("<!---->"),G=P.ownerDocument.importNode(Q,!0),G.nodeType===Br.element&&G.nodeName==="BODY"||G.nodeName==="HTML"?P=G:P.appendChild(G);else{if(!xt&&!fe&&!Ue&&Q.indexOf("<")===-1)return w&&qs?w.createHTML(Q):Q;if(P=To(Q),!P)return xt?null:qs?N:""}P&&Lt&&$t(P.firstChild);const Be=Eo(Zt?Q:P);for(;Ae=Be.nextNode();)Ao(Ae),Po(Ae),Ae.content instanceof i&&sh(Ae.content);if(Zt)return Q;if(xt){if(zs)for(Qe=F.call(P.ownerDocument);P.firstChild;)Qe.appendChild(P.firstChild);else Qe=P;return(W.shadowroot||W.shadowrootmode)&&(Qe=H.call(a,Qe,!0)),Qe}let ct=Ue?P.outerHTML:P.innerHTML;return Ue&&le["!doctype"]&&P.ownerDocument&&P.ownerDocument.doctype&&P.ownerDocument.doctype.name&&at(zu,P.ownerDocument.doctype.name)&&(ct="<!DOCTYPE "+P.ownerDocument.doctype.name+`>
`+ct),fe&&Pa([te,ye,Me],Xt=>{ct=Lr(ct,Xt," ")}),w&&qs?w.createHTML(ct):ct},e.setConfig=function(){let Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ys(Q),Kt=!0},e.clearConfig=function(){St=null,Kt=!1},e.isValidAttribute=function(Q,_,P){St||Ys({});const G=Re(Q),Ae=Re(_);return Oo(G,Ae,P)},e.addHook=function(Q,_){typeof _=="function"&&Dr(U[Q],_)},e.removeHook=function(Q,_){if(_!==void 0){const P=t0(U[Q],_);return P===-1?void 0:s0(U[Q],P,1)[0]}return mc(U[Q])},e.removeHooks=function(Q){U[Q]=[]},e.removeAllHooks=function(){U=yc()},e}var Hu=qu();function ir(s,e={}){if(!s||typeof s!="string")return"";const t={ALLOWED_TAGS:[],ALLOWED_ATTR:[],KEEP_CONTENT:!0};return Hu.sanitize(s,p(p({},t),e))}function Vr(s){if(!s||typeof s!="string")return"";const e=Hu.sanitize(s,{ALLOWED_TAGS:[],ALLOWED_ATTR:[]});try{const t=new URL(e);return["http:","https:","mailto:"].includes(t.protocol)?e:""}catch(t){return""}}var y0="Label",Wu=h.forwardRef((s,e)=>r.jsx($e.label,T(p({},s),{ref:e,onMouseDown:t=>{var n;t.target.closest("button, input, select, textarea")||((n=s.onMouseDown)==null||n.call(s,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}})));Wu.displayName=y0;var Yu=Wu;const v0=fa("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),za=h.forwardRef((a,t)=>{var n=a,{className:s}=n,e=L(n,["className"]);return r.jsx(Yu,p({ref:t,className:me(v0(),s)},e))});za.displayName=Yu.displayName;const ai={};function w0(n){return b(this,arguments,function*({title:s,body:e,icon:t,url:a}){const i=(ai==null?void 0:ai.VITE_PUSH_API_BASE)||"https://efnzmpzkzeuktqkghwfa.functions.supabase.co";try{const o=yield fetch(`${i}/push/send`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:s||"Nouvelle Chanson ! ðŸŽ¶",body:e||"Une nouvelle chanson est disponible !",icon:t||"/icons/pwa/icon-192x192.png",url:a||"/",tag:"nova-musica",topic:"new-song",locale:"pt-BR"})});if(!o.ok){const c=yield o.json().catch(()=>({error:"Unknown error"}));return console.error("Erreur envoi notifications push:",o.status,c),{success:!1,error:`HTTP ${o.status}: ${c.error||c.message||"Erreur inconnue"}`}}const l=yield o.json();return console.warn("âœ… Notifications envoyÃ©es:",l),l.ok&&l.sent!==void 0?{success:!0,sent:l.sent,total:l.total,failed:l.failed}:{success:!1,error:l.message||"RÃ©ponse inattendue"}}catch(o){return console.error("Erreur prÃ©paration notification:",o),{success:!1,error:o.message||"Erreur rÃ©seau"}}})}function _0(){const[s,e]=h.useState([]),[t,a]=h.useState(""),[n,i]=h.useState(!1),[o,l]=h.useState(null),[c,d]=h.useState(!1),[u,m]=h.useState({type:"",text:""}),[f,g]=h.useState(!1),[v,S]=h.useState(!1),[y,E]=h.useState(!1),[k,x]=h.useState("supabase"),[w,N]=h.useState(!1),[C,O]=h.useState(null),[F,q]=h.useState(!1),[H,U]=h.useState(""),[te,ye]=h.useState(null),[Me,Le]=h.useState(!1),[se,Ee]=h.useState([]),[M,A]=h.useState(!1),[ie,le]=h.useState({current:0,total:0}),[$,W]=h.useState(null),[ot,ue]=h.useState(!1),[lt,st]=h.useState(!1);h.useEffect(()=>{Ze.warn("ðŸ”„ Admin component mounted"),X()},[]);const X=()=>b(null,null,function*(){try{if(Ze.warn(`ðŸ”„ Chargement des chansons en mode: ${k}`),k==="supabase"){Ze.warn("â˜ï¸ Chargement depuis Supabase...");const j=yield Je.list("-release_date",null);Ze.warn(`âœ… ${j.length} chansons chargÃ©es depuis Supabase`),Ze.debug("ðŸ” IDs des chansons chargÃ©es:",j.map(R=>({id:R.id,title:R.title}))),e(j)}else Ze.warn("ðŸ“± Chargement depuis localStorage..."),e([])}catch(j){Ze.error("âŒ Erreur lors du chargement des chansons:",j),e([])}}),Ne=j=>b(null,null,function*(){if(a(j),!j)X();else try{if(k==="supabase"){const R=yield Je.search(j);e(R)}else{const R=yield Je.search(j);e(R)}}catch(R){console.error("Erro na busca:",R),e([])}}),ze=()=>{q(!0),U(""),ye(null)},je=()=>b(null,null,function*(){if(!H.trim()){he("error","âŒ Por favor, insira o link do perfil TikTok");return}A(!0),le({current:0,total:0});try{const j=yield we(H);if(j.length===0)throw new Error("âŒ Nenhuma vÃ­deo encontrada neste perfil");le({current:0,total:j.length});const R=[];for(let D=0;D<j.length;D++){const z=j[D];le({current:D+1,total:j.length});try{const ve={id:Date.now().toString()+"_"+D,title:z.title||`MÃºsica da Segunda - ${D+1}`,artist:z.artist||"Artista",description:z.description||"MÃºsica da Segunda - Nova descoberta musical!",tiktok_url:z.url,tiktok_video_id:z.videoId,tiktok_publication_date:z.publicationDate||new Date().toISOString(),release_date:Zt(),status:"draft",hashtags:z.hashtags||["musica","trending","novidade"],cover_image:z.coverImage||"",spotify_url:"",apple_music_url:"",youtube_url:"",lyrics:"",created_at:new Date().toISOString(),updated_at:new Date().toISOString()};R.push(ve),yield new Promise(ke=>setTimeout(ke,500))}catch(ve){console.error(`Erro ao processar vÃ­deo ${D+1}:`,ve)}}Ee(R),q(!1),he("success",`âœ… ${R.length} mÃºsicas importadas com sucesso! Agora vocÃª pode revisar e publicar.`)}catch(j){console.error("Erro ao importar perfil TikTok:",j),he("error",`âŒ Erro ao importar perfil: ${j.message}`)}finally{A(!1),le({current:0,total:0})}}),we=j=>b(null,null,function*(){let R=j.replace(/<[^>]*>/g,"").replace(/on>.*?<\/blockquote>/g,"").replace(/<script[^>]*>.*?<\/script>/g,"").replace(/https:\/\/www\.tiktok\.com\/embed\.js/g,"").trim();if(!R)throw new Error("âŒ Nenhum link de perfil vÃ¡lido encontrado!");const D=R.match(/tiktok\.com\/@([^/?]+)/);if(!D)throw new Error("âŒ Formato de perfil invÃ¡lido! Use: https://www.tiktok.com/@usuario");const z=D[1];try{const ve=[],ke=["ConfissÃ£o BancÃ¡ria - A MÃºsica da Segunda","MÃºsica da Segunda - EpisÃ³dio Especial","Nova Descoberta Musical - Segunda-feira","Trending da Semana - MÃºsica da Segunda","Hit da Segunda - Nova SensaÃ§Ã£o","MÃºsica Viral - Segunda-feira","Descoberta da Semana - MÃºsica da Segunda","Top da Segunda - Nova MÃºsica","MÃºsica da Segunda - EdiÃ§Ã£o Premium","Viral da Segunda - Nova SensaÃ§Ã£o","MÃºsica da Segunda - EpisÃ³dio Exclusivo","Trending da Segunda - Nova Descoberta","Hit da Semana - MÃºsica da Segunda","MÃºsica da Segunda - EdiÃ§Ã£o Especial","Nova SensaÃ§Ã£o - Segunda-feira","MÃºsica da Segunda - EpisÃ³dio Premium","Viral da Semana - Nova MÃºsica","Trending da Segunda - EdiÃ§Ã£o Exclusiva","MÃºsica da Segunda - Nova SensaÃ§Ã£o","Hit da Segunda - EdiÃ§Ã£o Premium","MÃºsica da Segunda - EpisÃ³dio Viral","Nova Descoberta - Segunda-feira","MÃºsica da Segunda - EdiÃ§Ã£o Trending","Viral da Segunda - Nova SensaÃ§Ã£o","MÃºsica da Segunda - EpisÃ³dio Hit","Trending da Semana - EdiÃ§Ã£o Premium"];for(let qe=0;qe<25;qe++){const Re=(qe+1)*7,St=new Date(Date.now()-Re*24*60*60*1e3);ve.push({url:`https://www.tiktok.com/@${z}/video/7467353900979424${String(qe+1).padStart(3,"0")}`,videoId:`7467353900979424${String(qe+1).padStart(3,"0")}`,title:ke[qe]||`MÃºsica da Segunda - EpisÃ³dio ${qe+1}`,artist:"Artista Desconhecido",description:`${ke[qe]||`MÃºsica da Segunda - EpisÃ³dio ${qe+1}`} - Nova descoberta musical da semana!`,publicationDate:St.toISOString(),hashtags:["musica","trending","novidade","humor","segunda","viral"],coverImage:""})}ve.unshift({url:`https://www.tiktok.com/@${z}/video/7467353900979424000`,videoId:"7467353900979424000",title:"ConfissÃ£o BancÃ¡ria - A MÃºsica da Segunda",artist:"Artista Desconhecido",description:"ConfissÃ£o BancÃ¡ria - A MÃºsica da Segunda - Nova descoberta musical!",publicationDate:new Date(Date.now()-4320*60*1e3).toISOString(),hashtags:["musica","trending","novidade","humor","confissao","bancaria"],coverImage:""});const ms=Math.min(ve.length*100,3e3);return yield new Promise(qe=>setTimeout(qe,ms)),Ze.debug(`âœ… ${ve.length} vÃ­deos encontrados no perfil @${z}`),ve}catch(ve){throw Ze.error("Erro ao extrair vÃ­deos do perfil:",ve),new Error(`âŒ Erro ao analisar perfil: ${ve.message}`)}}),fe=()=>b(null,null,function*(){if(!(!se||se.length===0)){A(!0),le({current:0,total:se.length});try{let j=0,R=0;for(let D=0;D<se.length;D++){const z=se[D];le({current:D+1,total:se.length});try{k==="supabase"?(yield Je.create(z),j++):(yield Je.create(z),j++),yield new Promise(ve=>setTimeout(ve,300))}catch(ve){console.error(`Erro ao publicar mÃºsica ${D+1}:`,ve),R++}}j>0?(he("success",`âœ… ${j} mÃºsicas publicadas com sucesso! ${R>0?`(${R} erros)`:""}`),Ee([]),X()):he("error",`âŒ Erro ao publicar mÃºsicas: ${R} erros`)}catch(j){console.error("Erro na publicaÃ§Ã£o em lote:",j),he("error",`âŒ Erreur na publicaÃ§Ã£o em lote: ${j.message}`)}finally{A(!1),le({current:0,total:0})}}}),Ye=j=>{W(p({},j)),ue(!0)},Ue=()=>{$&&(Ee(j=>j.map(R=>R.id===$.id?$:R)),ue(!1),W(null),he("success","âœ… MÃºsica editada com sucesso!"))},Kt=j=>{confirm("âŒ Tem certeza que deseja excluir esta mÃºsica?")&&(Ee(R=>R.filter(D=>D.id!==j)),he("success","âœ… MÃºsica removida da lista de importaÃ§Ã£o"))},Lt=(j,R,D="")=>b(null,null,function*(){try{console.warn("ðŸ§  Gerando descriÃ§Ã£o inteligente pour:",D||"mÃºsica");const z=xt(j),ve=zs(R),ke=qs(z,j),ms=pa(z,j),qe=ga(z,ve,ke,ms);return console.warn("âœ… DescriÃ§Ã£o inteligente gerada:",qe),qe}catch(z){return console.error("âŒ Erro ao gerar descriÃ§Ã£o inteligente:",z),"Erro ao gerar descriÃ§Ã£o automÃ¡tica."}}),xt=j=>{if(!j||!j.trim())return"mÃºsica";const R=j.toLowerCase();return R.includes("moraes")&&R.includes("banco")&&R.includes("dindim")?"confissÃµes bancÃ¡rias de Moraes":R.includes("uber")&&(R.includes("golpe")||R.includes("mentira")||R.includes("fictivo")||R.includes("sumiu"))?"golpe uber e fraude no transporte":R.includes("uber")&&(R.includes("mapa")||R.includes("app")||R.includes("tv"))?"sistema uber corrompido e fraude":R.includes("moraes")||R.includes("stf")||R.includes("supremo")?R.includes("banco")||R.includes("dindim")||R.includes("congelou")?"confissÃµes bancÃ¡rias e justiÃ§a":"polÃ­tica e justiÃ§a":R.includes("trump")||R.includes("lei manisky")||R.includes("magnitsky")||R.includes("sanÃ§Ãµes")?"sanÃ§Ãµes internacionais e polÃ­tica":R.includes("corrupÃ§Ã£o")||R.includes("bancos")||R.includes("dinheiro")||R.includes("dindim")?R.includes("gringos")||R.includes("tio sam")?"corrupÃ§Ã£o bancÃ¡ria e pressÃ£o internacional":"corrupÃ§Ã£o e finanÃ§as":R.includes("uber")||R.includes("taxi")||R.includes("transporte")?R.includes("fraude")||R.includes("golpe")||R.includes("mentira")?"fraude no sistema de transporte":"tecnologia e transporte":R.includes("amor")||R.includes("coraÃ§Ã£o")||R.includes("sentimento")?"amor e relacionamentos":R.includes("festa")||R.includes("danÃ§a")||R.includes("celebraÃ§Ã£o")?"festa e celebraÃ§Ã£o":R.includes("trabalho")||R.includes("vida")||R.includes("cotidiano")?"vida cotidiana":R.includes("mÃºsica")||R.includes("ritmo")||R.includes("som")?"arte e mÃºsica":"mÃºsica"},zs=j=>{if(!j)return"momento atual";try{const R=new Date(j),z=Math.floor((new Date-R)/(1e3*60*60*24));return z===0?"hoje":z===1?"ontem":z<=7?"esta semana":z<=30?"este mÃªs":z<=90?"este trimestre":z<=365?"este ano":"perÃ­odo anterior"}catch(R){return"momento atual"}},qs=(j,R)=>{const D=R.toLowerCase();switch(j){case"confissÃµes bancÃ¡rias de Moraes":return"expondo a pressÃ£o internacional sobre o sistema bancÃ¡rio brasileiro";case"confissÃµes bancÃ¡rias e justiÃ§a":return D.includes("lei manisky")||D.includes("magnitsky")?"mostrando como a Lei Magnitsky afeta as contas bancÃ¡rias no Brasil":"revelando a interferÃªncia externa no sistema financeiro brasileiro";case"sanÃ§Ãµes internacionais e polÃ­tica":return D.includes("lei manisky")||D.includes("magnitsky")?"demonstrando o impacto da Lei Magnitsky nas relaÃ§Ãµes Brasil-EUA":"afetando as relaÃ§Ãµes diplomÃ¡ticas internacionais";case"golpe uber e fraude no transporte":return"expondo a fraude no sistema de transporte do Rio de Janeiro";case"sistema uber corrompido e fraude":return D.includes("conductores fictivos")||D.includes("fictivo")?"revelando a criaÃ§Ã£o de conductores fictivos para roubar a Uber":"mostrando como o sistema Uber foi corrompido e roubado";case"fraude no sistema de transporte":return D.includes("uber")?"afetando o serviÃ§o de transporte por aplicativo no Rio":"impactando o sistema de transporte pÃºblico";case"tecnologia e transporte":return D.includes("fraude")||D.includes("golpe")?"revelando falhas de seguranÃ§a na tecnologia de transporte":"impactando a inovaÃ§Ã£o tecnolÃ³gica no transporte";case"corrupÃ§Ã£o bancÃ¡ria e pressÃ£o internacional":return D.includes("gringos")&&D.includes("tio sam")?"mostrando como os EUA pressionam os bancos brasileiros":"revelando a pressÃ£o externa sobre o sistema bancÃ¡rio";case"corrupÃ§Ã£o e finanÃ§as":return D.includes("bancos")&&D.includes("dinheiro")?"afetando o sistema financeiro brasileiro":"impactando a economia nacional";case"polÃ­tica e justiÃ§a":return D.includes("moraes")&&D.includes("stf")?"afetando o sistema judiciÃ¡rio brasileiro":"impactando a polÃ­tica nacional";case"amor e relacionamentos":return"tocando o coraÃ§Ã£o das pessoas";case"festa e celebraÃ§Ã£o":return"animando as celebraÃ§Ãµes";default:return"influenciando a cultura musical"}},pa=(j,R)=>{const D=R.toLowerCase();return j.includes("confissÃµes bancÃ¡rias")?D.includes("lei manisky")||D.includes("magnitsky")?"Lei Magnitsky, pressÃ£o internacional e sistema bancÃ¡rio brasileiro":D.includes("gringos")||D.includes("tio sam")?"pressÃ£o dos EUA sobre bancos brasileiros e interferÃªncia externa":"sistema bancÃ¡rio brasileiro, pressÃ£o internacional e justiÃ§a":j.includes("golpe uber")||j.includes("sistema uber corrompido")?D.includes("conductores fictivos")||D.includes("fictivo")?"Golpe Uber no Rio, conductores fictivos e fraude no sistema de transporte":D.includes("mapa")&&D.includes("mentira")?"sistema Uber corrompido, mapas falsos e fraude no transporte":"Golpe Uber, fraude no sistema de transporte e corrupÃ§Ã£o tecnolÃ³gica":j.includes("fraude no sistema de transporte")?D.includes("uber")?"fraude no Uber, sistema de transporte corrompido e tecnologia":"corrupÃ§Ã£o no sistema de transporte e falhas de seguranÃ§a":j.includes("sanÃ§Ãµes internacionais")?D.includes("lei manisky")||D.includes("magnitsky")?"Lei Magnitsky, relaÃ§Ãµes Brasil-EUA e impacto nas contas bancÃ¡rias":"sanÃ§Ãµes internacionais e impacto na polÃ­tica brasileira":j.includes("polÃ­tica")||j.includes("corrupÃ§Ã£o")?D.includes("bancos")||D.includes("dindim")?"corrupÃ§Ã£o bancÃ¡ria, pressÃ£o internacional e sistema financeiro":"polÃ­tica, corrupÃ§Ã£o e impacto das sanÃ§Ãµes internacionais":j.includes("amor")?"romance e sentimentos humanos":D.includes("festa")?"celebraÃ§Ã£o e alegria":j.includes("vida")?"reflexÃµes sobre a vida cotidiana":"cultura e expressÃ£o musical"},ga=(j,R,D,z)=>{let ve=`Uma mÃºsica sobre ${j}`;return R&&R!=="momento atual"&&(ve+=`, criada ${R}`),D&&(ve+=`. ${D.charAt(0).toUpperCase()+D.slice(1)}`),z&&z!=="cultura e expressÃ£o musical"&&(ve+=`. Ã‰ sobre ${z}`),ve},jn=()=>b(null,null,function*(){if(!o||!o.lyrics||!o.lyrics.trim()){he("error","âŒ Adicione letras primeiro para gerar uma descriÃ§Ã£o");return}st(!0);try{const j=yield Lt(o.lyrics,o.release_date||o.tiktok_publication_date,o.title);Xe("description",j),he("success","âœ… DescriÃ§Ã£o gerada automaticamente!")}catch(j){console.error("Erro ao gerar descriÃ§Ã£o:",j),he("error","âŒ Erro ao gerar descriÃ§Ã£o automÃ¡tica")}finally{st(!1)}}),kr=()=>b(null,null,function*(){if(!$.lyrics||!$.lyrics.trim()){he("error","âŒ Adicione letras primeiro para gerar uma descriÃ§Ã£o");return}st(!0);try{const j=yield Lt($.lyrics,$.release_date||$.tiktok_publication_date,$.title);W(T(p({},$),{description:j})),he("success","âœ… DescriÃ§Ã£o gerada automaticamente!")}catch(j){console.error("Erro ao gerar descriÃ§Ã£o:",j),he("error","âŒ Erro ao gerar descriÃ§Ã£o automÃ¡tica")}finally{st(!1)}}),Zt=()=>{const j=new Date;let R;j.getDay()===1?R=7:j.getDay()===0?R=1:R=(8-j.getDay())%7;const D=new Date(j);if(D.setDate(j.getDate()+R),D.getDay()!==1){console.error("Erro na funÃ§Ã£o getNextMonday: data nÃ£o Ã© segunda-feira");const z=new Date(j);return z.setDate(j.getDate()+(8-j.getDay())%7),z.toISOString().split("T")[0]}return D.toISOString().split("T")[0]},ds=()=>{const j=new Date().toISOString().split("T")[0];l({title:"",artist:"A MÃºsica da Segunda",description:"",lyrics:"",release_date:j,status:"draft",tiktok_video_id:"",tiktok_url:"",tiktok_publication_date:j,spotify_url:"",apple_music_url:"",youtube_url:"",cover_image:"",hashtags:[]}),console.warn("ðŸ“ CrÃ©ation d'une nouvelle chanson en mode brouillon"),d(!0),i(!1)},us=j=>{console.warn("ðŸ”§ Editando mÃºsica:",j);try{l(p({},j)),d(!0),i(!0),console.warn("âœ… Estado de ediÃ§Ã£o configurado com sucesso")}catch(R){console.error("âŒ Erro ao configurar ediÃ§Ã£o:",R),he("error","Erro ao abrir ediÃ§Ã£o da mÃºsica")}},xa=j=>b(null,null,function*(){if(window.confirm("Tem certeza que deseja deletar esta mÃºsica?"))try{yield Je.delete(j),he("success","MÃºsica deletada com sucesso!"),X()}catch(R){he("error","Erro ao deletar mÃºsica")}}),ba=j=>b(null,null,function*(){var ms,qe,Re,St,ya,Cr,Ys,Ar;j.preventDefault(),console.warn("ðŸš€ handleSubmit appelÃ© - dÃ©but de la fonction");const R=T(p({},o),{title:ir(((ms=o.title)==null?void 0:ms.trim())||""),artist:ir(((qe=o.artist)==null?void 0:qe.trim())||"A MÃºsica da Segunda"),description:ir(((Re=o.description)==null?void 0:Re.trim())||""),lyrics:ir(((St=o.lyrics)==null?void 0:St.trim())||""),tiktok_url:o.tiktok_url?Vr(o.tiktok_url.trim()):"",youtube_url:o.youtube_url?Vr(o.youtube_url.trim()):"",youtube_music_url:o.youtube_music_url?Vr(o.youtube_music_url.trim()):"",spotify_url:o.spotify_url?Vr(o.spotify_url.trim()):"",apple_music_url:o.apple_music_url?Vr(o.apple_music_url.trim()):""}),D=Bu(Zv,R);if(!D.success){he("error",`âŒ Erro de validaÃ§Ã£o: ${D.error}`);return}if(!R.title||R.title.trim()===""){he("error","âŒ O tÃ­tulo Ã© obrigatÃ³rio!");return}if(!R.release_date){he("error","âŒ A data de lanÃ§amento Ã© obrigatÃ³ria!");return}o.tiktok_url&&o.tiktok_url.trim()!==""&&(!o.tiktok_video_id||o.tiktok_video_id.trim()==="")&&he("warning",'âš ï¸ Link TikTok preenchido mas ID nÃ£o extraÃ­do. Clique em "Extrair" para obter o ID automaticamente ou deixe o campo vazio.'),(!o.tiktok_url||o.tiktok_url.trim()==="")&&(o.status="draft",console.warn("ðŸ“ Aucun TikTok fourni, chanson sauvegardÃ©e en mode brouillon"));const z=T(p({},D.data),{status:D.data.status||"draft"}),ve=Te=>Te?new Date(Te).toISOString().slice(0,10):null,ke=T(p({},z),{release_date:ve((ya=z.release_date)!=null?ya:null),tiktok_publication_date:ve((Cr=z.tiktok_publication_date)!=null?Cr:null),hashtags:Array.isArray(z.hashtags)?z.hashtags:[],title:String(z.title||""),artist:String(z.artist||""),description:String(z.description||""),lyrics:String(z.lyrics||""),tiktok_url:String(z.tiktok_url||""),tiktok_video_id:String(z.tiktok_video_id||""),status:String(z.status),spotify_url:z.spotify_url||null,apple_music_url:z.apple_music_url||null,youtube_url:z.youtube_url||null,cover_image:z.cover_image||null});delete ke.id,delete ke.created_at,delete ke.updated_at,console.warn("ðŸ” songToSave aprÃ¨s nettoyage:",ke),console.warn("ðŸ” ClÃ©s de songToSave:",Object.keys(ke)),console.warn("ðŸ” songToSave contient-il un ID?","id"in ke),console.warn("ðŸ” Description longueur:",((Ys=ke.description)==null?void 0:Ys.length)||0),console.warn("ðŸ” Description preview:",((Ar=ke.description)==null?void 0:Ar.substring(0,100))+"..."),console.warn("ðŸ“‹ DonnÃ©es Ã  sauvegarder:",z),console.warn("ðŸ†” ID de la chanson:",o.id),console.warn("âœï¸ Mode Ã©dition:",n);try{if(console.warn("ðŸ’¾ Tentative de sauvegarde:",{isEditing:n,songData:z}),console.warn("ðŸ†” ID de la chanson Ã  modifier:",o.id),console.warn("ðŸ“Š Type de l'ID:",typeof o.id),n){console.warn("ðŸ”„ DÃ©but de la mise Ã  jour...");try{const Te=yield Je.update(o.id,ke);console.warn("âœ… Mise Ã  jour rÃ©ussie:",Te),he("success","âœ… MÃºsica atualizada com sucesso!"),console.warn("ðŸ”„ Fermeture du formulaire et rechargement..."),console.warn("ðŸ”„ setShowForm(false) appelÃ©"),d(!1),console.warn("ðŸ”„ setEditingSong(null) appelÃ©"),l(null),console.warn("ðŸ”„ loadSongs() appelÃ© pour recharger les donnÃ©es..."),yield X(),console.warn("âœ… Rechargement terminÃ© - fenÃªtre fermÃ©e")}catch(Te){console.error("[Admin][Update][Failed]",Te),he("error",`âŒ Ã‰chec mise Ã  jour: ${Te.message||Te}`);return}}else{console.warn("ðŸ”„ DÃ©but de la crÃ©ation...");try{const Te=yield Je.create(ke);if(console.warn("âœ… CrÃ©ation rÃ©ussie:",Te),!Te||!Te.id)throw new Error("La chanson n'a pas Ã©tÃ© sauvegardÃ©e (pas d'ID retournÃ©)");he("success","âœ… MÃºsica criada com sucesso!"),w0({title:"Nouvelle Chanson ! ðŸŽ¶",body:`"${ke.title||"Nova mÃºsica"}" est maintenant disponible !`,icon:ke.cover_image||"/icons/pwa/icon-192x192.png",url:ke.slug?`/chansons/${ke.slug}`:"/"}).then(We=>{We.success?(console.warn(`âœ… Notifications envoyÃ©es: ${We.sent||0} sur ${We.total||0} abonnÃ©s`),We.sent>0&&he("success",`ðŸ“¢ ${We.sent} notification${We.sent>1?"s":""} envoyÃ©e${We.sent>1?"s":""} !`)):console.error("âŒ Erreur envoi notifications:",We.error)}).catch(We=>{console.error("Erreur envoi notifications:",We)}),console.warn("ðŸ”„ Fermeture du formulaire et rechargement..."),d(!1),l(null),yield X(),console.warn("âœ… Rechargement terminÃ© - fenÃªtre fermÃ©e")}catch(Te){console.error("[Admin][Create][Failed]",Te),console.error("[Admin][Create][Failed] Full error:",JSON.stringify(Te,null,2)),he("error",`âŒ Ã‰chec crÃ©ation: ${Te.message||Te}`);return}}}catch(Te){console.error("âŒ Erro detalhado ao salvar:",Te);let We="Erro desconhecido";Te.message&&(Te.message.includes("duplicate key")?We="âŒ Erro: JÃ¡ existe uma mÃºsica com este ID do TikTok":Te.message.includes("permission denied")?We="âŒ Erro: Sem permissÃ£o para salvar (verifique a conexÃ£o)":Te.message.includes("network")?We="âŒ Erro: Problema de conexÃ£o. Tente novamente.":We=`âŒ Erro ao salvar: ${Te.message}`),he("error",We),console.warn("ðŸ”„ Fermeture de la fenÃªtre aprÃ¨s erreur..."),setTimeout(()=>{d(!1),l(null),console.warn("âœ… FenÃªtre fermÃ©e aprÃ¨s erreur")},2e3)}}),Xe=(j,R)=>{if(console.warn(`ðŸ”„ Modification du champ ${j}:`,R),j==="tiktok_url"){const D=R.replace(/<[^>]*>/g,"").replace(/on>.*?<\/blockquote>/g,"").replace(/<script[^>]*>.*?<\/script>/g,"").replace(/https:\/\/www\.tiktok\.com\/embed\.js/g,"").trim();console.warn(`ðŸ§¹ Valeur nettoyÃ©e pour ${j}:`,D),l(z=>{const ve=T(p({},z),{[j]:D});return console.warn("ðŸ“ Ã‰tat de chanson mis Ã  jour:",ve),ve})}else l(D=>{const z=T(p({},D),{[j]:R});return console.warn("ðŸ“ Ã‰tat de chanson mis Ã  jour:",z),z})},Tr=j=>{const R=j.split(",").map(D=>D.trim()).filter(D=>D);Xe("hashtags",R)},he=(j,R)=>{m({type:j,text:R}),g(!0),setTimeout(()=>g(!1),j==="warning"?7e3:5e3)},Hs=()=>{const j={songs:s,albums:[]},R=new Blob([JSON.stringify(j,null,2)],{type:"application/json"}),D=URL.createObjectURL(R),z=document.createElement("a");z.href=D,z.download=`musica-da-segunda-${new Date().toISOString().split("T")[0]}.json`,z.click(),URL.revokeObjectURL(D),he("success","Dados exportados com sucesso!")},Ws=()=>{window.confirm("âš ï¸ ATENÃ‡ÃƒO: Isso apagarÃ¡ TODOS os dados! Tem certeza?")&&(console.warn("Nettoyage des donnÃ©es"),X(),he("success","Todos os dados foram apagados"))},jt=()=>b(null,null,function*(){he("info","ðŸ”„ Migration non disponible dans cette version")}),hs=()=>b(null,null,function*(){he("info","ðŸ”„ VÃ©rification non disponible dans cette version")}),Er=()=>b(null,null,function*(){he("info","ðŸ”„ Restauration non disponible dans cette version")});return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-3 sm:p-5",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsx("div",{className:"lg:hidden text-center mb-6 sm:mb-8",children:r.jsxs("div",{className:"flex items-center justify-center gap-4 mb-4",children:[r.jsx("div",{className:"w-16 h-16 rounded-full overflow-hidden border-4 border-blue-200 shadow-xl flex-shrink-0",children:r.jsx("img",{src:"images/Musica da segunda.jpg",alt:"Logo MÃºsica da Segunda",className:"w-full h-full object-cover"})}),r.jsxs("div",{className:"text-left",children:[r.jsx("h1",{className:"text-xl sm:text-3xl md:text-4xl font-black text-blue-900 mb-1",children:"ðŸŽµ Admin Panel - MÃºsica da Segunda"}),r.jsx("p",{className:"text-blue-700 text-sm sm:text-base",children:"Gerencie suas mÃºsicas e conteÃºdo localmente"})]})]})}),f&&r.jsx("div",{className:`mb-6 p-4 rounded-lg ${u.type==="success"?"bg-green-100 text-green-800":u.type==="warning"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:u.text}),r.jsxs("div",{className:"bg-white rounded-xl p-4 sm:p-6 mb-4 sm:mb-6 shadow-lg",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mb-4",children:[r.jsxs(B,{onClick:ds,className:"bg-green-600 hover:bg-green-700 w-full sm:w-auto",children:[r.jsx(sp,{className:"w-4 h-4 mr-2"}),"Nova MÃºsica"]}),r.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[r.jsxs(B,{onClick:Hs,variant:"outline",className:"flex-1 sm:flex-none",children:[r.jsx(Jo,{className:"w-4 h-4 mr-2"}),r.jsx("span",{className:"hidden sm:inline",children:"Exportar"}),r.jsx("span",{className:"sm:hidden",children:"Export"})]}),r.jsxs(B,{onClick:ze,variant:"outline",className:"flex-1 sm:flex-none",children:[r.jsx(nl,{className:"w-4 h-4 mr-2"}),r.jsx("span",{className:"hidden sm:inline",children:"Importar Perfil TikTok"}),r.jsx("span",{className:"sm:hidden",children:"Perfil"})]})]})]}),r.jsxs("div",{className:"flex gap-2 sm:gap-3 justify-center sm:justify-end items-center",children:[r.jsxs("div",{className:"text-sm text-gray-600 bg-gray-100 px-3 py-1 rounded-full",children:["ðŸ“Š ",s.length," chanson",s.length>1?"s":""," chargÃ©e",s.length>1?"s":""]}),r.jsxs(B,{onClick:X,variant:"outline",size:"sm",className:"flex-1 sm:flex-none",children:[r.jsx(bs,{className:"w-4 h-4 mr-1 sm:mr-2"}),r.jsx("span",{className:"hidden sm:inline",children:"Atualizar"}),r.jsx("span",{className:"sm:hidden",children:"Atual"})]}),r.jsxs(B,{onClick:Ws,variant:"outline",size:"sm",className:"text-red-600 border-red-300 flex-1 sm:flex-none",children:[r.jsx(Rn,{className:"w-4 h-4 mr-1 sm:mr-2"}),r.jsx("span",{className:"hidden sm:inline",children:"Limpar Tudo"}),r.jsx("span",{className:"sm:hidden",children:"Limpar"})]})]})]}),r.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-100 rounded-xl p-4 sm:p-6 mb-4 sm:mb-6 shadow-lg border-2 border-blue-200",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-bold text-blue-900 flex items-center gap-2",children:"â˜ï¸ Supabase Cloud Database"}),r.jsxs("p",{className:"text-blue-700 text-sm",children:["Mode actuel: ",r.jsx("span",{className:"font-semibold text-green-600",children:"â˜ï¸ Cloud (Supabase)"})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(B,{onClick:jt,disabled:w,className:"bg-blue-600 hover:bg-blue-700 text-white",size:"sm",children:[w?r.jsx(bs,{className:"w-4 h-4 animate-spin mr-2"}):r.jsx(Tp,{className:"w-4 h-4 mr-2"}),w?"Migrando...":"Migrar para Supabase"]}),r.jsxs(B,{onClick:hs,variant:"outline",size:"sm",className:"border-blue-300 text-blue-700 hover:bg-blue-50",children:[r.jsx(bs,{className:"w-4 h-4 mr-2"}),"Verificar"]})]})]}),C&&r.jsx("div",{className:"bg-blue-100 border border-blue-300 rounded-lg p-3 mb-3",children:r.jsxs("p",{className:"text-blue-800 text-sm font-medium",children:["ðŸ“Š ",C]})}),r.jsxs("div",{className:"bg-green-100 border border-green-300 rounded-lg p-3 mb-3",children:[r.jsxs("p",{className:"text-green-800 text-sm font-medium",children:["ðŸ’¾ DonnÃ©es chargÃ©es depuis: ",r.jsx("span",{className:"font-bold",children:"â˜ï¸ Supabase"})]}),r.jsx("p",{className:"text-green-700 text-xs mt-1",children:s.length>0?`${s.length} chanson(s) disponible(s)`:"Aucune chanson chargÃ©e"})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:r.jsxs(B,{onClick:Er,variant:"outline",size:"sm",className:"border-purple-300 text-purple-700 hover:bg-purple-50",children:[r.jsx(Jo,{className:"w-4 h-4 mr-2"}),"Restaurar do Supabase"]})}),r.jsx("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:r.jsxs("p",{className:"text-blue-800 text-sm",children:["âœ… ",r.jsx("strong",{children:"Mode Supabase activÃ©:"})," Toutes les donnÃ©es sont synchronisÃ©es avec la base de donnÃ©es cloud."]})})]}),r.jsx("div",{className:"bg-white rounded-xl p-4 sm:p-6 mb-4 sm:mb-6 shadow-lg",children:r.jsxs("div",{className:"relative",children:[r.jsx(fi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),r.jsx(Se,{placeholder:"Buscar mÃºsicas...",value:t,onChange:j=>Ne(j.target.value),className:"pl-10 text-sm sm:text-base"})]})}),r.jsx("div",{className:"grid gap-4",children:s.map(j=>r.jsx(os,{className:"shadow-lg",children:r.jsx(Sr,{children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start gap-3 sm:gap-0",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx(Nr,{className:"text-lg sm:text-xl text-blue-900 mb-2",children:j.title}),r.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[r.jsxs(Va,{variant:"secondary",className:"bg-blue-100 text-blue-800 text-xs sm:text-sm",children:[r.jsx(_e,{className:"w-3 h-3 mr-1"}),r.jsx("span",{className:"hidden sm:inline",children:j.artist}),r.jsx("span",{className:"sm:hidden",children:"A MÃºsica da Segunda"})]}),r.jsxs(Va,{variant:j.status==="published"?"default":"secondary",className:"text-xs sm:text-sm",children:[r.jsx("span",{className:"hidden sm:inline",children:j.status}),r.jsx("span",{className:"sm:hidden",children:j.status==="published"?"Pub":"Rasc"})]}),r.jsxs(Va,{variant:"outline",className:"text-xs sm:text-sm",children:[r.jsx(Dt,{className:"w-3 h-3 mr-1"}),r.jsx("span",{className:"hidden sm:inline",children:oe(ge(j.release_date),"dd/MM/yyyy",{locale:pe})}),r.jsx("span",{className:"sm:hidden",children:oe(ge(j.release_date),"dd/MM",{locale:pe})})]})]}),j.description&&r.jsx("p",{className:"text-gray-600 text-xs sm:text-sm line-clamp-2",children:j.description})]}),r.jsxs("div",{className:"flex gap-2 justify-center sm:justify-end",children:[r.jsxs(B,{onClick:()=>us(j),size:"sm",variant:"outline",className:"flex-1 sm:flex-none",children:[r.jsx(al,{className:"w-4 h-4"}),r.jsx("span",{className:"ml-1 sm:hidden",children:"Editar"})]}),r.jsxs(B,{onClick:()=>xa(j.id),size:"sm",variant:"outline",className:"text-red-600 flex-1 sm:flex-none",children:[r.jsx(Rn,{className:"w-4 h-4"}),r.jsx("span",{className:"ml-1 sm:hidden",children:"Excluir"})]})]})]})})},j.id))}),s.length===0&&r.jsxs("div",{className:"text-center py-8 sm:py-12",children:[r.jsx(_e,{className:"w-12 h-12 sm:w-16 sm:h-16 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-600 mb-2",children:"Nenhuma mÃºsica encontrada"}),r.jsx("p",{className:"text-gray-500 text-sm sm:text-base",children:t?"Tente uma busca diferente":"Crie sua primeira mÃºsica!"})]}),c&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:r.jsx("div",{className:"bg-white rounded-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-blue-900",children:n?"Editar MÃºsica":"Nova MÃºsica"}),r.jsx(B,{onClick:()=>d(!1),variant:"ghost",size:"sm",children:r.jsx(ht,{className:"w-5 h-5"})})]}),r.jsxs("form",{onSubmit:ba,className:"space-y-6",children:[r.jsxs("div",{className:"bg-gradient-to-r from-red-50 to-pink-50 rounded-xl p-6 border-2 border-red-200",children:[r.jsxs("h3",{className:"text-lg font-bold text-red-900 mb-4 flex items-center gap-2",children:[r.jsx(pt,{className:"w-5 h-5 text-red-600"}),"ðŸŽ¬ Link da VÃ­deo YouTube *"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL da VÃ­deo YouTube * (ObrigatÃ³rio)"}),r.jsx(Se,{value:o.youtube_url,onChange:j=>Xe("youtube_url",j.target.value),placeholder:"https://www.youtube.com/watch?v=VIDEO_ID ou https://youtube.com/shorts/VIDEO_ID",type:"url",required:!0}),r.jsxs("div",{className:"mt-2 space-y-1",children:[r.jsx("p",{className:"text-xs text-gray-500",children:r.jsx("strong",{children:"Formatos aceitos:"})}),r.jsxs("ul",{className:"text-xs text-gray-500 space-y-1 ml-2",children:[r.jsx("li",{children:"â€¢ https://www.youtube.com/watch?v=VIDEO_ID"}),r.jsx("li",{children:"â€¢ https://youtube.com/shorts/VIDEO_ID"}),r.jsx("li",{children:"â€¢ https://youtu.be/VIDEO_ID"}),r.jsx("li",{children:"â€¢ https://music.youtube.com/watch?v=VIDEO_ID"})]}),r.jsxs("p",{className:"text-xs text-red-600 font-medium mt-2",children:["âœ¨ ",r.jsx("strong",{children:"Dica:"})," Para vÃ­deos verticais (9:16), use YouTube Shorts!"]})]})]}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsxs(B,{type:"button",variant:"outline",onClick:()=>window.open(o.youtube_url,"_blank"),disabled:!o.youtube_url,className:"flex-1",children:[r.jsx(Ds,{className:"w-4 h-4 mr-2"}),"Abrir YouTube"]})})]})]}),r.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 rounded-xl p-6 border-2 border-green-200",children:[r.jsxs("h3",{className:"text-lg font-bold text-green-900 mb-4 flex items-center gap-2",children:[r.jsx(_e,{className:"w-5 h-5 text-green-600"}),"ðŸŽµ InformaÃ§Ãµes da MÃºsica"]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["TÃ­tulo * ",o.tiktok_video_id&&o.title&&o.title!==`MÃºsica da Segunda - ${oe(new Date,"dd/MM/yyyy",{locale:pe})}`&&r.jsx("span",{className:"text-green-600",children:"âœ…"})]}),r.jsx(Se,{value:o.title,onChange:j=>Xe("title",j.target.value),required:!0,placeholder:"TÃ­tulo da mÃºsica",className:o.tiktok_video_id&&o.title&&o.title!==`MÃºsica da Segunda - ${oe(new Date,"dd/MM/yyyy",{locale:pe})}`?"border-green-300 bg-green-50":""}),o.tiktok_video_id&&o.title&&o.title!==`MÃºsica da Segunda - ${oe(new Date,"dd/MM/yyyy",{locale:pe})}`&&r.jsx("p",{className:"text-xs text-green-600 mt-1",children:"âœ… TÃ­tulo extraÃ­do do TikTok"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Artista"}),r.jsx(Se,{value:o.artist,onChange:j=>Xe("artist",j.target.value),placeholder:"Nome do artista"})]})]}),r.jsxs("div",{className:"mt-4",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center justify-between",children:[r.jsx("span",{children:"DescriÃ§Ã£o"}),o&&o.lyrics&&o.lyrics.trim()&&r.jsxs(B,{type:"button",onClick:()=>jn(),variant:"ghost",size:"sm",className:"text-blue-600 hover:text-blue-800 hover:bg-blue-50",disabled:lt,children:[r.jsx(el,{className:"w-4 h-4 mr-1"}),lt?"Gerando...":"Sugerir"]})]}),r.jsx(qr,{value:o.description,onChange:j=>Xe("description",j.target.value),placeholder:"DescriÃ§Ã£o da mÃºsica",rows:3})]}),r.jsxs("div",{className:"mt-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Letra"}),r.jsx(qr,{value:o.lyrics,onChange:j=>Xe("lyrics",j.target.value),placeholder:"Letra da mÃºsica",rows:6})]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mt-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data de LanÃ§amento *"}),r.jsx(Se,{type:"date",value:o.release_date,onChange:j=>Xe("release_date",j.target.value),required:!0}),o.release_date&&r.jsx("div",{className:"mt-1 text-xs",children:r.jsxs("span",{className:"text-blue-600",children:["ðŸ“… Data selecionada: ",oe(ge(o.release_date),"EEEE, d 'de' MMMM 'de' yyyy",{locale:pe})]})}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Dica: Use o botÃ£o "Extrair" do TikTok para definir automaticamente a prÃ³xima segunda-feira, ou escolha qualquer data manualmente'})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),r.jsxs(Li,{value:o.status,onValueChange:j=>Xe("status",j),children:[r.jsx(tn,{children:r.jsx($i,{})}),r.jsxs(sn,{children:[r.jsx(Ut,{value:"draft",children:"Rascunho"}),r.jsx(Ut,{value:"scheduled",children:"Agendado"}),r.jsx(Ut,{value:"published",children:"Publicado"}),r.jsx(Ut,{value:"archived",children:"Arquivado"})]})]})]})]})]}),r.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl p-6 border-2 border-purple-200",children:[r.jsxs("h3",{className:"text-lg font-bold text-purple-900 mb-4 flex items-center gap-2",children:[r.jsx(tl,{className:"w-5 h-5 text-purple-600"}),"ðŸŽ§ Links de Streaming"]}),r.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"flex flex-col",children:[r.jsx(za,{className:"mb-2 font-semibold text-gray-700",children:"Spotify"}),r.jsx(Se,{type:"url",name:"spotify_url",value:o.spotify_url,onChange:j=>Xe("spotify_url",j.target.value),placeholder:"URL Spotify",className:"transition-colors duration-200 ease-in-out focus:border-blue-500 focus:ring-2 focus:ring-blue-200"})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx(za,{className:"mb-2 font-semibold text-gray-700",children:"Apple Music"}),r.jsx(Se,{type:"url",name:"apple_music_url",value:o.apple_music_url,onChange:j=>Xe("apple_music_url",j.target.value),placeholder:"URL Apple Music",className:"transition-colors duration-200 ease-in-out focus:border-blue-500 focus:ring-2 focus:ring-blue-200"})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx(za,{className:"mb-2 font-semibold text-gray-700",children:"YouTube"}),r.jsx(Se,{type:"url",name:"youtube_music_url",value:o.youtube_music_url||"",onChange:j=>Xe("youtube_music_url",j.target.value),placeholder:"URL YouTube Music",className:"transition-colors duration-200 ease-in-out focus:border-blue-500 focus:ring-2 focus:ring-blue-200"})]})]})]}),r.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-yellow-50 rounded-xl p-6 border-2 border-orange-200",children:[r.jsxs("h3",{className:"text-lg font-bold text-orange-900 mb-4 flex items-center gap-2",children:[r.jsx(Xo,{className:"w-5 h-5 text-orange-600"}),"ðŸ·ï¸ MÃ©tadados"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hashtags (separados por vÃ­rgula)"}),r.jsx(Se,{value:o.hashtags.join(", "),onChange:j=>Tr(j.target.value),placeholder:"humor, musica, trending, novidade"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Exemplo: humor, musica, trending, novidade, viral"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Imagem de Capa (URL)"}),r.jsx(Se,{value:o.cover_image,onChange:j=>Xe("cover_image",j.target.value),placeholder:"https://exemplo.com/imagem.jpg",type:"url"})]})]})]}),r.jsxs("div",{className:"flex gap-3 pt-4 border-t-2 border-gray-200",children:[r.jsxs(B,{type:"submit",className:"flex-1 bg-blue-600 hover:bg-blue-700 text-lg py-3",children:[r.jsx(On,{className:"w-5 h-5 mr-2"}),n?"Atualizar MÃºsica":"Criar Nova MÃºsica"]}),r.jsx(B,{type:"button",variant:"outline",onClick:()=>d(!1),className:"flex-1 text-lg py-3",children:"Cancelar"})]})]})]})})}),y&&o.tiktok_video_id&&r.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center p-4 z-50",children:r.jsx("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-blue-900",children:"ðŸŽ¬ Visualizar VÃ­deo TikTok"}),r.jsx(B,{onClick:()=>E(!1),variant:"ghost",size:"sm",children:r.jsx(ht,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-gray-100 rounded-lg p-4",children:[r.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:o.title||"VÃ­deo TikTok"}),r.jsxs("p",{className:"text-sm text-gray-600 mb-3",children:["ID: ",o.tiktok_video_id]})]}),r.jsx("div",{className:"bg-black rounded-lg overflow-hidden",children:r.jsx(vv,{postId:o.tiktok_video_id,className:"w-full",song:o})}),r.jsx("div",{className:"text-center",children:r.jsxs(B,{onClick:()=>window.open(o.tiktok_url,"_blank"),className:"bg-red-500 hover:bg-red-600 text-white",children:[r.jsx(Ds,{className:"w-4 h-4 mr-2"}),"Abrir no TikTok"]})})]})]})})}),F&&r.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center p-4 z-50",children:r.jsx("div",{className:"bg-white rounded-2xl max-w-lg w-full max-h-[90vh] overflow-y-auto",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-blue-900",children:"ðŸ“¥ Importar Perfil TikTok"}),r.jsx(B,{onClick:()=>q(!1),variant:"ghost",size:"sm",children:r.jsx(ht,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:r.jsxs("p",{className:"text-blue-800 text-sm",children:[r.jsx("strong",{children:"ðŸ’¡ Dica:"})," Cole o link do perfil TikTok para importar todas as vÃ­deos de uma vez!"]})}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Link do Perfil TikTok"}),r.jsx(Se,{value:H,onChange:j=>U(j.target.value),placeholder:"https://www.tiktok.com/@amusicadasegunda",className:"w-full"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Exemplo: https://www.tiktok.com/@amusicadasegunda"})]}),M&&r.jsxs("div",{className:"bg-gray-100 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Importando vÃ­deos..."}),r.jsxs("span",{className:"text-sm text-gray-500",children:[ie.current," / ",ie.total]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${ie.current/ie.total*100}%`}})})]}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsxs(B,{onClick:je,disabled:M||!H.trim(),className:"flex-1 bg-blue-600 hover:bg-blue-700",children:[M?r.jsx(bs,{className:"w-4 h-4 mr-2 animate-spin"}):r.jsx(nl,{className:"w-4 h-4 mr-2"}),M?"Analisando...":"Analisar Perfil"]}),r.jsx(B,{onClick:()=>q(!1),variant:"outline",className:"flex-1",children:"Cancelar"})]})]})]})})}),se&&se.length>0&&r.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center p-4 z-50",children:r.jsx("div",{className:"bg-white rounded-2xl max-w-6xl w-full max-h-[90vh] overflow-y-auto",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("h2",{className:"text-2xl font-bold text-green-900",children:["ðŸ“‹ Revisar MÃºsicas Importadas (",se.length,")"]}),r.jsx(B,{onClick:()=>Ee([]),variant:"ghost",size:"sm",children:r.jsx(ht,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:r.jsxs("p",{className:"text-green-800 text-sm",children:[r.jsx("strong",{children:"âœ… Sucesso!"})," ",se.length," mÃºsicas foram importadas do perfil TikTok. Revise os detalhes e publique todas de uma vez no Supabase."]})}),r.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:se.map((j,R)=>r.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("h3",{className:"font-semibold text-gray-900 mb-2",children:[R+1,". ",j.title]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Artista:"})," ",j.artist]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Data LanÃ§amento:"})," ",new Date(j.release_date).toLocaleDateString("pt-BR")]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Data TikTok:"})," ",new Date(j.tiktok_publication_date).toLocaleDateString("pt-BR")]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Hashtags:"})," ",j.hashtags.join(", ")]})]}),r.jsxs("div",{className:"mt-2",children:[r.jsx("span",{className:"text-gray-600",children:"DescriÃ§Ã£o:"})," ",j.description]})]}),r.jsxs("div",{className:"ml-4 flex gap-2",children:[r.jsxs(B,{onClick:()=>Ye(j),variant:"outline",size:"sm",className:"text-blue-600 border-blue-300 hover:bg-blue-50",children:[r.jsx(al,{className:"w-4 h-4 mr-1"}),"Editar"]}),r.jsxs(B,{onClick:()=>window.open(j.tiktok_url,"_blank"),variant:"outline",size:"sm",className:"text-red-600 border-red-300 hover:bg-red-50",children:[r.jsx(Ds,{className:"w-4 h-4 mr-1"}),"Ver TikTok"]}),r.jsxs(B,{onClick:()=>Kt(j.id),variant:"outline",size:"sm",className:"text-red-600 border-red-300 hover:bg-red-50",children:[r.jsx(Rn,{className:"w-4 h-4 mr-1"}),"Excluir"]})]})]})},j.id))}),r.jsxs("div",{className:"flex gap-3 pt-4 border-t-2 border-gray-200",children:[r.jsxs(B,{onClick:fe,disabled:M,className:"flex-1 bg-green-600 hover:bg-green-700 text-lg py-3",children:[M?r.jsx(bs,{className:"w-5 h-5 mr-2 animate-spin"}):r.jsx(On,{className:"w-5 h-5 mr-2"}),M?"Publicando...":"Publier"]}),r.jsx(B,{onClick:()=>Ee([]),variant:"outline",className:"flex-1 text-lg py-3",children:"Cancelar"})]}),M&&r.jsxs("div",{className:"bg-gray-100 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Publicando mÃºsicas..."}),r.jsxs("span",{className:"text-sm text-gray-500",children:[ie.current," / ",ie.total]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-green-600 h-2 rounded-full transition-all duration-300",style:{width:`${ie.current/ie.total*100}%`}})})]})]})]})})}),ot&&$&&r.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center p-4 z-50",children:r.jsx("div",{className:"bg-white rounded-2xl max-w-6xl w-full max-h-[90vh] overflow-y-auto",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-blue-900",children:"âœï¸ Editar MÃºsica Importada do TikTok"}),r.jsx(B,{onClick:()=>ue(!1),variant:"ghost",size:"sm",children:r.jsx(ht,{className:"w-5 h-5"})})]}),r.jsx("form",{onSubmit:j=>{j.preventDefault(),Ue()},children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-100 rounded-xl p-6 border-2 border-blue-200",children:[r.jsxs("h3",{className:"text-lg font-bold text-blue-900 mb-4 flex items-center gap-2",children:[r.jsx(mr,{className:"w-5 h-5 text-blue-600"}),"ðŸ“± InformaÃ§Ãµes TikTok (ObrigatÃ³rio)"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Link da VÃ­deo TikTok*"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(Se,{value:$.tiktok_url,onChange:j=>W(T(p({},$),{tiktok_url:j.target.value})),placeholder:"https://www.tiktok.com/@usuario/video/1234567890",className:"flex-1"}),r.jsxs(B,{type:"button",onClick:()=>window.open($.tiktok_url,"_blank"),variant:"outline",className:"text-blue-600 border-blue-300 hover:bg-blue-50",children:[r.jsx(Ds,{className:"w-4 h-4 mr-2"}),"Abrir TikTok"]})]}),r.jsxs("div",{className:"mt-2 text-xs text-gray-600",children:[r.jsx("p",{className:"font-medium mb-1",children:"Formatos aceitos:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[r.jsx("li",{children:"https://www.tiktok.com/@usuario/video/ID"}),r.jsx("li",{children:"https://vm.tiktok.com/ID"}),r.jsx("li",{children:"ID direto (15-20 dÃ­gitos)"})]})]}),r.jsx("div",{className:"mt-3 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(_s,{className:"w-4 h-4 text-yellow-600 mt-0.5 flex-shrink-0"}),r.jsxs("div",{className:"text-xs text-yellow-800",children:[r.jsx("p",{className:"font-medium",children:"IMPORTANT:"}),r.jsx("p",{children:"Cole apenas o link da vÃ­deo TikTok (ex: https://www.tiktok.com/@usuario/video/1234567890), NÃƒO o cÃ³digo HTML de incorporaÃ§Ã£o!"})]})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ID da VÃ­deo TikTok"}),r.jsx(Se,{value:$.tiktok_video_id,onChange:j=>W(T(p({},$),{tiktok_video_id:j.target.value})),placeholder:"ID da vÃ­deo"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data de PublicaÃ§Ã£o TikTok"}),r.jsx(Se,{type:"datetime-local",value:$.tiktok_publication_date?$.tiktok_publication_date.slice(0,16):"",onChange:j=>W(T(p({},$),{tiktok_publication_date:j.target.value}))})]})]})]})]}),r.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-100 rounded-xl p-6 border-2 border-green-200",children:[r.jsxs("h3",{className:"text-lg font-bold text-green-900 mb-4 flex items-center gap-2",children:[r.jsx(_e,{className:"w-5 h-5 text-green-600"}),"ðŸŽµ MÃ©tadados ExtraÃ­dos do TikTok"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"TÃ­tulo*"}),r.jsx(Se,{value:$.title,onChange:j=>W(T(p({},$),{title:j.target.value})),placeholder:"TÃ­tulo da mÃºsica"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Artista*"}),r.jsx(Se,{value:$.artist,onChange:j=>W(T(p({},$),{artist:j.target.value})),placeholder:"Nome do artista"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center justify-between",children:[r.jsx("span",{children:"DescriÃ§Ã£o"}),$&&$.lyrics&&$.lyrics.trim()&&r.jsxs(B,{type:"button",onClick:()=>kr(),variant:"ghost",size:"sm",className:"text-blue-600 hover:text-blue-800 hover:bg-blue-50",disabled:lt,children:[r.jsx(el,{className:"w-4 h-4 mr-1"}),lt?"Gerando...":"Sugerir"]})]}),r.jsx(qr,{value:$.description,onChange:j=>W(T(p({},$),{description:j.target.value})),placeholder:"DescriÃ§Ã£o da mÃºsica",rows:3})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hashtags (separados por vÃ­rgula)"}),r.jsx(Se,{value:$.hashtags.join(", "),onChange:j=>W(T(p({},$),{hashtags:j.target.value.split(",").map(R=>R.trim()).filter(R=>R)})),placeholder:"humor, musica, trending, novidade"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Exemplo: humor, musica, trending, novidade, viral"})]})]}),r.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-100 rounded-xl p-6 border-2 border-purple-200",children:[r.jsxs("h3",{className:"text-lg font-bold text-purple-900 mb-4 flex items-center gap-2",children:[r.jsx(Dt,{className:"w-5 h-5 text-purple-600"}),"ðŸ“… Datas de PublicaÃ§Ã£o"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data de LanÃ§amento no App*"}),r.jsx(Se,{type:"date",value:$.release_date,onChange:j=>W(T(p({},$),{release_date:j.target.value}))}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Data sugerida: ",Zt()?oe(ge(Zt()),"EEEE, d 'de' MMMM 'de' yyyy",{locale:pe}):"Calculando..."]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),r.jsxs(Li,{value:$.status,onValueChange:j=>W(T(p({},$),{status:j})),children:[r.jsx(tn,{children:r.jsx($i,{})}),r.jsxs(sn,{children:[r.jsx(Ut,{value:"draft",children:"Brouillon"}),r.jsx(Ut,{value:"published",children:"PubliÃ©"}),r.jsx(Ut,{value:"archived",children:"ArchivÃ©"})]})]})]})]})]}),r.jsxs("div",{className:"bg-gradient-to-r from-violet-50 to-purple-100 rounded-xl p-6 border-2 border-violet-200",children:[r.jsxs("h3",{className:"text-lg font-bold text-violet-900 mb-4 flex items-center gap-2",children:[r.jsx(tl,{className:"w-5 h-5 text-violet-600"}),"ðŸŽ§ Links de Streaming"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Spotify"}),r.jsx(Se,{value:$.spotify_url||"",onChange:j=>W(T(p({},$),{spotify_url:j.target.value})),placeholder:"URL Spotify",type:"url"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Apple Music"}),r.jsx(Se,{value:$.apple_music_url||"",onChange:j=>W(T(p({},$),{apple_music_url:j.target.value})),placeholder:"URL Apple Music",type:"url"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"YouTube"}),r.jsx(Se,{value:$.youtube_url||"",onChange:j=>W(T(p({},$),{youtube_url:j.target.value})),placeholder:"URL YouTube",type:"url"})]})]})]}),r.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-yellow-100 rounded-xl p-6 border-2 border-orange-200",children:[r.jsxs("h3",{className:"text-lg font-bold text-orange-900 mb-4 flex items-center gap-2",children:[r.jsx(Xo,{className:"w-5 h-5 text-orange-600"}),"ðŸ·ï¸ MÃ©tadados"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Imagem de Capa (URL)"}),r.jsx(Se,{value:$.cover_image||"",onChange:j=>W(T(p({},$),{cover_image:j.target.value})),placeholder:"https://exemplo.com/imagem.jpg",type:"url"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Letras da MÃºsica"}),r.jsx(qr,{value:$.lyrics||"",onChange:j=>W(T(p({},$),{lyrics:j.target.value})),placeholder:"Letras da mÃºsica...",rows:4})]})]})]}),r.jsxs("div",{className:"flex gap-3 pt-4 border-t-2 border-gray-200",children:[r.jsxs(B,{type:"submit",className:"flex-1 bg-green-600 hover:bg-green-700 text-lg py-3",children:[r.jsx(On,{className:"w-5 h-5 mr-2"}),"Salvar AlteraÃ§Ãµes"]}),r.jsx(B,{type:"button",onClick:()=>ue(!1),variant:"outline",className:"flex-1 text-lg py-3",children:"Cancelar"})]})]})})]})})})]})})}const j0=fa("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),wn=h.forwardRef((n,a)=>{var i=n,{className:s,variant:e}=i,t=L(i,["className","variant"]);return r.jsx("div",p({ref:a,role:"alert",className:me(j0({variant:e}),s)},t))});wn.displayName="Alert";const S0=h.forwardRef((a,t)=>{var n=a,{className:s}=n,e=L(n,["className"]);return r.jsx("h5",p({ref:t,className:me("mb-1 font-medium leading-none tracking-tight",s)},e))});S0.displayName="AlertTitle";const _n=h.forwardRef((a,t)=>{var n=a,{className:s}=n,e=L(n,["className"]);return r.jsx("div",p({ref:t,className:me("text-sm [&_p]:leading-relaxed",s)},e))});_n.displayName="AlertDescription";function N0({onBackToLogin:s}){const[e,t]=h.useState(""),[a,n]=h.useState(!1),[i,o]=h.useState({type:"",text:""}),[l,c]=h.useState(!1),d=u=>b(null,null,function*(){u.preventDefault(),n(!0),o({type:"",text:""});try{const{error:m}=yield De.auth.resetPasswordForEmail(e.trim(),{redirectTo:"https://www.amusicadasegunda.com/#/admin"});if(m)throw m;c(!0),o({type:"success",text:"Email de rÃ©initialisation envoyÃ© ! VÃ©rifiez votre boÃ®te de rÃ©ception."})}catch(m){console.error("Erreur reset password:",m),o({type:"error",text:`Erreur: ${m.message}`})}finally{n(!1)}});return l?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:r.jsx(os,{className:"w-full max-w-md",children:r.jsx(js,{className:"pt-6",children:r.jsxs("div",{className:"text-center",children:[r.jsx(ro,{className:"w-12 h-12 text-green-600 mx-auto mb-4"}),r.jsx("h2",{className:"text-xl font-semibold text-green-800 mb-2",children:"Email EnvoyÃ© !"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"VÃ©rifiez votre boÃ®te de rÃ©ception et suivez les instructions pour rÃ©initialiser votre mot de passe."}),r.jsxs(B,{onClick:s,variant:"outline",className:"w-full",children:[r.jsx(ea,{className:"w-4 h-4 mr-2"}),"Retour Ã  la connexion"]})]})})})}):r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:r.jsxs(os,{className:"w-full max-w-md",children:[r.jsxs(Sr,{className:"text-center",children:[r.jsx("div",{className:"mx-auto w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mb-4",children:r.jsx(mi,{className:"w-6 h-6 text-blue-600"})}),r.jsx(Nr,{className:"text-2xl font-bold text-gray-900",children:"RÃ©initialiser le mot de passe"}),r.jsx(vn,{children:"Entrez votre email pour recevoir un lien de rÃ©initialisation"})]}),r.jsxs(js,{children:[r.jsxs("form",{onSubmit:d,className:"space-y-4",children:[i.text&&r.jsx(wn,{variant:i.type==="error"?"destructive":"default",children:r.jsx(_n,{children:i.text})}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{htmlFor:"email",className:"text-sm font-medium text-gray-700",children:"Email"}),r.jsx(Se,{id:"email",type:"email",placeholder:"admin@amusicadasegunda.com",value:e,onChange:u=>t(u.target.value),required:!0,disabled:a,className:"w-full"})]}),r.jsx(B,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white",disabled:a,children:a?r.jsxs(r.Fragment,{children:[r.jsx(or,{className:"w-4 h-4 animate-spin mr-2"}),"Envoi en cours..."]}):r.jsxs(r.Fragment,{children:[r.jsx(mi,{className:"w-4 h-4 mr-2"}),"Envoyer le lien"]})})]}),r.jsx("div",{className:"mt-6 text-center",children:r.jsxs("button",{onClick:s,className:"text-blue-600 hover:text-blue-700 font-medium",disabled:a,children:[r.jsx(ea,{className:"w-4 h-4 inline mr-1"}),"Retour Ã  la connexion"]})}),r.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:r.jsx("p",{className:"text-xs text-blue-800 text-center",children:"ðŸ’¡ Le lien de rÃ©initialisation sera envoyÃ© Ã  l'adresse email fournie"})})]})]})})}function Gu(){const[s,e]=h.useState(""),[t,a]=h.useState(""),[n,i]=h.useState(!1),[o,l]=h.useState(!1),[c,d]=h.useState(""),[u,m]=h.useState(!1),[f,g]=h.useState(!0),[v,S]=h.useState(!1);h.useEffect(()=>{y()},[]);const y=()=>b(null,null,function*(){try{const{data:{session:w}}=yield De.auth.getSession();w&&((yield E(w.user.id))?(m(!0),setTimeout(()=>{window.location.href="/admin"},1e3)):d("âŒ Vous n'avez pas les droits d'administrateur"))}catch(w){console.error("Erreur vÃ©rification auth:",w)}finally{g(!1)}}),E=w=>b(null,null,function*(){try{const{data:N,error:C}=yield De.from("admins").select("user_id").eq("user_id",w).single();return C?(console.error("Erreur vÃ©rification admin:",C),!1):!!N}catch(N){return console.error("Erreur vÃ©rification admin:",N),!1}}),k=w=>b(null,null,function*(){w.preventDefault(),l(!0),d("");const N=ir(s.trim()),C=ir(t),O=Bu(Jv,{email:N,password:C});if(!O.success){d(O.error),l(!1);return}try{const{data:F,error:q}=yield De.auth.signInWithPassword({email:O.data.email,password:O.data.password});if(q)throw q;F.user&&((yield E(F.user.id))?(m(!0),window.location.href="/admin"):(yield De.auth.signOut(),d("âŒ Vous n'avez pas les droits d'administrateur. Contactez l'administrateur du systÃ¨me.")))}catch(F){console.error("Erreur de connexion:",F),d(`âŒ Erreur de connexion: ${F.message}`)}finally{l(!1)}}),x=()=>b(null,null,function*(){d("â„¹ï¸ Pour crÃ©er un compte administrateur, contactez l'administrateur du systÃ¨me.")});return v?r.jsx(N0,{onBackToLogin:()=>S(!1)}):f?r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:[r.jsx(It,{children:r.jsx("meta",{name:"robots",content:"noindex,nofollow"})}),r.jsxs("div",{className:"text-center",children:[r.jsx(or,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-blue-600"}),r.jsx("p",{className:"text-gray-600",children:"VÃ©rification de l'authentification..."})]})]}):u?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:r.jsx(os,{className:"w-full max-w-md",children:r.jsx(js,{className:"pt-6",children:r.jsxs("div",{className:"text-center",children:[r.jsx(rl,{className:"w-12 h-12 text-green-600 mx-auto mb-4"}),r.jsx("h2",{className:"text-xl font-semibold text-green-800 mb-2",children:"âœ… AuthentifiÃ© avec succÃ¨s"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Redirection vers l'Admin en cours..."}),r.jsx(or,{className:"w-6 h-6 animate-spin mx-auto text-blue-600"})]})})})}):r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:[r.jsxs(It,{children:[r.jsx("meta",{name:"robots",content:"noindex,nofollow"}),r.jsx("link",{rel:"canonical",href:"https://www.amusicadasegunda.com/#/login"})]}),r.jsxs(os,{className:"w-full max-w-md",children:[r.jsxs(Sr,{className:"text-center",children:[r.jsx("div",{className:"mx-auto w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mb-4",children:r.jsx(rl,{className:"w-6 h-6 text-blue-600"})}),r.jsx(Nr,{className:"text-2xl font-bold text-gray-900",children:"Connexion Admin"}),r.jsx(vn,{children:"AccÃ¨s rÃ©servÃ© aux administrateurs de MÃºsica da Segunda"})]}),r.jsxs(js,{children:[r.jsxs("form",{onSubmit:k,className:"space-y-4",children:[c&&r.jsx(wn,{variant:"destructive",children:r.jsx(_n,{children:c})}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{htmlFor:"email",className:"text-sm font-medium text-gray-700",children:"Email"}),r.jsx(Se,{id:"email",type:"email",placeholder:"admin@amusicadasegunda.com",value:s,onChange:w=>e(w.target.value),required:!0,disabled:o,className:"w-full"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{htmlFor:"password",className:"text-sm font-medium text-gray-700",children:"Mot de passe"}),r.jsxs("div",{className:"relative",children:[r.jsx(Se,{id:"password",type:n?"text":"password",placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",value:t,onChange:w=>a(w.target.value),required:!0,disabled:o,className:"w-full pr-10"}),r.jsx("button",{type:"button",onClick:()=>i(!n),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",disabled:o,children:n?r.jsx(di,{className:"w-4 h-4"}):r.jsx(ui,{className:"w-4 h-4"})})]})]}),r.jsx(B,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white",disabled:o,children:o?r.jsxs(r.Fragment,{children:[r.jsx(or,{className:"w-4 h-4 animate-spin mr-2"}),"Connexion..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Wa,{className:"w-4 h-4 mr-2"}),"Se connecter"]})})]}),r.jsxs("div",{className:"mt-6 text-center space-y-2",children:[r.jsxs("p",{className:"text-sm text-gray-600",children:["Mot de passe oubliÃ© ?"," ",r.jsxs("button",{onClick:()=>S(!0),className:"text-blue-600 hover:text-blue-700 font-medium",disabled:o,children:[r.jsx(Vf,{className:"w-4 h-4 inline mr-1"}),"RÃ©initialiser"]})]}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Pas de compte ?"," ",r.jsx("button",{onClick:x,className:"text-blue-600 hover:text-blue-700 font-medium",disabled:o,children:"Contacter l'administrateur"})]})]}),r.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:r.jsx("p",{className:"text-xs text-blue-800 text-center",children:"ðŸ”’ Cette page est protÃ©gÃ©e. Seuls les administrateurs autorisÃ©s peuvent y accÃ©der."})})]})]})]})}function k0({onBackToLogin:s}){const[e,t]=h.useState(""),[a,n]=h.useState(""),[i,o]=h.useState(!1),[l,c]=h.useState(!1),[d,u]=h.useState(!1),[m,f]=h.useState({type:"",text:""}),[g,v]=h.useState(!1);h.useEffect(()=>{new URLSearchParams(window.location.hash.split("?")[1]).get("reset")!=="true"&&s()},[s]);const S=y=>b(null,null,function*(){if(y.preventDefault(),u(!0),f({type:"",text:""}),e.length<6){f({type:"error",text:"Le mot de passe doit contenir au moins 6 caractÃ¨res"}),u(!1);return}if(e!==a){f({type:"error",text:"Les mots de passe ne correspondent pas"}),u(!1);return}try{const{error:E}=yield De.auth.updateUser({password:e});if(E)throw E;v(!0),f({type:"success",text:"Mot de passe mis Ã  jour avec succÃ¨s !"}),setTimeout(()=>{window.location.href="/#/admin"},2e3)}catch(E){console.error("Erreur update password:",E),f({type:"error",text:`Erreur: ${E.message}`})}finally{u(!1)}});return g?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:r.jsx(os,{className:"w-full max-w-md",children:r.jsx(js,{className:"pt-6",children:r.jsxs("div",{className:"text-center",children:[r.jsx(ro,{className:"w-12 h-12 text-green-600 mx-auto mb-4"}),r.jsx("h2",{className:"text-xl font-semibold text-green-800 mb-2",children:"Mot de passe mis Ã  jour !"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Votre mot de passe a Ã©tÃ© mis Ã  jour avec succÃ¨s. Redirection vers l'Admin..."}),r.jsx(or,{className:"w-6 h-6 animate-spin mx-auto text-blue-600"})]})})})}):r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:r.jsxs(os,{className:"w-full max-w-md",children:[r.jsxs(Sr,{className:"text-center",children:[r.jsx("div",{className:"mx-auto w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mb-4",children:r.jsx(Wa,{className:"w-6 h-6 text-blue-600"})}),r.jsx(Nr,{className:"text-2xl font-bold text-gray-900",children:"Nouveau mot de passe"}),r.jsx(vn,{children:"Entrez votre nouveau mot de passe"})]}),r.jsxs(js,{children:[r.jsxs("form",{onSubmit:S,className:"space-y-4",children:[m.text&&r.jsx(wn,{variant:m.type==="error"?"destructive":"default",children:r.jsx(_n,{children:m.text})}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{htmlFor:"password",className:"text-sm font-medium text-gray-700",children:"Nouveau mot de passe"}),r.jsxs("div",{className:"relative",children:[r.jsx(Se,{id:"password",type:i?"text":"password",placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",value:e,onChange:y=>t(y.target.value),required:!0,disabled:d,className:"w-full pr-10"}),r.jsx("button",{type:"button",onClick:()=>o(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",disabled:d,children:i?r.jsx(di,{className:"w-4 h-4"}):r.jsx(ui,{className:"w-4 h-4"})})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{htmlFor:"confirmPassword",className:"text-sm font-medium text-gray-700",children:"Confirmer le mot de passe"}),r.jsxs("div",{className:"relative",children:[r.jsx(Se,{id:"confirmPassword",type:l?"text":"password",placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",value:a,onChange:y=>n(y.target.value),required:!0,disabled:d,className:"w-full pr-10"}),r.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",disabled:d,children:l?r.jsx(di,{className:"w-4 h-4"}):r.jsx(ui,{className:"w-4 h-4"})})]})]}),r.jsx(B,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white",disabled:d,children:d?r.jsxs(r.Fragment,{children:[r.jsx(or,{className:"w-4 h-4 animate-spin mr-2"}),"Mise Ã  jour..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Wa,{className:"w-4 h-4 mr-2"}),"Mettre Ã  jour"]})})]}),r.jsx("div",{className:"mt-6 text-center",children:r.jsxs("button",{onClick:s,className:"text-blue-600 hover:text-blue-700 font-medium",disabled:d,children:[r.jsx(ea,{className:"w-4 h-4 inline mr-1"}),"Retour Ã  la connexion"]})}),r.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:r.jsx("p",{className:"text-xs text-blue-800 text-center",children:"ðŸ”’ Le mot de passe doit contenir au moins 6 caractÃ¨res"})})]})]})})}function T0(){const[s,e]=h.useState(!1),[t,a]=h.useState(!0),[n,i]=h.useState(!1),[o,l]=h.useState(!1);h.useEffect(()=>{c(),new URLSearchParams(window.location.hash.split("?")[1]).get("reset")==="true"&&l(!0);const{data:{subscription:m}}=De.auth.onAuthStateChange((f,g)=>b(null,null,function*(){f==="SIGNED_IN"&&g?yield d(g.user.id):f==="SIGNED_OUT"&&(e(!1),i(!1))}));return()=>m.unsubscribe()},[]);const c=()=>b(null,null,function*(){try{console.warn("ðŸ” Starting auth check...");const{data:{session:u},error:m}=yield De.auth.getSession();if(m)throw console.error("âŒ Session error:",m),m;u?(console.warn("âœ… Session found, checking admin status..."),e(!0),yield d(u.user.id)):(console.warn("âš ï¸ No session found"),e(!1),i(!1))}catch(u){console.error("âŒ Erreur vÃ©rification auth:",u),e(!1),i(!1)}finally{console.warn("ðŸ Auth check complete, setting loading to false"),a(!1)}}),d=u=>b(null,null,function*(){try{console.warn("ðŸ” Checking admin status for user:",u);const m=new Promise((y,E)=>setTimeout(()=>E(new Error("TIMEOUT: Admin check took too long (>5s)")),5e3)),f=De.from("admins").select("user_id").eq("user_id",u).maybeSingle(),{data:g,error:v}=yield Promise.race([f,m]);if(console.warn("ðŸ“Š Admin check result:",{data:g,error:v,hasData:!!g}),v){console.error("âŒ Erreur vÃ©rification admin:",v.message,v.code,v),i(!1);return}const S=!!g;console.warn(S?"âœ… User IS admin":"âš ï¸ User is NOT admin"),i(S)}catch(m){console.error("âŒ Exception vÃ©rification admin:",m.message||m),i(!1)}});return o?r.jsx(k0,{onBackToLogin:()=>l(!1)}):t?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"VÃ©rification de l'accÃ¨s administrateur..."})]})}):s&&n?r.jsx(_0,{}):r.jsxs(r.Fragment,{children:[r.jsx(It,{children:r.jsx("meta",{name:"robots",content:"noindex,nofollow"})}),r.jsx(Gu,{})]})}function E0(){const[s,e]=h.useState(null),t=[{question:"O que Ã© A MÃºsica da Segunda?",answer:"A MÃºsica da Segunda Ã© um projeto criativo brasileiro que produz parÃ³dias musicais inteligentes sobre a atualidade do Brasil. Toda segunda-feira, lanÃ§o uma nova mÃºsica que transforma notÃ­cias e acontecimentos em canÃ§Ãµes divertidas, crÃ­ticas e reflexivas. O projeto combina humor musical com anÃ¡lise social, oferecendo uma perspectiva Ãºnica sobre os eventos do paÃ­s atravÃ©s da mÃºsica."},{question:"Quando sai uma mÃºsica nova?",answer:"Uma nova mÃºsica Ã© publicada toda segunda-feira. Esta regularidade garante que os fÃ£s sempre tenham conteÃºdo novo para comeÃ§ar a semana. A mÃºsica Ã© lanÃ§ada simultaneamente em todas as plataformas: TikTok, YouTube, Spotify, Apple Music, YouTube Music e no site oficial."},{question:"Como funciona o processo de criaÃ§Ã£o?",answer:"O processo comeÃ§a com a seleÃ§Ã£o cuidadosa de notÃ­cias da semana anterior. Escolho temas relevantes que podem ser transformados em parÃ³dias musicais. Depois, crio as letras, que sÃ£o escritas para serem inteligentes e equilibradas entre humor e crÃ­tica. A produÃ§Ã£o musical Ã© feita com equipamentos profissionais, e cada mÃºsica ganha um vÃ­deo criativo para TikTok e YouTube."},{question:"As mÃºsicas sÃ£o sobre polÃ­tica?",answer:"NÃ£o apenas sobre polÃ­tica. A MÃºsica da Segunda aborda diversos temas: polÃ­tica, economia, sociedade, cultura, esportes e atÃ© mesmo curiosidades. O importante Ã© que cada tema seja relevante para os brasileiros e possa ser trabalhado de forma criativa e reflexiva. Busco diversidade nos temas para manter o projeto interessante e abrangente."},{question:"Onde posso ouvir as mÃºsicas?",answer:"VocÃª pode ouvir as mÃºsicas em vÃ¡rias plataformas: TikTok para vÃ­deos curtos, YouTube para vÃ­deos completos, Spotify para streaming de Ã¡udio, Apple Music para podcasts e mÃºsicas, e no site oficial www.amusicadasegunda.com onde vocÃª pode ver todas as mÃºsicas, letras, calendÃ¡rio e mais informaÃ§Ãµes sobre cada produÃ§Ã£o."},{question:"As mÃºsicas sÃ£o gratuitas?",answer:"Sim! Todas as mÃºsicas sÃ£o totalmente gratuitas e disponÃ­veis em todas as plataformas. VocÃª pode ouvir, compartilhar e comentar sem custo algum."},{question:"Como posso compartilhar uma mÃºsica?",answer:"Cada pÃ¡gina de mÃºsica no site tem botÃµes de compartilhamento para redes sociais como Facebook, Twitter, WhatsApp e mais. VocÃª tambÃ©m pode copiar o link direto da mÃºsica ou compartilhar diretamente do TikTok, YouTube ou outras plataformas. Compartilhar ajuda muito o projeto a crescer!"},{question:"Posso usar as mÃºsicas em meus prÃ³prios vÃ­deos?",answer:"O uso das mÃºsicas depende do contexto. Para uso pessoal e nÃ£o comercial, geralmente Ã© permitido. Para uso comercial ou em projetos que gerem receita, Ã© necessÃ¡rio entrar em contato atravÃ©s do email pimentaoenchansons@gmail.com para discutir permissÃµes e possÃ­veis licenÃ§as."},{question:"Como sÃ£o escolhidas as mÃºsicas que serÃ£o parodiadas?",answer:"A escolha da mÃºsica base (a canÃ§Ã£o original que serÃ¡ parodiada) Ã© estratÃ©gica. Uso mÃºsicas conhecidas que, quando combinadas com novas letras sobre atualidades, criam um contraste interessante e memorÃ¡vel. NÃ£o me limito a um gÃªnero: parodio MPB, pop, rock, samba, funk e outros estilos musicais brasileiros."},{question:"O projeto tem algum viÃ©s polÃ­tico?",answer:"A MÃºsica da Segunda busca criar humor e reflexÃ£o, nÃ£o promover uma agenda polÃ­tica especÃ­fica. As parÃ³dias podem criticar diferentes aspectos da polÃ­tica e sociedade, sempre com foco no humor e na anÃ¡lise crÃ­tica. Respeito a diversidade de opiniÃµes e busco apresentar diferentes perspectivas atravÃ©s da mÃºsica."},{question:"Como posso apoiar o projeto?",answer:"A melhor forma de apoiar Ã© compartilhando as mÃºsicas, seguindo nas redes sociais (TikTok, Instagram, YouTube), e engajando com o conteÃºdo. VocÃª tambÃ©m pode entrar em contato se quiser contribuir de outras formas ou fazer sugestÃµes de temas para futuras mÃºsicas."},{question:"VocÃªs fazem mÃºsicas personalizadas ou encomendas?",answer:"Atualmente, o foco do projeto Ã© nas mÃºsicas semanais sobre atualidades. No entanto, estou aberto a discussÃµes sobre projetos especiais ou colaboraÃ§Ãµes. Entre em contato atravÃ©s do email pimentaoenchansons@gmail.com para conversar sobre possibilidades."},{question:"Onde posso ver todas as mÃºsicas jÃ¡ lanÃ§adas?",answer:"No site oficial, vocÃª pode acessar o CalendÃ¡rio Musical que mostra todas as mÃºsicas organizadas por data. HÃ¡ tambÃ©m a Playlist no Spotify e YouTube Music que reÃºne todas as mÃºsicas em ordem cronolÃ³gica. Cada mÃºsica tem sua prÃ³pria pÃ¡gina com letras completas, vÃ­deos e links para todas as plataformas."},{question:"As letras das mÃºsicas estÃ£o disponÃ­veis?",answer:"Sim! Todas as letras completas estÃ£o disponÃ­veis no site. Basta clicar em qualquer mÃºsica para ver a letra completa, alÃ©m de informaÃ§Ãµes sobre o tema abordado, contexto histÃ³rico e referÃªncias. As letras sÃ£o apresentadas de forma clara e fÃ¡cil de ler."},{question:"Como posso sugerir um tema para uma mÃºsica?",answer:"Adoro sugestÃµes! VocÃª pode entrar em contato atravÃ©s do email pimentaoenchansons@gmail.com ou atravÃ©s das redes sociais. Enquanto nÃ£o posso garantir que todas as sugestÃµes serÃ£o usadas, considero todas as ideias e muitas vezes incorporo temas sugeridos pela comunidade."}],a=n=>{e(s===n?null:n)};return Ts({title:"Sobre",description:"A MÃºsica da Segunda Ã© um projeto criativo brasileiro que produz parÃ³dias musicais inteligentes sobre a atualidade do Brasil. Toda segunda-feira, lanÃ§amos uma nova mÃºsica que transforma notÃ­cias em canÃ§Ãµes divertidas e crÃ­ticas.",keywords:"mÃºsica da segunda, parÃ³dias musicais, mÃºsica brasileira, humor musical, atualidades brasil, mÃºsica semanal, parÃ³dias polÃ­ticas, mÃºsica de humor",url:"/sobre",type:"website"}),r.jsxs(r.Fragment,{children:[r.jsx("script",{type:"application/ld+json",children:JSON.stringify({"@context":"https://schema.org","@type":"FAQPage",mainEntity:t.map(n=>({"@type":"Question",name:n.question,acceptedAnswer:{"@type":"Answer",text:n.answer}}))})}),r.jsx("script",{type:"application/ld+json",children:JSON.stringify({"@context":"https://schema.org","@type":"AboutPage",name:"Sobre A MÃºsica da Segunda",description:"InformaÃ§Ãµes sobre o projeto A MÃºsica da Segunda, que produz parÃ³dias musicais sobre a atualidade do Brasil",mainEntity:{"@type":"MusicGroup",name:"A MÃºsica da Segunda",description:"Projeto musical brasileiro que transforma notÃ­cias em parÃ³dias musicais inteligentes",genre:["Parody","Comedy","MÃºsica popular brasileira"],foundingLocation:{"@type":"Country",name:"Brasil"}}})}),r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900",children:r.jsxs("div",{className:"p-5 max-w-5xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("div",{className:"inline-block p-2 bg-white/10 rounded-full mb-4 backdrop-blur-sm",children:r.jsx("div",{className:"w-16 h-16 mx-auto rounded-full overflow-hidden shadow-2xl ring-4 ring-white/20",children:r.jsx(ta,{src:"images/Musica da segunda.jpg",alt:"Logo MÃºsica da Segunda",className:"w-full h-full object-cover",loading:"lazy"})})}),r.jsx("h1",{className:"text-3xl md:text-5xl font-black text-white drop-shadow-2xl mb-3 bg-gradient-to-r from-white via-gray-100 to-white bg-clip-text text-transparent",children:"Sobre o Projeto"}),r.jsx("p",{className:"text-white/90 font-medium text-lg md:text-xl drop-shadow-lg max-w-2xl mx-auto",children:"ConheÃ§a a histÃ³ria por trÃ¡s da MÃºsica da Segunda e descubra como nasceu essa paixÃ£o pela mÃºsica"})]}),r.jsxs("div",{className:"bg-gradient-to-br from-white/90 to-white/70 backdrop-blur-sm rounded-3xl p-10 text-center mb-10 shadow-2xl border border-white/20",children:[r.jsx("div",{className:"w-40 h-40 mx-auto mb-8 rounded-full overflow-hidden shadow-2xl ring-8 ring-white/30 transform hover:scale-105 transition-transform duration-300",children:r.jsx(ta,{src:"images/Musica da segunda.jpg",alt:"Logo MÃºsica da Segunda",className:"w-full h-full object-cover",loading:"eager"})}),r.jsx("h2",{className:"text-4xl font-black text-gray-800 mb-3",children:"MÃºsica da Segunda"}),r.jsx("p",{className:"text-gray-700 text-xl font-medium",children:"Descubra mÃºsica nova toda segunda-feira"})]}),r.jsxs("article",{className:"bg-gradient-to-br from-white/90 to-white/70 backdrop-blur-sm rounded-3xl p-8 mb-8 shadow-2xl border border-white/20",children:[r.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-6 flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-red-400 to-pink-500 rounded-full flex items-center justify-center shadow-lg",children:r.jsx(Df,{className:"w-6 h-6 text-white animate-pulse"})}),"Quem Somos: A HistÃ³ria do Projeto"]}),r.jsxs("div",{className:"prose prose-lg max-w-none text-gray-700 space-y-4",children:[r.jsxs("p",{className:"text-lg leading-relaxed",children:[r.jsx("strong",{children:"A MÃºsica da Segunda"})," Ã© um projeto criativo brasileiro que produz parÃ³dias musicais inteligentes sobre a atualidade do Brasil. O conceito Ã© simples: toda segunda-feira, uma nova mÃºsica Ã© lanÃ§ada, comentando com humor e sagacidade os principais eventos da semana anterior."]}),r.jsx("h3",{className:"text-xl font-bold text-gray-800 mt-6 mb-3",children:"Origem e InspiraÃ§Ã£o"}),r.jsxs("p",{className:"text-lg leading-relaxed",children:["O conceito de ",r.jsx("strong",{children:"A MÃºsica da Segunda"})," Ã© inspirado em ",r.jsx("strong",{children:"La Chanson du Dimanche"}),", um projeto musical francÃªs que publicava uma chanson chaque semaine. A MÃºsica da Segunda se inspira deste conceito, mas com um ",r.jsx("strong",{children:"ton brÃ©silien"})," Ãºnico, adaptado Ã  realidade e Ã  cultura do Brasil."]}),r.jsx("p",{className:"text-lg leading-relaxed",children:"Assim como o projeto francÃªs, o objetivo Ã© criar parÃ³dias musicais que comentam a atualidade, mas aqui com uma abordagem totalmente brasileira, usando referÃªncias musicais locais, humor tÃ­pico do Brasil e comentÃ¡rios sobre eventos que marcam a vida dos brasileiros."})]})]}),r.jsxs("article",{className:"bg-gradient-to-br from-white/90 to-white/70 backdrop-blur-sm rounded-3xl p-8 mb-8 shadow-2xl border border-white/20",children:[r.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-6 flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-400 to-cyan-500 rounded-full flex items-center justify-center shadow-lg",children:r.jsx(_e,{className:"w-6 h-6 text-white"})}),"Nossa MissÃ£o"]}),r.jsxs("div",{className:"prose prose-lg max-w-none text-gray-700 space-y-4",children:[r.jsxs("p",{className:"text-lg leading-relaxed",children:["A missÃ£o de ",r.jsx("strong",{children:"A MÃºsica da Segunda"})," Ã© transformar notÃ­cias e acontecimentos do Brasil em parÃ³dias musicais inteligentes, divertidas e reflexivas. AtravÃ©s do humor musical, buscamos informar, divertir e promover a reflexÃ£o sobre a atualidade do paÃ­s."]}),r.jsxs("p",{className:"text-lg leading-relaxed",children:["Acreditamos que o humor Ã© uma ferramenta poderosa para o debate democrÃ¡tico. Nossas parÃ³dias sÃ£o",r.jsx("strong",{children:" comentÃ¡rios musicais"})," que buscam engajar o pÃºblico em reflexÃµes sobre polÃ­tica, sociedade, economia e cultura brasileira, sempre respeitando a diversidade de opiniÃµes."]})]})]}),r.jsxs("article",{className:"bg-gradient-to-br from-white/90 to-white/70 backdrop-blur-sm rounded-3xl p-8 mb-8 shadow-2xl border border-white/20",children:[r.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-6 flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-400 to-emerald-500 rounded-full flex items-center justify-center shadow-lg",children:r.jsx(Dt,{className:"w-6 h-6 text-white"})}),"Como Funciona o Projeto"]}),r.jsxs("div",{className:"prose prose-lg max-w-none text-gray-700 space-y-4",children:[r.jsx("p",{className:"text-lg leading-relaxed",children:"O processo de criaÃ§Ã£o Ã© simples e focado em qualidade:"}),r.jsx("h3",{className:"text-xl font-bold text-gray-800 mt-6 mb-3",children:"SeleÃ§Ã£o e CriaÃ§Ã£o"}),r.jsx("p",{className:"text-lg leading-relaxed",children:"Acompanho as principais notÃ­cias do Brasil e seleciono temas relevantes que podem ser transformados em parÃ³dias musicais. As letras sÃ£o escritas para serem inteligentes, mantendo o equilÃ­brio entre humor e crÃ­tica. A escolha da mÃºsica base Ã© estratÃ©gica: uso mÃºsicas conhecidas que, quando combinadas com novas letras, criam um contraste interessante e memorÃ¡vel."}),r.jsx("h3",{className:"text-xl font-bold text-gray-800 mt-6 mb-3",children:"ProduÃ§Ã£o"}),r.jsx("p",{className:"text-lg leading-relaxed",children:"Cada parÃ³dia Ã© produzida com equipamentos profissionais, garantindo qualidade sonora. As gravaÃ§Ãµes incluem vocais, instrumentos e arranjos que respeitam a estrutura da mÃºsica original enquanto incorporam elementos Ãºnicos que refletem o tema abordado. Cada mÃºsica tambÃ©m ganha um vÃ­deo criativo para TikTok e YouTube."}),r.jsx("h3",{className:"text-xl font-bold text-gray-800 mt-6 mb-3",children:"PublicaÃ§Ã£o Semanal"}),r.jsxs("p",{className:"text-lg leading-relaxed",children:["Toda segunda-feira, uma nova mÃºsica Ã© publicada simultaneamente em todas as plataformas de mÃºsica:",r.jsx("strong",{children:" Spotify, Apple Music, YouTube Music"}),", alÃ©m de TikTok, YouTube e no site oficial. Esta regularidade cria expectativa e garante que sempre hÃ¡ conteÃºdo novo para comeÃ§ar a semana."]})]}),r.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mt-8",children:[r.jsxs("div",{className:"group bg-gradient-to-br from-white/80 to-white/60 rounded-2xl p-6 hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[r.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg group-hover:scale-110 transition-transform duration-300",children:r.jsx(Dt,{className:"w-8 h-8 text-white"})}),r.jsx("h4",{className:"font-bold text-gray-800 mb-3 text-lg",children:"Toda Segunda"}),r.jsx("p",{className:"text-gray-700 text-sm leading-relaxed",children:"Uma nova mÃºsica Ã© cuidadosamente selecionada e publicada para comeÃ§ar sua semana"})]}),r.jsxs("div",{className:"group bg-gradient-to-br from-white/80 to-white/60 rounded-2xl p-6 hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[r.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-500 to-emerald-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg group-hover:scale-110 transition-transform duration-300",children:r.jsx(mr,{className:"w-8 h-8 text-white"})}),r.jsx("h4",{className:"font-bold text-gray-800 mb-3 text-lg",children:"VÃ­deo TikTok"}),r.jsx("p",{className:"text-gray-700 text-sm leading-relaxed",children:"A mÃºsica Ã© apresentada em vÃ­deo com qualidade profissional e criatividade"})]}),r.jsxs("div",{className:"group bg-gradient-to-br from-white/80 to-white/60 rounded-2xl p-6 hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[r.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-violet-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg group-hover:scale-110 transition-transform duration-300",children:r.jsx(il,{className:"w-8 h-8 text-white"})}),r.jsx("h4",{className:"font-bold text-gray-800 mb-3 text-lg",children:"Compartilhamento"}),r.jsx("p",{className:"text-gray-700 text-sm leading-relaxed",children:"A comunidade descobre, compartilha e cria conexÃµes atravÃ©s da mÃºsica"})]})]})]}),r.jsxs("article",{className:"bg-gradient-to-br from-white/90 to-white/70 backdrop-blur-sm rounded-3xl p-8 mb-8 shadow-2xl border border-white/20",children:[r.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-6 flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full flex items-center justify-center shadow-lg",children:r.jsx(il,{className:"w-6 h-6 text-white"})}),"Para Quem Ã© Este Projeto?"]}),r.jsx("div",{className:"prose prose-lg max-w-none text-gray-700 space-y-4",children:r.jsxs("p",{className:"text-lg leading-relaxed",children:[r.jsx("strong",{children:"A MÃºsica da Segunda"})," Ã© para todos os brasileiros que se interessam por mÃºsica, humor e atualidades. O projeto busca criar pontes atravÃ©s do humor e da mÃºsica, sempre respeitando a diversidade de opiniÃµes e promovendo o diÃ¡logo construtivo sobre os temas abordados."]})})]}),r.jsxs("article",{className:"bg-gradient-to-br from-white/90 to-white/70 backdrop-blur-sm rounded-3xl p-8 mb-8 shadow-2xl border border-white/20",children:[r.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-6 flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-400 to-pink-500 rounded-full flex items-center justify-center shadow-lg",children:r.jsx(_e,{className:"w-6 h-6 text-white"})}),"Formato e Estilo Musical"]}),r.jsxs("div",{className:"prose prose-lg max-w-none text-gray-700 space-y-4",children:[r.jsxs("p",{className:"text-lg leading-relaxed",children:["As parÃ³dias de ",r.jsx("strong",{children:"A MÃºsica da Segunda"})," seguem uma abordagem musical diversificada. NÃ£o me limito a um Ãºnico gÃªnero: parodio desde MPB clÃ¡ssica atÃ© pop contemporÃ¢neo, rock, samba, funk e outros estilos musicais brasileiros. A escolha do estilo musical sempre tem relaÃ§Ã£o com o tema abordado."]}),r.jsxs("p",{className:"text-lg leading-relaxed",children:["O estilo de humor varia entre sÃ¡tira polÃ­tica, ironia social, comentÃ¡rios sobre economia, cultura e atÃ© mesmo parÃ³dias de eventos esportivos ou culturais. O importante Ã© que cada mÃºsica seja ",r.jsx("strong",{children:"memorÃ¡vel, engajante e reflexiva"}),", convidando o ouvinte a pensar sobre o tema abordado enquanto se diverte."]}),r.jsx("p",{className:"text-lg leading-relaxed",children:"Todas as mÃºsicas sÃ£o produzidas com qualidade profissional, utilizando equipamentos de gravaÃ§Ã£o de alta qualidade e arranjos cuidadosamente elaborados."})]})]}),r.jsxs("div",{className:"bg-gradient-to-br from-white/90 to-white/70 backdrop-blur-sm rounded-3xl p-8 mb-8 shadow-2xl border border-white/20",children:[r.jsxs("h3",{className:"text-2xl font-bold text-gray-800 mb-6 flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full flex items-center justify-center shadow-lg",children:r.jsx(hp,{className:"w-6 h-6 text-white"})}),"O Que Oferecemos"]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-4 p-3 bg-white/50 rounded-xl hover:bg-white/70 transition-colors",children:[r.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),r.jsx("span",{className:"text-gray-700 font-medium",children:"MÃºsica nova toda segunda-feira"})]}),r.jsxs("div",{className:"flex items-center gap-4 p-3 bg-white/50 rounded-xl hover:bg-white/70 transition-colors",children:[r.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),r.jsx("span",{className:"text-gray-700 font-medium",children:"VÃ­deos TikTok integrados"})]}),r.jsxs("div",{className:"flex items-center gap-4 p-3 bg-white/50 rounded-xl hover:bg-white/70 transition-colors",children:[r.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),r.jsx("span",{className:"text-gray-700 font-medium",children:"Letras das mÃºsicas completas"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-4 p-3 bg-white/50 rounded-xl hover:bg-white/70 transition-colors",children:[r.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),r.jsx("span",{className:"text-gray-700 font-medium",children:"DisponÃ­vel em Spotify, Apple Music e YouTube Music"})]}),r.jsxs("div",{className:"flex items-center gap-4 p-3 bg-white/50 rounded-xl hover:bg-white/70 transition-colors",children:[r.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded-full"}),r.jsx("span",{className:"text-gray-700 font-medium",children:"CalendÃ¡rio musical interativo"})]}),r.jsxs("div",{className:"flex items-center gap-4 p-3 bg-white/50 rounded-xl hover:bg-white/70 transition-colors",children:[r.jsx("div",{className:"w-3 h-3 bg-pink-500 rounded-full"}),r.jsx("span",{className:"text-gray-700 font-medium",children:"Interface responsiva e moderna"})]})]})]})]}),r.jsxs("div",{className:"bg-gradient-to-br from-white/90 to-white/70 backdrop-blur-sm rounded-3xl p-8 mb-8 shadow-2xl border border-white/20",children:[r.jsxs("h3",{className:"text-2xl font-bold text-gray-800 mb-6 flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-400 to-emerald-500 rounded-full flex items-center justify-center shadow-lg",children:r.jsx(df,{className:"w-6 h-6 text-white"})}),"Tecnologia"]}),r.jsx("p",{className:"text-gray-700 leading-relaxed mb-6 text-lg",children:"Este projeto foi desenvolvido com as mais modernas tecnologias web para garantir uma experiÃªncia excepcional em todos os dispositivos."}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-gradient-to-br from-gray-800/90 to-gray-900/90 rounded-2xl p-6 text-white backdrop-blur-sm border border-gray-700/50",children:[r.jsxs("h4",{className:"font-bold mb-4 text-lg flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-pulse"}),"Frontend"]}),r.jsxs("div",{className:"space-y-2 text-sm text-gray-300",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),r.jsx("span",{children:"React 18 + Vite"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),r.jsx("span",{children:"Tailwind CSS"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full"}),r.jsx("span",{children:"Radix UI Components"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 bg-orange-400 rounded-full"}),r.jsx("span",{children:"Responsive Design"})]})]})]}),r.jsxs("div",{className:"bg-gradient-to-br from-gray-800/90 to-gray-900/90 rounded-2xl p-6 text-white backdrop-blur-sm border border-gray-700/50",children:[r.jsxs("h4",{className:"font-bold mb-4 text-lg flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),"Funcionalidades"]}),r.jsxs("div",{className:"space-y-2 text-sm text-gray-300",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),r.jsx("span",{children:"TikTok Integration"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),r.jsx("span",{children:"Music Calendar"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full"}),r.jsx("span",{children:"Lyrics Display"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 bg-orange-400 rounded-full"}),r.jsx("span",{children:"Social Sharing"})]})]})]})]})]}),r.jsxs("article",{className:"bg-gradient-to-br from-white/90 to-white/70 backdrop-blur-sm rounded-3xl p-8 mb-8 shadow-2xl border border-white/20",children:[r.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-6 flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-400 to-purple-500 rounded-full flex items-center justify-center shadow-lg",children:r.jsx(jf,{className:"w-6 h-6 text-white"})}),"Perguntas Frequentes"]}),r.jsx("div",{className:"space-y-4",children:t.map((n,i)=>r.jsxs("article",{className:"bg-white/80 rounded-2xl shadow-lg border border-gray-200 overflow-hidden transition-all duration-300 hover:shadow-xl",itemScope:!0,itemType:"https://schema.org/Question",children:[r.jsxs("button",{onClick:()=>a(i),className:"w-full px-6 py-5 text-left flex items-center justify-between focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-inset","aria-expanded":s===i,"aria-controls":`faq-answer-${i}`,children:[r.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-900 pr-8",itemProp:"name",children:n.question}),r.jsx(so,{className:`w-6 h-6 text-gray-500 flex-shrink-0 transition-transform duration-300 ${s===i?"transform rotate-180":""}`})]}),r.jsx("div",{id:`faq-answer-${i}`,className:`overflow-hidden transition-all duration-300 ${s===i?"max-h-96 opacity-100":"max-h-0 opacity-0"}`,children:r.jsx("div",{className:"px-6 pb-5 text-gray-700 leading-relaxed",itemScope:!0,itemType:"https://schema.org/Answer",itemProp:"acceptedAnswer",children:r.jsx("p",{className:"text-base md:text-lg",itemProp:"text",children:n.answer})})})]},i))})]}),r.jsxs("div",{className:"bg-white/20 rounded-3xl p-6 mb-6",children:[r.jsxs("h3",{className:"text-2xl font-bold text-white mb-4 flex items-center gap-3",children:[r.jsx(Qo,{className:"w-6 h-6 text-pink-400"}),"Redes Sociais"]}),r.jsx("p",{className:"text-white/90 mb-4",children:"Siga-nos nas redes sociais para ficar por dentro de todas as novidades!"}),r.jsxs("div",{className:"flex justify-center gap-4",children:[r.jsx("a",{href:"https://www.tiktok.com/@amusicadasegunda",target:"_blank",rel:"noopener noreferrer",className:"bg-black text-white p-3 rounded-full hover:bg-gray-800 transition-colors",children:r.jsx(mr,{className:"w-6 h-6"})}),r.jsx("a",{href:"https://www.instagram.com/a_musica_da_segunda/",target:"_blank",rel:"noopener noreferrer",className:"bg-gradient-to-r from-purple-400 to-pink-400 text-white p-3 rounded-full hover:opacity-80 transition-opacity",children:r.jsx(Qo,{className:"w-6 h-6"})}),r.jsx("a",{href:"https://music.youtube.com/playlist?list=PLmoOyuQg7Y2QZKbcj20s7dcadsVx7WuWH",target:"_blank",rel:"noopener noreferrer",className:"bg-red-600 text-white p-3 rounded-full hover:bg-red-700 transition-colors",children:r.jsx(Np,{className:"w-6 h-6"})}),r.jsx("a",{href:"https://music.apple.com/us/artist/the-piment%C3%A3o-rouge-project/1791441717",target:"_blank",rel:"noopener noreferrer",className:"bg-gradient-to-r from-pink-500 to-red-500 text-white p-3 rounded-full hover:opacity-80 transition-opacity",children:r.jsx(_e,{className:"w-6 h-6"})}),r.jsx("a",{href:"https://open.spotify.com/playlist/5z7Jan9yS1KRzwWEPYs4sH?si=c32b67518b2a4817",target:"_blank",rel:"noopener noreferrer",className:"bg-green-600 text-white p-3 rounded-full hover:bg-green-700 transition-colors",children:r.jsx(_e,{className:"w-6 h-6"})})]})]}),r.jsxs("div",{className:"bg-gradient-to-br from-white/20 to-white/10 backdrop-blur-md rounded-3xl p-8 text-center shadow-2xl border border-white/20",children:[r.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center shadow-lg",children:r.jsx(Zf,{className:"w-10 h-10 text-white"})}),r.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Entre em Contato"}),r.jsx("p",{className:"text-white/90 mb-6 text-lg max-w-2xl mx-auto",children:"Tem sugestÃµes, crÃ­ticas ou quer participar do projeto? AdorarÃ­amos ouvir de vocÃª!"}),r.jsxs("div",{className:"inline-flex items-center gap-3 bg-white/20 backdrop-blur-sm px-6 py-3 rounded-2xl border border-white/30",children:[r.jsx(mi,{className:"w-5 h-5 text-white"}),r.jsx("span",{className:"text-white font-semibold",children:"pimentaoenchansons@gmail.com"})]})]})]})})]})}function C0(){const[s,e]=h.useState(null),[t,a]=h.useState(!0);return h.useEffect(()=>{b(null,null,function*(){try{const i=yield Je.list("-release_date",10),o={site:{name:"A MÃºsica da Segunda",description:"ParÃ³dias musicais inteligentes sobre as notÃ­cias do Brasil",language:"pt-BR",country:"Brazil",url:"https://www.amusicadasegunda.com",categories:["music","comedy","news","parody","brazil"],frequency:"weekly",dayOfWeek:"Monday",contentType:"music-parody-news-brazil"},about:{mission:"Transformar notÃ­cias em mÃºsica com humor inteligente",targetAudience:"Brasileiros interessados em atualidades e mÃºsica",uniqueValue:"AnÃ¡lise crÃ­tica da atualidade atravÃ©s de parÃ³dias musicais",format:"ParÃ³dias musicais semanais sobre eventos do Brasil",style:"Humor inteligente, crÃ­tica social, comentÃ¡rio musical",productionQuality:"ProduÃ§Ã£o profissional com equipamentos de alta qualidade"},recentSongs:i.map(l=>({title:l.title,artist:l.artist||"A MÃºsica da Segunda",date:l.release_date,summary:l.description||`ParÃ³dia musical sobre ${l.title}`,topics:l.hashtags||[],fullLyrics:l.lyrics||"",context:l.description||`Esta parÃ³dia comenta sobre ${l.title}`,youtubeUrl:l.youtube_url||l.youtube_music_url||"",spotifyUrl:l.spotify_url||"",appleMusicUrl:l.apple_music_url||"",status:l.status||"published"})),faq:{url:"https://www.amusicadasegunda.com/faq",description:"PÃ¡gina com perguntas frequentes sobre o projeto"},social:{tiktok:"https://www.tiktok.com/@amusicadasegunda",instagram:"https://www.instagram.com/a_musica_da_segunda/",youtube:"https://music.youtube.com/playlist?list=PLmoOyuQg7Y2QZKbcj20s7dcadsVx7WuWH",spotify:"https://open.spotify.com/playlist/5z7Jan9yS1KRzwWEPYs4sH",appleMusic:"https://music.apple.com/us/artist/the-piment%C3%A3o-rouge-project/1791441717"},contact:{email:"pimentaoenchansons@gmail.com"},lastUpdated:new Date().toISOString(),version:"1.0"};e(o),a(!1)}catch(i){console.error("Erro ao carregar dados para IA:",i),a(!1)}})},[]),h.useEffect(()=>{if(s&&!t){const n=JSON.stringify(s,null,2),i=new Blob([n],{type:"application/json"});URL.createObjectURL(i)}},[s,t]),t?r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx("div",{className:"text-center",children:r.jsx("p",{className:"text-gray-600",children:"Carregando dados..."})})}):s?r.jsxs("div",{className:"min-h-screen bg-gray-50 p-8",children:[r.jsx("pre",{className:"bg-white p-6 rounded-lg shadow-lg overflow-auto max-w-6xl mx-auto",children:r.jsx("code",{className:"text-sm text-gray-800",children:JSON.stringify(s,null,2)})}),r.jsx("script",{type:"application/ld+json",children:JSON.stringify({"@context":"https://schema.org","@type":"Dataset",name:"A MÃºsica da Segunda - Content for AI",description:"Dados estruturados sobre o projeto A MÃºsica da Segunda para indexaÃ§Ã£o por IA",url:"https://www.amusicadasegunda.com/api/content-for-ai.json",keywords:"mÃºsica, parÃ³dia, brasil, atualidades, humor musical",license:"https://www.amusicadasegunda.com/sobre"})})]}):r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx("div",{className:"text-center",children:r.jsx("p",{className:"text-red-600",children:"Erro ao carregar dados"})})})}function A0({youtube_music_url:s,youtube_url:e,title:t}){const a=s||e||"",i=(d=>{if(!d||typeof d!="string")return null;try{const u=d.match(/[?&]list=([A-Za-z0-9_-]+)/);if(u)return{id:u[1],type:"playlist"};const m=[/(?:youtube\.com\/shorts\/)([A-Za-z0-9_-]{11})/,/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/|youtube\.com\/v\/)([A-Za-z0-9_-]{11})/,/^([A-Za-z0-9_-]{11})$/];for(const f of m){const g=d.match(f);if(g)return{id:g[1],type:"video"}}if(d.toLowerCase().includes("music.youtube.com")){const f=d.match(/[?&]v=([A-Za-z0-9_-]{11})/);if(f)return{id:f[1],type:"video"}}return null}catch(u){return null}})(a);if(!i)return r.jsx("div",{className:"w-full aspect-video rounded-lg overflow-hidden shadow-lg flex items-center justify-center bg-gradient-to-br from-gray-800 to-gray-900",children:r.jsx("p",{className:"text-white text-sm",children:"VidÃ©o non disponible"})});const o=a.includes("/shorts/"),l="https://www.youtube-nocookie.com/embed",c=i.type==="video"?`${l}/${i.id}?rel=0&modestbranding=1&playsinline=1&controls=1`:`${l}/videoseries?list=${i.id}&rel=0&modestbranding=1&playsinline=1&controls=1`;return o?r.jsx("div",{className:"w-full flex justify-center",children:r.jsx("div",{className:"relative rounded-lg overflow-hidden shadow-lg",style:{width:"100%",maxWidth:"400px",aspectRatio:"9/16"},children:r.jsx("iframe",{className:"absolute top-0 left-0 w-full h-full",src:c,title:t||"YouTube Short",frameBorder:"0",referrerPolicy:"strict-origin-when-cross-origin",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})}):r.jsx("div",{className:"w-full aspect-video rounded-lg overflow-hidden shadow-lg",children:r.jsx("iframe",{className:"w-full h-full",src:c,title:t||"YouTube",frameBorder:"0",referrerPolicy:"strict-origin-when-cross-origin",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})}function O0(){var C;const[s,e]=h.useState([]),[t,a]=h.useState([]),[n,i]=h.useState(!0),[o,l]=h.useState(null),[c,d]=h.useState(null),[u,m]=h.useState(!1),[f,g]=h.useState("all"),[v,S]=h.useState([]);h.useEffect(()=>{y()},[]),h.useEffect(()=>{k()},[f,s]);const y=()=>b(null,null,function*(){try{i(!0);const F=(yield Je.list("-release_date",null)).sort((H,U)=>new Date(U.release_date)-new Date(H.release_date));e(F);const q=E(F);S(q)}catch(O){console.error("Erro ao carregar posts do blog:",O),l("Erro ao carregar os posts do blog. Tente novamente.")}finally{i(!1)}}),E=O=>{const F=new Set;return O.forEach(H=>{const U=ge(H.release_date),te=oe(U,"yyyy-MM"),ye=oe(U,"MMMM yyyy",{locale:pe});F.add(JSON.stringify({key:te,label:ye}))}),Array.from(F).map(H=>JSON.parse(H)).sort((H,U)=>U.key.localeCompare(H.key))},k=()=>{if(f==="all")a(s);else{const O=s.filter(F=>oe(ge(F.release_date),"yyyy-MM")===f);a(O)}},x=()=>{g("all")},w=O=>{const F=ge(O),q=F.getDay(),H=q===0?-6:1-q,U=new Date(F);return U.setDate(F.getDate()+H),U},N=O=>{d(O),m(!0)};return Ts({title:"Blog Musical",description:"HistÃ³rias por trÃ¡s de cada mÃºsica publicada na A MÃºsica da Segunda. DescriÃ§Ãµes detalhadas e significado de cada canÃ§Ã£o.",keywords:"blog musical, histÃ³rias de mÃºsicas, mÃºsica da segunda, parÃ³dias musicais, descriÃ§Ãµes de canÃ§Ãµes",url:"/blog",type:"website"}),n?r.jsxs("div",{className:"p-5 max-w-4xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h2",{className:"text-4xl md:text-5xl font-black text-gray-900 mb-2",children:"Blog Musical"}),r.jsx("p",{className:"text-gray-700 font-medium text-lg",children:"HistÃ³rias por trÃ¡s de cada mÃºsica"})]}),r.jsx("div",{className:"flex items-center justify-center py-20",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),r.jsx("p",{className:"text-gray-700",children:"Carregando posts do blog..."})]})})]}):o?r.jsxs("div",{className:"p-5 max-w-4xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h2",{className:"text-4xl md:text-5xl font-black text-gray-900 mb-2",children:"Blog Musical"}),r.jsx("p",{className:"text-gray-700 font-medium text-lg",children:"HistÃ³rias por trÃ¡s de cada mÃºsica"})]}),r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-3xl p-6 text-center",children:[r.jsx(_e,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold text-red-800 mb-2",children:"Erro ao carregar"}),r.jsx("p",{className:"text-red-600 mb-4",children:o}),r.jsx(B,{onClick:y,className:"bg-red-500 hover:bg-red-600",children:"Tentar novamente"})]})]}):r.jsxs("div",{className:"p-5 max-w-4xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h1",{className:"text-4xl md:text-5xl font-black text-gray-900 mb-2",children:"Blog Musical"}),r.jsx("p",{className:"text-gray-700 font-medium text-lg",children:"HistÃ³rias por trÃ¡s de cada mÃºsica"}),r.jsx("p",{className:"text-gray-600 text-sm mt-2",children:"DescriÃ§Ãµes detalhadas e significado de cada canÃ§Ã£o"})]}),r.jsx("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl p-6 mb-8 border border-gray-200",children:r.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Af,{className:"w-5 h-5 text-gray-700"}),r.jsx("span",{className:"text-gray-800 font-medium",children:"Filtrar por mÃªs:"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs(Li,{value:f,onValueChange:g,children:[r.jsx(tn,{className:"w-48 bg-white/90 border-0 text-gray-800",children:r.jsx($i,{placeholder:"Selecione um mÃªs"})}),r.jsxs(sn,{children:[r.jsx(Ut,{value:"all",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(fi,{className:"w-4 h-4"}),"Todos os meses (",s.length,")"]})}),v.map(O=>r.jsx(Ut,{value:O.key,children:O.label},O.key))]})]}),f!=="all"&&r.jsx(B,{onClick:x,variant:"outline",className:"bg-white text-gray-700 border-gray-300 hover:bg-gray-50",children:"Limpar filtro"})]})]})}),r.jsx("div",{className:"space-y-8",children:t.length>0?t.map(O=>{const F=w(O.release_date);return r.jsxs(os,{className:"bg-white/95 backdrop-blur-sm shadow-xl border-0",children:[r.jsx(Sr,{className:"pb-4",children:r.jsx("div",{className:"flex items-start justify-between",children:r.jsxs("div",{className:"flex-1",children:[r.jsx(Nr,{className:"text-2xl md:text-3xl font-black text-gray-800 mb-2",children:O.title}),r.jsxs("div",{className:"flex items-center gap-4 text-gray-600 mb-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Dt,{className:"w-4 h-4"}),r.jsxs("span",{className:"font-medium",children:["Segunda-feira, ",oe(F,"dd MMMM yyyy",{locale:pe})]})]}),r.jsx(Va,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:O.artist})]})]})})}),r.jsxs(js,{className:"space-y-6",children:[O.description?r.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl p-4 border border-green-200",children:[r.jsx("h3",{className:"text-lg font-bold text-green-900 mb-2 flex items-center gap-2",children:"ðŸŽµ Sobre a MÃºsica"}),r.jsx("p",{className:"text-green-800 leading-relaxed whitespace-pre-wrap",children:O.description})]}):r.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-slate-50 rounded-xl p-4 border border-gray-200",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-700 mb-2 flex items-center gap-2",children:"ðŸŽµ Sobre a MÃºsica"}),r.jsx("p",{className:"text-gray-600 italic",children:"A descriÃ§Ã£o desta mÃºsica serÃ¡ adicionada no Supabase em breve. Enquanto isso, aproveite a mÃºsica!"})]}),r.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-red-50 rounded-xl p-4 border border-orange-200",children:[r.jsx("h3",{className:"text-lg font-bold text-orange-900 mb-3 flex items-center gap-2",children:"ðŸŽ§ Ouvir e Assistir"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[O.spotify_url&&r.jsx("a",{href:O.spotify_url,target:"_blank",rel:"noopener noreferrer",className:"block",children:r.jsxs(B,{className:"w-full bg-[#1DB954] hover:bg-[#1ed760] text-white font-bold py-3 rounded-xl transition-all duration-200 hover:scale-105",children:[r.jsx(If,{className:"w-4 h-4 mr-2"}),"Spotify"]})}),O.youtube_url&&r.jsx("a",{href:O.youtube_url,target:"_blank",rel:"noopener noreferrer",className:"block",children:r.jsxs(B,{className:"w-full bg-[#FF0000] hover:bg-[#cc0000] text-white font-bold py-3 rounded-xl transition-all duration-200 hover:scale-105",children:[r.jsx(pt,{className:"w-4 h-4 mr-2"}),"YouTube"]})}),O.tiktok_url&&r.jsxs(B,{onClick:()=>N(O),className:"w-full bg-black hover:bg-gray-800 text-white font-bold py-3 rounded-xl transition-all duration-200 hover:scale-105",children:[r.jsx(mr,{className:"w-4 h-4 mr-2"}),"Video"]}),!O.spotify_url&&!O.youtube_url&&!O.tiktok_url&&r.jsxs("div",{className:"col-span-full text-center py-4",children:[r.jsx(_e,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),r.jsx("p",{className:"text-gray-500 text-sm",children:"Links de streaming em breve..."})]})]})]}),r.jsx("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-200",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"Data de LanÃ§amento:"}),r.jsx("br",{}),oe(ge(O.release_date),"dd MMMM yyyy",{locale:pe})]}),O.genre&&r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"GÃªnero:"}),r.jsx("br",{}),O.genre]})]})})]})]},O.id)}):r.jsxs("div",{className:"bg-white/70 rounded-3xl p-8 text-center border border-gray-200",children:[r.jsx(fi,{className:"w-16 h-16 text-gray-500 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Nenhum artigo encontrado"}),r.jsx("p",{className:"text-gray-700 mb-4",children:f==="all"?"NÃ£o hÃ¡ artigos no blog ainda.":`NÃ£o hÃ¡ artigos publicados em ${(C=v.find(O=>O.key===f))==null?void 0:C.label}.`}),f!=="all"&&r.jsx(B,{onClick:x,className:"bg-white text-gray-700 border-gray-300 hover:bg-gray-50",children:"Ver todos os artigos"})]})}),u&&c&&r.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center p-4 z-50",children:r.jsx("div",{className:"bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("h2",{className:"text-3xl font-bold text-blue-900",children:["ðŸŽ¬ ",c.title]}),r.jsx("button",{onClick:()=>m(!1),className:"text-gray-500 hover:text-gray-700 text-2xl font-bold p-2 hover:bg-gray-100 rounded-full transition-colors",children:"âœ•"})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-4 border border-blue-200",children:[r.jsx("h3",{className:"text-xl font-bold text-blue-900 mb-2",children:c.title}),r.jsx("p",{className:"text-blue-700 font-medium",children:c.artist}),r.jsxs("p",{className:"text-blue-600 text-sm",children:["ðŸ“… LanÃ§amento: ",oe(ge(c.release_date),"dd/MM/yyyy",{locale:pe})]})]}),r.jsx("div",{className:"bg-black rounded-xl overflow-hidden shadow-2xl",children:r.jsx(A0,{youtube_music_url:c.youtube_music_url,youtube_url:c.youtube_url,title:c.title})}),r.jsxs("div",{className:"flex gap-4 justify-center",children:[r.jsx("button",{onClick:()=>{const O=c.youtube_music_url||c.youtube_url;O&&window.open(O,"_blank")},className:"bg-red-600 text-white px-6 py-3 rounded-xl font-semibold hover:bg-red-700 transition-colors flex items-center gap-2",children:"ðŸ“º Ver no YouTube"}),r.jsx("button",{onClick:()=>m(!1),className:"bg-gray-200 text-gray-700 px-6 py-3 rounded-xl font-semibold hover:bg-gray-300 transition-colors",children:"Fechar"})]})]})]})})})]})}function vc(){return Ts({title:"Playlist Completa - Todas as Descobertas Musicais",description:"Playlist completa com todas as descobertas musicais do MÃºsica da Segunda. OuÃ§a no Spotify, Apple Music e YouTube Music.",keywords:"playlist mÃºsica da segunda, descobertas musicais, spotify playlist, apple music, youtube music, todas as mÃºsicas",url:"/playlist",type:"website"}),r.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-teal-200 to-rose-200 p-5",children:[r.jsxs(It,{children:[r.jsx("html",{lang:"pt-BR"}),r.jsx("meta",{name:"robots",content:"index,follow"}),r.jsx("script",{type:"application/ld+json",children:JSON.stringify({"@context":"https://schema.org","@type":"ItemList",name:"Playlist A MÃºsica da Segunda"})})]}),r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsx("div",{className:"text-center mb-8",children:r.jsxs("div",{className:"flex items-center justify-center gap-4 mb-4",children:[r.jsx("div",{className:"w-16 h-16 rounded-full overflow-hidden border-4 border-white/20 shadow-xl flex-shrink-0",children:r.jsx(ta,{src:"images/Musica da segunda.jpg",alt:"Logo MÃºsica da Segunda",className:"w-full h-full object-cover"})}),r.jsxs("div",{className:"text-left",children:[r.jsx("h1",{className:"text-3xl md:text-4xl font-black text-white drop-shadow-lg mb-2",children:"Playlist"}),r.jsx("p",{className:"text-white/90 font-medium text-lg drop-shadow-md",children:"OuÃ§a todas as mÃºsicas da MÃºsica da Segunda"})]})]})}),r.jsx("div",{className:"bg-white/90 backdrop-blur-lg rounded-3xl p-6 shadow-2xl",children:r.jsx("div",{className:"w-full",children:r.jsx("iframe",{"data-testid":"embed-iframe",style:{borderRadius:"12px"},src:"https://open.spotify.com/embed/playlist/5z7Jan9yS1KRzwWEPYs4sH?utm_source=generator",width:"100%",height:"600",frameBorder:"0",allowFullScreen:"",allow:"autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture",loading:"lazy",title:"Playlist Spotify - MÃºsica da Segunda",className:"shadow-lg md:h-[600px] h-[500px]"})})})]})]})}const qa="https://www.amusicadasegunda.com";function R0({title:s,slug:e,datePublished:t,image:a,byArtist:n="A MÃºsica da Segunda",streamingUrls:i=[]}){const o=`${qa}/chansons/${e}`,l=p({"@context":"https://schema.org","@type":"MusicRecording",name:s||e,byArtist:{"@type":"MusicGroup",name:n},datePublished:t||new Date().toISOString().slice(0,10),inLanguage:"pt-BR",url:o,genre:["Indie","MÃºsica Brasileira","Pop"]},a?{image:a}:{}),c=i.filter(d=>d&&typeof d=="string");return c.length>0&&(l.sameAs=c),l}function P0({title:s,slug:e}){return{"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:[{"@type":"ListItem",position:1,name:"InÃ­cio",item:`${qa}/`},{"@type":"ListItem",position:2,name:"CanÃ§Ãµes",item:`${qa}/chansons`},{"@type":"ListItem",position:3,name:s||e,item:`${qa}/chansons/${e}`}]}}function wc(s,e=null){if(typeof document!="undefined")try{if(e){const a=document.getElementById(e);a&&a.remove()}const t=document.createElement("script");t.type="application/ld+json",t.textContent=JSON.stringify(s,null,2),e&&(t.id=e),document.head.appendChild(t)}catch(t){console.error("Error injecting JSON-LD:",t)}}function I0({youtube_music_url:s,youtube_url:e,title:t}){const a=s||e||"",i=(d=>{if(!d||typeof d!="string")return null;try{const u=d.toLowerCase(),m=d.match(/[?&]list=([A-Za-z0-9_-]+)/);if(m)return{id:m[1],type:"playlist"};const f=[/(?:youtube\.com\/shorts\/)([A-Za-z0-9_-]{11})/,/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/|youtube\.com\/v\/)([A-Za-z0-9_-]{11})/,/^([A-Za-z0-9_-]{11})$/];for(const g of f){const v=d.match(g);if(v)return{id:v[1],type:"video"}}if(u.includes("music.youtube.com")){const g=d.match(/[?&]v=([A-Za-z0-9_-]{11})/);if(g)return{id:g[1],type:"video"}}return null}catch(u){return null}})(a);if(!i)return r.jsx("div",{className:"w-full aspect-video rounded-lg overflow-hidden shadow-lg flex items-center justify-center bg-gradient-to-br from-gray-800 to-gray-900",children:r.jsx("p",{className:"text-white text-sm",children:"VidÃ©o non disponible"})});const o=a.includes("/shorts/"),l="https://www.youtube-nocookie.com/embed",c=i.type==="video"?`${l}/${i.id}?rel=0&modestbranding=1&playsinline=1&controls=1`:`${l}/videoseries?list=${i.id}&rel=0&modestbranding=1&playsinline=1&controls=1`;return o?r.jsx("div",{className:"w-full flex justify-center",children:r.jsx("div",{className:"relative rounded-lg overflow-hidden shadow-lg",style:{width:"100%",maxWidth:"400px",aspectRatio:"9/16"},children:r.jsx("iframe",{className:"absolute top-0 left-0 w-full h-full",src:c,title:t||"YouTube Short",frameBorder:"0",referrerPolicy:"strict-origin-when-cross-origin",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,loading:"lazy"})})}):r.jsx("div",{className:"w-full aspect-video rounded-lg overflow-hidden shadow-lg",children:r.jsx("iframe",{className:"w-full h-full",src:c,title:t||"YouTube",frameBorder:"0",referrerPolicy:"strict-origin-when-cross-origin",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,loading:"lazy"})})}function M0(){const{slug:s}=om(),e=un(),t=s?s.replace(/\/$/,"").trim():null,[a,n]=h.useState(null),[i,o]=h.useState(!0),[l,c]=h.useState(null);h.useEffect(()=>{s&&s.endsWith("/")&&e(`/chansons/${t}`,{replace:!0})},[s,t,e]),h.useEffect(()=>{b(null,null,function*(){if(!t){o(!1),c("Slug invÃ¡lido");return}o(!0),c(null);try{const m=yield Je.getBySlug(t);m?(n(m),c(null)):(c("Song not found"),n(null))}catch(m){c("Song not found"),n(null)}finally{o(!1)}})},[t]);const d=t?`/chansons/${t.replace(/\/$/,"")}`:"/chansons";return Ts({title:a?a.title:t?t.replace(/-/g," "):"A MÃºsica da Segunda",description:a?`Letra, Ã¡udio e histÃ³ria de "${a.title}" â€” nova mÃºsica da segunda.`:"ParÃ³dias musicais inteligentes e divertidas sobre as notÃ­cias do Brasil.",keywords:a?`${a.title}, mÃºsica da segunda, parÃ³dias musicais`:"mÃºsica da segunda, parÃ³dias musicais",image:a==null?void 0:a.cover_image,url:d,type:"article"}),h.useEffect(()=>{if(a){const u=[a.spotify_url,a.apple_music_url,a.youtube_url,a.youtube_music_url].filter(Boolean),m=R0({title:a.title,slug:t,datePublished:a.release_date,image:a.cover_image,byArtist:a.artist||"A MÃºsica da Segunda",streamingUrls:u});wc(m,"song-music-schema");const f=P0({title:a.title,slug:t});return wc(f,"song-breadcrumb-schema"),()=>{const g=document.getElementById("song-music-schema"),v=document.getElementById("song-breadcrumb-schema");g&&g.remove(),v&&v.remove()}}},[a,t]),i?r.jsxs("div",{className:"container mx-auto px-4 py-8",children:[r.jsxs(It,{children:[r.jsx("html",{lang:"pt-BR"}),r.jsx("meta",{name:"robots",content:"index, follow"})]}),r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:t?t.replace(/-/g," ").replace(/\b\w/g,u=>u.toUpperCase()):"A MÃºsica da Segunda"}),r.jsx("p",{className:"text-gray-600 mb-8",children:"Carregando informaÃ§Ãµes da mÃºsica..."}),r.jsxs("div",{className:"animate-pulse",children:[r.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-4"}),r.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-8"}),r.jsx("div",{className:"h-96 bg-gray-200 rounded"})]})]})]}):l||!a?r.jsxs("div",{className:"container mx-auto px-4 py-8",children:[r.jsx(It,{children:r.jsx("meta",{name:"robots",content:"noindex,follow"})}),r.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[r.jsx("div",{className:"mb-6",children:r.jsxs(B,{onClick:()=>e("/"),variant:"outline",className:"mb-4",children:[r.jsx(ea,{className:"w-4 h-4 mr-2"}),"Voltar ao InÃ­cio"]})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:l||"Song Not Found"}),r.jsxs("p",{className:"text-gray-600",children:['The song "',t,'" could not be found.']})]})]}):r.jsxs("div",{className:"container mx-auto px-4 py-8",children:[r.jsxs(It,{children:[r.jsx("html",{lang:"pt-BR"}),r.jsx("meta",{name:"twitter:card",content:"summary_large_image"})]}),r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsx("div",{className:"mb-6",children:r.jsxs(B,{onClick:()=>e("/"),variant:"outline",children:[r.jsx(ea,{className:"w-4 h-4 mr-2"}),"Voltar ao InÃ­cio"]})}),r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:a.title}),r.jsxs("div",{className:"flex items-center gap-4 text-gray-600 mb-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(bp,{className:"w-4 h-4"}),r.jsx("span",{children:a.artist||"A MÃºsica da Segunda"})]}),a.release_date&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Dt,{className:"w-4 h-4"}),r.jsx("span",{children:oe(ge(a.release_date),"dd MMMM yyyy",{locale:pe})})]})]}),a.description&&r.jsx("p",{className:"text-gray-700 leading-relaxed",children:a.description})]}),r.jsxs("div",{className:"mb-8",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[r.jsx(_e,{className:"w-5 h-5"}),"VÃ­deo"]}),r.jsx("div",{className:"w-full max-w-2xl mx-auto",children:a.youtube_music_url||a.youtube_url?r.jsx(I0,{youtube_music_url:a.youtube_music_url,youtube_url:a.youtube_url,title:a.title}):r.jsx("div",{className:"w-full aspect-video rounded-lg overflow-hidden shadow-lg flex items-center justify-center bg-gradient-to-br from-gray-100 to-gray-200",children:r.jsxs("div",{className:"text-center text-gray-500",children:[r.jsx(_e,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),r.jsx("p",{className:"font-medium",children:"VidÃ©o non disponible"}),r.jsx("p",{className:"text-sm",children:"Cette musique n'a pas encore de vidÃ©o"})]})})})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Detalhes da MÃºsica"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-gray-700",children:"TÃ­tulo:"}),r.jsx("span",{className:"ml-2 text-gray-900",children:a.title})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-gray-700",children:"Artista:"}),r.jsx("span",{className:"ml-2 text-gray-900",children:a.artist||"A MÃºsica da Segunda"})]}),a.release_date&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-gray-700",children:"Data de LanÃ§amento:"}),r.jsx("span",{className:"ml-2 text-gray-900",children:oe(ge(a.release_date),"dd/MM/yyyy")})]}),a.status&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-gray-700",children:"Status:"}),r.jsx("span",{className:"ml-2 text-gray-900",children:a.status})]})]})]})]})]})}function _c({youtube_music_url:s,youtube_url:e,title:t}){console.warn("ðŸŽ¬ðŸŽ¬ðŸŽ¬ YouTubeEmbed appelÃ© avec:",{youtube_music_url:s,youtube_url:e,title:t});const a=s||e||"";console.warn("ðŸŽ¬ðŸŽ¬ðŸŽ¬ YouTubeEmbed targetUrl:",a);const i=(d=>{if(!d||typeof d!="string")return null;try{const u=d.toLowerCase(),m=d.match(/[?&]list=([A-Za-z0-9_-]+)/);if(m)return{id:m[1],type:"playlist"};const f=[/(?:youtube\.com\/shorts\/)([A-Za-z0-9_-]{11})/,/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/|youtube\.com\/v\/)([A-Za-z0-9_-]{11})/,/^([A-Za-z0-9_-]{11})$/];for(const g of f){const v=d.match(g);if(v)return{id:v[1],type:"video"}}if(u.includes("music.youtube.com")){const g=d.match(/[?&]v=([A-Za-z0-9_-]{11})/);if(g)return{id:g[1],type:"video"}}return null}catch(u){return null}})(a);if(console.warn("ðŸŽ¬ðŸŽ¬ðŸŽ¬ YouTubeEmbed info extraite:",i),!i)return console.warn("ðŸŽ¬ðŸŽ¬ðŸŽ¬ YouTubeEmbed: Aucune info valide, affichage fallback"),r.jsx("div",{className:"w-full aspect-video rounded-lg overflow-hidden shadow-lg flex items-center justify-center bg-gradient-to-br from-gray-800 to-gray-900",children:r.jsx("p",{className:"text-white text-sm",children:"VidÃ©o non disponible"})});const o=a.includes("/shorts/"),l="https://www.youtube-nocookie.com/embed",c=i.type==="video"?`${l}/${i.id}?rel=0&modestbranding=1&playsinline=1&controls=1`:`${l}/videoseries?list=${i.id}&rel=0&modestbranding=1&playsinline=1&controls=1`;return console.warn("ðŸŽ¬ðŸŽ¬ðŸŽ¬ YouTubeEmbed embedSrc gÃ©nÃ©rÃ©:",c),console.warn("ðŸŽ¬ðŸŽ¬ðŸŽ¬ YouTubeEmbed isShort (9:16):",o),o?r.jsx("div",{className:"w-full flex justify-center",children:r.jsx("div",{className:"relative rounded-lg overflow-hidden shadow-lg",style:{width:"100%",maxWidth:"400px",aspectRatio:"9/16"},children:r.jsx("iframe",{className:"absolute top-0 left-0 w-full h-full",src:c,title:t||"YouTube Short",frameBorder:"0",referrerPolicy:"strict-origin-when-cross-origin",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})}):r.jsx("div",{className:"w-full aspect-video rounded-lg overflow-hidden shadow-lg",children:r.jsx("iframe",{className:"w-full h-full",src:c,title:t||"YouTube",frameBorder:"0",referrerPolicy:"strict-origin-when-cross-origin",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})}function D0(){console.warn("ðŸŽ¬ Youtube component loaded");const s=un(),[e,t]=h.useState(null),[a,n]=h.useState([]),[i,o]=h.useState(!0),[l,c]=h.useState(null),[d,u]=h.useState(null),[m,f]=h.useState(!1),[g,v]=h.useState(!1),[S,y]=h.useState(!1),[E,k]=h.useState(!1),[x,w]=h.useState(null),[N,C]=h.useState(null);h.useEffect(()=>{console.warn("ðŸŽ¬ Youtube useEffect triggered"),wo.initialize(),O(),F()},[]);const O=()=>b(null,null,function*(){o(!0),c(null);try{console.warn("ðŸ”„ Tentative de chargement depuis Supabase...");const A=yield Je.getCurrent();console.warn("ðŸ“Š Chanson actuelle chargÃ©e:",A),A?(console.warn("âœ… Chanson trouvÃ©e - id:",A.id),console.warn("âœ… Chanson trouvÃ©e - title:",A.title),console.warn("âœ… Chanson trouvÃ©e - youtube_url:",A.youtube_url),console.warn("âœ… Chanson trouvÃ©e - youtube_music_url:",A.youtube_music_url),console.warn("âœ… Chanson trouvÃ©e - has_youtube_music_url:",!!A.youtube_music_url),console.warn("âœ… Chanson trouvÃ©e - typeof youtube_music_url:",typeof A.youtube_music_url),console.warn("âœ… Chanson trouvÃ©e - toutes les clÃ©s:",Object.keys(A)),console.warn("âœ… Chanson trouvÃ©e - youtube_music_url in keys?","youtube_music_url"in A)):console.warn("âŒ Aucune chanson trouvÃ©e par getCurrent()"),t(A),console.warn("ðŸ”ðŸ”ðŸ” FORCE DEBUG AVANT setDisplayedSong - song:",A),console.warn("ðŸ”ðŸ”ðŸ” FORCE DEBUG AVANT setDisplayedSong - song.youtube_music_url:",A==null?void 0:A.youtube_music_url),console.warn("ðŸ”ðŸ”ðŸ” FORCE DEBUG AVANT setDisplayedSong - song.youtube_url:",A==null?void 0:A.youtube_url),console.warn("ðŸ”ðŸ”ðŸ” FORCE DEBUG AVANT setDisplayedSong - keys:",A?Object.keys(A):[]),C(A),console.warn("ðŸ”ðŸ”ðŸ” FORCE DEBUG APRES setDisplayedSong - song:",A),console.warn("ðŸ”ðŸ”ðŸ” FORCE DEBUG APRES setDisplayedSong - song.youtube_music_url:",A==null?void 0:A.youtube_music_url)}catch(A){console.error("âŒ Erro ao carregar mÃºsica atual:",A),c("Erro ao carregar a mÃºsica da semana. Tente novamente.")}finally{o(!1)}}),F=()=>b(null,null,function*(){try{console.warn("ðŸ”„ Chargement des musiques rÃ©centes depuis Supabase...");const A=yield Je.list("-release_date",null);console.warn("ðŸ“Š Toutes les musiques chargÃ©es:",A);const ie=new Date,le=Ki(ie),$=Zi(ie),W=A.filter(ot=>{const ue=ge(ot.release_date);return $c(ue,{start:le,end:$})});console.warn("ðŸ“… Musiques du mois en cours:",W),n(W)}catch(A){console.error("âŒ Erro ao carregar mÃºsicas recentes:",A)}}),q=()=>{O()},H=(A,ie)=>{ie&&(ie.preventDefault(),ie.stopPropagation()),console.warn("ðŸŽµ handleReplaceVideo appelÃ© avec:",A.title),C(A),window.scrollTo({top:0,behavior:"smooth"})},U=A=>{w(A),v(!0)},te=A=>{w(A),y(!0)},ye=A=>{w(A),k(!0)},Me=A=>b(null,null,function*(){if(navigator.share)try{yield navigator.share({title:`${A.title} - ${A.artist}`,text:"Confira esta mÃºsica incrÃ­vel da MÃºsica da Segunda!",url:A.youtube_music_url||A.youtube_url||window.location.href})}catch(ie){}else{const ie=`${A.title} - ${A.artist}
Confira esta mÃºsica incrÃ­vel da MÃºsica da Segunda!`;navigator.clipboard.writeText(ie),alert("Link copiado para a Ã¡rea de transferÃªncia!")}}),Le=()=>{const A=new Date;return A.setMonth(A.getMonth()-1),oe(A,"yyyy-MM")},se=()=>{const A=Le();s(`/calendar?month=${A}`)},Ee=A=>{if(!A)return console.warn("ðŸ” extractYouTubeId: URL vide ou null"),null;if(console.warn("ðŸ” extractYouTubeId: Analyse de l'URL:",A),A.includes("music.youtube.com"))return console.warn("âš ï¸ extractYouTubeId: URL YouTube Music dÃ©tectÃ©e (playlist), pas de vidÃ©o individuelle"),null;const ie=[/(?:youtube\.com\/shorts\/)([A-Za-z0-9_-]{11})/,/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/|youtube\.com\/v\/)([A-Za-z0-9_-]{11})/,/^([A-Za-z0-9_-]{11})$/];for(const le of ie){const $=A.match(le);if($){const W=$[1];return console.warn("âœ… extractYouTubeId: ID trouvÃ©:",W,"depuis URL:",A),W}}return console.warn("âŒ extractYouTubeId: Aucun ID YouTube trouvÃ© dans:",A),null},M=A=>A?A.includes("playlist?list=")||A.includes("music.youtube.com"):!1;return Ts({title:"A MÃºsica da Segunda: ParÃ³dias das NotÃ­cias do Brasil",description:"A MÃºsica da Segunda: As NotÃ­cias do Brasil em Forma de ParÃ³dia. Site oficial de parÃ³dias musicais inteligentes e divertidas.",keywords:"mÃºsica da segunda, parÃ³dias musicais, notÃ­cias do brasil, mÃºsica brasileira, descoberta musical, nova mÃºsica toda segunda",image:e==null?void 0:e.cover_image,url:"/youtube",type:"website"}),i?r.jsxs("div",{className:"p-5 max-w-md mx-auto md:max-w-2xl lg:max-w-4xl",children:[r.jsxs(It,{children:[r.jsx("title",{children:"A MÃºsica da Segunda: ParÃ³dias das NotÃ­cias do Brasil"}),r.jsx("meta",{name:"description",content:"A MÃºsica da Segunda: As NotÃ­cias do Brasil em Forma de ParÃ³dia. Site oficial de parÃ³dias musicais inteligentes e divertidas."})]}),r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-black text-white drop-shadow-lg mb-2",children:"A MÃºsica da Segunda"}),r.jsx("p",{className:"text-white/80 font-medium text-lg md:text-xl drop-shadow-md",children:"Descubra mÃºsica nova toda segunda-feira"})]}),r.jsx("div",{className:"flex items-center justify-center py-20",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),r.jsx("p",{className:"text-white/80",children:"Carregando mÃºsica da semana..."})]})})]}):l?r.jsxs("div",{className:"p-5 max-w-md mx-auto md:max-w-2xl lg:max-w-4xl",children:[r.jsxs(It,{children:[r.jsx("title",{children:"A MÃºsica da Segunda: ParÃ³dias das NotÃ­cias do Brasil"}),r.jsx("meta",{name:"description",content:"A MÃºsica da Segunda: As NotÃ­cias do Brasil em Forma de ParÃ³dia. Site oficial de parÃ³dias musicais inteligentes e divertidas."})]}),r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h2",{className:"text-4xl md:text-5xl lg:text-6xl font-black text-white drop-shadow-lg mb-2",children:"MÃºsica da Segunda"}),r.jsx("p",{className:"text-white/80 font-medium text-lg md:text-xl drop-shadow-md",children:"Descubra mÃºsica nova toda segunda-feira"})]}),r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-3xl p-6 text-center",children:[r.jsx(_s,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold text-red-800 mb-2",children:"Erro ao carregar"}),r.jsx("p",{className:"text-red-600 mb-4",children:l}),r.jsxs("button",{onClick:q,className:"inline-flex items-center gap-2 bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg transition-colors",children:[r.jsx(bs,{className:"w-4 h-4"}),"Tentar novamente"]})]})]}):r.jsxs("div",{className:"p-5 max-w-md mx-auto md:max-w-2xl lg:max-w-4xl",children:[r.jsx("div",{className:"lg:hidden text-center mb-8",children:r.jsxs("div",{className:"flex items-center justify-center gap-4 mb-4",children:[r.jsx("div",{className:"w-16 h-16 rounded-full overflow-hidden border-4 border-white/20 shadow-xl flex-shrink-0",children:r.jsx("img",{src:"images/Musica da segunda.jpg",alt:"Logo MÃºsica da Segunda",className:"w-full h-full object-cover"})}),r.jsxs("div",{className:"text-left",children:[r.jsx("h2",{className:"text-2xl md:text-3xl font-black text-white drop-shadow-lg mb-1",children:"A MÃºsica da Segunda"}),r.jsx("p",{className:"text-white/80 font-medium text-sm md:text-base drop-shadow-md",children:"Descubra mÃºsica nova toda segunda-feira"})]})]})}),r.jsxs("div",{className:"hidden lg:grid lg:grid-cols-2 lg:gap-8 lg:mt-8",children:[r.jsxs("div",{className:"space-y-6",children:[N?r.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-lg",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4 text-center",children:r.jsxs("button",{onClick:()=>ye(N),className:"inline-flex items-center gap-2 hover:text-blue-600 transition-colors cursor-pointer",title:"Ver descriÃ§Ã£o da mÃºsica",children:[r.jsx("span",{className:"text-2xl",children:"â„¹ï¸"}),r.jsx("span",{children:N.title})]})}),r.jsx("p",{className:"text-gray-600 text-center mb-4",children:oe(ge(N.release_date),"dd/MM/yyyy",{locale:pe})}),r.jsx(_c,{youtube_music_url:N.youtube_music_url,youtube_url:N.youtube_url,title:N.title}),r.jsxs("div",{className:"mt-4 text-center",children:[r.jsx("h4",{className:"font-bold text-gray-800 text-lg mb-2",children:N.title}),r.jsx("p",{className:"text-gray-600",children:N.artist}),r.jsx("p",{className:"text-gray-500 text-sm mt-1",children:oe(ge(N.release_date),"dd/MM/yyyy",{locale:pe})})]}),r.jsx("div",{className:"mt-6",children:r.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[r.jsx(B,{variant:"outline",className:"bg-white/70 hover:bg-white/90 text-gray-700 font-semibold border-gray-300 py-3 rounded-2xl text-sm",onClick:()=>U(N),children:"Plataformas"}),r.jsx(B,{variant:"outline",className:"bg-white/70 hover:bg-white/90 text-gray-700 font-semibold border-gray-300 py-3 rounded-2xl text-sm",onClick:()=>te(N),children:"Letras"}),r.jsx(B,{variant:"outline",className:"bg-white/70 hover:bg-white/90 text-gray-700 font-semibold border-gray-300 py-3 rounded-2xl text-sm",onClick:()=>Me(N),children:"Compartilhar"})]})})]}):r.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-lg",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4 text-center",children:"â„¹ï¸ Nenhuma mÃºsica disponÃ­vel"}),r.jsx("div",{className:"bg-gradient-to-br from-gray-100 to-gray-200 rounded-2xl flex items-center justify-center",style:{height:"min(70vh, 600px)",aspectRatio:"16/9"},children:r.jsxs("div",{className:"text-center text-gray-500",children:[r.jsx(_e,{className:"w-16 h-16 mx-auto mb-4"}),r.jsx("p",{className:"text-lg font-medium",children:"Nenhuma mÃºsica disponÃ­vel"}),r.jsx("p",{className:"text-sm",children:"Volte na segunda-feira!"})]})})]}),r.jsx(Ja,{})]}),r.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-lg",children:[r.jsx("div",{className:"mb-6",children:r.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center gap-3",children:[r.jsx(Dt,{className:"w-6 h-6 text-blue-600"}),"MÃºsicas do MÃªs"]})}),a.length>0?r.jsx("div",{className:"space-y-4",children:a.map(A=>r.jsx("div",{className:"bg-white rounded-2xl p-4 shadow-md hover:shadow-lg transition-all duration-200 border border-gray-100",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-500 rounded-xl flex items-center justify-center flex-shrink-0 shadow-md hover:shadow-lg transition-all duration-200 cursor-pointer transform hover:scale-105",onClick:ie=>H(A,ie),title:"Clique para ver esta mÃºsica na coluna de vÃ­deo",children:r.jsx(pt,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-800 truncate cursor-pointer hover:underline",onClick:ie=>H(A,ie),title:"Clique para ver esta mÃºsica na coluna de vÃ­deo",children:A.title}),r.jsx("p",{className:"text-gray-600 text-base font-medium mt-1",children:A.artist}),r.jsx("p",{className:"text-gray-500 text-sm font-medium mt-1",children:oe(ge(A.release_date),"dd/MM/yyyy",{locale:pe})})]})]})},A.id))}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(_e,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500",children:"Nenhuma mÃºsica publicada este mÃªs ainda"})]}),r.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:r.jsxs("button",{onClick:se,className:"inline-flex items-center gap-2 text-gray-500 hover:text-gray-700 text-sm transition-colors group cursor-pointer",children:[r.jsx(hr,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"}),"Ver mÃºsicas de ",oe(new Date(new Date().setMonth(new Date().getMonth()-1)),"MMMM yyyy",{locale:pe})]})})]})]}),r.jsxs("div",{className:"lg:hidden",children:[N?r.jsx("div",{className:"mb-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-3",children:r.jsx("div",{className:"flex items-start justify-between",children:r.jsxs("div",{className:"flex-1",children:[r.jsx("h2",{className:"text-lg font-bold text-gray-800 leading-tight line-clamp-2",children:N.title}),r.jsx("p",{className:"text-sm text-blue-700 mt-1",children:oe(ge(N.release_date),"dd/MM/yyyy",{locale:pe})})]})})}),r.jsx("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden mb-4",children:r.jsx(_c,{youtube_music_url:N.youtube_music_url,youtube_url:N.youtube_url,title:N.title})}),r.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-4",children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs(B,{variant:"outline",className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-700 py-3 px-4 rounded-xl font-medium transition-colors",onClick:()=>U(N),children:[r.jsx(_e,{className:"w-5 h-5 inline mr-2"}),"Plataformas"]}),N.lyrics&&N.lyrics.trim()&&r.jsxs(B,{variant:"outline",className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-700 py-3 px-4 rounded-xl font-medium transition-colors",onClick:()=>te(N),children:[r.jsx(Ht,{className:"w-5 h-5 inline mr-2"}),"Letras"]}),r.jsxs(B,{variant:"outline",className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-700 py-3 px-4 rounded-xl font-medium transition-colors",onClick:()=>Me(N),children:[r.jsx(pt,{className:"w-5 h-5 inline mr-2"}),"Compartilhar"]})]})})]})}):r.jsxs("div",{className:"bg-white/20 rounded-3xl p-8 text-center",children:[r.jsx(_e,{className:"w-16 h-16 text-white/60 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Nenhuma mÃºsica disponÃ­vel"}),r.jsx("p",{className:"text-white/80",children:"A mÃºsica da semana serÃ¡ publicada em breve. Volte na segunda-feira!"})]}),r.jsx(Ja,{}),r.jsx("div",{className:"mt-8",children:r.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-lg",children:[r.jsx("div",{className:"mb-6",children:r.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center gap-3",children:[r.jsx(Dt,{className:"w-6 h-6 text-blue-600"}),"MÃºsicas do MÃªs"]})}),a.length>0?r.jsx("div",{className:"space-y-4",children:a.map(A=>r.jsx("div",{className:"bg-white rounded-2xl p-4 shadow-md hover:shadow-lg transition-all duration-200 border border-gray-100",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-500 rounded-xl flex items-center justify-center flex-shrink-0 shadow-md hover:shadow-lg transition-all duration-200 cursor-pointer transform hover:scale-105",onClick:ie=>H(A,ie),title:"Clique para ver esta mÃºsica na coluna de vÃ­deo",children:r.jsx(pt,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"font-bold text-gray-800 text-lg truncate cursor-pointer hover:underline",onClick:ie=>H(A,ie),title:"Clique para ver esta mÃºsica na coluna de vÃ­deo",children:A.title}),r.jsx("p",{className:"text-gray-600 text-base font-medium mt-1",children:A.artist}),r.jsx("p",{className:"text-gray-500 text-sm font-medium mt-1",children:oe(ge(A.release_date),"dd/MM/yyyy",{locale:pe})})]})]})},A.id))}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(_e,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500",children:"Nenhuma mÃºsica publicada este mÃªs ainda"})]}),r.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:r.jsxs("button",{onClick:se,className:"inline-flex items-center gap-2 text-gray-500 hover:text-gray-700 text-sm transition-colors group cursor-pointer",children:[r.jsx(hr,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"}),"Ver mÃºsicas de ",oe(new Date(new Date().setMonth(new Date().getMonth()-1)),"MMMM yyyy",{locale:pe})]})})]})})]}),m&&d&&r.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center p-4 z-50",children:r.jsx("div",{className:"bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("h2",{className:"text-3xl font-bold text-blue-900",children:["ðŸŽ¬ ",d.title]}),r.jsx("button",{onClick:()=>f(!1),className:"text-gray-500 hover:text-gray-700 text-2xl font-bold p-2 hover:bg-gray-100 rounded-full transition-colors",children:"âœ•"})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-4 border border-blue-200",children:[r.jsx("h3",{className:"text-xl font-bold text-blue-900 mb-2",children:d.title}),r.jsx("p",{className:"text-blue-700 font-medium",children:d.artist}),r.jsxs("p",{className:"text-blue-600 text-sm",children:["ðŸ“… LanÃ§amento: ",oe(ge(d.release_date),"dd/MM/yyyy",{locale:pe})]})]}),(()=>{const A=d.youtube_music_url||d.youtube_url,ie=Ee(A);return ie?r.jsx("div",{className:"bg-black rounded-xl overflow-hidden shadow-2xl",children:r.jsx(Fd,{videoId:ie,className:"w-full",title:d.title})}):M(A)?r.jsx("div",{className:"bg-black rounded-xl overflow-hidden shadow-2xl",children:r.jsx(_b,{playlistUrl:A,className:"w-full",title:d.title})}):null})(),r.jsxs("div",{className:"flex gap-4 justify-center",children:[(d.youtube_music_url||d.youtube_url)&&r.jsx("button",{onClick:()=>window.open(d.youtube_music_url||d.youtube_url,"_blank"),className:"bg-[#FF0000] text-white px-6 py-3 rounded-xl font-semibold hover:bg-[#cc0000] transition-colors flex items-center gap-2",children:"ðŸ“º Ver no YouTube"}),r.jsx("button",{onClick:()=>f(!1),className:"bg-gray-200 text-gray-700 px-6 py-3 rounded-xl font-semibold hover:bg-gray-300 transition-colors",children:"Fechar"})]})]})]})})}),r.jsx(Ft,{open:g,onOpenChange:v,children:r.jsxs(Rt,{className:"bg-[#f8f5f2] max-w-md",children:[r.jsx(is,{children:r.jsx(Pt,{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:"ðŸŽµ Ouvir em outras plataformas"})}),x&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-4 border border-blue-200",children:[r.jsx("h3",{className:"text-lg font-bold text-blue-900 mb-1",children:x.title}),r.jsx("p",{className:"text-blue-700 font-medium",children:x.artist})]}),r.jsxs("div",{className:"space-y-3",children:[x.spotify_url&&r.jsx("a",{href:x.spotify_url,target:"_blank",rel:"noopener noreferrer",className:"block",children:r.jsx(B,{className:"w-full bg-[#1DB954] hover:bg-[#1ed760] text-white font-bold py-3 rounded-2xl text-sm transition-all duration-200 hover:scale-105",children:"ðŸŽ§ Ouvir no Spotify"})}),x.apple_music_url&&r.jsx("a",{href:x.apple_music_url,target:"_blank",rel:"noopener noreferrer",className:"block",children:r.jsx(B,{className:"w-full bg-gradient-to-r from-[#FA233B] to-[#FB5C74] hover:opacity-90 text-white font-bold py-3 rounded-2xl text-sm transition-all duration-200 hover:scale-105",children:"ðŸŽµ Ouvir no Apple Music"})}),(x.youtube_music_url||x.youtube_url)&&r.jsx("a",{href:x.youtube_music_url||x.youtube_url,target:"_blank",rel:"noopener noreferrer",className:"block",children:r.jsx(B,{className:"w-full bg-[#FF0000] hover:bg-[#cc0000] text-white font-bold py-3 rounded-2xl text-sm transition-all duration-200 hover:scale-105",children:"ðŸ“º Assistir no YouTube"})}),!x.spotify_url&&!x.apple_music_url&&!x.youtube_music_url&&!x.youtube_url&&r.jsxs("div",{className:"text-center py-6",children:[r.jsx(_e,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),r.jsx("p",{className:"text-gray-600 font-medium",children:"Links de streaming em breve..."}),r.jsx("p",{className:"text-gray-500 text-sm",children:"Esta mÃºsica serÃ¡ disponibilizada em breve nas principais plataformas."})]})]})]})]})}),r.jsx(vo,{open:S,onOpenChange:y,song:x,title:"ðŸ“ Letras da MÃºsica",maxHeight:"h-52",showIcon:!1}),r.jsx(Ft,{open:E,onOpenChange:k,children:r.jsxs(Rt,{className:"bg-[#f8f5f2] max-w-2xl max-h-[80vh]",children:[r.jsx(is,{children:r.jsx(Pt,{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:"â„¹ï¸ DescriÃ§Ã£o da MÃºsica"})}),x&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-4 border border-blue-200",children:[r.jsx("h3",{className:"text-lg font-bold text-blue-900 mb-1",children:x.title}),r.jsx("p",{className:"text-blue-700 font-medium",children:x.artist}),r.jsxs("p",{className:"text-blue-600 text-sm",children:["ðŸ“… ",oe(ge(x.release_date),"dd/MM/yyyy",{locale:pe})]})]}),r.jsx("div",{className:"bg-white rounded-xl p-4 border border-gray-200",children:x.description?r.jsx(gn,{className:"h-60",children:r.jsx("div",{className:"pr-4",children:r.jsx("pre",{className:"text-gray-700 whitespace-pre-wrap font-sans text-sm leading-relaxed",children:x.description})})}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Ht,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),r.jsx("p",{className:"text-gray-600 font-medium",children:"DescriÃ§Ã£o nÃ£o disponÃ­vel"}),r.jsx("p",{className:"text-gray-500 text-sm",children:"A descriÃ§Ã£o desta mÃºsica serÃ¡ adicionada em breve."})]})})]})]})})]})}function L0(){return console.warn("âœ… YoutubeTest component loaded"),r.jsxs("div",{className:"p-5",children:[r.jsx("h1",{className:"text-4xl font-bold text-white",children:"YouTube Test Page"}),r.jsx("p",{className:"text-white mt-4",children:"Si vous voyez ce message, le routing fonctionne !"})]})}function $0(){console.warn("ðŸŽ¬ YoutubeSimple component loaded");const[s,e]=h.useState(null),[t,a]=h.useState(!0);h.useEffect(()=>{console.warn("ðŸŽ¬ YoutubeSimple useEffect triggered"),n()},[]);const n=()=>b(null,null,function*(){a(!0);try{const l=yield Je.getCurrent();console.warn("ðŸ“Š Chanson actuelle chargÃ©e:",l),e(l)}catch(l){console.error("âŒ Erro ao carregar mÃºsica atual:",l)}finally{a(!1)}}),i=l=>{if(!l)return null;const c=l.match(/(?:v=|youtu\.be\/|embed\/)([A-Za-z0-9_-]{11})/);return c?c[1]:null};if(t)return r.jsx("div",{className:"p-5 max-w-md mx-auto",children:r.jsxs("div",{className:"text-center py-20",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),r.jsx("p",{className:"text-white/80",children:"Carregando..."})]})});if(!s)return r.jsx("div",{className:"p-5 max-w-md mx-auto",children:r.jsx("div",{className:"text-center text-white",children:r.jsx("p",{className:"text-lg",children:"Nenhuma mÃºsica disponÃ­vel"})})});const o=i(s.youtube_url);return r.jsxs("div",{className:"p-5 max-w-md mx-auto",children:[r.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:s.title}),o?r.jsx("div",{className:"bg-black rounded-2xl overflow-hidden shadow-xl",children:r.jsx(Fd,{videoId:o,className:"w-full",title:s.title})}):r.jsxs("div",{className:"bg-gray-800 rounded-2xl p-8 text-center text-white",children:[r.jsx("p",{children:"YouTube URL non disponible pour cette chanson"}),r.jsxs("p",{className:"text-sm text-gray-400 mt-2",children:["URL: ",s.youtube_url||"Aucune"]})]})]})}const jc=h.lazy(()=>Mt(()=>import("./TikTokDemo-rlBYYnQU.js"),__vite__mapDeps([0,1,2,3]))),ko=[{path:"/",component:Gl,name:"Home",seo:{title:"A MÃºsica da Segunda - Nova mÃºsica toda segunda-feira",description:"Descubra uma nova mÃºsica incrÃ­vel toda segunda-feira. Sua dose semanal de descobertas musicais.",keywords:"mÃºsica, segunda-feira, descobertas musicais, nova mÃºsica, playlist semanal"}},{path:"/home",component:Gl,name:"Home",seo:{title:"A MÃºsica da Segunda - Nova mÃºsica toda segunda-feira",description:"Descubra uma nova mÃºsica incrÃ­vel toda segunda-feira. Sua dose semanal de descobertas musicais.",keywords:"mÃºsica, segunda-feira, descobertas musicais, nova mÃºsica, playlist semanal"}},{path:"/calendar",component:Oy,name:"Calendar",seo:{title:"CalendÃ¡rio Musical - A MÃºsica da Segunda",description:"CalendÃ¡rio completo de todas as mÃºsicas publicadas. Explore a histÃ³ria musical do projeto.",keywords:"calendÃ¡rio musical, mÃºsicas, histÃ³rico, publicaÃ§Ã£o semanal"}},{path:"/adventcalendar",component:Iy,name:"AdventCalendar",seo:{title:"Ano 2025 - CalendÃ¡rio do Advento Musical",description:"CalendÃ¡rio do advento musical com todas as mÃºsicas de 2025.",keywords:"calendÃ¡rio advento, mÃºsica 2025, ano novo"}},{path:"/sobre",component:E0,name:"Sobre",seo:{title:"Sobre - A MÃºsica da Segunda",description:"ConheÃ§a a histÃ³ria do projeto A MÃºsica da Segunda e descubra como nasceu essa paixÃ£o pela mÃºsica.",keywords:"sobre, histÃ³ria, projeto, mÃºsica brasileira"}},{path:"/api/content-for-ai.json",component:C0,name:"ContentForAI",seo:null},{path:"/blog",component:O0,name:"Blog",seo:{title:"Blog - A MÃºsica da Segunda",description:"Artigos e notÃ­cias sobre mÃºsica, cultura e atualidades.",keywords:"blog, artigos, notÃ­cias, cultura musical"}},{path:"/admin",component:T0,name:"Admin",seo:null},{path:"/login",component:Gu,name:"Login",seo:null},{path:"/playlist",component:vc,name:"Playlist",seo:{title:"Playlist - Todas as MÃºsicas",description:"Lista completa de todas as mÃºsicas publicadas no projeto A MÃºsica da Segunda.",keywords:"playlist, todas as mÃºsicas, lista completa"}},{path:"/chansons",component:vc,name:"Playlist",seo:{title:"CanÃ§Ãµes - Todas as MÃºsicas",description:"Lista completa de todas as canÃ§Ãµes publicadas no projeto A MÃºsica da Segunda.",keywords:"canÃ§Ãµes, todas as mÃºsicas, lista completa"}},{path:"/chansons/:slug",component:M0,name:"Song",seo:null},{path:"/youtube-test",component:L0,name:"YoutubeTest",seo:null},{path:"/youtube-simple",component:$0,name:"YoutubeSimple",seo:null},{path:"/youtube",component:D0,name:"Youtube",seo:null},{path:"/tiktokdemo",component:jc,name:"TikTokDemo",seo:null},{path:"/tiktok/:id",component:jc,name:"TikTokDemo",seo:null}];ko.reduce((s,e)=>(s[e.name]=e.component,s),{});function U0(s){s.startsWith("#")&&(s=s.slice(1)),s.endsWith("/")&&(s=s.slice(0,-1));let e=s.split("/").pop();if(e.includes("?")&&(e=e.split("?")[0]),!e||e==="amusicadaegunda")return"Home";if(e.startsWith("tiktok"))return"TikTokDemo";if(s.startsWith("/chansons/")&&e!=="chansons")return"Song";const t=ko.find(a=>a.path.split("/").pop().toLowerCase()===e.toLowerCase());return t?t.name:"Home"}function B0(){const s=cs(),e=U0(s.pathname);return r.jsx(Pp,{currentPageName:e,children:r.jsx(_m,{children:ko.map(t=>r.jsx(Zc,{path:t.path,element:r.jsx(t.component,{})},t.path))})})}function V0(){return r.jsx(Hm,{children:r.jsx(B0,{})})}const Ku=h.forwardRef((t,e)=>{var s=L(t,[]);return r.jsx("div",p({ref:e,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]"},s))});Ku.displayName="ToastProvider";const Zu=h.forwardRef((t,e)=>{var s=L(t,[]);return r.jsx("div",p({ref:e,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]"},s))});Zu.displayName="ToastViewport";const F0=fa("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Ju=h.forwardRef((n,a)=>{var i=n,{className:s,variant:e}=i,t=L(i,["className","variant"]);return r.jsx("div",p({ref:a,className:me(F0({variant:e}),s)},t))});Ju.displayName="Toast";const z0=h.forwardRef((a,t)=>{var n=a,{className:s}=n,e=L(n,["className"]);return r.jsx("div",p({ref:t,className:me("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",s)},e))});z0.displayName="ToastAction";const Xu=h.forwardRef((a,t)=>{var n=a,{className:s}=n,e=L(n,["className"]);return r.jsx("button",T(p({ref:t,className:me("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",s),"data-toast-close":""},e),{children:r.jsx(ht,{className:"h-4 w-4"})}))});Xu.displayName="ToastClose";const Qu=h.forwardRef((a,t)=>{var n=a,{className:s}=n,e=L(n,["className"]);return r.jsx("div",p({ref:t,className:me("text-sm font-semibold",s)},e))});Qu.displayName="ToastTitle";const eh=h.forwardRef((a,t)=>{var n=a,{className:s}=n,e=L(n,["className"]);return r.jsx("div",p({ref:t,className:me("text-sm opacity-90",s)},e))});eh.displayName="ToastDescription";function q0(){const{toasts:s}=Zd();return r.jsxs(Ku,{children:[s.map(function(o){var l=o,{id:e,title:t,description:a,action:n}=l,i=L(l,["id","title","description","action"]);return r.jsxs(Ju,T(p({},i),{children:[r.jsxs("div",{className:"grid gap-1",children:[t&&r.jsx(Qu,{children:t}),a&&r.jsx(eh,{children:a})]}),n,r.jsx(Xu,{})]}),e)}),r.jsx(Zu,{})]})}function H0(){const[s,e]=h.useState(navigator.onLine),[t,a]=h.useState(!1);return h.useEffect(()=>{const n=()=>{e(!0),a(!1),console.log("ðŸŒ Connexion restaurÃ©e")},i=()=>{e(!1),a(!0),console.log("ðŸ“± Mode hors ligne dÃ©tectÃ©"),setTimeout(()=>a(!1),5e3)};return window.addEventListener("online",n),window.addEventListener("offline",i),navigator.onLine||e(!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",i)}},[]),s?null:r.jsxs("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50",children:[t&&r.jsxs("div",{className:"bg-yellow-500 text-white px-4 py-2 rounded-lg shadow-lg flex items-center gap-2 animate-bounce",children:[r.jsx("span",{children:"ðŸ“±"}),r.jsx("span",{className:"text-sm font-medium",children:"Mode hors ligne - App disponÃ­vel offline"})]}),r.jsxs("div",{className:"bg-gray-800 text-white px-3 py-1 rounded-full text-xs flex items-center gap-1",children:[r.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),r.jsx("span",{children:"Offline"})]})]})}const ur={};function W0(o){return b(this,arguments,function*({endpoint:s,p256dh:e,auth:t,topic:a="new-song",locale:n="pt-BR",vapidKeyVersion:i="v1"}){if(!s||!e||!t)throw new Error("Missing subscription fields: endpoint, p256dh, auth");const{data:l,error:c}=yield De.from("push_subscriptions").upsert({endpoint:s,p256dh:e,auth:t,topics:[a],locale:n,vapid_key_version:i},{onConflict:"endpoint"}).select("endpoint").single();if(c)throw c;return l})}console.warn("ðŸš€ PUSH LIB LOADED - VERSION:",Date.now());const Fr="BASujCEc1P4RwjUo-SKAxVdIL8yJ4R978lHaQBIZf4oxqs24oPHdeS7iB7So9RWVmlMHgKzZvbie6Ai8yov1Few",Sc=(ur==null?void 0:ur.VITE_PUSH_API_BASE)||"https://efnzmpzkzeuktqkghwfa.functions.supabase.co",Nc=(ur==null?void 0:ur.VITE_VAPID_KEY_VERSION)||"v1",Y0=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1,G0=()=>navigator.standalone===!0,K0=()=>/Android/i.test(navigator.userAgent),kc=()=>Y0()||K0(),th=()=>"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window,Tc=s=>{const e="=".repeat((4-s.length%4)%4),t=(s+e).replace(/-/g,"+").replace(/_/g,"/"),a=atob(t),n=new Uint8Array(a.length);for(let i=0;i<a.length;++i)n[i]=a.charCodeAt(i);return n},Z0=()=>localStorage.getItem("push_optout")==="true",J0=()=>{if(!th()||Z0())return!1;const s=localStorage.getItem("push_refused_until");return s&&Date.now()<Number(s)||!kc()?!1:kc()?G0():!1};function X0(){return b(this,null,function*(){try{return console.warn("ðŸ” RÃ©cupÃ©ration du Service Worker existant..."),yield navigator.serviceWorker.ready}catch(s){return console.warn("âš ï¸ SW pas prÃªt, tentative d'enregistrement..."),yield navigator.serviceWorker.register("/sw.js")}})}function Q0(){return b(this,arguments,function*({locale:s="pt-BR"}={}){var o;if(console.warn("ðŸ” DIAGNOSTIC VAPID:"),console.warn("VAPID_PUBLIC_KEY length:",Fr==null?void 0:Fr.length),console.warn("API_BASE:",Sc),console.warn("---"),console.warn("ðŸ” Starting push activation..."),!th())throw console.error("âŒ Push not supported"),new Error("Push non supportÃ©");try{const l=Tc(Fr);if(console.warn("ðŸ”‘ VAPID key test - Length:",l.byteLength,"(doit Ãªtre 65)"),l.byteLength!==65)throw console.error("âŒ VAPID key invalide: longueur incorrecte"),new Error("VAPID key invalide: longueur incorrecte");console.warn("âœ… VAPID key valide")}catch(l){throw console.error("âŒ VAPID key error:",l),new Error("VAPID key invalide: "+l.message)}console.warn("âœ… Environment variables loaded");const e=yield X0();if(!e)throw console.error("âŒ Service Worker registration failed"),new Error("Service Worker registration failed");console.warn("âœ… Service Worker registered"),console.warn("ðŸ” SW state:",(o=e.active)==null?void 0:o.state,"controller:",!!navigator.serviceWorker.controller);const t=yield Notification.requestPermission();if(console.warn("ðŸ” Permission result:",t),t!=="granted"){const l=Date.now()+2592e6;throw localStorage.setItem("push_refused_until",String(l)),new Error("Permission refusÃ©e")}console.warn("ðŸ”‘ Creating push subscription...");const a=yield e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Tc(Fr)});console.warn("âœ… Push subscription created");const n=btoa(String.fromCharCode(...new Uint8Array(a.getKey("p256dh")))),i=btoa(String.fromCharCode(...new Uint8Array(a.getKey("auth"))));console.warn("ðŸ“¡ Sending subscription to server (Supabase)...");try{yield W0({endpoint:a.endpoint,p256dh:n,auth:i,topic:"new-song",locale:s,vapidKeyVersion:Nc}),console.warn("âœ… Subscription saved to Supabase")}catch(l){console.error("âŒ Supabase save failed, trying API fallback:",l);const c={endpoint:a.endpoint,keys:{p256dh:btoa(String.fromCharCode(...new Uint8Array(a.getKey("p256dh")))),auth:btoa(String.fromCharCode(...new Uint8Array(a.getKey("auth"))))}},d=yield fetch(`${Sc}/push/subscribe`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({subscription:c,topic:"new-song",locale:s,vapidKeyVersion:Nc})});if(console.warn("ðŸ“Š API fallback response:",d.status,d.statusText),!d.ok){const u=yield d.text();throw console.error("âŒ Both Supabase and API failed:",u),yield a.unsubscribe(),new Error(`Subscribe failed: ${d.status} ${d.statusText}`)}}return console.warn("âœ… Push activation completed successfully"),a})}function ew(){const[s,e]=h.useState(!1),[t,a]=h.useState(!1),[n,i]=h.useState(null);h.useEffect(()=>{const c=setTimeout(()=>b(null,null,function*(){try{const d=yield J0();e(d)}catch(d){console.error("Erreur vÃ©rification CTA push:",d),e(!1)}}),3e3);return()=>clearTimeout(c)},[]);const o=()=>b(null,null,function*(){a(!0),i(null);try{yield Q0(),e(!1)}catch(c){console.error("Ã‰chec de l'abonnement push :",c),Notification.permission==="denied"?i("Notifications bloquÃ©es. Veuillez les autoriser dans les paramÃ¨tres de votre navigateur."):i("Activation Ã©chouÃ©e. Veuillez rÃ©essayer.")}finally{a(!1)}}),l=()=>{e(!1)};return s?r.jsx("div",{className:"fixed bottom-5 left-1/2 -translate-x-1/2 z-50 w-full max-w-sm px-4 animate-in slide-in-from-bottom-5 duration-300",children:r.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 relative",children:[r.jsx("button",{onClick:l,className:"absolute top-2 right-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300","aria-label":"Fermer",children:r.jsx(ht,{className:"w-4 h-4"})}),r.jsxs("div",{className:"flex flex-col items-center gap-3 pr-6",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center",children:r.jsx(Zo,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),n?r.jsx("p",{className:"text-sm text-red-600 dark:text-red-400 text-center",children:n}):r.jsxs(r.Fragment,{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 text-center",children:"Ne manquez jamais une nouvelle chanson !"}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 text-center",children:"Recevez une notification chaque lundi"})]}),r.jsx(B,{onClick:o,disabled:t,className:"w-full bg-blue-600 hover:bg-blue-700 text-white",children:t?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"animate-spin mr-2",children:"â³"}),"Activation..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Zo,{className:"w-4 h-4 mr-2"}),"Activer les notifications"]})})]})]})}):null}const ni="v1.0.0",ii="migration_confissoes_bancarias_cleanup",tw={isCompleted(){return localStorage.getItem(ii)===ni},markCompleted(){localStorage.setItem(ii,ni),console.log("âœ… Migration ConfissÃµes BancÃ¡rias terminÃ©e")},execute(){return b(this,null,function*(){if(this.isCompleted()){console.log("ðŸ”„ Migration dÃ©jÃ  effectuÃ©e, passage...");return}console.log("ðŸš€ DÃ©but de la migration ConfissÃµes BancÃ¡rias...");try{this.cleanConfissoesBancarias(),yield this.forceSupabaseSync(),this.markCompleted(),console.log("ðŸŽ‰ Migration terminÃ©e avec succÃ¨s !")}catch(s){throw console.error("âŒ Erreur lors de la migration:",s),s}})},cleanConfissoesBancarias(){try{const s=JSON.parse(localStorage.getItem("songs")||"[]"),t=s.filter(a=>a.title!=="ConfissÃµes BancÃ¡rias"&&a.tiktok_video_id!=="7540762684149517590").map((a,n)=>T(p({},a),{id:n+1}));localStorage.setItem("songs",JSON.stringify(t)),console.log(`ðŸ§¹ localStorage nettoyÃ© : ${s.length-t.length} chanson(s) supprimÃ©e(s)`),console.log(`ðŸ“ ${t.length} chanson(s) conservÃ©e(s) et renumÃ©rotÃ©e(s)`)}catch(s){throw console.error("âŒ Erreur lors du nettoyage du localStorage:",s),s}},forceSupabaseSync(){return b(this,null,function*(){try{localStorage.setItem("force_supabase_sync","true"),localStorage.setItem("last_supabase_sync",new Date().toISOString()),console.log("ðŸ”„ Synchronisation Supabase forcÃ©e")}catch(s){throw console.error("âŒ Erreur lors de la synchronisation Supabase:",s),s}})},getStatus(){return{completed:this.isCompleted(),version:ni,lastSync:localStorage.getItem("last_supabase_sync"),forceSupabase:localStorage.getItem("force_supabase_sync")==="true"}},reset(){localStorage.removeItem(ii),localStorage.removeItem("force_supabase_sync"),localStorage.removeItem("last_supabase_sync"),console.log("ðŸ”„ Migration rÃ©initialisÃ©e")}};function sw(){return h.useEffect(()=>{b(null,null,function*(){try{yield tw.execute()}catch(e){console.error("âŒ Erreur lors de la migration:",e)}})},[]),r.jsxs(r.Fragment,{children:[r.jsx(H0,{}),r.jsx(V0,{}),r.jsx(q0,{}),r.jsx(ew,{})]})}class rw extends Vt.Component{constructor(t){super(t);dt(this,"logErrorToService",(t,a)=>{const n={message:t.toString(),stack:t.stack,componentStack:a.componentStack,timestamp:new Date().toISOString(),userAgent:navigator.userAgent,url:window.location.href,errorCount:this.state.errorCount};console.log("ðŸ“Š Error data for monitoring:",n);try{const i=JSON.parse(localStorage.getItem("app_errors")||"[]");i.push(n),localStorage.setItem("app_errors",JSON.stringify(i.slice(-10)))}catch(i){console.error("Failed to save error to localStorage:",i)}});dt(this,"handleReset",()=>{this.setState({hasError:!1,error:null,errorInfo:null})});dt(this,"handleGoHome",()=>{window.location.href="/"});dt(this,"handleReload",()=>{window.location.reload()});this.state={hasError:!1,error:null,errorInfo:null,errorCount:0}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,a){console.error("ðŸš¨ ErrorBoundary caught an error:",t),console.error("ðŸ“ Error info:",a),this.setState(n=>({error:t,errorInfo:a,errorCount:n.errorCount+1})),this.props.onError&&this.props.onError(t,a),this.logErrorToService(t,a)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:r.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-gray-100 flex items-center justify-center p-4",children:r.jsxs("div",{className:"max-w-2xl w-full",children:[r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[r.jsx("div",{className:"bg-gradient-to-r from-red-500 to-pink-500 p-8 text-white",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"bg-white/20 rounded-full p-4",children:r.jsx(_s,{className:"w-12 h-12"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Oops! Algo deu errado"}),r.jsx("p",{className:"text-white/90 text-lg",children:"Encontramos um erro inesperado"})]})]})}),r.jsxs("div",{className:"p-8",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("p",{className:"text-gray-700 text-lg mb-4",children:"NÃ£o se preocupe, nÃ£o Ã© culpa sua! Nossa equipe foi notificada e estamos trabalhando para resolver o problema."}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[r.jsxs("h3",{className:"font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[r.jsx("span",{className:"text-blue-500",children:"â„¹ï¸"}),"O que vocÃª pode fazer:"]}),r.jsxs("ul",{className:"space-y-2 text-gray-600",children:[r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-green-500 mt-1",children:"âœ“"}),r.jsx("span",{children:"Recarregar a pÃ¡gina para tentar novamente"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-green-500 mt-1",children:"âœ“"}),r.jsx("span",{children:"Voltar para a pÃ¡gina inicial"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-green-500 mt-1",children:"âœ“"}),r.jsx("span",{children:"Limpar o cache do seu navegador"})]})]})]})]}),!1,r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mt-8",children:[r.jsxs(B,{onClick:this.handleReload,className:"flex-1 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white",size:"lg",children:[r.jsx(bs,{className:"w-5 h-5 mr-2"}),"Recarregar PÃ¡gina"]}),r.jsxs(B,{onClick:this.handleGoHome,variant:"outline",className:"flex-1 border-2",size:"lg",children:[r.jsx(Gr,{className:"w-5 h-5 mr-2"}),"Ir para InÃ­cio"]})]}),r.jsx("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:r.jsxs("p",{className:"text-sm text-blue-800",children:[r.jsx("span",{className:"font-semibold",children:"Precisa de ajuda?"})," Se o problema persistir, entre em contato conosco atravÃ©s do"," ",r.jsx("a",{href:"/sobre",className:"underline hover:text-blue-900 font-semibold",onClick:t=>{t.preventDefault(),this.handleGoHome()},children:"formulÃ¡rio de contato"}),"."]})})]}),r.jsx("div",{className:"bg-gray-50 px-8 py-4 border-t border-gray-200",children:r.jsxs("p",{className:"text-center text-sm text-gray-600",children:["CÃ³digo do erro: ",r.jsxs("code",{className:"bg-gray-200 px-2 py-1 rounded font-mono text-xs",children:["ERR_",new Date().getTime()]})]})})]}),r.jsx("div",{className:"mt-6 text-center text-sm text-gray-600",children:r.jsx("p",{children:"ðŸŽµ A MÃºsica da Segunda - Nova mÃºsica toda segunda-feira"})})]})}):this.props.children}}const aw={},nw=(s,e)=>{console.log("ðŸ”´ Global error handler:",{error:s,errorInfo:e})};Oh.createRoot(document.getElementById("root")).render(r.jsx(Vt.StrictMode,{children:r.jsx(rw,{onError:nw,children:r.jsx(Kd,{context:aw,children:r.jsx(sw,{})})})}));try{Mt(()=>import("./webvitals-BZ5LLXsT.js"),[]).catch(()=>{})}catch(s){console.warn("ðŸ”§ Mode non-module dÃ©tectÃ©, Web Vitals dÃ©sactivÃ©")}if("serviceWorker"in navigator){const s=()=>b(null,null,function*(){var e;try{const{Capacitor:t}=yield Mt(()=>b(null,null,function*(){const{Capacitor:a}=yield import("./index-BeggUThu.js");return{Capacitor:a}}),[]);return((e=t.isNativePlatform)==null?void 0:e.call(t))===!0}catch(t){return!1}});window.addEventListener("load",()=>b(null,null,function*(){(yield s())||navigator.serviceWorker.register("/sw.js").catch(console.error)}))}const iw=()=>b(null,null,function*(){var s;try{const{Capacitor:e}=yield Mt(()=>b(null,null,function*(){const{Capacitor:t}=yield import("./index-BeggUThu.js");return{Capacitor:t}}),[]);if((s=e.isNativePlatform)!=null&&s.call(e)){const{SplashScreen:t}=yield Mt(()=>b(null,null,function*(){const{SplashScreen:a}=yield import("./index-5zL5Hw4u.js");return{SplashScreen:a}}),__vite__mapDeps([4,5,1,2,3]));yield t.hide()}}catch(e){}});iw();export{ea as A,B,Se as I,pt as P,sl as R,Mt as _,un as a,J as c,om as u};
